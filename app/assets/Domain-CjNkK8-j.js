import{u as l,_ as i,h,j as e,N as f,i as x,k as g,m as N,S as m,T as d,O as j}from"./index-C1_1EwQU.js";import{statusToStep as I}from"./domainSteps-wtfT_rEc.js";const T=["Select website address","Copy & Set DNS records","Wait for the propagation","Check your website"],v=(t,o)=>s=>t===o?s===t?"✓":"":s<=t?"✓":void 0,$=({step:t,routes:o})=>{const s=l(n=>n.status),[r,p]=i.useState(t);i.useEffect(()=>p(I(s)),[s]);const a=i.useMemo(()=>v(r,o.length),[r,o.length]),{pathname:c}=h().at(-1)||{};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"pb-6 text-center text-xs opacity-60",children:"Setup a new or migrate your existing website to OffGap in four simple steps:"}),e.jsx("ul",{className:"steps steps-vertical lg:steps-horizontal w-full",children:o.map((n,u)=>e.jsx("li",{"data-content":`/app/domain/${n}/`===c?"●":a(u),className:`step ${u===r?"step-neutral step-primary gradient":u<=r?"step-neutral":""}`,children:e.jsx(f,{to:`${n}/`,className:({isActive:S})=>S?"":"text-neutral/30",end:!0,children:T[u]})},n))})]})};function w(){const{routes:t,step:o}=x(),{pathname:s}=h().at(-1)||{},r=g(),p=l(n=>n.user),a=l(n=>n.status),c=i.useRef(a);return N(p===!0&&a===0),i.useEffect(()=>{s?.endsWith(`${t[1]}/`)&&c.current!==a&&a>m.INIT&&setTimeout(()=>r(`/app/domain/${t[2]}/`),d.UI_FLASH),s?.endsWith(`${t[2]}/`)&&c.current!==a&&a>m.DOMAIN_DONE&&setTimeout(()=>r(`/app/domain/${t[3]}/`),d.UI_FLASH)},[t,a,s,r]),e.jsxs(e.Fragment,{children:[e.jsx($,{step:o,routes:t}),e.jsx(j,{})]})}export{w as Domain};
