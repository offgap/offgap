const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Domain-B0H2Zn_P.js","assets/domainSteps-zBbhIhUL.js"])))=>i.map(i=>d[i]);
function rD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function _v(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var m0={exports:{}},Ku={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M2;function iD(){if(M2)return Ku;M2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return Ku.Fragment=e,Ku.jsx=n,Ku.jsxs=n,Ku}var O2;function sD(){return O2||(O2=1,m0.exports=iD()),m0.exports}var b=sD(),g0={exports:{}},We={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _2;function oD(){if(_2)return We;_2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=m&&q[m]||q["@@iterator"],typeof q=="function"?q:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,E={};function C(q,ie,he){this.props=q,this.context=ie,this.refs=E,this.updater=he||w}C.prototype.isReactComponent={},C.prototype.setState=function(q,ie){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ie,"setState")},C.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function _(){}_.prototype=C.prototype;function I(q,ie,he){this.props=q,this.context=ie,this.refs=E,this.updater=he||w}var L=I.prototype=new _;L.constructor=I,x(L,C.prototype),L.isPureReactComponent=!0;var U=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function R(q,ie,he,de,xe,$e){return he=$e.ref,{$$typeof:t,type:q,key:ie,ref:he!==void 0?he:null,props:$e}}function O(q,ie){return R(q.type,ie,void 0,void 0,void 0,q.props)}function D(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function M(q){var ie={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(he){return ie[he]})}var V=/\/+/g;function $(q,ie){return typeof q=="object"&&q!==null&&q.key!=null?M(""+q.key):ie.toString(36)}function B(){}function ye(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(B,B):(q.status="pending",q.then(function(ie){q.status==="pending"&&(q.status="fulfilled",q.value=ie)},function(ie){q.status==="pending"&&(q.status="rejected",q.reason=ie)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function me(q,ie,he,de,xe){var $e=typeof q;($e==="undefined"||$e==="boolean")&&(q=null);var je=!1;if(q===null)je=!0;else switch($e){case"bigint":case"string":case"number":je=!0;break;case"object":switch(q.$$typeof){case t:case e:je=!0;break;case p:return je=q._init,me(je(q._payload),ie,he,de,xe)}}if(je)return xe=xe(q),je=de===""?"."+$(q,0):de,U(xe)?(he="",je!=null&&(he=je.replace(V,"$&/")+"/"),me(xe,ie,he,"",function(Fn){return Fn})):xe!=null&&(D(xe)&&(xe=O(xe,he+(xe.key==null||q&&q.key===xe.key?"":(""+xe.key).replace(V,"$&/")+"/")+je)),ie.push(xe)),1;je=0;var Nt=de===""?".":de+":";if(U(q))for(var lt=0;lt<q.length;lt++)de=q[lt],$e=Nt+$(de,lt),je+=me(de,ie,he,$e,xe);else if(lt=v(q),typeof lt=="function")for(q=lt.call(q),lt=0;!(de=q.next()).done;)de=de.value,$e=Nt+$(de,lt++),je+=me(de,ie,he,$e,xe);else if($e==="object"){if(typeof q.then=="function")return me(ye(q),ie,he,de,xe);throw ie=String(q),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return je}function G(q,ie,he){if(q==null)return q;var de=[],xe=0;return me(q,de,"","",function($e){return ie.call(he,$e,xe++)}),de}function oe(q){if(q._status===-1){var ie=q._result;ie=ie(),ie.then(function(he){(q._status===0||q._status===-1)&&(q._status=1,q._result=he)},function(he){(q._status===0||q._status===-1)&&(q._status=2,q._result=he)}),q._status===-1&&(q._status=0,q._result=ie)}if(q._status===1)return q._result.default;throw q._result}var ce=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function Ce(){}return We.Children={map:G,forEach:function(q,ie,he){G(q,function(){ie.apply(this,arguments)},he)},count:function(q){var ie=0;return G(q,function(){ie++}),ie},toArray:function(q){return G(q,function(ie){return ie})||[]},only:function(q){if(!D(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},We.Component=C,We.Fragment=n,We.Profiler=i,We.PureComponent=I,We.StrictMode=r,We.Suspense=d,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,We.__COMPILER_RUNTIME={__proto__:null,c:function(q){return P.H.useMemoCache(q)}},We.cache=function(q){return function(){return q.apply(null,arguments)}},We.cloneElement=function(q,ie,he){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var de=x({},q.props),xe=q.key,$e=void 0;if(ie!=null)for(je in ie.ref!==void 0&&($e=void 0),ie.key!==void 0&&(xe=""+ie.key),ie)!j.call(ie,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&ie.ref===void 0||(de[je]=ie[je]);var je=arguments.length-2;if(je===1)de.children=he;else if(1<je){for(var Nt=Array(je),lt=0;lt<je;lt++)Nt[lt]=arguments[lt+2];de.children=Nt}return R(q.type,xe,void 0,void 0,$e,de)},We.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:s,_context:q},q},We.createElement=function(q,ie,he){var de,xe={},$e=null;if(ie!=null)for(de in ie.key!==void 0&&($e=""+ie.key),ie)j.call(ie,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(xe[de]=ie[de]);var je=arguments.length-2;if(je===1)xe.children=he;else if(1<je){for(var Nt=Array(je),lt=0;lt<je;lt++)Nt[lt]=arguments[lt+2];xe.children=Nt}if(q&&q.defaultProps)for(de in je=q.defaultProps,je)xe[de]===void 0&&(xe[de]=je[de]);return R(q,$e,void 0,void 0,null,xe)},We.createRef=function(){return{current:null}},We.forwardRef=function(q){return{$$typeof:c,render:q}},We.isValidElement=D,We.lazy=function(q){return{$$typeof:p,_payload:{_status:-1,_result:q},_init:oe}},We.memo=function(q,ie){return{$$typeof:f,type:q,compare:ie===void 0?null:ie}},We.startTransition=function(q){var ie=P.T,he={};P.T=he;try{var de=q(),xe=P.S;xe!==null&&xe(he,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(Ce,ce)}catch($e){ce($e)}finally{P.T=ie}},We.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},We.use=function(q){return P.H.use(q)},We.useActionState=function(q,ie,he){return P.H.useActionState(q,ie,he)},We.useCallback=function(q,ie){return P.H.useCallback(q,ie)},We.useContext=function(q){return P.H.useContext(q)},We.useDebugValue=function(){},We.useDeferredValue=function(q,ie){return P.H.useDeferredValue(q,ie)},We.useEffect=function(q,ie,he){var de=P.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return de.useEffect(q,ie)},We.useId=function(){return P.H.useId()},We.useImperativeHandle=function(q,ie,he){return P.H.useImperativeHandle(q,ie,he)},We.useInsertionEffect=function(q,ie){return P.H.useInsertionEffect(q,ie)},We.useLayoutEffect=function(q,ie){return P.H.useLayoutEffect(q,ie)},We.useMemo=function(q,ie){return P.H.useMemo(q,ie)},We.useOptimistic=function(q,ie){return P.H.useOptimistic(q,ie)},We.useReducer=function(q,ie,he){return P.H.useReducer(q,ie,he)},We.useRef=function(q){return P.H.useRef(q)},We.useState=function(q){return P.H.useState(q)},We.useSyncExternalStore=function(q,ie,he){return P.H.useSyncExternalStore(q,ie,he)},We.useTransition=function(){return P.H.useTransition()},We.version="19.1.1",We}var R2;function Kd(){return R2||(R2=1,g0.exports=oD()),g0.exports}var k=Kd();const _t=_v(k),Ok=rD({__proto__:null,default:_t},[k]);var y0={exports:{}},Yu={},v0={exports:{}},b0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D2;function aD(){return D2||(D2=1,(function(t){function e(G,oe){var ce=G.length;G.push(oe);e:for(;0<ce;){var Ce=ce-1>>>1,q=G[Ce];if(0<i(q,oe))G[Ce]=oe,G[ce]=q,ce=Ce;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var oe=G[0],ce=G.pop();if(ce!==oe){G[0]=ce;e:for(var Ce=0,q=G.length,ie=q>>>1;Ce<ie;){var he=2*(Ce+1)-1,de=G[he],xe=he+1,$e=G[xe];if(0>i(de,ce))xe<q&&0>i($e,de)?(G[Ce]=$e,G[xe]=ce,Ce=xe):(G[Ce]=de,G[he]=ce,Ce=he);else if(xe<q&&0>i($e,ce))G[Ce]=$e,G[xe]=ce,Ce=xe;else break e}}return oe}function i(G,oe){var ce=G.sortIndex-oe.sortIndex;return ce!==0?ce:G.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],f=[],p=1,m=null,v=3,w=!1,x=!1,E=!1,C=!1,_=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function U(G){for(var oe=n(f);oe!==null;){if(oe.callback===null)r(f);else if(oe.startTime<=G)r(f),oe.sortIndex=oe.expirationTime,e(d,oe);else break;oe=n(f)}}function P(G){if(E=!1,U(G),!x)if(n(d)!==null)x=!0,j||(j=!0,$());else{var oe=n(f);oe!==null&&me(P,oe.startTime-G)}}var j=!1,R=-1,O=5,D=-1;function M(){return C?!0:!(t.unstable_now()-D<O)}function V(){if(C=!1,j){var G=t.unstable_now();D=G;var oe=!0;try{e:{x=!1,E&&(E=!1,I(R),R=-1),w=!0;var ce=v;try{t:{for(U(G),m=n(d);m!==null&&!(m.expirationTime>G&&M());){var Ce=m.callback;if(typeof Ce=="function"){m.callback=null,v=m.priorityLevel;var q=Ce(m.expirationTime<=G);if(G=t.unstable_now(),typeof q=="function"){m.callback=q,U(G),oe=!0;break t}m===n(d)&&r(d),U(G)}else r(d);m=n(d)}if(m!==null)oe=!0;else{var ie=n(f);ie!==null&&me(P,ie.startTime-G),oe=!1}}break e}finally{m=null,v=ce,w=!1}oe=void 0}}finally{oe?$():j=!1}}}var $;if(typeof L=="function")$=function(){L(V)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,ye=B.port2;B.port1.onmessage=V,$=function(){ye.postMessage(null)}}else $=function(){_(V,0)};function me(G,oe){R=_(function(){G(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(G){switch(v){case 1:case 2:case 3:var oe=3;break;default:oe=v}var ce=v;v=oe;try{return G()}finally{v=ce}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(G,oe){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ce=v;v=G;try{return oe()}finally{v=ce}},t.unstable_scheduleCallback=function(G,oe,ce){var Ce=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ce+ce:Ce):ce=Ce,G){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ce+q,G={id:p++,callback:oe,priorityLevel:G,startTime:ce,expirationTime:q,sortIndex:-1},ce>Ce?(G.sortIndex=ce,e(f,G),n(d)===null&&G===n(f)&&(E?(I(R),R=-1):E=!0,me(P,ce-Ce))):(G.sortIndex=q,e(d,G),x||w||(x=!0,j||(j=!0,$()))),G},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(G){var oe=v;return function(){var ce=v;v=oe;try{return G.apply(this,arguments)}finally{v=ce}}}})(b0)),b0}var I2;function lD(){return I2||(I2=1,v0.exports=aD()),v0.exports}var w0={exports:{}},An={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j2;function cD(){if(j2)return An;j2=1;var t=Kd();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:d,containerInfo:f,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,An.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(d,f,null,p)},An.flushSync=function(d){var f=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=p,r.d.f()}},An.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},An.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},An.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,m=c(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:w}):p==="script"&&r.d.X(d,{crossOrigin:m,integrity:v,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},An.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},An.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=c(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},An.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},An.requestFormReset=function(d){r.d.r(d)},An.unstable_batchedUpdates=function(d,f){return d(f)},An.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},An.useFormStatus=function(){return l.H.useHostTransitionStatus()},An.version="19.1.1",An}var L2;function _k(){if(L2)return w0.exports;L2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),w0.exports=cD(),w0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P2;function uD(){if(P2)return Yu;P2=1;var t=lD(),e=Kd(),n=_k();function r(o){var a="https://react.dev/errors/"+o;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var a=o,u=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(u=a.return),o=a.return;while(o)}return a.tag===3?u:null}function l(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function c(o){if(s(o)!==o)throw Error(r(188))}function d(o){var a=o.alternate;if(!a){if(a=s(o),a===null)throw Error(r(188));return a!==o?null:o}for(var u=o,h=a;;){var y=u.return;if(y===null)break;var S=y.alternate;if(S===null){if(h=y.return,h!==null){u=h;continue}break}if(y.child===S.child){for(S=y.child;S;){if(S===u)return c(y),o;if(S===h)return c(y),a;S=S.sibling}throw Error(r(188))}if(u.return!==h.return)u=y,h=S;else{for(var N=!1,z=y.child;z;){if(z===u){N=!0,u=y,h=S;break}if(z===h){N=!0,h=y,u=S;break}z=z.sibling}if(!N){for(z=S.child;z;){if(z===u){N=!0,u=S,h=y;break}if(z===h){N=!0,h=S,u=y;break}z=z.sibling}if(!N)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?o:a}function f(o){var a=o.tag;if(a===5||a===26||a===27||a===6)return o;for(o=o.child;o!==null;){if(a=f(o),a!==null)return a;o=o.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),L=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function $(o){return o===null||typeof o!="object"?null:(o=V&&o[V]||o["@@iterator"],typeof o=="function"?o:null)}var B=Symbol.for("react.client.reference");function ye(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===B?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case x:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case P:return"Suspense";case j:return"SuspenseList";case D:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case w:return"Portal";case L:return(o.displayName||"Context")+".Provider";case I:return(o._context.displayName||"Context")+".Consumer";case U:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case R:return a=o.displayName||null,a!==null?a:ye(o.type)||"Memo";case O:a=o._payload,o=o._init;try{return ye(o(a))}catch{}}return null}var me=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Ce=[],q=-1;function ie(o){return{current:o}}function he(o){0>q||(o.current=Ce[q],Ce[q]=null,q--)}function de(o,a){q++,Ce[q]=o.current,o.current=a}var xe=ie(null),$e=ie(null),je=ie(null),Nt=ie(null);function lt(o,a){switch(de(je,a),de($e,o),de(xe,null),a.nodeType){case 9:case 11:o=(o=a.documentElement)&&(o=o.namespaceURI)?r2(o):0;break;default:if(o=a.tagName,a=a.namespaceURI)a=r2(a),o=i2(a,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}he(xe),de(xe,o)}function Fn(){he(xe),he($e),he(je)}function Ct(o){o.memoizedState!==null&&de(Nt,o);var a=xe.current,u=i2(a,o.type);a!==u&&(de($e,o),de(xe,u))}function sn(o){$e.current===o&&(he(xe),he($e)),Nt.current===o&&(he(Nt),$u._currentValue=ce)}var xr=Object.prototype.hasOwnProperty,qn=t.unstable_scheduleCallback,Rn=t.unstable_cancelCallback,fa=t.unstable_shouldYield,Sl=t.unstable_requestPaint,Dn=t.unstable_now,Jc=t.unstable_getCurrentPriorityLevel,ha=t.unstable_ImmediatePriority,qs=t.unstable_UserBlockingPriority,Ki=t.unstable_NormalPriority,Kr=t.unstable_LowPriority,Er=t.unstable_IdlePriority,Ws=t.log,Gs=t.unstable_setDisableYieldValue,ct=null,Ke=null;function Cn(o){if(typeof Ws=="function"&&Gs(o),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(ct,o)}catch{}}var Gt=Math.clz32?Math.clz32:gi,xl=Math.log,Tr=Math.LN2;function gi(o){return o>>>=0,o===0?32:31-(xl(o)/Tr|0)|0}var yi=256,vi=4194304;function ir(o){var a=o&42;if(a!==0)return a;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Yi(o,a,u){var h=o.pendingLanes;if(h===0)return 0;var y=0,S=o.suspendedLanes,N=o.pingedLanes;o=o.warmLanes;var z=h&134217727;return z!==0?(h=z&~S,h!==0?y=ir(h):(N&=z,N!==0?y=ir(N):u||(u=z&~o,u!==0&&(y=ir(u))))):(z=h&~S,z!==0?y=ir(z):N!==0?y=ir(N):u||(u=h&~o,u!==0&&(y=ir(u)))),y===0?0:a!==0&&a!==y&&(a&S)===0&&(S=y&-y,u=a&-a,S>=u||S===32&&(u&4194048)!==0)?a:y}function Cr(o,a){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&a)===0}function Ks(o,a){switch(o){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xi(){var o=yi;return yi<<=1,(yi&4194048)===0&&(yi=256),o}function El(){var o=vi;return vi<<=1,(vi&62914560)===0&&(vi=4194304),o}function kr(o){for(var a=[],u=0;31>u;u++)a.push(o);return a}function Yr(o,a){o.pendingLanes|=a,a!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Ys(o,a,u,h,y,S){var N=o.pendingLanes;o.pendingLanes=u,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=u,o.entangledLanes&=u,o.errorRecoveryDisabledLanes&=u,o.shellSuspendCounter=0;var z=o.entanglements,F=o.expirationTimes,Z=o.hiddenUpdates;for(u=N&~u;0<u;){var se=31-Gt(u),le=1<<se;z[se]=0,F[se]=-1;var te=Z[se];if(te!==null)for(Z[se]=null,se=0;se<te.length;se++){var ne=te[se];ne!==null&&(ne.lane&=-536870913)}u&=~le}h!==0&&Wn(o,h,0),S!==0&&y===0&&o.tag!==0&&(o.suspendedLanes|=S&~(N&~a))}function Wn(o,a,u){o.pendingLanes|=a,o.suspendedLanes&=~a;var h=31-Gt(a);o.entangledLanes|=a,o.entanglements[h]=o.entanglements[h]|1073741824|u&4194090}function bi(o,a){var u=o.entangledLanes|=a;for(o=o.entanglements;u;){var h=31-Gt(u),y=1<<h;y&a|o[h]&a&&(o[h]|=a),u&=~y}}function Ji(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Xs(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function W(){var o=oe.p;return o!==0?o:(o=window.event,o===void 0?32:E2(o.type))}function X(o,a){var u=oe.p;try{return oe.p=o,a()}finally{oe.p=u}}var ee=Math.random().toString(36).slice(2),ue="__reactFiber$"+ee,pe="__reactProps$"+ee,we="__reactContainer$"+ee,Me="__reactEvents$"+ee,ke="__reactListeners$"+ee,Ae="__reactHandles$"+ee,Le="__reactResources$"+ee,Ne="__reactMarker$"+ee;function Ee(o){delete o[ue],delete o[pe],delete o[Me],delete o[ke],delete o[Ae]}function qe(o){var a=o[ue];if(a)return a;for(var u=o.parentNode;u;){if(a=u[we]||u[ue]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(o=l2(o);o!==null;){if(u=o[ue])return u;o=l2(o)}return a}o=u,u=o.parentNode}return null}function tt(o){if(o=o[ue]||o[we]){var a=o.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return o}return null}function mt(o){var a=o.tag;if(a===5||a===26||a===27||a===6)return o.stateNode;throw Error(r(33))}function ut(o){var a=o[Le];return a||(a=o[Le]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Fe(o){o[Ne]=!0}var dt=new Set,Gn={};function gn(o,a){on(o,a),on(o+"Capture",a)}function on(o,a){for(Gn[o]=a,o=0;o<a.length;o++)dt.add(a[o])}var In=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Js={},sr={};function Ar(o){return xr.call(sr,o)?!0:xr.call(Js,o)?!1:In.test(o)?sr[o]=!0:(Js[o]=!0,!1)}function or(o,a,u){if(Ar(a))if(u===null)o.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":o.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){o.removeAttribute(a);return}}o.setAttribute(a,""+u)}}function jn(o,a,u){if(u===null)o.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(a);return}o.setAttribute(a,""+u)}}function ze(o,a,u,h){if(h===null)o.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttributeNS(a,u,""+h)}}var Dt,Xr;function yn(o){if(Dt===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);Dt=a&&a[1]||"",Xr=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dt+o+Xr}var Mt=!1;function Jr(o,a){if(!o||Mt)return"";Mt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(ne){var te=ne}Reflect.construct(o,[],le)}else{try{le.call()}catch(ne){te=ne}o.call(le.prototype)}}else{try{throw Error()}catch(ne){te=ne}(le=o())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=h.DetermineComponentFrameRoot(),N=S[0],z=S[1];if(N&&z){var F=N.split(`
`),Z=z.split(`
`);for(y=h=0;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;for(;y<Z.length&&!Z[y].includes("DetermineComponentFrameRoot");)y++;if(h===F.length||y===Z.length)for(h=F.length-1,y=Z.length-1;1<=h&&0<=y&&F[h]!==Z[y];)y--;for(;1<=h&&0<=y;h--,y--)if(F[h]!==Z[y]){if(h!==1||y!==1)do if(h--,y--,0>y||F[h]!==Z[y]){var se=`
`+F[h].replace(" at new "," at ");return o.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",o.displayName)),se}while(1<=h&&0<=y);break}}}finally{Mt=!1,Error.prepareStackTrace=u}return(u=o?o.displayName||o.name:"")?yn(u):""}function Qs(o){switch(o.tag){case 26:case 27:case 5:return yn(o.type);case 16:return yn("Lazy");case 13:return yn("Suspense");case 19:return yn("SuspenseList");case 0:case 15:return Jr(o.type,!1);case 11:return Jr(o.type.render,!1);case 1:return Jr(o.type,!0);case 31:return yn("Activity");default:return""}}function Zs(o){try{var a="";do a+=Qs(o),o=o.return;while(o);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Ln(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Qc(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function bg(o){var a=Qc(o)?"checked":"value",u=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),h=""+o[a];if(!o.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,S=u.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return y.call(this)},set:function(N){h=""+N,S.call(this,N)}}),Object.defineProperty(o,a,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(N){h=""+N},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function Tl(o){o._valueTracker||(o._valueTracker=bg(o))}function Zc(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var u=a.getValue(),h="";return o&&(h=Qc(o)?o.checked?"true":"false":o.value),o=h,o!==u?(a.setValue(o),!0):!1}function pa(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var wg=/[\n"\\]/g;function Kt(o){return o.replace(wg,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ar(o,a,u,h,y,S,N,z){o.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?o.type=N:o.removeAttribute("type"),a!=null?N==="number"?(a===0&&o.value===""||o.value!=a)&&(o.value=""+Ln(a)):o.value!==""+Ln(a)&&(o.value=""+Ln(a)):N!=="submit"&&N!=="reset"||o.removeAttribute("value"),a!=null?eo(o,N,Ln(a)):u!=null?eo(o,N,Ln(u)):h!=null&&o.removeAttribute("value"),y==null&&S!=null&&(o.defaultChecked=!!S),y!=null&&(o.checked=y&&typeof y!="function"&&typeof y!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?o.name=""+Ln(z):o.removeAttribute("name")}function ma(o,a,u,h,y,S,N,z){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(o.type=S),a!=null||u!=null){if(!(S!=="submit"&&S!=="reset"||a!=null))return;u=u!=null?""+Ln(u):"",a=a!=null?""+Ln(a):u,z||a===o.value||(o.value=a),o.defaultValue=a}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,o.checked=z?o.checked:!!h,o.defaultChecked=!!h,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(o.name=N)}function eo(o,a,u){a==="number"&&pa(o.ownerDocument)===o||o.defaultValue===""+u||(o.defaultValue=""+u)}function Qi(o,a,u,h){if(o=o.options,a){a={};for(var y=0;y<u.length;y++)a["$"+u[y]]=!0;for(u=0;u<o.length;u++)y=a.hasOwnProperty("$"+o[u].value),o[u].selected!==y&&(o[u].selected=y),y&&h&&(o[u].defaultSelected=!0)}else{for(u=""+Ln(u),a=null,y=0;y<o.length;y++){if(o[y].value===u){o[y].selected=!0,h&&(o[y].defaultSelected=!0);return}a!==null||o[y].disabled||(a=o[y])}a!==null&&(a.selected=!0)}}function St(o,a,u){if(a!=null&&(a=""+Ln(a),a!==o.value&&(o.value=a),u==null)){o.defaultValue!==a&&(o.defaultValue=a);return}o.defaultValue=u!=null?""+Ln(u):""}function ga(o,a,u,h){if(a==null){if(h!=null){if(u!=null)throw Error(r(92));if(me(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),a=u}u=Ln(a),o.defaultValue=u,h=o.textContent,h===u&&h!==""&&h!==null&&(o.value=h)}function Nr(o,a){if(a){var u=o.firstChild;if(u&&u===o.lastChild&&u.nodeType===3){u.nodeValue=a;return}}o.textContent=a}var ya=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gf(o,a,u){var h=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?o.setProperty(a,""):a==="float"?o.cssFloat="":o[a]="":h?o.setProperty(a,u):typeof u!="number"||u===0||ya.has(a)?a==="float"?o.cssFloat=u:o[a]=(""+u).trim():o[a]=u+"px"}function eu(o,a,u){if(a!=null&&typeof a!="object")throw Error(r(62));if(o=o.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?o.setProperty(h,""):h==="float"?o.cssFloat="":o[h]="");for(var y in a)h=a[y],a.hasOwnProperty(y)&&u[y]!==h&&gf(o,y,h)}else for(var S in a)a.hasOwnProperty(S)&&gf(o,S,a[S])}function tu(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cl(o){return xg.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Zi=null;function Mr(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var es=null,ts=null;function nu(o){var a=tt(o);if(a&&(o=a.stateNode)){var u=o[pe]||null;e:switch(o=a.stateNode,a.type){case"input":if(ar(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=o;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Kt(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var h=u[a];if(h!==o&&h.form===o.form){var y=h[pe]||null;if(!y)throw Error(r(90));ar(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<u.length;a++)h=u[a],h.form===o.form&&Zc(h)}break e;case"textarea":St(o,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&Qi(o,!!u.multiple,a,!1)}}}var wi=!1;function yf(o,a,u){if(wi)return o(a,u);wi=!0;try{var h=o(a);return h}finally{if(wi=!1,(es!==null||ts!==null)&&(uh(),es&&(a=es,o=ts,ts=es=null,nu(a),o)))for(a=0;a<o.length;a++)nu(o[a])}}function va(o,a){var u=o.stateNode;if(u===null)return null;var h=u[pe]||null;if(h===null)return null;u=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(o=o.type,h=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!h;break e;default:o=!1}if(o)return null;if(u&&typeof u!="function")throw Error(r(231,a,typeof u));return u}var Qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Or=!1;if(Qr)try{var ba={};Object.defineProperty(ba,"passive",{get:function(){Or=!0}}),window.addEventListener("test",ba,ba),window.removeEventListener("test",ba,ba)}catch{Or=!1}var Si=null,to=null,ns=null;function ru(){if(ns)return ns;var o,a=to,u=a.length,h,y="value"in Si?Si.value:Si.textContent,S=y.length;for(o=0;o<u&&a[o]===y[o];o++);var N=u-o;for(h=1;h<=N&&a[u-h]===y[S-h];h++);return ns=y.slice(o,1<h?1-h:void 0)}function xi(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function Ei(){return!0}function iu(){return!1}function an(o){function a(u,h,y,S,N){this._reactName=u,this._targetInst=y,this.type=h,this.nativeEvent=S,this.target=N,this.currentTarget=null;for(var z in o)o.hasOwnProperty(z)&&(u=o[z],this[z]=u?u(S):S[z]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Ei:iu,this.isPropagationStopped=iu,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),a}var gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kl=an(gt),wa=p({},gt,{view:0,detail:0}),vf=an(wa),Al,Nl,Ti,Sa=p({},wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ta,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ti&&(Ti&&o.type==="mousemove"?(Al=o.screenX-Ti.screenX,Nl=o.screenY-Ti.screenY):Nl=Al=0,Ti=o),Al)},movementY:function(o){return"movementY"in o?o.movementY:Nl}}),_r=an(Sa),bf=p({},Sa,{dataTransfer:0}),Eg=an(bf),xa=p({},wa,{relatedTarget:0}),Ml=an(xa),su=p({},gt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ol=an(su),wf=p({},gt,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),_l=an(wf),Tg=p({},gt,{data:0}),ou=an(Tg),Ea={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function au(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=xf[o])?!!a[o]:!1}function Ta(){return au}var Ef=p({},wa,{key:function(o){if(o.key){var a=Ea[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=xi(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Sf[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ta,charCode:function(o){return o.type==="keypress"?xi(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?xi(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Rl=an(Ef),Tf=p({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lu=an(Tf),rs=p({},wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ta}),Cf=an(rs),kf=p({},gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Af=an(kf),Nf=p({},Sa,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Kn=an(Nf),Mf=p({},gt,{newState:0,oldState:0}),Of=an(Mf),no=[9,13,27,32],g=Qr&&"CompositionEvent"in window,T=null;Qr&&"documentMode"in document&&(T=document.documentMode);var A=Qr&&"TextEvent"in window&&!T,H=Qr&&(!g||T&&8<T&&11>=T),J=" ",re=!1;function ve(o,a){switch(o){case"keyup":return no.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ht(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var It=!1;function nt(o,a){switch(o){case"compositionend":return ht(a);case"keypress":return a.which!==32?null:(re=!0,J);case"textInput":return o=a.data,o===J&&re?null:o;default:return null}}function ln(o,a){if(It)return o==="compositionend"||!g&&ve(o,a)?(o=ru(),ns=to=Si=null,It=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return H&&a.locale!=="ko"?null:a.data;default:return null}}var cn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function is(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!cn[o.type]:a==="textarea"}function Yn(o,a,u,h){es?ts?ts.push(h):ts=[h]:es=h,a=gh(a,"onChange"),0<a.length&&(u=new kl("onChange","change",null,u,h),o.push({event:u,listeners:a}))}var Ci=null,ss=null;function RR(o){Qx(o,0)}function _f(o){var a=mt(o);if(Zc(a))return o}function bw(o,a){if(o==="change")return a}var ww=!1;if(Qr){var Cg;if(Qr){var kg="oninput"in document;if(!kg){var Sw=document.createElement("div");Sw.setAttribute("oninput","return;"),kg=typeof Sw.oninput=="function"}Cg=kg}else Cg=!1;ww=Cg&&(!document.documentMode||9<document.documentMode)}function xw(){Ci&&(Ci.detachEvent("onpropertychange",Ew),ss=Ci=null)}function Ew(o){if(o.propertyName==="value"&&_f(ss)){var a=[];Yn(a,ss,o,Mr(o)),yf(RR,a)}}function DR(o,a,u){o==="focusin"?(xw(),Ci=a,ss=u,Ci.attachEvent("onpropertychange",Ew)):o==="focusout"&&xw()}function IR(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return _f(ss)}function jR(o,a){if(o==="click")return _f(a)}function LR(o,a){if(o==="input"||o==="change")return _f(a)}function PR(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var lr=typeof Object.is=="function"?Object.is:PR;function cu(o,a){if(lr(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var u=Object.keys(o),h=Object.keys(a);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var y=u[h];if(!xr.call(a,y)||!lr(o[y],a[y]))return!1}return!0}function Tw(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Cw(o,a){var u=Tw(o);o=0;for(var h;u;){if(u.nodeType===3){if(h=o+u.textContent.length,o<=a&&h>=a)return{node:u,offset:a-o};o=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Tw(u)}}function kw(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?kw(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function Aw(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var a=pa(o.document);a instanceof o.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)o=a.contentWindow;else break;a=pa(o.document)}return a}function Ag(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}var zR=Qr&&"documentMode"in document&&11>=document.documentMode,Dl=null,Ng=null,uu=null,Mg=!1;function Nw(o,a,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Mg||Dl==null||Dl!==pa(h)||(h=Dl,"selectionStart"in h&&Ag(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),uu&&cu(uu,h)||(uu=h,h=gh(Ng,"onSelect"),0<h.length&&(a=new kl("onSelect","select",null,a,u),o.push({event:a,listeners:h}),a.target=Dl)))}function Ca(o,a){var u={};return u[o.toLowerCase()]=a.toLowerCase(),u["Webkit"+o]="webkit"+a,u["Moz"+o]="moz"+a,u}var Il={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionrun:Ca("Transition","TransitionRun"),transitionstart:Ca("Transition","TransitionStart"),transitioncancel:Ca("Transition","TransitionCancel"),transitionend:Ca("Transition","TransitionEnd")},Og={},Mw={};Qr&&(Mw=document.createElement("div").style,"AnimationEvent"in window||(delete Il.animationend.animation,delete Il.animationiteration.animation,delete Il.animationstart.animation),"TransitionEvent"in window||delete Il.transitionend.transition);function ka(o){if(Og[o])return Og[o];if(!Il[o])return o;var a=Il[o],u;for(u in a)if(a.hasOwnProperty(u)&&u in Mw)return Og[o]=a[u];return o}var Ow=ka("animationend"),_w=ka("animationiteration"),Rw=ka("animationstart"),UR=ka("transitionrun"),BR=ka("transitionstart"),HR=ka("transitioncancel"),Dw=ka("transitionend"),Iw=new Map,_g="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_g.push("scrollEnd");function Zr(o,a){Iw.set(o,a),gn(a,[o])}var jw=new WeakMap;function Rr(o,a){if(typeof o=="object"&&o!==null){var u=jw.get(o);return u!==void 0?u:(a={value:o,source:a,stack:Zs(a)},jw.set(o,a),a)}return{value:o,source:a,stack:Zs(a)}}var Dr=[],jl=0,Rg=0;function Rf(){for(var o=jl,a=Rg=jl=0;a<o;){var u=Dr[a];Dr[a++]=null;var h=Dr[a];Dr[a++]=null;var y=Dr[a];Dr[a++]=null;var S=Dr[a];if(Dr[a++]=null,h!==null&&y!==null){var N=h.pending;N===null?y.next=y:(y.next=N.next,N.next=y),h.pending=y}S!==0&&Lw(u,y,S)}}function Df(o,a,u,h){Dr[jl++]=o,Dr[jl++]=a,Dr[jl++]=u,Dr[jl++]=h,Rg|=h,o.lanes|=h,o=o.alternate,o!==null&&(o.lanes|=h)}function Dg(o,a,u,h){return Df(o,a,u,h),If(o)}function Ll(o,a){return Df(o,null,null,a),If(o)}function Lw(o,a,u){o.lanes|=u;var h=o.alternate;h!==null&&(h.lanes|=u);for(var y=!1,S=o.return;S!==null;)S.childLanes|=u,h=S.alternate,h!==null&&(h.childLanes|=u),S.tag===22&&(o=S.stateNode,o===null||o._visibility&1||(y=!0)),o=S,S=S.return;return o.tag===3?(S=o.stateNode,y&&a!==null&&(y=31-Gt(u),o=S.hiddenUpdates,h=o[y],h===null?o[y]=[a]:h.push(a),a.lane=u|536870912),S):null}function If(o){if(50<ju)throw ju=0,Uy=null,Error(r(185));for(var a=o.return;a!==null;)o=a,a=o.return;return o.tag===3?o.stateNode:null}var Pl={};function VR(o,a,u,h){this.tag=o,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(o,a,u,h){return new VR(o,a,u,h)}function Ig(o){return o=o.prototype,!(!o||!o.isReactComponent)}function as(o,a){var u=o.alternate;return u===null?(u=cr(o.tag,a,o.key,o.mode),u.elementType=o.elementType,u.type=o.type,u.stateNode=o.stateNode,u.alternate=o,o.alternate=u):(u.pendingProps=a,u.type=o.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=o.flags&65011712,u.childLanes=o.childLanes,u.lanes=o.lanes,u.child=o.child,u.memoizedProps=o.memoizedProps,u.memoizedState=o.memoizedState,u.updateQueue=o.updateQueue,a=o.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=o.sibling,u.index=o.index,u.ref=o.ref,u.refCleanup=o.refCleanup,u}function Pw(o,a){o.flags&=65011714;var u=o.alternate;return u===null?(o.childLanes=0,o.lanes=a,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,a=u.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),o}function jf(o,a,u,h,y,S){var N=0;if(h=o,typeof o=="function")Ig(o)&&(N=1);else if(typeof o=="string")N=F4(o,u,xe.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case D:return o=cr(31,u,a,y),o.elementType=D,o.lanes=S,o;case x:return Aa(u.children,y,S,a);case E:N=8,y|=24;break;case C:return o=cr(12,u,a,y|2),o.elementType=C,o.lanes=S,o;case P:return o=cr(13,u,a,y),o.elementType=P,o.lanes=S,o;case j:return o=cr(19,u,a,y),o.elementType=j,o.lanes=S,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case _:case L:N=10;break e;case I:N=9;break e;case U:N=11;break e;case R:N=14;break e;case O:N=16,h=null;break e}N=29,u=Error(r(130,o===null?"null":typeof o,"")),h=null}return a=cr(N,u,a,y),a.elementType=o,a.type=h,a.lanes=S,a}function Aa(o,a,u,h){return o=cr(7,o,h,a),o.lanes=u,o}function jg(o,a,u){return o=cr(6,o,null,a),o.lanes=u,o}function Lg(o,a,u){return a=cr(4,o.children!==null?o.children:[],o.key,a),a.lanes=u,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}var zl=[],Ul=0,Lf=null,Pf=0,Ir=[],jr=0,Na=null,ls=1,cs="";function Ma(o,a){zl[Ul++]=Pf,zl[Ul++]=Lf,Lf=o,Pf=a}function zw(o,a,u){Ir[jr++]=ls,Ir[jr++]=cs,Ir[jr++]=Na,Na=o;var h=ls;o=cs;var y=32-Gt(h)-1;h&=~(1<<y),u+=1;var S=32-Gt(a)+y;if(30<S){var N=y-y%5;S=(h&(1<<N)-1).toString(32),h>>=N,y-=N,ls=1<<32-Gt(a)+y|u<<y|h,cs=S+o}else ls=1<<S|u<<y|h,cs=o}function Pg(o){o.return!==null&&(Ma(o,1),zw(o,1,0))}function zg(o){for(;o===Lf;)Lf=zl[--Ul],zl[Ul]=null,Pf=zl[--Ul],zl[Ul]=null;for(;o===Na;)Na=Ir[--jr],Ir[jr]=null,cs=Ir[--jr],Ir[jr]=null,ls=Ir[--jr],Ir[jr]=null}var Pn=null,Bt=null,ft=!1,Oa=null,ki=!1,Ug=Error(r(519));function _a(o){var a=Error(r(418,""));throw hu(Rr(a,o)),Ug}function Uw(o){var a=o.stateNode,u=o.type,h=o.memoizedProps;switch(a[ue]=o,a[pe]=h,u){case"dialog":Ze("cancel",a),Ze("close",a);break;case"iframe":case"object":case"embed":Ze("load",a);break;case"video":case"audio":for(u=0;u<Pu.length;u++)Ze(Pu[u],a);break;case"source":Ze("error",a);break;case"img":case"image":case"link":Ze("error",a),Ze("load",a);break;case"details":Ze("toggle",a);break;case"input":Ze("invalid",a),ma(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Tl(a);break;case"select":Ze("invalid",a);break;case"textarea":Ze("invalid",a),ga(a,h.value,h.defaultValue,h.children),Tl(a)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||h.suppressHydrationWarning===!0||n2(a.textContent,u)?(h.popover!=null&&(Ze("beforetoggle",a),Ze("toggle",a)),h.onScroll!=null&&Ze("scroll",a),h.onScrollEnd!=null&&Ze("scrollend",a),h.onClick!=null&&(a.onclick=yh),a=!0):a=!1,a||_a(o)}function Bw(o){for(Pn=o.return;Pn;)switch(Pn.tag){case 5:case 13:ki=!1;return;case 27:case 3:ki=!0;return;default:Pn=Pn.return}}function du(o){if(o!==Pn)return!1;if(!ft)return Bw(o),ft=!0,!1;var a=o.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=o.type,u=!(u!=="form"&&u!=="button")||t0(o.type,o.memoizedProps)),u=!u),u&&Bt&&_a(o),Bw(o),a===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8)if(u=o.data,u==="/$"){if(a===0){Bt=ti(o.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++;o=o.nextSibling}Bt=null}}else a===27?(a=Bt,bo(o.type)?(o=s0,s0=null,Bt=o):Bt=a):Bt=Pn?ti(o.stateNode.nextSibling):null;return!0}function fu(){Bt=Pn=null,ft=!1}function Hw(){var o=Oa;return o!==null&&(Qn===null?Qn=o:Qn.push.apply(Qn,o),Oa=null),o}function hu(o){Oa===null?Oa=[o]:Oa.push(o)}var Bg=ie(null),Ra=null,us=null;function ro(o,a,u){de(Bg,a._currentValue),a._currentValue=u}function ds(o){o._currentValue=Bg.current,he(Bg)}function Hg(o,a,u){for(;o!==null;){var h=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),o===u)break;o=o.return}}function Vg(o,a,u,h){var y=o.child;for(y!==null&&(y.return=o);y!==null;){var S=y.dependencies;if(S!==null){var N=y.child;S=S.firstContext;e:for(;S!==null;){var z=S;S=y;for(var F=0;F<a.length;F++)if(z.context===a[F]){S.lanes|=u,z=S.alternate,z!==null&&(z.lanes|=u),Hg(S.return,u,o),h||(N=null);break e}S=z.next}}else if(y.tag===18){if(N=y.return,N===null)throw Error(r(341));N.lanes|=u,S=N.alternate,S!==null&&(S.lanes|=u),Hg(N,u,o),N=null}else N=y.child;if(N!==null)N.return=y;else for(N=y;N!==null;){if(N===o){N=null;break}if(y=N.sibling,y!==null){y.return=N.return,N=y;break}N=N.return}y=N}}function pu(o,a,u,h){o=null;for(var y=a,S=!1;y!==null;){if(!S){if((y.flags&524288)!==0)S=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var N=y.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var z=y.type;lr(y.pendingProps.value,N.value)||(o!==null?o.push(z):o=[z])}}else if(y===Nt.current){if(N=y.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(o!==null?o.push($u):o=[$u])}y=y.return}o!==null&&Vg(a,o,u,h),a.flags|=262144}function zf(o){for(o=o.firstContext;o!==null;){if(!lr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Da(o){Ra=o,us=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function kn(o){return Vw(Ra,o)}function Uf(o,a){return Ra===null&&Da(o),Vw(o,a)}function Vw(o,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},us===null){if(o===null)throw Error(r(308));us=a,o.dependencies={lanes:0,firstContext:a},o.flags|=524288}else us=us.next=a;return u}var $R=typeof AbortController<"u"?AbortController:function(){var o=[],a=this.signal={aborted:!1,addEventListener:function(u,h){o.push(h)}};this.abort=function(){a.aborted=!0,o.forEach(function(u){return u()})}},FR=t.unstable_scheduleCallback,qR=t.unstable_NormalPriority,nn={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $g(){return{controller:new $R,data:new Map,refCount:0}}function mu(o){o.refCount--,o.refCount===0&&FR(qR,function(){o.controller.abort()})}var gu=null,Fg=0,Bl=0,Hl=null;function WR(o,a){if(gu===null){var u=gu=[];Fg=0,Bl=Wy(),Hl={status:"pending",value:void 0,then:function(h){u.push(h)}}}return Fg++,a.then($w,$w),a}function $w(){if(--Fg===0&&gu!==null){Hl!==null&&(Hl.status="fulfilled");var o=gu;gu=null,Bl=0,Hl=null;for(var a=0;a<o.length;a++)(0,o[a])()}}function GR(o,a){var u=[],h={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return o.then(function(){h.status="fulfilled",h.value=a;for(var y=0;y<u.length;y++)(0,u[y])(a)},function(y){for(h.status="rejected",h.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),h}var Fw=G.S;G.S=function(o,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&WR(o,a),Fw!==null&&Fw(o,a)};var Ia=ie(null);function qg(){var o=Ia.current;return o!==null?o:Ot.pooledCache}function Bf(o,a){a===null?de(Ia,Ia.current):de(Ia,a.pool)}function qw(){var o=qg();return o===null?null:{parent:nn._currentValue,pool:o}}var yu=Error(r(460)),Ww=Error(r(474)),Hf=Error(r(542)),Wg={then:function(){}};function Gw(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Vf(){}function Kw(o,a,u){switch(u=o[u],u===void 0?o.push(a):u!==a&&(a.then(Vf,Vf),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw o=a.reason,Xw(o),o;default:if(typeof a.status=="string")a.then(Vf,Vf);else{if(o=Ot,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=a,o.status="pending",o.then(function(h){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=h}},function(h){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw o=a.reason,Xw(o),o}throw vu=a,yu}}var vu=null;function Yw(){if(vu===null)throw Error(r(459));var o=vu;return vu=null,o}function Xw(o){if(o===yu||o===Hf)throw Error(r(483))}var io=!1;function Gg(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kg(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function so(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function oo(o,a,u){var h=o.updateQueue;if(h===null)return null;if(h=h.shared,(yt&2)!==0){var y=h.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),h.pending=a,a=If(o),Lw(o,null,u),a}return Df(o,h,a,u),If(o)}function bu(o,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var h=a.lanes;h&=o.pendingLanes,u|=h,a.lanes=u,bi(o,u)}}function Yg(o,a){var u=o.updateQueue,h=o.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var y=null,S=null;if(u=u.firstBaseUpdate,u!==null){do{var N={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};S===null?y=S=N:S=S.next=N,u=u.next}while(u!==null);S===null?y=S=a:S=S.next=a}else y=S=a;u={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:S,shared:h.shared,callbacks:h.callbacks},o.updateQueue=u;return}o=u.lastBaseUpdate,o===null?u.firstBaseUpdate=a:o.next=a,u.lastBaseUpdate=a}var Xg=!1;function wu(){if(Xg){var o=Hl;if(o!==null)throw o}}function Su(o,a,u,h){Xg=!1;var y=o.updateQueue;io=!1;var S=y.firstBaseUpdate,N=y.lastBaseUpdate,z=y.shared.pending;if(z!==null){y.shared.pending=null;var F=z,Z=F.next;F.next=null,N===null?S=Z:N.next=Z,N=F;var se=o.alternate;se!==null&&(se=se.updateQueue,z=se.lastBaseUpdate,z!==N&&(z===null?se.firstBaseUpdate=Z:z.next=Z,se.lastBaseUpdate=F))}if(S!==null){var le=y.baseState;N=0,se=Z=F=null,z=S;do{var te=z.lane&-536870913,ne=te!==z.lane;if(ne?(rt&te)===te:(h&te)===te){te!==0&&te===Bl&&(Xg=!0),se!==null&&(se=se.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var He=o,Pe=z;te=a;var Tt=u;switch(Pe.tag){case 1:if(He=Pe.payload,typeof He=="function"){le=He.call(Tt,le,te);break e}le=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=Pe.payload,te=typeof He=="function"?He.call(Tt,le,te):He,te==null)break e;le=p({},le,te);break e;case 2:io=!0}}te=z.callback,te!==null&&(o.flags|=64,ne&&(o.flags|=8192),ne=y.callbacks,ne===null?y.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:z.tag,payload:z.payload,callback:z.callback,next:null},se===null?(Z=se=ne,F=le):se=se.next=ne,N|=te;if(z=z.next,z===null){if(z=y.shared.pending,z===null)break;ne=z,z=ne.next,ne.next=null,y.lastBaseUpdate=ne,y.shared.pending=null}}while(!0);se===null&&(F=le),y.baseState=F,y.firstBaseUpdate=Z,y.lastBaseUpdate=se,S===null&&(y.shared.lanes=0),mo|=N,o.lanes=N,o.memoizedState=le}}function Jw(o,a){if(typeof o!="function")throw Error(r(191,o));o.call(a)}function Qw(o,a){var u=o.callbacks;if(u!==null)for(o.callbacks=null,o=0;o<u.length;o++)Jw(u[o],a)}var Vl=ie(null),$f=ie(0);function Zw(o,a){o=vs,de($f,o),de(Vl,a),vs=o|a.baseLanes}function Jg(){de($f,vs),de(Vl,Vl.current)}function Qg(){vs=$f.current,he(Vl),he($f)}var ao=0,Ye=null,xt=null,Yt=null,Ff=!1,$l=!1,ja=!1,qf=0,xu=0,Fl=null,KR=0;function qt(){throw Error(r(321))}function Zg(o,a){if(a===null)return!1;for(var u=0;u<a.length&&u<o.length;u++)if(!lr(o[u],a[u]))return!1;return!0}function ey(o,a,u,h,y,S){return ao=S,Ye=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,G.H=o===null||o.memoizedState===null?LS:PS,ja=!1,S=u(h,y),ja=!1,$l&&(S=tS(a,u,h,y)),eS(o),S}function eS(o){G.H=Jf;var a=xt!==null&&xt.next!==null;if(ao=0,Yt=xt=Ye=null,Ff=!1,xu=0,Fl=null,a)throw Error(r(300));o===null||un||(o=o.dependencies,o!==null&&zf(o)&&(un=!0))}function tS(o,a,u,h){Ye=o;var y=0;do{if($l&&(Fl=null),xu=0,$l=!1,25<=y)throw Error(r(301));if(y+=1,Yt=xt=null,o.updateQueue!=null){var S=o.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}G.H=t4,S=a(u,h)}while($l);return S}function YR(){var o=G.H,a=o.useState()[0];return a=typeof a.then=="function"?Eu(a):a,o=o.useState()[0],(xt!==null?xt.memoizedState:null)!==o&&(Ye.flags|=1024),a}function ty(){var o=qf!==0;return qf=0,o}function ny(o,a,u){a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~u}function ry(o){if(Ff){for(o=o.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}Ff=!1}ao=0,Yt=xt=Ye=null,$l=!1,xu=qf=0,Fl=null}function Xn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Ye.memoizedState=Yt=o:Yt=Yt.next=o,Yt}function Xt(){if(xt===null){var o=Ye.alternate;o=o!==null?o.memoizedState:null}else o=xt.next;var a=Yt===null?Ye.memoizedState:Yt.next;if(a!==null)Yt=a,xt=o;else{if(o===null)throw Ye.alternate===null?Error(r(467)):Error(r(310));xt=o,o={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Yt===null?Ye.memoizedState=Yt=o:Yt=Yt.next=o}return Yt}function iy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Eu(o){var a=xu;return xu+=1,Fl===null&&(Fl=[]),o=Kw(Fl,o,a),a=Ye,(Yt===null?a.memoizedState:Yt.next)===null&&(a=a.alternate,G.H=a===null||a.memoizedState===null?LS:PS),o}function Wf(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Eu(o);if(o.$$typeof===L)return kn(o)}throw Error(r(438,String(o)))}function sy(o){var a=null,u=Ye.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var h=Ye.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=iy(),Ye.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(o),h=0;h<o;h++)u[h]=M;return a.index++,u}function fs(o,a){return typeof a=="function"?a(o):a}function Gf(o){var a=Xt();return oy(a,xt,o)}function oy(o,a,u){var h=o.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var y=o.baseQueue,S=h.pending;if(S!==null){if(y!==null){var N=y.next;y.next=S.next,S.next=N}a.baseQueue=y=S,h.pending=null}if(S=o.baseState,y===null)o.memoizedState=S;else{a=y.next;var z=N=null,F=null,Z=a,se=!1;do{var le=Z.lane&-536870913;if(le!==Z.lane?(rt&le)===le:(ao&le)===le){var te=Z.revertLane;if(te===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),le===Bl&&(se=!0);else if((ao&te)===te){Z=Z.next,te===Bl&&(se=!0);continue}else le={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},F===null?(z=F=le,N=S):F=F.next=le,Ye.lanes|=te,mo|=te;le=Z.action,ja&&u(S,le),S=Z.hasEagerState?Z.eagerState:u(S,le)}else te={lane:le,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},F===null?(z=F=te,N=S):F=F.next=te,Ye.lanes|=le,mo|=le;Z=Z.next}while(Z!==null&&Z!==a);if(F===null?N=S:F.next=z,!lr(S,o.memoizedState)&&(un=!0,se&&(u=Hl,u!==null)))throw u;o.memoizedState=S,o.baseState=N,o.baseQueue=F,h.lastRenderedState=S}return y===null&&(h.lanes=0),[o.memoizedState,h.dispatch]}function ay(o){var a=Xt(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var h=u.dispatch,y=u.pending,S=a.memoizedState;if(y!==null){u.pending=null;var N=y=y.next;do S=o(S,N.action),N=N.next;while(N!==y);lr(S,a.memoizedState)||(un=!0),a.memoizedState=S,a.baseQueue===null&&(a.baseState=S),u.lastRenderedState=S}return[S,h]}function nS(o,a,u){var h=Ye,y=Xt(),S=ft;if(S){if(u===void 0)throw Error(r(407));u=u()}else u=a();var N=!lr((xt||y).memoizedState,u);N&&(y.memoizedState=u,un=!0),y=y.queue;var z=sS.bind(null,h,y,o);if(Tu(2048,8,z,[o]),y.getSnapshot!==a||N||Yt!==null&&Yt.memoizedState.tag&1){if(h.flags|=2048,ql(9,Kf(),iS.bind(null,h,y,u,a),null),Ot===null)throw Error(r(349));S||(ao&124)!==0||rS(h,a,u)}return u}function rS(o,a,u){o.flags|=16384,o={getSnapshot:a,value:u},a=Ye.updateQueue,a===null?(a=iy(),Ye.updateQueue=a,a.stores=[o]):(u=a.stores,u===null?a.stores=[o]:u.push(o))}function iS(o,a,u,h){a.value=u,a.getSnapshot=h,oS(a)&&aS(o)}function sS(o,a,u){return u(function(){oS(a)&&aS(o)})}function oS(o){var a=o.getSnapshot;o=o.value;try{var u=a();return!lr(o,u)}catch{return!0}}function aS(o){var a=Ll(o,2);a!==null&&pr(a,o,2)}function ly(o){var a=Xn();if(typeof o=="function"){var u=o;if(o=u(),ja){Cn(!0);try{u()}finally{Cn(!1)}}}return a.memoizedState=a.baseState=o,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:o},a}function lS(o,a,u,h){return o.baseState=u,oy(o,xt,typeof h=="function"?h:fs)}function XR(o,a,u,h,y){if(Xf(o))throw Error(r(485));if(o=a.action,o!==null){var S={payload:y,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){S.listeners.push(N)}};G.T!==null?u(!0):S.isTransition=!1,h(S),u=a.pending,u===null?(S.next=a.pending=S,cS(a,S)):(S.next=u.next,a.pending=u.next=S)}}function cS(o,a){var u=a.action,h=a.payload,y=o.state;if(a.isTransition){var S=G.T,N={};G.T=N;try{var z=u(y,h),F=G.S;F!==null&&F(N,z),uS(o,a,z)}catch(Z){cy(o,a,Z)}finally{G.T=S}}else try{S=u(y,h),uS(o,a,S)}catch(Z){cy(o,a,Z)}}function uS(o,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){dS(o,a,h)},function(h){return cy(o,a,h)}):dS(o,a,u)}function dS(o,a,u){a.status="fulfilled",a.value=u,fS(a),o.state=u,a=o.pending,a!==null&&(u=a.next,u===a?o.pending=null:(u=u.next,a.next=u,cS(o,u)))}function cy(o,a,u){var h=o.pending;if(o.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=u,fS(a),a=a.next;while(a!==h)}o.action=null}function fS(o){o=o.listeners;for(var a=0;a<o.length;a++)(0,o[a])()}function hS(o,a){return a}function pS(o,a){if(ft){var u=Ot.formState;if(u!==null){e:{var h=Ye;if(ft){if(Bt){t:{for(var y=Bt,S=ki;y.nodeType!==8;){if(!S){y=null;break t}if(y=ti(y.nextSibling),y===null){y=null;break t}}S=y.data,y=S==="F!"||S==="F"?y:null}if(y){Bt=ti(y.nextSibling),h=y.data==="F!";break e}}_a(h)}h=!1}h&&(a=u[0])}}return u=Xn(),u.memoizedState=u.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hS,lastRenderedState:a},u.queue=h,u=DS.bind(null,Ye,h),h.dispatch=u,h=ly(!1),S=py.bind(null,Ye,!1,h.queue),h=Xn(),y={state:a,dispatch:null,action:o,pending:null},h.queue=y,u=XR.bind(null,Ye,y,S,u),y.dispatch=u,h.memoizedState=o,[a,u,!1]}function mS(o){var a=Xt();return gS(a,xt,o)}function gS(o,a,u){if(a=oy(o,a,hS)[0],o=Gf(fs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=Eu(a)}catch(N){throw N===yu?Hf:N}else h=a;a=Xt();var y=a.queue,S=y.dispatch;return u!==a.memoizedState&&(Ye.flags|=2048,ql(9,Kf(),JR.bind(null,y,u),null)),[h,S,o]}function JR(o,a){o.action=a}function yS(o){var a=Xt(),u=xt;if(u!==null)return gS(a,u,o);Xt(),a=a.memoizedState,u=Xt();var h=u.queue.dispatch;return u.memoizedState=o,[a,h,!1]}function ql(o,a,u,h){return o={tag:o,create:u,deps:h,inst:a,next:null},a=Ye.updateQueue,a===null&&(a=iy(),Ye.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=o.next=o:(h=u.next,u.next=o,o.next=h,a.lastEffect=o),o}function Kf(){return{destroy:void 0,resource:void 0}}function vS(){return Xt().memoizedState}function Yf(o,a,u,h){var y=Xn();h=h===void 0?null:h,Ye.flags|=o,y.memoizedState=ql(1|a,Kf(),u,h)}function Tu(o,a,u,h){var y=Xt();h=h===void 0?null:h;var S=y.memoizedState.inst;xt!==null&&h!==null&&Zg(h,xt.memoizedState.deps)?y.memoizedState=ql(a,S,u,h):(Ye.flags|=o,y.memoizedState=ql(1|a,S,u,h))}function bS(o,a){Yf(8390656,8,o,a)}function wS(o,a){Tu(2048,8,o,a)}function SS(o,a){return Tu(4,2,o,a)}function xS(o,a){return Tu(4,4,o,a)}function ES(o,a){if(typeof a=="function"){o=o();var u=a(o);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function TS(o,a,u){u=u!=null?u.concat([o]):null,Tu(4,4,ES.bind(null,a,o),u)}function uy(){}function CS(o,a){var u=Xt();a=a===void 0?null:a;var h=u.memoizedState;return a!==null&&Zg(a,h[1])?h[0]:(u.memoizedState=[o,a],o)}function kS(o,a){var u=Xt();a=a===void 0?null:a;var h=u.memoizedState;if(a!==null&&Zg(a,h[1]))return h[0];if(h=o(),ja){Cn(!0);try{o()}finally{Cn(!1)}}return u.memoizedState=[h,a],h}function dy(o,a,u){return u===void 0||(ao&1073741824)!==0?o.memoizedState=a:(o.memoizedState=u,o=Mx(),Ye.lanes|=o,mo|=o,u)}function AS(o,a,u,h){return lr(u,a)?u:Vl.current!==null?(o=dy(o,u,h),lr(o,a)||(un=!0),o):(ao&42)===0?(un=!0,o.memoizedState=u):(o=Mx(),Ye.lanes|=o,mo|=o,a)}function NS(o,a,u,h,y){var S=oe.p;oe.p=S!==0&&8>S?S:8;var N=G.T,z={};G.T=z,py(o,!1,a,u);try{var F=y(),Z=G.S;if(Z!==null&&Z(z,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var se=GR(F,h);Cu(o,a,se,hr(o))}else Cu(o,a,h,hr(o))}catch(le){Cu(o,a,{then:function(){},status:"rejected",reason:le},hr())}finally{oe.p=S,G.T=N}}function QR(){}function fy(o,a,u,h){if(o.tag!==5)throw Error(r(476));var y=MS(o).queue;NS(o,y,a,ce,u===null?QR:function(){return OS(o),u(h)})}function MS(o){var a=o.memoizedState;if(a!==null)return a;a={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:ce},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:u},next:null},o.memoizedState=a,o=o.alternate,o!==null&&(o.memoizedState=a),a}function OS(o){var a=MS(o).next.queue;Cu(o,a,{},hr())}function hy(){return kn($u)}function _S(){return Xt().memoizedState}function RS(){return Xt().memoizedState}function ZR(o){for(var a=o.return;a!==null;){switch(a.tag){case 24:case 3:var u=hr();o=so(u);var h=oo(a,o,u);h!==null&&(pr(h,a,u),bu(h,a,u)),a={cache:$g()},o.payload=a;return}a=a.return}}function e4(o,a,u){var h=hr();u={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Xf(o)?IS(a,u):(u=Dg(o,a,u,h),u!==null&&(pr(u,o,h),jS(u,a,h)))}function DS(o,a,u){var h=hr();Cu(o,a,u,h)}function Cu(o,a,u,h){var y={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Xf(o))IS(a,y);else{var S=o.alternate;if(o.lanes===0&&(S===null||S.lanes===0)&&(S=a.lastRenderedReducer,S!==null))try{var N=a.lastRenderedState,z=S(N,u);if(y.hasEagerState=!0,y.eagerState=z,lr(z,N))return Df(o,a,y,0),Ot===null&&Rf(),!1}catch{}finally{}if(u=Dg(o,a,y,h),u!==null)return pr(u,o,h),jS(u,a,h),!0}return!1}function py(o,a,u,h){if(h={lane:2,revertLane:Wy(),action:h,hasEagerState:!1,eagerState:null,next:null},Xf(o)){if(a)throw Error(r(479))}else a=Dg(o,u,h,2),a!==null&&pr(a,o,2)}function Xf(o){var a=o.alternate;return o===Ye||a!==null&&a===Ye}function IS(o,a){$l=Ff=!0;var u=o.pending;u===null?a.next=a:(a.next=u.next,u.next=a),o.pending=a}function jS(o,a,u){if((u&4194048)!==0){var h=a.lanes;h&=o.pendingLanes,u|=h,a.lanes=u,bi(o,u)}}var Jf={readContext:kn,use:Wf,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useLayoutEffect:qt,useInsertionEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useSyncExternalStore:qt,useId:qt,useHostTransitionStatus:qt,useFormState:qt,useActionState:qt,useOptimistic:qt,useMemoCache:qt,useCacheRefresh:qt},LS={readContext:kn,use:Wf,useCallback:function(o,a){return Xn().memoizedState=[o,a===void 0?null:a],o},useContext:kn,useEffect:bS,useImperativeHandle:function(o,a,u){u=u!=null?u.concat([o]):null,Yf(4194308,4,ES.bind(null,a,o),u)},useLayoutEffect:function(o,a){return Yf(4194308,4,o,a)},useInsertionEffect:function(o,a){Yf(4,2,o,a)},useMemo:function(o,a){var u=Xn();a=a===void 0?null:a;var h=o();if(ja){Cn(!0);try{o()}finally{Cn(!1)}}return u.memoizedState=[h,a],h},useReducer:function(o,a,u){var h=Xn();if(u!==void 0){var y=u(a);if(ja){Cn(!0);try{u(a)}finally{Cn(!1)}}}else y=a;return h.memoizedState=h.baseState=y,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:y},h.queue=o,o=o.dispatch=e4.bind(null,Ye,o),[h.memoizedState,o]},useRef:function(o){var a=Xn();return o={current:o},a.memoizedState=o},useState:function(o){o=ly(o);var a=o.queue,u=DS.bind(null,Ye,a);return a.dispatch=u,[o.memoizedState,u]},useDebugValue:uy,useDeferredValue:function(o,a){var u=Xn();return dy(u,o,a)},useTransition:function(){var o=ly(!1);return o=NS.bind(null,Ye,o.queue,!0,!1),Xn().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,a,u){var h=Ye,y=Xn();if(ft){if(u===void 0)throw Error(r(407));u=u()}else{if(u=a(),Ot===null)throw Error(r(349));(rt&124)!==0||rS(h,a,u)}y.memoizedState=u;var S={value:u,getSnapshot:a};return y.queue=S,bS(sS.bind(null,h,S,o),[o]),h.flags|=2048,ql(9,Kf(),iS.bind(null,h,S,u,a),null),u},useId:function(){var o=Xn(),a=Ot.identifierPrefix;if(ft){var u=cs,h=ls;u=(h&~(1<<32-Gt(h)-1)).toString(32)+u,a=""+a+"R"+u,u=qf++,0<u&&(a+="H"+u.toString(32)),a+=""}else u=KR++,a=""+a+"r"+u.toString(32)+"";return o.memoizedState=a},useHostTransitionStatus:hy,useFormState:pS,useActionState:pS,useOptimistic:function(o){var a=Xn();a.memoizedState=a.baseState=o;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=py.bind(null,Ye,!0,u),u.dispatch=a,[o,a]},useMemoCache:sy,useCacheRefresh:function(){return Xn().memoizedState=ZR.bind(null,Ye)}},PS={readContext:kn,use:Wf,useCallback:CS,useContext:kn,useEffect:wS,useImperativeHandle:TS,useInsertionEffect:SS,useLayoutEffect:xS,useMemo:kS,useReducer:Gf,useRef:vS,useState:function(){return Gf(fs)},useDebugValue:uy,useDeferredValue:function(o,a){var u=Xt();return AS(u,xt.memoizedState,o,a)},useTransition:function(){var o=Gf(fs)[0],a=Xt().memoizedState;return[typeof o=="boolean"?o:Eu(o),a]},useSyncExternalStore:nS,useId:_S,useHostTransitionStatus:hy,useFormState:mS,useActionState:mS,useOptimistic:function(o,a){var u=Xt();return lS(u,xt,o,a)},useMemoCache:sy,useCacheRefresh:RS},t4={readContext:kn,use:Wf,useCallback:CS,useContext:kn,useEffect:wS,useImperativeHandle:TS,useInsertionEffect:SS,useLayoutEffect:xS,useMemo:kS,useReducer:ay,useRef:vS,useState:function(){return ay(fs)},useDebugValue:uy,useDeferredValue:function(o,a){var u=Xt();return xt===null?dy(u,o,a):AS(u,xt.memoizedState,o,a)},useTransition:function(){var o=ay(fs)[0],a=Xt().memoizedState;return[typeof o=="boolean"?o:Eu(o),a]},useSyncExternalStore:nS,useId:_S,useHostTransitionStatus:hy,useFormState:yS,useActionState:yS,useOptimistic:function(o,a){var u=Xt();return xt!==null?lS(u,xt,o,a):(u.baseState=o,[o,u.queue.dispatch])},useMemoCache:sy,useCacheRefresh:RS},Wl=null,ku=0;function Qf(o){var a=ku;return ku+=1,Wl===null&&(Wl=[]),Kw(Wl,o,a)}function Au(o,a){a=a.props.ref,o.ref=a!==void 0?a:null}function Zf(o,a){throw a.$$typeof===m?Error(r(525)):(o=Object.prototype.toString.call(a),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o)))}function zS(o){var a=o._init;return a(o._payload)}function US(o){function a(Y,K){if(o){var Q=Y.deletions;Q===null?(Y.deletions=[K],Y.flags|=16):Q.push(K)}}function u(Y,K){if(!o)return null;for(;K!==null;)a(Y,K),K=K.sibling;return null}function h(Y){for(var K=new Map;Y!==null;)Y.key!==null?K.set(Y.key,Y):K.set(Y.index,Y),Y=Y.sibling;return K}function y(Y,K){return Y=as(Y,K),Y.index=0,Y.sibling=null,Y}function S(Y,K,Q){return Y.index=Q,o?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<K?(Y.flags|=67108866,K):Q):(Y.flags|=67108866,K)):(Y.flags|=1048576,K)}function N(Y){return o&&Y.alternate===null&&(Y.flags|=67108866),Y}function z(Y,K,Q,ae){return K===null||K.tag!==6?(K=jg(Q,Y.mode,ae),K.return=Y,K):(K=y(K,Q),K.return=Y,K)}function F(Y,K,Q,ae){var Te=Q.type;return Te===x?se(Y,K,Q.props.children,ae,Q.key):K!==null&&(K.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===O&&zS(Te)===K.type)?(K=y(K,Q.props),Au(K,Q),K.return=Y,K):(K=jf(Q.type,Q.key,Q.props,null,Y.mode,ae),Au(K,Q),K.return=Y,K)}function Z(Y,K,Q,ae){return K===null||K.tag!==4||K.stateNode.containerInfo!==Q.containerInfo||K.stateNode.implementation!==Q.implementation?(K=Lg(Q,Y.mode,ae),K.return=Y,K):(K=y(K,Q.children||[]),K.return=Y,K)}function se(Y,K,Q,ae,Te){return K===null||K.tag!==7?(K=Aa(Q,Y.mode,ae,Te),K.return=Y,K):(K=y(K,Q),K.return=Y,K)}function le(Y,K,Q){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=jg(""+K,Y.mode,Q),K.return=Y,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case v:return Q=jf(K.type,K.key,K.props,null,Y.mode,Q),Au(Q,K),Q.return=Y,Q;case w:return K=Lg(K,Y.mode,Q),K.return=Y,K;case O:var ae=K._init;return K=ae(K._payload),le(Y,K,Q)}if(me(K)||$(K))return K=Aa(K,Y.mode,Q,null),K.return=Y,K;if(typeof K.then=="function")return le(Y,Qf(K),Q);if(K.$$typeof===L)return le(Y,Uf(Y,K),Q);Zf(Y,K)}return null}function te(Y,K,Q,ae){var Te=K!==null?K.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Te!==null?null:z(Y,K,""+Q,ae);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:return Q.key===Te?F(Y,K,Q,ae):null;case w:return Q.key===Te?Z(Y,K,Q,ae):null;case O:return Te=Q._init,Q=Te(Q._payload),te(Y,K,Q,ae)}if(me(Q)||$(Q))return Te!==null?null:se(Y,K,Q,ae,null);if(typeof Q.then=="function")return te(Y,K,Qf(Q),ae);if(Q.$$typeof===L)return te(Y,K,Uf(Y,Q),ae);Zf(Y,Q)}return null}function ne(Y,K,Q,ae,Te){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Y=Y.get(Q)||null,z(K,Y,""+ae,Te);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case v:return Y=Y.get(ae.key===null?Q:ae.key)||null,F(K,Y,ae,Te);case w:return Y=Y.get(ae.key===null?Q:ae.key)||null,Z(K,Y,ae,Te);case O:var Xe=ae._init;return ae=Xe(ae._payload),ne(Y,K,Q,ae,Te)}if(me(ae)||$(ae))return Y=Y.get(Q)||null,se(K,Y,ae,Te,null);if(typeof ae.then=="function")return ne(Y,K,Q,Qf(ae),Te);if(ae.$$typeof===L)return ne(Y,K,Q,Uf(K,ae),Te);Zf(K,ae)}return null}function He(Y,K,Q,ae){for(var Te=null,Xe=null,_e=K,Ue=K=0,fn=null;_e!==null&&Ue<Q.length;Ue++){_e.index>Ue?(fn=_e,_e=null):fn=_e.sibling;var at=te(Y,_e,Q[Ue],ae);if(at===null){_e===null&&(_e=fn);break}o&&_e&&at.alternate===null&&a(Y,_e),K=S(at,K,Ue),Xe===null?Te=at:Xe.sibling=at,Xe=at,_e=fn}if(Ue===Q.length)return u(Y,_e),ft&&Ma(Y,Ue),Te;if(_e===null){for(;Ue<Q.length;Ue++)_e=le(Y,Q[Ue],ae),_e!==null&&(K=S(_e,K,Ue),Xe===null?Te=_e:Xe.sibling=_e,Xe=_e);return ft&&Ma(Y,Ue),Te}for(_e=h(_e);Ue<Q.length;Ue++)fn=ne(_e,Y,Ue,Q[Ue],ae),fn!==null&&(o&&fn.alternate!==null&&_e.delete(fn.key===null?Ue:fn.key),K=S(fn,K,Ue),Xe===null?Te=fn:Xe.sibling=fn,Xe=fn);return o&&_e.forEach(function(To){return a(Y,To)}),ft&&Ma(Y,Ue),Te}function Pe(Y,K,Q,ae){if(Q==null)throw Error(r(151));for(var Te=null,Xe=null,_e=K,Ue=K=0,fn=null,at=Q.next();_e!==null&&!at.done;Ue++,at=Q.next()){_e.index>Ue?(fn=_e,_e=null):fn=_e.sibling;var To=te(Y,_e,at.value,ae);if(To===null){_e===null&&(_e=fn);break}o&&_e&&To.alternate===null&&a(Y,_e),K=S(To,K,Ue),Xe===null?Te=To:Xe.sibling=To,Xe=To,_e=fn}if(at.done)return u(Y,_e),ft&&Ma(Y,Ue),Te;if(_e===null){for(;!at.done;Ue++,at=Q.next())at=le(Y,at.value,ae),at!==null&&(K=S(at,K,Ue),Xe===null?Te=at:Xe.sibling=at,Xe=at);return ft&&Ma(Y,Ue),Te}for(_e=h(_e);!at.done;Ue++,at=Q.next())at=ne(_e,Y,Ue,at.value,ae),at!==null&&(o&&at.alternate!==null&&_e.delete(at.key===null?Ue:at.key),K=S(at,K,Ue),Xe===null?Te=at:Xe.sibling=at,Xe=at);return o&&_e.forEach(function(nD){return a(Y,nD)}),ft&&Ma(Y,Ue),Te}function Tt(Y,K,Q,ae){if(typeof Q=="object"&&Q!==null&&Q.type===x&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:e:{for(var Te=Q.key;K!==null;){if(K.key===Te){if(Te=Q.type,Te===x){if(K.tag===7){u(Y,K.sibling),ae=y(K,Q.props.children),ae.return=Y,Y=ae;break e}}else if(K.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===O&&zS(Te)===K.type){u(Y,K.sibling),ae=y(K,Q.props),Au(ae,Q),ae.return=Y,Y=ae;break e}u(Y,K);break}else a(Y,K);K=K.sibling}Q.type===x?(ae=Aa(Q.props.children,Y.mode,ae,Q.key),ae.return=Y,Y=ae):(ae=jf(Q.type,Q.key,Q.props,null,Y.mode,ae),Au(ae,Q),ae.return=Y,Y=ae)}return N(Y);case w:e:{for(Te=Q.key;K!==null;){if(K.key===Te)if(K.tag===4&&K.stateNode.containerInfo===Q.containerInfo&&K.stateNode.implementation===Q.implementation){u(Y,K.sibling),ae=y(K,Q.children||[]),ae.return=Y,Y=ae;break e}else{u(Y,K);break}else a(Y,K);K=K.sibling}ae=Lg(Q,Y.mode,ae),ae.return=Y,Y=ae}return N(Y);case O:return Te=Q._init,Q=Te(Q._payload),Tt(Y,K,Q,ae)}if(me(Q))return He(Y,K,Q,ae);if($(Q)){if(Te=$(Q),typeof Te!="function")throw Error(r(150));return Q=Te.call(Q),Pe(Y,K,Q,ae)}if(typeof Q.then=="function")return Tt(Y,K,Qf(Q),ae);if(Q.$$typeof===L)return Tt(Y,K,Uf(Y,Q),ae);Zf(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,K!==null&&K.tag===6?(u(Y,K.sibling),ae=y(K,Q),ae.return=Y,Y=ae):(u(Y,K),ae=jg(Q,Y.mode,ae),ae.return=Y,Y=ae),N(Y)):u(Y,K)}return function(Y,K,Q,ae){try{ku=0;var Te=Tt(Y,K,Q,ae);return Wl=null,Te}catch(_e){if(_e===yu||_e===Hf)throw _e;var Xe=cr(29,_e,null,Y.mode);return Xe.lanes=ae,Xe.return=Y,Xe}finally{}}}var Gl=US(!0),BS=US(!1),Lr=ie(null),Ai=null;function lo(o){var a=o.alternate;de(rn,rn.current&1),de(Lr,o),Ai===null&&(a===null||Vl.current!==null||a.memoizedState!==null)&&(Ai=o)}function HS(o){if(o.tag===22){if(de(rn,rn.current),de(Lr,o),Ai===null){var a=o.alternate;a!==null&&a.memoizedState!==null&&(Ai=o)}}else co()}function co(){de(rn,rn.current),de(Lr,Lr.current)}function hs(o){he(Lr),Ai===o&&(Ai=null),he(rn)}var rn=ie(0);function eh(o){for(var a=o;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||i0(u)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function my(o,a,u,h){a=o.memoizedState,u=u(h,a),u=u==null?a:p({},a,u),o.memoizedState=u,o.lanes===0&&(o.updateQueue.baseState=u)}var gy={enqueueSetState:function(o,a,u){o=o._reactInternals;var h=hr(),y=so(h);y.payload=a,u!=null&&(y.callback=u),a=oo(o,y,h),a!==null&&(pr(a,o,h),bu(a,o,h))},enqueueReplaceState:function(o,a,u){o=o._reactInternals;var h=hr(),y=so(h);y.tag=1,y.payload=a,u!=null&&(y.callback=u),a=oo(o,y,h),a!==null&&(pr(a,o,h),bu(a,o,h))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var u=hr(),h=so(u);h.tag=2,a!=null&&(h.callback=a),a=oo(o,h,u),a!==null&&(pr(a,o,u),bu(a,o,u))}};function VS(o,a,u,h,y,S,N){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(h,S,N):a.prototype&&a.prototype.isPureReactComponent?!cu(u,h)||!cu(y,S):!0}function $S(o,a,u,h){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,h),a.state!==o&&gy.enqueueReplaceState(a,a.state,null)}function La(o,a){var u=a;if("ref"in a){u={};for(var h in a)h!=="ref"&&(u[h]=a[h])}if(o=o.defaultProps){u===a&&(u=p({},u));for(var y in o)u[y]===void 0&&(u[y]=o[y])}return u}var th=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function FS(o){th(o)}function qS(o){console.error(o)}function WS(o){th(o)}function nh(o,a){try{var u=o.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function GS(o,a,u){try{var h=o.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function yy(o,a,u){return u=so(u),u.tag=3,u.payload={element:null},u.callback=function(){nh(o,a)},u}function KS(o){return o=so(o),o.tag=3,o}function YS(o,a,u,h){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var S=h.value;o.payload=function(){return y(S)},o.callback=function(){GS(a,u,h)}}var N=u.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(o.callback=function(){GS(a,u,h),typeof y!="function"&&(go===null?go=new Set([this]):go.add(this));var z=h.stack;this.componentDidCatch(h.value,{componentStack:z!==null?z:""})})}function n4(o,a,u,h,y){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=u.alternate,a!==null&&pu(a,u,y,!0),u=Lr.current,u!==null){switch(u.tag){case 13:return Ai===null?Hy():u.alternate===null&&Ht===0&&(Ht=3),u.flags&=-257,u.flags|=65536,u.lanes=y,h===Wg?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([h]):a.add(h),$y(o,h,y)),!1;case 22:return u.flags|=65536,h===Wg?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([h]):u.add(h)),$y(o,h,y)),!1}throw Error(r(435,u.tag))}return $y(o,h,y),Hy(),!1}if(ft)return a=Lr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,h!==Ug&&(o=Error(r(422),{cause:h}),hu(Rr(o,u)))):(h!==Ug&&(a=Error(r(423),{cause:h}),hu(Rr(a,u))),o=o.current.alternate,o.flags|=65536,y&=-y,o.lanes|=y,h=Rr(h,u),y=yy(o.stateNode,h,y),Yg(o,y),Ht!==4&&(Ht=2)),!1;var S=Error(r(520),{cause:h});if(S=Rr(S,u),Iu===null?Iu=[S]:Iu.push(S),Ht!==4&&(Ht=2),a===null)return!0;h=Rr(h,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,o=y&-y,u.lanes|=o,o=yy(u.stateNode,h,o),Yg(u,o),!1;case 1:if(a=u.type,S=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(go===null||!go.has(S))))return u.flags|=65536,y&=-y,u.lanes|=y,y=KS(y),YS(y,o,u,h),Yg(u,y),!1}u=u.return}while(u!==null);return!1}var XS=Error(r(461)),un=!1;function vn(o,a,u,h){a.child=o===null?BS(a,null,u,h):Gl(a,o.child,u,h)}function JS(o,a,u,h,y){u=u.render;var S=a.ref;if("ref"in h){var N={};for(var z in h)z!=="ref"&&(N[z]=h[z])}else N=h;return Da(a),h=ey(o,a,u,N,S,y),z=ty(),o!==null&&!un?(ny(o,a,y),ps(o,a,y)):(ft&&z&&Pg(a),a.flags|=1,vn(o,a,h,y),a.child)}function QS(o,a,u,h,y){if(o===null){var S=u.type;return typeof S=="function"&&!Ig(S)&&S.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=S,ZS(o,a,S,h,y)):(o=jf(u.type,null,h,a,a.mode,y),o.ref=a.ref,o.return=a,a.child=o)}if(S=o.child,!Cy(o,y)){var N=S.memoizedProps;if(u=u.compare,u=u!==null?u:cu,u(N,h)&&o.ref===a.ref)return ps(o,a,y)}return a.flags|=1,o=as(S,h),o.ref=a.ref,o.return=a,a.child=o}function ZS(o,a,u,h,y){if(o!==null){var S=o.memoizedProps;if(cu(S,h)&&o.ref===a.ref)if(un=!1,a.pendingProps=h=S,Cy(o,y))(o.flags&131072)!==0&&(un=!0);else return a.lanes=o.lanes,ps(o,a,y)}return vy(o,a,u,h,y)}function ex(o,a,u){var h=a.pendingProps,y=h.children,S=o!==null?o.memoizedState:null;if(h.mode==="hidden"){if((a.flags&128)!==0){if(h=S!==null?S.baseLanes|u:u,o!==null){for(y=a.child=o.child,S=0;y!==null;)S=S|y.lanes|y.childLanes,y=y.sibling;a.childLanes=S&~h}else a.childLanes=0,a.child=null;return tx(o,a,h,u)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},o!==null&&Bf(a,S!==null?S.cachePool:null),S!==null?Zw(a,S):Jg(),HS(a);else return a.lanes=a.childLanes=536870912,tx(o,a,S!==null?S.baseLanes|u:u,u)}else S!==null?(Bf(a,S.cachePool),Zw(a,S),co(),a.memoizedState=null):(o!==null&&Bf(a,null),Jg(),co());return vn(o,a,y,u),a.child}function tx(o,a,u,h){var y=qg();return y=y===null?null:{parent:nn._currentValue,pool:y},a.memoizedState={baseLanes:u,cachePool:y},o!==null&&Bf(a,null),Jg(),HS(a),o!==null&&pu(o,a,h,!0),null}function rh(o,a){var u=a.ref;if(u===null)o!==null&&o.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(o===null||o.ref!==u)&&(a.flags|=4194816)}}function vy(o,a,u,h,y){return Da(a),u=ey(o,a,u,h,void 0,y),h=ty(),o!==null&&!un?(ny(o,a,y),ps(o,a,y)):(ft&&h&&Pg(a),a.flags|=1,vn(o,a,u,y),a.child)}function nx(o,a,u,h,y,S){return Da(a),a.updateQueue=null,u=tS(a,h,u,y),eS(o),h=ty(),o!==null&&!un?(ny(o,a,S),ps(o,a,S)):(ft&&h&&Pg(a),a.flags|=1,vn(o,a,u,S),a.child)}function rx(o,a,u,h,y){if(Da(a),a.stateNode===null){var S=Pl,N=u.contextType;typeof N=="object"&&N!==null&&(S=kn(N)),S=new u(h,S),a.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=gy,a.stateNode=S,S._reactInternals=a,S=a.stateNode,S.props=h,S.state=a.memoizedState,S.refs={},Gg(a),N=u.contextType,S.context=typeof N=="object"&&N!==null?kn(N):Pl,S.state=a.memoizedState,N=u.getDerivedStateFromProps,typeof N=="function"&&(my(a,u,N,h),S.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(N=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),N!==S.state&&gy.enqueueReplaceState(S,S.state,null),Su(a,h,S,y),wu(),S.state=a.memoizedState),typeof S.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(o===null){S=a.stateNode;var z=a.memoizedProps,F=La(u,z);S.props=F;var Z=S.context,se=u.contextType;N=Pl,typeof se=="object"&&se!==null&&(N=kn(se));var le=u.getDerivedStateFromProps;se=typeof le=="function"||typeof S.getSnapshotBeforeUpdate=="function",z=a.pendingProps!==z,se||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(z||Z!==N)&&$S(a,S,h,N),io=!1;var te=a.memoizedState;S.state=te,Su(a,h,S,y),wu(),Z=a.memoizedState,z||te!==Z||io?(typeof le=="function"&&(my(a,u,le,h),Z=a.memoizedState),(F=io||VS(a,u,F,h,te,Z,N))?(se||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(a.flags|=4194308)):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=Z),S.props=h,S.state=Z,S.context=N,h=F):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{S=a.stateNode,Kg(o,a),N=a.memoizedProps,se=La(u,N),S.props=se,le=a.pendingProps,te=S.context,Z=u.contextType,F=Pl,typeof Z=="object"&&Z!==null&&(F=kn(Z)),z=u.getDerivedStateFromProps,(Z=typeof z=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(N!==le||te!==F)&&$S(a,S,h,F),io=!1,te=a.memoizedState,S.state=te,Su(a,h,S,y),wu();var ne=a.memoizedState;N!==le||te!==ne||io||o!==null&&o.dependencies!==null&&zf(o.dependencies)?(typeof z=="function"&&(my(a,u,z,h),ne=a.memoizedState),(se=io||VS(a,u,se,h,te,ne,F)||o!==null&&o.dependencies!==null&&zf(o.dependencies))?(Z||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,ne,F),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,ne,F)),typeof S.componentDidUpdate=="function"&&(a.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof S.componentDidUpdate!="function"||N===o.memoizedProps&&te===o.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===o.memoizedProps&&te===o.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=ne),S.props=h,S.state=ne,S.context=F,h=se):(typeof S.componentDidUpdate!="function"||N===o.memoizedProps&&te===o.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===o.memoizedProps&&te===o.memoizedState||(a.flags|=1024),h=!1)}return S=h,rh(o,a),h=(a.flags&128)!==0,S||h?(S=a.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:S.render(),a.flags|=1,o!==null&&h?(a.child=Gl(a,o.child,null,y),a.child=Gl(a,null,u,y)):vn(o,a,u,y),a.memoizedState=S.state,o=a.child):o=ps(o,a,y),o}function ix(o,a,u,h){return fu(),a.flags|=256,vn(o,a,u,h),a.child}var by={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wy(o){return{baseLanes:o,cachePool:qw()}}function Sy(o,a,u){return o=o!==null?o.childLanes&~u:0,a&&(o|=Pr),o}function sx(o,a,u){var h=a.pendingProps,y=!1,S=(a.flags&128)!==0,N;if((N=S)||(N=o!==null&&o.memoizedState===null?!1:(rn.current&2)!==0),N&&(y=!0,a.flags&=-129),N=(a.flags&32)!==0,a.flags&=-33,o===null){if(ft){if(y?lo(a):co(),ft){var z=Bt,F;if(F=z){e:{for(F=z,z=ki;F.nodeType!==8;){if(!z){z=null;break e}if(F=ti(F.nextSibling),F===null){z=null;break e}}z=F}z!==null?(a.memoizedState={dehydrated:z,treeContext:Na!==null?{id:ls,overflow:cs}:null,retryLane:536870912,hydrationErrors:null},F=cr(18,null,null,0),F.stateNode=z,F.return=a,a.child=F,Pn=a,Bt=null,F=!0):F=!1}F||_a(a)}if(z=a.memoizedState,z!==null&&(z=z.dehydrated,z!==null))return i0(z)?a.lanes=32:a.lanes=536870912,null;hs(a)}return z=h.children,h=h.fallback,y?(co(),y=a.mode,z=ih({mode:"hidden",children:z},y),h=Aa(h,y,u,null),z.return=a,h.return=a,z.sibling=h,a.child=z,y=a.child,y.memoizedState=wy(u),y.childLanes=Sy(o,N,u),a.memoizedState=by,h):(lo(a),xy(a,z))}if(F=o.memoizedState,F!==null&&(z=F.dehydrated,z!==null)){if(S)a.flags&256?(lo(a),a.flags&=-257,a=Ey(o,a,u)):a.memoizedState!==null?(co(),a.child=o.child,a.flags|=128,a=null):(co(),y=h.fallback,z=a.mode,h=ih({mode:"visible",children:h.children},z),y=Aa(y,z,u,null),y.flags|=2,h.return=a,y.return=a,h.sibling=y,a.child=h,Gl(a,o.child,null,u),h=a.child,h.memoizedState=wy(u),h.childLanes=Sy(o,N,u),a.memoizedState=by,a=y);else if(lo(a),i0(z)){if(N=z.nextSibling&&z.nextSibling.dataset,N)var Z=N.dgst;N=Z,h=Error(r(419)),h.stack="",h.digest=N,hu({value:h,source:null,stack:null}),a=Ey(o,a,u)}else if(un||pu(o,a,u,!1),N=(u&o.childLanes)!==0,un||N){if(N=Ot,N!==null&&(h=u&-u,h=(h&42)!==0?1:Ji(h),h=(h&(N.suspendedLanes|u))!==0?0:h,h!==0&&h!==F.retryLane))throw F.retryLane=h,Ll(o,h),pr(N,o,h),XS;z.data==="$?"||Hy(),a=Ey(o,a,u)}else z.data==="$?"?(a.flags|=192,a.child=o.child,a=null):(o=F.treeContext,Bt=ti(z.nextSibling),Pn=a,ft=!0,Oa=null,ki=!1,o!==null&&(Ir[jr++]=ls,Ir[jr++]=cs,Ir[jr++]=Na,ls=o.id,cs=o.overflow,Na=a),a=xy(a,h.children),a.flags|=4096);return a}return y?(co(),y=h.fallback,z=a.mode,F=o.child,Z=F.sibling,h=as(F,{mode:"hidden",children:h.children}),h.subtreeFlags=F.subtreeFlags&65011712,Z!==null?y=as(Z,y):(y=Aa(y,z,u,null),y.flags|=2),y.return=a,h.return=a,h.sibling=y,a.child=h,h=y,y=a.child,z=o.child.memoizedState,z===null?z=wy(u):(F=z.cachePool,F!==null?(Z=nn._currentValue,F=F.parent!==Z?{parent:Z,pool:Z}:F):F=qw(),z={baseLanes:z.baseLanes|u,cachePool:F}),y.memoizedState=z,y.childLanes=Sy(o,N,u),a.memoizedState=by,h):(lo(a),u=o.child,o=u.sibling,u=as(u,{mode:"visible",children:h.children}),u.return=a,u.sibling=null,o!==null&&(N=a.deletions,N===null?(a.deletions=[o],a.flags|=16):N.push(o)),a.child=u,a.memoizedState=null,u)}function xy(o,a){return a=ih({mode:"visible",children:a},o.mode),a.return=o,o.child=a}function ih(o,a){return o=cr(22,o,null,a),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function Ey(o,a,u){return Gl(a,o.child,null,u),o=xy(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function ox(o,a,u){o.lanes|=a;var h=o.alternate;h!==null&&(h.lanes|=a),Hg(o.return,a,u)}function Ty(o,a,u,h,y){var S=o.memoizedState;S===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:y}:(S.isBackwards=a,S.rendering=null,S.renderingStartTime=0,S.last=h,S.tail=u,S.tailMode=y)}function ax(o,a,u){var h=a.pendingProps,y=h.revealOrder,S=h.tail;if(vn(o,a,h.children,u),h=rn.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&ox(o,u,a);else if(o.tag===19)ox(o,u,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}h&=1}switch(de(rn,h),y){case"forwards":for(u=a.child,y=null;u!==null;)o=u.alternate,o!==null&&eh(o)===null&&(y=u),u=u.sibling;u=y,u===null?(y=a.child,a.child=null):(y=u.sibling,u.sibling=null),Ty(a,!1,y,u,S);break;case"backwards":for(u=null,y=a.child,a.child=null;y!==null;){if(o=y.alternate,o!==null&&eh(o)===null){a.child=y;break}o=y.sibling,y.sibling=u,u=y,y=o}Ty(a,!0,u,null,S);break;case"together":Ty(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ps(o,a,u){if(o!==null&&(a.dependencies=o.dependencies),mo|=a.lanes,(u&a.childLanes)===0)if(o!==null){if(pu(o,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(o!==null&&a.child!==o.child)throw Error(r(153));if(a.child!==null){for(o=a.child,u=as(o,o.pendingProps),a.child=u,u.return=a;o.sibling!==null;)o=o.sibling,u=u.sibling=as(o,o.pendingProps),u.return=a;u.sibling=null}return a.child}function Cy(o,a){return(o.lanes&a)!==0?!0:(o=o.dependencies,!!(o!==null&&zf(o)))}function r4(o,a,u){switch(a.tag){case 3:lt(a,a.stateNode.containerInfo),ro(a,nn,o.memoizedState.cache),fu();break;case 27:case 5:Ct(a);break;case 4:lt(a,a.stateNode.containerInfo);break;case 10:ro(a,a.type,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(lo(a),a.flags|=128,null):(u&a.child.childLanes)!==0?sx(o,a,u):(lo(a),o=ps(o,a,u),o!==null?o.sibling:null);lo(a);break;case 19:var y=(o.flags&128)!==0;if(h=(u&a.childLanes)!==0,h||(pu(o,a,u,!1),h=(u&a.childLanes)!==0),y){if(h)return ax(o,a,u);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),de(rn,rn.current),h)break;return null;case 22:case 23:return a.lanes=0,ex(o,a,u);case 24:ro(a,nn,o.memoizedState.cache)}return ps(o,a,u)}function lx(o,a,u){if(o!==null)if(o.memoizedProps!==a.pendingProps)un=!0;else{if(!Cy(o,u)&&(a.flags&128)===0)return un=!1,r4(o,a,u);un=(o.flags&131072)!==0}else un=!1,ft&&(a.flags&1048576)!==0&&zw(a,Pf,a.index);switch(a.lanes=0,a.tag){case 16:e:{o=a.pendingProps;var h=a.elementType,y=h._init;if(h=y(h._payload),a.type=h,typeof h=="function")Ig(h)?(o=La(h,o),a.tag=1,a=rx(null,a,h,o,u)):(a.tag=0,a=vy(null,a,h,o,u));else{if(h!=null){if(y=h.$$typeof,y===U){a.tag=11,a=JS(null,a,h,o,u);break e}else if(y===R){a.tag=14,a=QS(null,a,h,o,u);break e}}throw a=ye(h)||h,Error(r(306,a,""))}}return a;case 0:return vy(o,a,a.type,a.pendingProps,u);case 1:return h=a.type,y=La(h,a.pendingProps),rx(o,a,h,y,u);case 3:e:{if(lt(a,a.stateNode.containerInfo),o===null)throw Error(r(387));h=a.pendingProps;var S=a.memoizedState;y=S.element,Kg(o,a),Su(a,h,null,u);var N=a.memoizedState;if(h=N.cache,ro(a,nn,h),h!==S.cache&&Vg(a,[nn],u,!0),wu(),h=N.element,S.isDehydrated)if(S={element:h,isDehydrated:!1,cache:N.cache},a.updateQueue.baseState=S,a.memoizedState=S,a.flags&256){a=ix(o,a,h,u);break e}else if(h!==y){y=Rr(Error(r(424)),a),hu(y),a=ix(o,a,h,u);break e}else{switch(o=a.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Bt=ti(o.firstChild),Pn=a,ft=!0,Oa=null,ki=!0,u=BS(a,null,h,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(fu(),h===y){a=ps(o,a,u);break e}vn(o,a,h,u)}a=a.child}return a;case 26:return rh(o,a),o===null?(u=f2(a.type,null,a.pendingProps,null))?a.memoizedState=u:ft||(u=a.type,o=a.pendingProps,h=vh(je.current).createElement(u),h[ue]=a,h[pe]=o,wn(h,u,o),Fe(h),a.stateNode=h):a.memoizedState=f2(a.type,o.memoizedProps,a.pendingProps,o.memoizedState),null;case 27:return Ct(a),o===null&&ft&&(h=a.stateNode=c2(a.type,a.pendingProps,je.current),Pn=a,ki=!0,y=Bt,bo(a.type)?(s0=y,Bt=ti(h.firstChild)):Bt=y),vn(o,a,a.pendingProps.children,u),rh(o,a),o===null&&(a.flags|=4194304),a.child;case 5:return o===null&&ft&&((y=h=Bt)&&(h=_4(h,a.type,a.pendingProps,ki),h!==null?(a.stateNode=h,Pn=a,Bt=ti(h.firstChild),ki=!1,y=!0):y=!1),y||_a(a)),Ct(a),y=a.type,S=a.pendingProps,N=o!==null?o.memoizedProps:null,h=S.children,t0(y,S)?h=null:N!==null&&t0(y,N)&&(a.flags|=32),a.memoizedState!==null&&(y=ey(o,a,YR,null,null,u),$u._currentValue=y),rh(o,a),vn(o,a,h,u),a.child;case 6:return o===null&&ft&&((o=u=Bt)&&(u=R4(u,a.pendingProps,ki),u!==null?(a.stateNode=u,Pn=a,Bt=null,o=!0):o=!1),o||_a(a)),null;case 13:return sx(o,a,u);case 4:return lt(a,a.stateNode.containerInfo),h=a.pendingProps,o===null?a.child=Gl(a,null,h,u):vn(o,a,h,u),a.child;case 11:return JS(o,a,a.type,a.pendingProps,u);case 7:return vn(o,a,a.pendingProps,u),a.child;case 8:return vn(o,a,a.pendingProps.children,u),a.child;case 12:return vn(o,a,a.pendingProps.children,u),a.child;case 10:return h=a.pendingProps,ro(a,a.type,h.value),vn(o,a,h.children,u),a.child;case 9:return y=a.type._context,h=a.pendingProps.children,Da(a),y=kn(y),h=h(y),a.flags|=1,vn(o,a,h,u),a.child;case 14:return QS(o,a,a.type,a.pendingProps,u);case 15:return ZS(o,a,a.type,a.pendingProps,u);case 19:return ax(o,a,u);case 31:return h=a.pendingProps,u=a.mode,h={mode:h.mode,children:h.children},o===null?(u=ih(h,u),u.ref=a.ref,a.child=u,u.return=a,a=u):(u=as(o.child,h),u.ref=a.ref,a.child=u,u.return=a,a=u),a;case 22:return ex(o,a,u);case 24:return Da(a),h=kn(nn),o===null?(y=qg(),y===null&&(y=Ot,S=$g(),y.pooledCache=S,S.refCount++,S!==null&&(y.pooledCacheLanes|=u),y=S),a.memoizedState={parent:h,cache:y},Gg(a),ro(a,nn,y)):((o.lanes&u)!==0&&(Kg(o,a),Su(a,null,null,u),wu()),y=o.memoizedState,S=a.memoizedState,y.parent!==h?(y={parent:h,cache:h},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),ro(a,nn,h)):(h=S.cache,ro(a,nn,h),h!==y.cache&&Vg(a,[nn],u,!0))),vn(o,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function ms(o){o.flags|=4}function cx(o,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!y2(a)){if(a=Lr.current,a!==null&&((rt&4194048)===rt?Ai!==null:(rt&62914560)!==rt&&(rt&536870912)===0||a!==Ai))throw vu=Wg,Ww;o.flags|=8192}}function sh(o,a){a!==null&&(o.flags|=4),o.flags&16384&&(a=o.tag!==22?El():536870912,o.lanes|=a,Jl|=a)}function Nu(o,a){if(!ft)switch(o.tailMode){case"hidden":a=o.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?o.tail=null:u.sibling=null;break;case"collapsed":u=o.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:h.sibling=null}}function Pt(o){var a=o.alternate!==null&&o.alternate.child===o.child,u=0,h=0;if(a)for(var y=o.child;y!==null;)u|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)u|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=h,o.childLanes=u,a}function i4(o,a,u){var h=a.pendingProps;switch(zg(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(a),null;case 1:return Pt(a),null;case 3:return u=a.stateNode,h=null,o!==null&&(h=o.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),ds(nn),Fn(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(o===null||o.child===null)&&(du(a)?ms(a):o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Hw())),Pt(a),null;case 26:return u=a.memoizedState,o===null?(ms(a),u!==null?(Pt(a),cx(a,u)):(Pt(a),a.flags&=-16777217)):u?u!==o.memoizedState?(ms(a),Pt(a),cx(a,u)):(Pt(a),a.flags&=-16777217):(o.memoizedProps!==h&&ms(a),Pt(a),a.flags&=-16777217),null;case 27:sn(a),u=je.current;var y=a.type;if(o!==null&&a.stateNode!=null)o.memoizedProps!==h&&ms(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return Pt(a),null}o=xe.current,du(a)?Uw(a):(o=c2(y,h,u),a.stateNode=o,ms(a))}return Pt(a),null;case 5:if(sn(a),u=a.type,o!==null&&a.stateNode!=null)o.memoizedProps!==h&&ms(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return Pt(a),null}if(o=xe.current,du(a))Uw(a);else{switch(y=vh(je.current),o){case 1:o=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:o=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":o=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":o=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":o=y.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof h.is=="string"?y.createElement("select",{is:h.is}):y.createElement("select"),h.multiple?o.multiple=!0:h.size&&(o.size=h.size);break;default:o=typeof h.is=="string"?y.createElement(u,{is:h.is}):y.createElement(u)}}o[ue]=a,o[pe]=h;e:for(y=a.child;y!==null;){if(y.tag===5||y.tag===6)o.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===a)break e;for(;y.sibling===null;){if(y.return===null||y.return===a)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}a.stateNode=o;e:switch(wn(o,u,h),u){case"button":case"input":case"select":case"textarea":o=!!h.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ms(a)}}return Pt(a),a.flags&=-16777217,null;case 6:if(o&&a.stateNode!=null)o.memoizedProps!==h&&ms(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(r(166));if(o=je.current,du(a)){if(o=a.stateNode,u=a.memoizedProps,h=null,y=Pn,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}o[ue]=a,o=!!(o.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||n2(o.nodeValue,u)),o||_a(a)}else o=vh(o).createTextNode(h),o[ue]=a,a.stateNode=o}return Pt(a),null;case 13:if(h=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(y=du(a),h!==null&&h.dehydrated!==null){if(o===null){if(!y)throw Error(r(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[ue]=a}else fu(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Pt(a),y=!1}else y=Hw(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(hs(a),a):(hs(a),null)}if(hs(a),(a.flags&128)!==0)return a.lanes=u,a;if(u=h!==null,o=o!==null&&o.memoizedState!==null,u){h=a.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool);var S=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(S=h.memoizedState.cachePool.pool),S!==y&&(h.flags|=2048)}return u!==o&&u&&(a.child.flags|=8192),sh(a,a.updateQueue),Pt(a),null;case 4:return Fn(),o===null&&Xy(a.stateNode.containerInfo),Pt(a),null;case 10:return ds(a.type),Pt(a),null;case 19:if(he(rn),y=a.memoizedState,y===null)return Pt(a),null;if(h=(a.flags&128)!==0,S=y.rendering,S===null)if(h)Nu(y,!1);else{if(Ht!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(S=eh(o),S!==null){for(a.flags|=128,Nu(y,!1),o=S.updateQueue,a.updateQueue=o,sh(a,o),a.subtreeFlags=0,o=u,u=a.child;u!==null;)Pw(u,o),u=u.sibling;return de(rn,rn.current&1|2),a.child}o=o.sibling}y.tail!==null&&Dn()>lh&&(a.flags|=128,h=!0,Nu(y,!1),a.lanes=4194304)}else{if(!h)if(o=eh(S),o!==null){if(a.flags|=128,h=!0,o=o.updateQueue,a.updateQueue=o,sh(a,o),Nu(y,!0),y.tail===null&&y.tailMode==="hidden"&&!S.alternate&&!ft)return Pt(a),null}else 2*Dn()-y.renderingStartTime>lh&&u!==536870912&&(a.flags|=128,h=!0,Nu(y,!1),a.lanes=4194304);y.isBackwards?(S.sibling=a.child,a.child=S):(o=y.last,o!==null?o.sibling=S:a.child=S,y.last=S)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=Dn(),a.sibling=null,o=rn.current,de(rn,h?o&1|2:o&1),a):(Pt(a),null);case 22:case 23:return hs(a),Qg(),h=a.memoizedState!==null,o!==null?o.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(u&536870912)!==0&&(a.flags&128)===0&&(Pt(a),a.subtreeFlags&6&&(a.flags|=8192)):Pt(a),u=a.updateQueue,u!==null&&sh(a,u.retryQueue),u=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==u&&(a.flags|=2048),o!==null&&he(Ia),null;case 24:return u=null,o!==null&&(u=o.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),ds(nn),Pt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function s4(o,a){switch(zg(a),a.tag){case 1:return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return ds(nn),Fn(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 26:case 27:case 5:return sn(a),null;case 13:if(hs(a),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(r(340));fu()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return he(rn),null;case 4:return Fn(),null;case 10:return ds(a.type),null;case 22:case 23:return hs(a),Qg(),o!==null&&he(Ia),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 24:return ds(nn),null;case 25:return null;default:return null}}function ux(o,a){switch(zg(a),a.tag){case 3:ds(nn),Fn();break;case 26:case 27:case 5:sn(a);break;case 4:Fn();break;case 13:hs(a);break;case 19:he(rn);break;case 10:ds(a.type);break;case 22:case 23:hs(a),Qg(),o!==null&&he(Ia);break;case 24:ds(nn)}}function Mu(o,a){try{var u=a.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var y=h.next;u=y;do{if((u.tag&o)===o){h=void 0;var S=u.create,N=u.inst;h=S(),N.destroy=h}u=u.next}while(u!==y)}}catch(z){kt(a,a.return,z)}}function uo(o,a,u){try{var h=a.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var S=y.next;h=S;do{if((h.tag&o)===o){var N=h.inst,z=N.destroy;if(z!==void 0){N.destroy=void 0,y=a;var F=u,Z=z;try{Z()}catch(se){kt(y,F,se)}}}h=h.next}while(h!==S)}}catch(se){kt(a,a.return,se)}}function dx(o){var a=o.updateQueue;if(a!==null){var u=o.stateNode;try{Qw(a,u)}catch(h){kt(o,o.return,h)}}}function fx(o,a,u){u.props=La(o.type,o.memoizedProps),u.state=o.memoizedState;try{u.componentWillUnmount()}catch(h){kt(o,a,h)}}function Ou(o,a){try{var u=o.ref;if(u!==null){switch(o.tag){case 26:case 27:case 5:var h=o.stateNode;break;case 30:h=o.stateNode;break;default:h=o.stateNode}typeof u=="function"?o.refCleanup=u(h):u.current=h}}catch(y){kt(o,a,y)}}function Ni(o,a){var u=o.ref,h=o.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(y){kt(o,a,y)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){kt(o,a,y)}else u.current=null}function hx(o){var a=o.type,u=o.memoizedProps,h=o.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(y){kt(o,o.return,y)}}function ky(o,a,u){try{var h=o.stateNode;k4(h,o.type,u,a),h[pe]=a}catch(y){kt(o,o.return,y)}}function px(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&bo(o.type)||o.tag===4}function Ay(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||px(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&bo(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Ny(o,a,u){var h=o.tag;if(h===5||h===6)o=o.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(o,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(o),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=yh));else if(h!==4&&(h===27&&bo(o.type)&&(u=o.stateNode,a=null),o=o.child,o!==null))for(Ny(o,a,u),o=o.sibling;o!==null;)Ny(o,a,u),o=o.sibling}function oh(o,a,u){var h=o.tag;if(h===5||h===6)o=o.stateNode,a?u.insertBefore(o,a):u.appendChild(o);else if(h!==4&&(h===27&&bo(o.type)&&(u=o.stateNode),o=o.child,o!==null))for(oh(o,a,u),o=o.sibling;o!==null;)oh(o,a,u),o=o.sibling}function mx(o){var a=o.stateNode,u=o.memoizedProps;try{for(var h=o.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);wn(a,h,u),a[ue]=o,a[pe]=u}catch(S){kt(o,o.return,S)}}var gs=!1,Wt=!1,My=!1,gx=typeof WeakSet=="function"?WeakSet:Set,dn=null;function o4(o,a){if(o=o.containerInfo,Zy=Th,o=Aw(o),Ag(o)){if("selectionStart"in o)var u={start:o.selectionStart,end:o.selectionEnd};else e:{u=(u=o.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var y=h.anchorOffset,S=h.focusNode;h=h.focusOffset;try{u.nodeType,S.nodeType}catch{u=null;break e}var N=0,z=-1,F=-1,Z=0,se=0,le=o,te=null;t:for(;;){for(var ne;le!==u||y!==0&&le.nodeType!==3||(z=N+y),le!==S||h!==0&&le.nodeType!==3||(F=N+h),le.nodeType===3&&(N+=le.nodeValue.length),(ne=le.firstChild)!==null;)te=le,le=ne;for(;;){if(le===o)break t;if(te===u&&++Z===y&&(z=N),te===S&&++se===h&&(F=N),(ne=le.nextSibling)!==null)break;le=te,te=le.parentNode}le=ne}u=z===-1||F===-1?null:{start:z,end:F}}else u=null}u=u||{start:0,end:0}}else u=null;for(e0={focusedElem:o,selectionRange:u},Th=!1,dn=a;dn!==null;)if(a=dn,o=a.child,(a.subtreeFlags&1024)!==0&&o!==null)o.return=a,dn=o;else for(;dn!==null;){switch(a=dn,S=a.alternate,o=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&S!==null){o=void 0,u=a,y=S.memoizedProps,S=S.memoizedState,h=u.stateNode;try{var He=La(u.type,y,u.elementType===u.type);o=h.getSnapshotBeforeUpdate(He,S),h.__reactInternalSnapshotBeforeUpdate=o}catch(Pe){kt(u,u.return,Pe)}}break;case 3:if((o&1024)!==0){if(o=a.stateNode.containerInfo,u=o.nodeType,u===9)r0(o);else if(u===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":r0(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=a.sibling,o!==null){o.return=a.return,dn=o;break}dn=a.return}}function yx(o,a,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:fo(o,u),h&4&&Mu(5,u);break;case 1:if(fo(o,u),h&4)if(o=u.stateNode,a===null)try{o.componentDidMount()}catch(N){kt(u,u.return,N)}else{var y=La(u.type,a.memoizedProps);a=a.memoizedState;try{o.componentDidUpdate(y,a,o.__reactInternalSnapshotBeforeUpdate)}catch(N){kt(u,u.return,N)}}h&64&&dx(u),h&512&&Ou(u,u.return);break;case 3:if(fo(o,u),h&64&&(o=u.updateQueue,o!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{Qw(o,a)}catch(N){kt(u,u.return,N)}}break;case 27:a===null&&h&4&&mx(u);case 26:case 5:fo(o,u),a===null&&h&4&&hx(u),h&512&&Ou(u,u.return);break;case 12:fo(o,u);break;case 13:fo(o,u),h&4&&wx(o,u),h&64&&(o=u.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(u=m4.bind(null,u),D4(o,u))));break;case 22:if(h=u.memoizedState!==null||gs,!h){a=a!==null&&a.memoizedState!==null||Wt,y=gs;var S=Wt;gs=h,(Wt=a)&&!S?ho(o,u,(u.subtreeFlags&8772)!==0):fo(o,u),gs=y,Wt=S}break;case 30:break;default:fo(o,u)}}function vx(o){var a=o.alternate;a!==null&&(o.alternate=null,vx(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&Ee(a)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var jt=null,Jn=!1;function ys(o,a,u){for(u=u.child;u!==null;)bx(o,a,u),u=u.sibling}function bx(o,a,u){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(ct,u)}catch{}switch(u.tag){case 26:Wt||Ni(u,a),ys(o,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Wt||Ni(u,a);var h=jt,y=Jn;bo(u.type)&&(jt=u.stateNode,Jn=!1),ys(o,a,u),Uu(u.stateNode),jt=h,Jn=y;break;case 5:Wt||Ni(u,a);case 6:if(h=jt,y=Jn,jt=null,ys(o,a,u),jt=h,Jn=y,jt!==null)if(Jn)try{(jt.nodeType===9?jt.body:jt.nodeName==="HTML"?jt.ownerDocument.body:jt).removeChild(u.stateNode)}catch(S){kt(u,a,S)}else try{jt.removeChild(u.stateNode)}catch(S){kt(u,a,S)}break;case 18:jt!==null&&(Jn?(o=jt,a2(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,u.stateNode),Gu(o)):a2(jt,u.stateNode));break;case 4:h=jt,y=Jn,jt=u.stateNode.containerInfo,Jn=!0,ys(o,a,u),jt=h,Jn=y;break;case 0:case 11:case 14:case 15:Wt||uo(2,u,a),Wt||uo(4,u,a),ys(o,a,u);break;case 1:Wt||(Ni(u,a),h=u.stateNode,typeof h.componentWillUnmount=="function"&&fx(u,a,h)),ys(o,a,u);break;case 21:ys(o,a,u);break;case 22:Wt=(h=Wt)||u.memoizedState!==null,ys(o,a,u),Wt=h;break;default:ys(o,a,u)}}function wx(o,a){if(a.memoizedState===null&&(o=a.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Gu(o)}catch(u){kt(a,a.return,u)}}function a4(o){switch(o.tag){case 13:case 19:var a=o.stateNode;return a===null&&(a=o.stateNode=new gx),a;case 22:return o=o.stateNode,a=o._retryCache,a===null&&(a=o._retryCache=new gx),a;default:throw Error(r(435,o.tag))}}function Oy(o,a){var u=a4(o);a.forEach(function(h){var y=g4.bind(null,o,h);u.has(h)||(u.add(h),h.then(y,y))})}function ur(o,a){var u=a.deletions;if(u!==null)for(var h=0;h<u.length;h++){var y=u[h],S=o,N=a,z=N;e:for(;z!==null;){switch(z.tag){case 27:if(bo(z.type)){jt=z.stateNode,Jn=!1;break e}break;case 5:jt=z.stateNode,Jn=!1;break e;case 3:case 4:jt=z.stateNode.containerInfo,Jn=!0;break e}z=z.return}if(jt===null)throw Error(r(160));bx(S,N,y),jt=null,Jn=!1,S=y.alternate,S!==null&&(S.return=null),y.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Sx(a,o),a=a.sibling}var ei=null;function Sx(o,a){var u=o.alternate,h=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:ur(a,o),dr(o),h&4&&(uo(3,o,o.return),Mu(3,o),uo(5,o,o.return));break;case 1:ur(a,o),dr(o),h&512&&(Wt||u===null||Ni(u,u.return)),h&64&&gs&&(o=o.updateQueue,o!==null&&(h=o.callbacks,h!==null&&(u=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var y=ei;if(ur(a,o),dr(o),h&512&&(Wt||u===null||Ni(u,u.return)),h&4){var S=u!==null?u.memoizedState:null;if(h=o.memoizedState,u===null)if(h===null)if(o.stateNode===null){e:{h=o.type,u=o.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":S=y.getElementsByTagName("title")[0],(!S||S[Ne]||S[ue]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=y.createElement(h),y.head.insertBefore(S,y.querySelector("head > title"))),wn(S,h,u),S[ue]=o,Fe(S),h=S;break e;case"link":var N=m2("link","href",y).get(h+(u.href||""));if(N){for(var z=0;z<N.length;z++)if(S=N[z],S.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&S.getAttribute("rel")===(u.rel==null?null:u.rel)&&S.getAttribute("title")===(u.title==null?null:u.title)&&S.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){N.splice(z,1);break t}}S=y.createElement(h),wn(S,h,u),y.head.appendChild(S);break;case"meta":if(N=m2("meta","content",y).get(h+(u.content||""))){for(z=0;z<N.length;z++)if(S=N[z],S.getAttribute("content")===(u.content==null?null:""+u.content)&&S.getAttribute("name")===(u.name==null?null:u.name)&&S.getAttribute("property")===(u.property==null?null:u.property)&&S.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&S.getAttribute("charset")===(u.charSet==null?null:u.charSet)){N.splice(z,1);break t}}S=y.createElement(h),wn(S,h,u),y.head.appendChild(S);break;default:throw Error(r(468,h))}S[ue]=o,Fe(S),h=S}o.stateNode=h}else g2(y,o.type,o.stateNode);else o.stateNode=p2(y,h,o.memoizedProps);else S!==h?(S===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):S.count--,h===null?g2(y,o.type,o.stateNode):p2(y,h,o.memoizedProps)):h===null&&o.stateNode!==null&&ky(o,o.memoizedProps,u.memoizedProps)}break;case 27:ur(a,o),dr(o),h&512&&(Wt||u===null||Ni(u,u.return)),u!==null&&h&4&&ky(o,o.memoizedProps,u.memoizedProps);break;case 5:if(ur(a,o),dr(o),h&512&&(Wt||u===null||Ni(u,u.return)),o.flags&32){y=o.stateNode;try{Nr(y,"")}catch(ne){kt(o,o.return,ne)}}h&4&&o.stateNode!=null&&(y=o.memoizedProps,ky(o,y,u!==null?u.memoizedProps:y)),h&1024&&(My=!0);break;case 6:if(ur(a,o),dr(o),h&4){if(o.stateNode===null)throw Error(r(162));h=o.memoizedProps,u=o.stateNode;try{u.nodeValue=h}catch(ne){kt(o,o.return,ne)}}break;case 3:if(Sh=null,y=ei,ei=bh(a.containerInfo),ur(a,o),ei=y,dr(o),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Gu(a.containerInfo)}catch(ne){kt(o,o.return,ne)}My&&(My=!1,xx(o));break;case 4:h=ei,ei=bh(o.stateNode.containerInfo),ur(a,o),dr(o),ei=h;break;case 12:ur(a,o),dr(o);break;case 13:ur(a,o),dr(o),o.child.flags&8192&&o.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Ly=Dn()),h&4&&(h=o.updateQueue,h!==null&&(o.updateQueue=null,Oy(o,h)));break;case 22:y=o.memoizedState!==null;var F=u!==null&&u.memoizedState!==null,Z=gs,se=Wt;if(gs=Z||y,Wt=se||F,ur(a,o),Wt=se,gs=Z,dr(o),h&8192)e:for(a=o.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(u===null||F||gs||Wt||Pa(o)),u=null,a=o;;){if(a.tag===5||a.tag===26){if(u===null){F=u=a;try{if(S=F.stateNode,y)N=S.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{z=F.stateNode;var le=F.memoizedProps.style,te=le!=null&&le.hasOwnProperty("display")?le.display:null;z.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){kt(F,F.return,ne)}}}else if(a.tag===6){if(u===null){F=a;try{F.stateNode.nodeValue=y?"":F.memoizedProps}catch(ne){kt(F,F.return,ne)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===o)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=o.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,Oy(o,u))));break;case 19:ur(a,o),dr(o),h&4&&(h=o.updateQueue,h!==null&&(o.updateQueue=null,Oy(o,h)));break;case 30:break;case 21:break;default:ur(a,o),dr(o)}}function dr(o){var a=o.flags;if(a&2){try{for(var u,h=o.return;h!==null;){if(px(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var y=u.stateNode,S=Ay(o);oh(o,S,y);break;case 5:var N=u.stateNode;u.flags&32&&(Nr(N,""),u.flags&=-33);var z=Ay(o);oh(o,z,N);break;case 3:case 4:var F=u.stateNode.containerInfo,Z=Ay(o);Ny(o,Z,F);break;default:throw Error(r(161))}}catch(se){kt(o,o.return,se)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function xx(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var a=o;xx(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),o=o.sibling}}function fo(o,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)yx(o,a.alternate,a),a=a.sibling}function Pa(o){for(o=o.child;o!==null;){var a=o;switch(a.tag){case 0:case 11:case 14:case 15:uo(4,a,a.return),Pa(a);break;case 1:Ni(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&fx(a,a.return,u),Pa(a);break;case 27:Uu(a.stateNode);case 26:case 5:Ni(a,a.return),Pa(a);break;case 22:a.memoizedState===null&&Pa(a);break;case 30:Pa(a);break;default:Pa(a)}o=o.sibling}}function ho(o,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,y=o,S=a,N=S.flags;switch(S.tag){case 0:case 11:case 15:ho(y,S,u),Mu(4,S);break;case 1:if(ho(y,S,u),h=S,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Z){kt(h,h.return,Z)}if(h=S,y=h.updateQueue,y!==null){var z=h.stateNode;try{var F=y.shared.hiddenCallbacks;if(F!==null)for(y.shared.hiddenCallbacks=null,y=0;y<F.length;y++)Jw(F[y],z)}catch(Z){kt(h,h.return,Z)}}u&&N&64&&dx(S),Ou(S,S.return);break;case 27:mx(S);case 26:case 5:ho(y,S,u),u&&h===null&&N&4&&hx(S),Ou(S,S.return);break;case 12:ho(y,S,u);break;case 13:ho(y,S,u),u&&N&4&&wx(y,S);break;case 22:S.memoizedState===null&&ho(y,S,u),Ou(S,S.return);break;case 30:break;default:ho(y,S,u)}a=a.sibling}}function _y(o,a){var u=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==u&&(o!=null&&o.refCount++,u!=null&&mu(u))}function Ry(o,a){o=null,a.alternate!==null&&(o=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==o&&(a.refCount++,o!=null&&mu(o))}function Mi(o,a,u,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Ex(o,a,u,h),a=a.sibling}function Ex(o,a,u,h){var y=a.flags;switch(a.tag){case 0:case 11:case 15:Mi(o,a,u,h),y&2048&&Mu(9,a);break;case 1:Mi(o,a,u,h);break;case 3:Mi(o,a,u,h),y&2048&&(o=null,a.alternate!==null&&(o=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==o&&(a.refCount++,o!=null&&mu(o)));break;case 12:if(y&2048){Mi(o,a,u,h),o=a.stateNode;try{var S=a.memoizedProps,N=S.id,z=S.onPostCommit;typeof z=="function"&&z(N,a.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(F){kt(a,a.return,F)}}else Mi(o,a,u,h);break;case 13:Mi(o,a,u,h);break;case 23:break;case 22:S=a.stateNode,N=a.alternate,a.memoizedState!==null?S._visibility&2?Mi(o,a,u,h):_u(o,a):S._visibility&2?Mi(o,a,u,h):(S._visibility|=2,Kl(o,a,u,h,(a.subtreeFlags&10256)!==0)),y&2048&&_y(N,a);break;case 24:Mi(o,a,u,h),y&2048&&Ry(a.alternate,a);break;default:Mi(o,a,u,h)}}function Kl(o,a,u,h,y){for(y=y&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var S=o,N=a,z=u,F=h,Z=N.flags;switch(N.tag){case 0:case 11:case 15:Kl(S,N,z,F,y),Mu(8,N);break;case 23:break;case 22:var se=N.stateNode;N.memoizedState!==null?se._visibility&2?Kl(S,N,z,F,y):_u(S,N):(se._visibility|=2,Kl(S,N,z,F,y)),y&&Z&2048&&_y(N.alternate,N);break;case 24:Kl(S,N,z,F,y),y&&Z&2048&&Ry(N.alternate,N);break;default:Kl(S,N,z,F,y)}a=a.sibling}}function _u(o,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=o,h=a,y=h.flags;switch(h.tag){case 22:_u(u,h),y&2048&&_y(h.alternate,h);break;case 24:_u(u,h),y&2048&&Ry(h.alternate,h);break;default:_u(u,h)}a=a.sibling}}var Ru=8192;function Yl(o){if(o.subtreeFlags&Ru)for(o=o.child;o!==null;)Tx(o),o=o.sibling}function Tx(o){switch(o.tag){case 26:Yl(o),o.flags&Ru&&o.memoizedState!==null&&W4(ei,o.memoizedState,o.memoizedProps);break;case 5:Yl(o);break;case 3:case 4:var a=ei;ei=bh(o.stateNode.containerInfo),Yl(o),ei=a;break;case 22:o.memoizedState===null&&(a=o.alternate,a!==null&&a.memoizedState!==null?(a=Ru,Ru=16777216,Yl(o),Ru=a):Yl(o));break;default:Yl(o)}}function Cx(o){var a=o.alternate;if(a!==null&&(o=a.child,o!==null)){a.child=null;do a=o.sibling,o.sibling=null,o=a;while(o!==null)}}function Du(o){var a=o.deletions;if((o.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var h=a[u];dn=h,Ax(h,o)}Cx(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)kx(o),o=o.sibling}function kx(o){switch(o.tag){case 0:case 11:case 15:Du(o),o.flags&2048&&uo(9,o,o.return);break;case 3:Du(o);break;case 12:Du(o);break;case 22:var a=o.stateNode;o.memoizedState!==null&&a._visibility&2&&(o.return===null||o.return.tag!==13)?(a._visibility&=-3,ah(o)):Du(o);break;default:Du(o)}}function ah(o){var a=o.deletions;if((o.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var h=a[u];dn=h,Ax(h,o)}Cx(o)}for(o=o.child;o!==null;){switch(a=o,a.tag){case 0:case 11:case 15:uo(8,a,a.return),ah(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,ah(a));break;default:ah(a)}o=o.sibling}}function Ax(o,a){for(;dn!==null;){var u=dn;switch(u.tag){case 0:case 11:case 15:uo(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:mu(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,dn=h;else e:for(u=o;dn!==null;){h=dn;var y=h.sibling,S=h.return;if(vx(h),h===u){dn=null;break e}if(y!==null){y.return=S,dn=y;break e}dn=S}}}var l4={getCacheForType:function(o){var a=kn(nn),u=a.data.get(o);return u===void 0&&(u=o(),a.data.set(o,u)),u}},c4=typeof WeakMap=="function"?WeakMap:Map,yt=0,Ot=null,Qe=null,rt=0,vt=0,fr=null,po=!1,Xl=!1,Dy=!1,vs=0,Ht=0,mo=0,za=0,Iy=0,Pr=0,Jl=0,Iu=null,Qn=null,jy=!1,Ly=0,lh=1/0,ch=null,go=null,bn=0,yo=null,Ql=null,Zl=0,Py=0,zy=null,Nx=null,ju=0,Uy=null;function hr(){if((yt&2)!==0&&rt!==0)return rt&-rt;if(G.T!==null){var o=Bl;return o!==0?o:Wy()}return W()}function Mx(){Pr===0&&(Pr=(rt&536870912)===0||ft?Xi():536870912);var o=Lr.current;return o!==null&&(o.flags|=32),Pr}function pr(o,a,u){(o===Ot&&(vt===2||vt===9)||o.cancelPendingCommit!==null)&&(ec(o,0),vo(o,rt,Pr,!1)),Yr(o,u),((yt&2)===0||o!==Ot)&&(o===Ot&&((yt&2)===0&&(za|=u),Ht===4&&vo(o,rt,Pr,!1)),Oi(o))}function Ox(o,a,u){if((yt&6)!==0)throw Error(r(327));var h=!u&&(a&124)===0&&(a&o.expiredLanes)===0||Cr(o,a),y=h?f4(o,a):Vy(o,a,!0),S=h;do{if(y===0){Xl&&!h&&vo(o,a,0,!1);break}else{if(u=o.current.alternate,S&&!u4(u)){y=Vy(o,a,!1),S=!1;continue}if(y===2){if(S=a,o.errorRecoveryDisabledLanes&S)var N=0;else N=o.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){a=N;e:{var z=o;y=Iu;var F=z.current.memoizedState.isDehydrated;if(F&&(ec(z,N).flags|=256),N=Vy(z,N,!1),N!==2){if(Dy&&!F){z.errorRecoveryDisabledLanes|=S,za|=S,y=4;break e}S=Qn,Qn=y,S!==null&&(Qn===null?Qn=S:Qn.push.apply(Qn,S))}y=N}if(S=!1,y!==2)continue}}if(y===1){ec(o,0),vo(o,a,0,!0);break}e:{switch(h=o,S=y,S){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:vo(h,a,Pr,!po);break e;case 2:Qn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(y=Ly+300-Dn(),10<y)){if(vo(h,a,Pr,!po),Yi(h,0,!0)!==0)break e;h.timeoutHandle=s2(_x.bind(null,h,u,Qn,ch,jy,a,Pr,za,Jl,po,S,2,-0,0),y);break e}_x(h,u,Qn,ch,jy,a,Pr,za,Jl,po,S,0,-0,0)}}break}while(!0);Oi(o)}function _x(o,a,u,h,y,S,N,z,F,Z,se,le,te,ne){if(o.timeoutHandle=-1,le=a.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(Vu={stylesheets:null,count:0,unsuspend:q4},Tx(a),le=G4(),le!==null)){o.cancelPendingCommit=le(zx.bind(null,o,a,S,u,h,y,N,z,F,se,1,te,ne)),vo(o,S,N,!Z);return}zx(o,a,S,u,h,y,N,z,F)}function u4(o){for(var a=o;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var y=u[h],S=y.getSnapshot;y=y.value;try{if(!lr(S(),y))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function vo(o,a,u,h){a&=~Iy,a&=~za,o.suspendedLanes|=a,o.pingedLanes&=~a,h&&(o.warmLanes|=a),h=o.expirationTimes;for(var y=a;0<y;){var S=31-Gt(y),N=1<<S;h[S]=-1,y&=~N}u!==0&&Wn(o,u,a)}function uh(){return(yt&6)===0?(Lu(0),!1):!0}function By(){if(Qe!==null){if(vt===0)var o=Qe.return;else o=Qe,us=Ra=null,ry(o),Wl=null,ku=0,o=Qe;for(;o!==null;)ux(o.alternate,o),o=o.return;Qe=null}}function ec(o,a){var u=o.timeoutHandle;u!==-1&&(o.timeoutHandle=-1,N4(u)),u=o.cancelPendingCommit,u!==null&&(o.cancelPendingCommit=null,u()),By(),Ot=o,Qe=u=as(o.current,null),rt=a,vt=0,fr=null,po=!1,Xl=Cr(o,a),Dy=!1,Jl=Pr=Iy=za=mo=Ht=0,Qn=Iu=null,jy=!1,(a&8)!==0&&(a|=a&32);var h=o.entangledLanes;if(h!==0)for(o=o.entanglements,h&=a;0<h;){var y=31-Gt(h),S=1<<y;a|=o[y],h&=~S}return vs=a,Rf(),u}function Rx(o,a){Ye=null,G.H=Jf,a===yu||a===Hf?(a=Yw(),vt=3):a===Ww?(a=Yw(),vt=4):vt=a===XS?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,fr=a,Qe===null&&(Ht=1,nh(o,Rr(a,o.current)))}function Dx(){var o=G.H;return G.H=Jf,o===null?Jf:o}function Ix(){var o=G.A;return G.A=l4,o}function Hy(){Ht=4,po||(rt&4194048)!==rt&&Lr.current!==null||(Xl=!0),(mo&134217727)===0&&(za&134217727)===0||Ot===null||vo(Ot,rt,Pr,!1)}function Vy(o,a,u){var h=yt;yt|=2;var y=Dx(),S=Ix();(Ot!==o||rt!==a)&&(ch=null,ec(o,a)),a=!1;var N=Ht;e:do try{if(vt!==0&&Qe!==null){var z=Qe,F=fr;switch(vt){case 8:By(),N=6;break e;case 3:case 2:case 9:case 6:Lr.current===null&&(a=!0);var Z=vt;if(vt=0,fr=null,tc(o,z,F,Z),u&&Xl){N=0;break e}break;default:Z=vt,vt=0,fr=null,tc(o,z,F,Z)}}d4(),N=Ht;break}catch(se){Rx(o,se)}while(!0);return a&&o.shellSuspendCounter++,us=Ra=null,yt=h,G.H=y,G.A=S,Qe===null&&(Ot=null,rt=0,Rf()),N}function d4(){for(;Qe!==null;)jx(Qe)}function f4(o,a){var u=yt;yt|=2;var h=Dx(),y=Ix();Ot!==o||rt!==a?(ch=null,lh=Dn()+500,ec(o,a)):Xl=Cr(o,a);e:do try{if(vt!==0&&Qe!==null){a=Qe;var S=fr;t:switch(vt){case 1:vt=0,fr=null,tc(o,a,S,1);break;case 2:case 9:if(Gw(S)){vt=0,fr=null,Lx(a);break}a=function(){vt!==2&&vt!==9||Ot!==o||(vt=7),Oi(o)},S.then(a,a);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:Gw(S)?(vt=0,fr=null,Lx(a)):(vt=0,fr=null,tc(o,a,S,7));break;case 5:var N=null;switch(Qe.tag){case 26:N=Qe.memoizedState;case 5:case 27:var z=Qe;if(!N||y2(N)){vt=0,fr=null;var F=z.sibling;if(F!==null)Qe=F;else{var Z=z.return;Z!==null?(Qe=Z,dh(Z)):Qe=null}break t}}vt=0,fr=null,tc(o,a,S,5);break;case 6:vt=0,fr=null,tc(o,a,S,6);break;case 8:By(),Ht=6;break e;default:throw Error(r(462))}}h4();break}catch(se){Rx(o,se)}while(!0);return us=Ra=null,G.H=h,G.A=y,yt=u,Qe!==null?0:(Ot=null,rt=0,Rf(),Ht)}function h4(){for(;Qe!==null&&!fa();)jx(Qe)}function jx(o){var a=lx(o.alternate,o,vs);o.memoizedProps=o.pendingProps,a===null?dh(o):Qe=a}function Lx(o){var a=o,u=a.alternate;switch(a.tag){case 15:case 0:a=nx(u,a,a.pendingProps,a.type,void 0,rt);break;case 11:a=nx(u,a,a.pendingProps,a.type.render,a.ref,rt);break;case 5:ry(a);default:ux(u,a),a=Qe=Pw(a,vs),a=lx(u,a,vs)}o.memoizedProps=o.pendingProps,a===null?dh(o):Qe=a}function tc(o,a,u,h){us=Ra=null,ry(a),Wl=null,ku=0;var y=a.return;try{if(n4(o,y,a,u,rt)){Ht=1,nh(o,Rr(u,o.current)),Qe=null;return}}catch(S){if(y!==null)throw Qe=y,S;Ht=1,nh(o,Rr(u,o.current)),Qe=null;return}a.flags&32768?(ft||h===1?o=!0:Xl||(rt&536870912)!==0?o=!1:(po=o=!0,(h===2||h===9||h===3||h===6)&&(h=Lr.current,h!==null&&h.tag===13&&(h.flags|=16384))),Px(a,o)):dh(a)}function dh(o){var a=o;do{if((a.flags&32768)!==0){Px(a,po);return}o=a.return;var u=i4(a.alternate,a,vs);if(u!==null){Qe=u;return}if(a=a.sibling,a!==null){Qe=a;return}Qe=a=o}while(a!==null);Ht===0&&(Ht=5)}function Px(o,a){do{var u=s4(o.alternate,o);if(u!==null){u.flags&=32767,Qe=u;return}if(u=o.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(o=o.sibling,o!==null)){Qe=o;return}Qe=o=u}while(o!==null);Ht=6,Qe=null}function zx(o,a,u,h,y,S,N,z,F){o.cancelPendingCommit=null;do fh();while(bn!==0);if((yt&6)!==0)throw Error(r(327));if(a!==null){if(a===o.current)throw Error(r(177));if(S=a.lanes|a.childLanes,S|=Rg,Ys(o,u,S,N,z,F),o===Ot&&(Qe=Ot=null,rt=0),Ql=a,yo=o,Zl=u,Py=S,zy=y,Nx=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,y4(Ki,function(){return $x(),null})):(o.callbackNode=null,o.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=G.T,G.T=null,y=oe.p,oe.p=2,N=yt,yt|=4;try{o4(o,a,u)}finally{yt=N,oe.p=y,G.T=h}}bn=1,Ux(),Bx(),Hx()}}function Ux(){if(bn===1){bn=0;var o=yo,a=Ql,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=G.T,G.T=null;var h=oe.p;oe.p=2;var y=yt;yt|=4;try{Sx(a,o);var S=e0,N=Aw(o.containerInfo),z=S.focusedElem,F=S.selectionRange;if(N!==z&&z&&z.ownerDocument&&kw(z.ownerDocument.documentElement,z)){if(F!==null&&Ag(z)){var Z=F.start,se=F.end;if(se===void 0&&(se=Z),"selectionStart"in z)z.selectionStart=Z,z.selectionEnd=Math.min(se,z.value.length);else{var le=z.ownerDocument||document,te=le&&le.defaultView||window;if(te.getSelection){var ne=te.getSelection(),He=z.textContent.length,Pe=Math.min(F.start,He),Tt=F.end===void 0?Pe:Math.min(F.end,He);!ne.extend&&Pe>Tt&&(N=Tt,Tt=Pe,Pe=N);var Y=Cw(z,Pe),K=Cw(z,Tt);if(Y&&K&&(ne.rangeCount!==1||ne.anchorNode!==Y.node||ne.anchorOffset!==Y.offset||ne.focusNode!==K.node||ne.focusOffset!==K.offset)){var Q=le.createRange();Q.setStart(Y.node,Y.offset),ne.removeAllRanges(),Pe>Tt?(ne.addRange(Q),ne.extend(K.node,K.offset)):(Q.setEnd(K.node,K.offset),ne.addRange(Q))}}}}for(le=[],ne=z;ne=ne.parentNode;)ne.nodeType===1&&le.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<le.length;z++){var ae=le[z];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Th=!!Zy,e0=Zy=null}finally{yt=y,oe.p=h,G.T=u}}o.current=a,bn=2}}function Bx(){if(bn===2){bn=0;var o=yo,a=Ql,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=G.T,G.T=null;var h=oe.p;oe.p=2;var y=yt;yt|=4;try{yx(o,a.alternate,a)}finally{yt=y,oe.p=h,G.T=u}}bn=3}}function Hx(){if(bn===4||bn===3){bn=0,Sl();var o=yo,a=Ql,u=Zl,h=Nx;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?bn=5:(bn=0,Ql=yo=null,Vx(o,o.pendingLanes));var y=o.pendingLanes;if(y===0&&(go=null),Xs(u),a=a.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(ct,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=G.T,y=oe.p,oe.p=2,G.T=null;try{for(var S=o.onRecoverableError,N=0;N<h.length;N++){var z=h[N];S(z.value,{componentStack:z.stack})}}finally{G.T=a,oe.p=y}}(Zl&3)!==0&&fh(),Oi(o),y=o.pendingLanes,(u&4194090)!==0&&(y&42)!==0?o===Uy?ju++:(ju=0,Uy=o):ju=0,Lu(0)}}function Vx(o,a){(o.pooledCacheLanes&=a)===0&&(a=o.pooledCache,a!=null&&(o.pooledCache=null,mu(a)))}function fh(o){return Ux(),Bx(),Hx(),$x()}function $x(){if(bn!==5)return!1;var o=yo,a=Py;Py=0;var u=Xs(Zl),h=G.T,y=oe.p;try{oe.p=32>u?32:u,G.T=null,u=zy,zy=null;var S=yo,N=Zl;if(bn=0,Ql=yo=null,Zl=0,(yt&6)!==0)throw Error(r(331));var z=yt;if(yt|=4,kx(S.current),Ex(S,S.current,N,u),yt=z,Lu(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(ct,S)}catch{}return!0}finally{oe.p=y,G.T=h,Vx(o,a)}}function Fx(o,a,u){a=Rr(u,a),a=yy(o.stateNode,a,2),o=oo(o,a,2),o!==null&&(Yr(o,2),Oi(o))}function kt(o,a,u){if(o.tag===3)Fx(o,o,u);else for(;a!==null;){if(a.tag===3){Fx(a,o,u);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(go===null||!go.has(h))){o=Rr(u,o),u=KS(2),h=oo(a,u,2),h!==null&&(YS(u,h,a,o),Yr(h,2),Oi(h));break}}a=a.return}}function $y(o,a,u){var h=o.pingCache;if(h===null){h=o.pingCache=new c4;var y=new Set;h.set(a,y)}else y=h.get(a),y===void 0&&(y=new Set,h.set(a,y));y.has(u)||(Dy=!0,y.add(u),o=p4.bind(null,o,a,u),a.then(o,o))}function p4(o,a,u){var h=o.pingCache;h!==null&&h.delete(a),o.pingedLanes|=o.suspendedLanes&u,o.warmLanes&=~u,Ot===o&&(rt&u)===u&&(Ht===4||Ht===3&&(rt&62914560)===rt&&300>Dn()-Ly?(yt&2)===0&&ec(o,0):Iy|=u,Jl===rt&&(Jl=0)),Oi(o)}function qx(o,a){a===0&&(a=El()),o=Ll(o,a),o!==null&&(Yr(o,a),Oi(o))}function m4(o){var a=o.memoizedState,u=0;a!==null&&(u=a.retryLane),qx(o,u)}function g4(o,a){var u=0;switch(o.tag){case 13:var h=o.stateNode,y=o.memoizedState;y!==null&&(u=y.retryLane);break;case 19:h=o.stateNode;break;case 22:h=o.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(a),qx(o,u)}function y4(o,a){return qn(o,a)}var hh=null,nc=null,Fy=!1,ph=!1,qy=!1,Ua=0;function Oi(o){o!==nc&&o.next===null&&(nc===null?hh=nc=o:nc=nc.next=o),ph=!0,Fy||(Fy=!0,b4())}function Lu(o,a){if(!qy&&ph){qy=!0;do for(var u=!1,h=hh;h!==null;){if(o!==0){var y=h.pendingLanes;if(y===0)var S=0;else{var N=h.suspendedLanes,z=h.pingedLanes;S=(1<<31-Gt(42|o)+1)-1,S&=y&~(N&~z),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(u=!0,Yx(h,S))}else S=rt,S=Yi(h,h===Ot?S:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(S&3)===0||Cr(h,S)||(u=!0,Yx(h,S));h=h.next}while(u);qy=!1}}function v4(){Wx()}function Wx(){ph=Fy=!1;var o=0;Ua!==0&&(A4()&&(o=Ua),Ua=0);for(var a=Dn(),u=null,h=hh;h!==null;){var y=h.next,S=Gx(h,a);S===0?(h.next=null,u===null?hh=y:u.next=y,y===null&&(nc=u)):(u=h,(o!==0||(S&3)!==0)&&(ph=!0)),h=y}Lu(o)}function Gx(o,a){for(var u=o.suspendedLanes,h=o.pingedLanes,y=o.expirationTimes,S=o.pendingLanes&-62914561;0<S;){var N=31-Gt(S),z=1<<N,F=y[N];F===-1?((z&u)===0||(z&h)!==0)&&(y[N]=Ks(z,a)):F<=a&&(o.expiredLanes|=z),S&=~z}if(a=Ot,u=rt,u=Yi(o,o===a?u:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),h=o.callbackNode,u===0||o===a&&(vt===2||vt===9)||o.cancelPendingCommit!==null)return h!==null&&h!==null&&Rn(h),o.callbackNode=null,o.callbackPriority=0;if((u&3)===0||Cr(o,u)){if(a=u&-u,a===o.callbackPriority)return a;switch(h!==null&&Rn(h),Xs(u)){case 2:case 8:u=qs;break;case 32:u=Ki;break;case 268435456:u=Er;break;default:u=Ki}return h=Kx.bind(null,o),u=qn(u,h),o.callbackPriority=a,o.callbackNode=u,a}return h!==null&&h!==null&&Rn(h),o.callbackPriority=2,o.callbackNode=null,2}function Kx(o,a){if(bn!==0&&bn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var u=o.callbackNode;if(fh()&&o.callbackNode!==u)return null;var h=rt;return h=Yi(o,o===Ot?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),h===0?null:(Ox(o,h,a),Gx(o,Dn()),o.callbackNode!=null&&o.callbackNode===u?Kx.bind(null,o):null)}function Yx(o,a){if(fh())return null;Ox(o,a,!0)}function b4(){M4(function(){(yt&6)!==0?qn(ha,v4):Wx()})}function Wy(){return Ua===0&&(Ua=Xi()),Ua}function Xx(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Cl(""+o)}function Jx(o,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,o.id&&u.setAttribute("form",o.id),a.parentNode.insertBefore(u,a),o=new FormData(o),u.parentNode.removeChild(u),o}function w4(o,a,u,h,y){if(a==="submit"&&u&&u.stateNode===y){var S=Xx((y[pe]||null).action),N=h.submitter;N&&(a=(a=N[pe]||null)?Xx(a.formAction):N.getAttribute("formAction"),a!==null&&(S=a,N=null));var z=new kl("action","action",null,h,y);o.push({event:z,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Ua!==0){var F=N?Jx(y,N):new FormData(y);fy(u,{pending:!0,data:F,method:y.method,action:S},null,F)}}else typeof S=="function"&&(z.preventDefault(),F=N?Jx(y,N):new FormData(y),fy(u,{pending:!0,data:F,method:y.method,action:S},S,F))},currentTarget:y}]})}}for(var Gy=0;Gy<_g.length;Gy++){var Ky=_g[Gy],S4=Ky.toLowerCase(),x4=Ky[0].toUpperCase()+Ky.slice(1);Zr(S4,"on"+x4)}Zr(Ow,"onAnimationEnd"),Zr(_w,"onAnimationIteration"),Zr(Rw,"onAnimationStart"),Zr("dblclick","onDoubleClick"),Zr("focusin","onFocus"),Zr("focusout","onBlur"),Zr(UR,"onTransitionRun"),Zr(BR,"onTransitionStart"),Zr(HR,"onTransitionCancel"),Zr(Dw,"onTransitionEnd"),on("onMouseEnter",["mouseout","mouseover"]),on("onMouseLeave",["mouseout","mouseover"]),on("onPointerEnter",["pointerout","pointerover"]),on("onPointerLeave",["pointerout","pointerover"]),gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pu));function Qx(o,a){a=(a&4)!==0;for(var u=0;u<o.length;u++){var h=o[u],y=h.event;h=h.listeners;e:{var S=void 0;if(a)for(var N=h.length-1;0<=N;N--){var z=h[N],F=z.instance,Z=z.currentTarget;if(z=z.listener,F!==S&&y.isPropagationStopped())break e;S=z,y.currentTarget=Z;try{S(y)}catch(se){th(se)}y.currentTarget=null,S=F}else for(N=0;N<h.length;N++){if(z=h[N],F=z.instance,Z=z.currentTarget,z=z.listener,F!==S&&y.isPropagationStopped())break e;S=z,y.currentTarget=Z;try{S(y)}catch(se){th(se)}y.currentTarget=null,S=F}}}}function Ze(o,a){var u=a[Me];u===void 0&&(u=a[Me]=new Set);var h=o+"__bubble";u.has(h)||(Zx(a,o,2,!1),u.add(h))}function Yy(o,a,u){var h=0;a&&(h|=4),Zx(u,o,h,a)}var mh="_reactListening"+Math.random().toString(36).slice(2);function Xy(o){if(!o[mh]){o[mh]=!0,dt.forEach(function(u){u!=="selectionchange"&&(E4.has(u)||Yy(u,!1,o),Yy(u,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[mh]||(a[mh]=!0,Yy("selectionchange",!1,a))}}function Zx(o,a,u,h){switch(E2(a)){case 2:var y=X4;break;case 8:y=J4;break;default:y=u0}u=y.bind(null,a,u,o),y=void 0,!Or||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),h?y!==void 0?o.addEventListener(a,u,{capture:!0,passive:y}):o.addEventListener(a,u,!0):y!==void 0?o.addEventListener(a,u,{passive:y}):o.addEventListener(a,u,!1)}function Jy(o,a,u,h,y){var S=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var N=h.tag;if(N===3||N===4){var z=h.stateNode.containerInfo;if(z===y)break;if(N===4)for(N=h.return;N!==null;){var F=N.tag;if((F===3||F===4)&&N.stateNode.containerInfo===y)return;N=N.return}for(;z!==null;){if(N=qe(z),N===null)return;if(F=N.tag,F===5||F===6||F===26||F===27){h=S=N;continue e}z=z.parentNode}}h=h.return}yf(function(){var Z=S,se=Mr(u),le=[];e:{var te=Iw.get(o);if(te!==void 0){var ne=kl,He=o;switch(o){case"keypress":if(xi(u)===0)break e;case"keydown":case"keyup":ne=Rl;break;case"focusin":He="focus",ne=Ml;break;case"focusout":He="blur",ne=Ml;break;case"beforeblur":case"afterblur":ne=Ml;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=_r;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Eg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=Cf;break;case Ow:case _w:case Rw:ne=Ol;break;case Dw:ne=Af;break;case"scroll":case"scrollend":ne=vf;break;case"wheel":ne=Kn;break;case"copy":case"cut":case"paste":ne=_l;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=lu;break;case"toggle":case"beforetoggle":ne=Of}var Pe=(a&4)!==0,Tt=!Pe&&(o==="scroll"||o==="scrollend"),Y=Pe?te!==null?te+"Capture":null:te;Pe=[];for(var K=Z,Q;K!==null;){var ae=K;if(Q=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||Q===null||Y===null||(ae=va(K,Y),ae!=null&&Pe.push(zu(K,ae,Q))),Tt)break;K=K.return}0<Pe.length&&(te=new ne(te,He,null,u,se),le.push({event:te,listeners:Pe}))}}if((a&7)===0){e:{if(te=o==="mouseover"||o==="pointerover",ne=o==="mouseout"||o==="pointerout",te&&u!==Zi&&(He=u.relatedTarget||u.fromElement)&&(qe(He)||He[we]))break e;if((ne||te)&&(te=se.window===se?se:(te=se.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(He=u.relatedTarget||u.toElement,ne=Z,He=He?qe(He):null,He!==null&&(Tt=s(He),Pe=He.tag,He!==Tt||Pe!==5&&Pe!==27&&Pe!==6)&&(He=null)):(ne=null,He=Z),ne!==He)){if(Pe=_r,ae="onMouseLeave",Y="onMouseEnter",K="mouse",(o==="pointerout"||o==="pointerover")&&(Pe=lu,ae="onPointerLeave",Y="onPointerEnter",K="pointer"),Tt=ne==null?te:mt(ne),Q=He==null?te:mt(He),te=new Pe(ae,K+"leave",ne,u,se),te.target=Tt,te.relatedTarget=Q,ae=null,qe(se)===Z&&(Pe=new Pe(Y,K+"enter",He,u,se),Pe.target=Q,Pe.relatedTarget=Tt,ae=Pe),Tt=ae,ne&&He)t:{for(Pe=ne,Y=He,K=0,Q=Pe;Q;Q=rc(Q))K++;for(Q=0,ae=Y;ae;ae=rc(ae))Q++;for(;0<K-Q;)Pe=rc(Pe),K--;for(;0<Q-K;)Y=rc(Y),Q--;for(;K--;){if(Pe===Y||Y!==null&&Pe===Y.alternate)break t;Pe=rc(Pe),Y=rc(Y)}Pe=null}else Pe=null;ne!==null&&e2(le,te,ne,Pe,!1),He!==null&&Tt!==null&&e2(le,Tt,He,Pe,!0)}}e:{if(te=Z?mt(Z):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var Te=bw;else if(is(te))if(ww)Te=LR;else{Te=IR;var Xe=DR}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?Z&&tu(Z.elementType)&&(Te=bw):Te=jR;if(Te&&(Te=Te(o,Z))){Yn(le,Te,u,se);break e}Xe&&Xe(o,te,Z),o==="focusout"&&Z&&te.type==="number"&&Z.memoizedProps.value!=null&&eo(te,"number",te.value)}switch(Xe=Z?mt(Z):window,o){case"focusin":(is(Xe)||Xe.contentEditable==="true")&&(Dl=Xe,Ng=Z,uu=null);break;case"focusout":uu=Ng=Dl=null;break;case"mousedown":Mg=!0;break;case"contextmenu":case"mouseup":case"dragend":Mg=!1,Nw(le,u,se);break;case"selectionchange":if(zR)break;case"keydown":case"keyup":Nw(le,u,se)}var _e;if(g)e:{switch(o){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else It?ve(o,u)&&(Ue="onCompositionEnd"):o==="keydown"&&u.keyCode===229&&(Ue="onCompositionStart");Ue&&(H&&u.locale!=="ko"&&(It||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&It&&(_e=ru()):(Si=se,to="value"in Si?Si.value:Si.textContent,It=!0)),Xe=gh(Z,Ue),0<Xe.length&&(Ue=new ou(Ue,o,null,u,se),le.push({event:Ue,listeners:Xe}),_e?Ue.data=_e:(_e=ht(u),_e!==null&&(Ue.data=_e)))),(_e=A?nt(o,u):ln(o,u))&&(Ue=gh(Z,"onBeforeInput"),0<Ue.length&&(Xe=new ou("onBeforeInput","beforeinput",null,u,se),le.push({event:Xe,listeners:Ue}),Xe.data=_e)),w4(le,o,Z,u,se)}Qx(le,a)})}function zu(o,a,u){return{instance:o,listener:a,currentTarget:u}}function gh(o,a){for(var u=a+"Capture",h=[];o!==null;){var y=o,S=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||S===null||(y=va(o,u),y!=null&&h.unshift(zu(o,y,S)),y=va(o,a),y!=null&&h.push(zu(o,y,S))),o.tag===3)return h;o=o.return}return[]}function rc(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function e2(o,a,u,h,y){for(var S=a._reactName,N=[];u!==null&&u!==h;){var z=u,F=z.alternate,Z=z.stateNode;if(z=z.tag,F!==null&&F===h)break;z!==5&&z!==26&&z!==27||Z===null||(F=Z,y?(Z=va(u,S),Z!=null&&N.unshift(zu(u,Z,F))):y||(Z=va(u,S),Z!=null&&N.push(zu(u,Z,F)))),u=u.return}N.length!==0&&o.push({event:a,listeners:N})}var T4=/\r\n?/g,C4=/\u0000|\uFFFD/g;function t2(o){return(typeof o=="string"?o:""+o).replace(T4,`
`).replace(C4,"")}function n2(o,a){return a=t2(a),t2(o)===a}function yh(){}function Et(o,a,u,h,y,S){switch(u){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||Nr(o,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&Nr(o,""+h);break;case"className":jn(o,"class",h);break;case"tabIndex":jn(o,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(o,u,h);break;case"style":eu(o,h,S);break;case"data":if(a!=="object"){jn(o,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||u!=="href")){o.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){o.removeAttribute(u);break}h=Cl(""+h),o.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){o.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(u==="formAction"?(a!=="input"&&Et(o,a,"name",y.name,y,null),Et(o,a,"formEncType",y.formEncType,y,null),Et(o,a,"formMethod",y.formMethod,y,null),Et(o,a,"formTarget",y.formTarget,y,null)):(Et(o,a,"encType",y.encType,y,null),Et(o,a,"method",y.method,y,null),Et(o,a,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){o.removeAttribute(u);break}h=Cl(""+h),o.setAttribute(u,h);break;case"onClick":h!=null&&(o.onclick=yh);break;case"onScroll":h!=null&&Ze("scroll",o);break;case"onScrollEnd":h!=null&&Ze("scrollend",o);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(y.children!=null)throw Error(r(60));o.innerHTML=u}}break;case"multiple":o.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":o.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){o.removeAttribute("xlink:href");break}u=Cl(""+h),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?o.setAttribute(u,""+h):o.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?o.setAttribute(u,""):o.removeAttribute(u);break;case"capture":case"download":h===!0?o.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?o.setAttribute(u,h):o.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?o.setAttribute(u,h):o.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?o.removeAttribute(u):o.setAttribute(u,h);break;case"popover":Ze("beforetoggle",o),Ze("toggle",o),or(o,"popover",h);break;case"xlinkActuate":ze(o,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":ze(o,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":ze(o,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":ze(o,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":ze(o,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":ze(o,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":ze(o,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":ze(o,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":ze(o,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":or(o,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Sg.get(u)||u,or(o,u,h))}}function Qy(o,a,u,h,y,S){switch(u){case"style":eu(o,h,S);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(y.children!=null)throw Error(r(60));o.innerHTML=u}}break;case"children":typeof h=="string"?Nr(o,h):(typeof h=="number"||typeof h=="bigint")&&Nr(o,""+h);break;case"onScroll":h!=null&&Ze("scroll",o);break;case"onScrollEnd":h!=null&&Ze("scrollend",o);break;case"onClick":h!=null&&(o.onclick=yh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gn.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),a=u.slice(2,y?u.length-7:void 0),S=o[pe]||null,S=S!=null?S[u]:null,typeof S=="function"&&o.removeEventListener(a,S,y),typeof h=="function")){typeof S!="function"&&S!==null&&(u in o?o[u]=null:o.hasAttribute(u)&&o.removeAttribute(u)),o.addEventListener(a,h,y);break e}u in o?o[u]=h:h===!0?o.setAttribute(u,""):or(o,u,h)}}}function wn(o,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",o),Ze("load",o);var h=!1,y=!1,S;for(S in u)if(u.hasOwnProperty(S)){var N=u[S];if(N!=null)switch(S){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Et(o,a,S,N,u,null)}}y&&Et(o,a,"srcSet",u.srcSet,u,null),h&&Et(o,a,"src",u.src,u,null);return;case"input":Ze("invalid",o);var z=S=N=y=null,F=null,Z=null;for(h in u)if(u.hasOwnProperty(h)){var se=u[h];if(se!=null)switch(h){case"name":y=se;break;case"type":N=se;break;case"checked":F=se;break;case"defaultChecked":Z=se;break;case"value":S=se;break;case"defaultValue":z=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,a));break;default:Et(o,a,h,se,u,null)}}ma(o,S,z,F,Z,N,y,!1),Tl(o);return;case"select":Ze("invalid",o),h=N=S=null;for(y in u)if(u.hasOwnProperty(y)&&(z=u[y],z!=null))switch(y){case"value":S=z;break;case"defaultValue":N=z;break;case"multiple":h=z;default:Et(o,a,y,z,u,null)}a=S,u=N,o.multiple=!!h,a!=null?Qi(o,!!h,a,!1):u!=null&&Qi(o,!!h,u,!0);return;case"textarea":Ze("invalid",o),S=y=h=null;for(N in u)if(u.hasOwnProperty(N)&&(z=u[N],z!=null))switch(N){case"value":h=z;break;case"defaultValue":y=z;break;case"children":S=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(91));break;default:Et(o,a,N,z,u,null)}ga(o,h,y,S),Tl(o);return;case"option":for(F in u)if(u.hasOwnProperty(F)&&(h=u[F],h!=null))switch(F){case"selected":o.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Et(o,a,F,h,u,null)}return;case"dialog":Ze("beforetoggle",o),Ze("toggle",o),Ze("cancel",o),Ze("close",o);break;case"iframe":case"object":Ze("load",o);break;case"video":case"audio":for(h=0;h<Pu.length;h++)Ze(Pu[h],o);break;case"image":Ze("error",o),Ze("load",o);break;case"details":Ze("toggle",o);break;case"embed":case"source":case"link":Ze("error",o),Ze("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in u)if(u.hasOwnProperty(Z)&&(h=u[Z],h!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Et(o,a,Z,h,u,null)}return;default:if(tu(a)){for(se in u)u.hasOwnProperty(se)&&(h=u[se],h!==void 0&&Qy(o,a,se,h,u,void 0));return}}for(z in u)u.hasOwnProperty(z)&&(h=u[z],h!=null&&Et(o,a,z,h,u,null))}function k4(o,a,u,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,S=null,N=null,z=null,F=null,Z=null,se=null;for(ne in u){var le=u[ne];if(u.hasOwnProperty(ne)&&le!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":F=le;default:h.hasOwnProperty(ne)||Et(o,a,ne,null,h,le)}}for(var te in h){var ne=h[te];if(le=u[te],h.hasOwnProperty(te)&&(ne!=null||le!=null))switch(te){case"type":S=ne;break;case"name":y=ne;break;case"checked":Z=ne;break;case"defaultChecked":se=ne;break;case"value":N=ne;break;case"defaultValue":z=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,a));break;default:ne!==le&&Et(o,a,te,ne,h,le)}}ar(o,N,z,F,Z,se,S,y);return;case"select":ne=N=z=te=null;for(S in u)if(F=u[S],u.hasOwnProperty(S)&&F!=null)switch(S){case"value":break;case"multiple":ne=F;default:h.hasOwnProperty(S)||Et(o,a,S,null,h,F)}for(y in h)if(S=h[y],F=u[y],h.hasOwnProperty(y)&&(S!=null||F!=null))switch(y){case"value":te=S;break;case"defaultValue":z=S;break;case"multiple":N=S;default:S!==F&&Et(o,a,y,S,h,F)}a=z,u=N,h=ne,te!=null?Qi(o,!!u,te,!1):!!h!=!!u&&(a!=null?Qi(o,!!u,a,!0):Qi(o,!!u,u?[]:"",!1));return;case"textarea":ne=te=null;for(z in u)if(y=u[z],u.hasOwnProperty(z)&&y!=null&&!h.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:Et(o,a,z,null,h,y)}for(N in h)if(y=h[N],S=u[N],h.hasOwnProperty(N)&&(y!=null||S!=null))switch(N){case"value":te=y;break;case"defaultValue":ne=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==S&&Et(o,a,N,y,h,S)}St(o,te,ne);return;case"option":for(var He in u)if(te=u[He],u.hasOwnProperty(He)&&te!=null&&!h.hasOwnProperty(He))switch(He){case"selected":o.selected=!1;break;default:Et(o,a,He,null,h,te)}for(F in h)if(te=h[F],ne=u[F],h.hasOwnProperty(F)&&te!==ne&&(te!=null||ne!=null))switch(F){case"selected":o.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Et(o,a,F,te,h,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in u)te=u[Pe],u.hasOwnProperty(Pe)&&te!=null&&!h.hasOwnProperty(Pe)&&Et(o,a,Pe,null,h,te);for(Z in h)if(te=h[Z],ne=u[Z],h.hasOwnProperty(Z)&&te!==ne&&(te!=null||ne!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,a));break;default:Et(o,a,Z,te,h,ne)}return;default:if(tu(a)){for(var Tt in u)te=u[Tt],u.hasOwnProperty(Tt)&&te!==void 0&&!h.hasOwnProperty(Tt)&&Qy(o,a,Tt,void 0,h,te);for(se in h)te=h[se],ne=u[se],!h.hasOwnProperty(se)||te===ne||te===void 0&&ne===void 0||Qy(o,a,se,te,h,ne);return}}for(var Y in u)te=u[Y],u.hasOwnProperty(Y)&&te!=null&&!h.hasOwnProperty(Y)&&Et(o,a,Y,null,h,te);for(le in h)te=h[le],ne=u[le],!h.hasOwnProperty(le)||te===ne||te==null&&ne==null||Et(o,a,le,te,h,ne)}var Zy=null,e0=null;function vh(o){return o.nodeType===9?o:o.ownerDocument}function r2(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i2(o,a){if(o===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&a==="foreignObject"?0:o}function t0(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var n0=null;function A4(){var o=window.event;return o&&o.type==="popstate"?o===n0?!1:(n0=o,!0):(n0=null,!1)}var s2=typeof setTimeout=="function"?setTimeout:void 0,N4=typeof clearTimeout=="function"?clearTimeout:void 0,o2=typeof Promise=="function"?Promise:void 0,M4=typeof queueMicrotask=="function"?queueMicrotask:typeof o2<"u"?function(o){return o2.resolve(null).then(o).catch(O4)}:s2;function O4(o){setTimeout(function(){throw o})}function bo(o){return o==="head"}function a2(o,a){var u=a,h=0,y=0;do{var S=u.nextSibling;if(o.removeChild(u),S&&S.nodeType===8)if(u=S.data,u==="/$"){if(0<h&&8>h){u=h;var N=o.ownerDocument;if(u&1&&Uu(N.documentElement),u&2&&Uu(N.body),u&4)for(u=N.head,Uu(u),N=u.firstChild;N;){var z=N.nextSibling,F=N.nodeName;N[Ne]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&N.rel.toLowerCase()==="stylesheet"||u.removeChild(N),N=z}}if(y===0){o.removeChild(S),Gu(a);return}y--}else u==="$"||u==="$?"||u==="$!"?y++:h=u.charCodeAt(0)-48;else h=0;u=S}while(u);Gu(a)}function r0(o){var a=o.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":r0(u),Ee(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}o.removeChild(u)}}function _4(o,a,u,h){for(;o.nodeType===1;){var y=u;if(o.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(h){if(!o[Ne])switch(a){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(S=o.getAttribute("rel"),S==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(S!==y.rel||o.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||o.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||o.getAttribute("title")!==(y.title==null?null:y.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(S=o.getAttribute("src"),(S!==(y.src==null?null:y.src)||o.getAttribute("type")!==(y.type==null?null:y.type)||o.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&S&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(a==="input"&&o.type==="hidden"){var S=y.name==null?null:""+y.name;if(y.type==="hidden"&&o.getAttribute("name")===S)return o}else return o;if(o=ti(o.nextSibling),o===null)break}return null}function R4(o,a,u){if(a==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=ti(o.nextSibling),o===null))return null;return o}function i0(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function D4(o,a){var u=o.ownerDocument;if(o.data!=="$?"||u.readyState==="complete")a();else{var h=function(){a(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),o._reactRetry=h}}function ti(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return o}var s0=null;function l2(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var u=o.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return o;a--}else u==="/$"&&a++}o=o.previousSibling}return null}function c2(o,a,u){switch(a=vh(u),o){case"html":if(o=a.documentElement,!o)throw Error(r(452));return o;case"head":if(o=a.head,!o)throw Error(r(453));return o;case"body":if(o=a.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Uu(o){for(var a=o.attributes;a.length;)o.removeAttributeNode(a[0]);Ee(o)}var zr=new Map,u2=new Set;function bh(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var bs=oe.d;oe.d={f:I4,r:j4,D:L4,C:P4,L:z4,m:U4,X:H4,S:B4,M:V4};function I4(){var o=bs.f(),a=uh();return o||a}function j4(o){var a=tt(o);a!==null&&a.tag===5&&a.type==="form"?OS(a):bs.r(o)}var ic=typeof document>"u"?null:document;function d2(o,a,u){var h=ic;if(h&&typeof a=="string"&&a){var y=Kt(a);y='link[rel="'+o+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),u2.has(y)||(u2.add(y),o={rel:o,crossOrigin:u,href:a},h.querySelector(y)===null&&(a=h.createElement("link"),wn(a,"link",o),Fe(a),h.head.appendChild(a)))}}function L4(o){bs.D(o),d2("dns-prefetch",o,null)}function P4(o,a){bs.C(o,a),d2("preconnect",o,a)}function z4(o,a,u){bs.L(o,a,u);var h=ic;if(h&&o&&a){var y='link[rel="preload"][as="'+Kt(a)+'"]';a==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Kt(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Kt(u.imageSizes)+'"]')):y+='[href="'+Kt(o)+'"]';var S=y;switch(a){case"style":S=sc(o);break;case"script":S=oc(o)}zr.has(S)||(o=p({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:o,as:a},u),zr.set(S,o),h.querySelector(y)!==null||a==="style"&&h.querySelector(Bu(S))||a==="script"&&h.querySelector(Hu(S))||(a=h.createElement("link"),wn(a,"link",o),Fe(a),h.head.appendChild(a)))}}function U4(o,a){bs.m(o,a);var u=ic;if(u&&o){var h=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+Kt(h)+'"][href="'+Kt(o)+'"]',S=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=oc(o)}if(!zr.has(S)&&(o=p({rel:"modulepreload",href:o},a),zr.set(S,o),u.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Hu(S)))return}h=u.createElement("link"),wn(h,"link",o),Fe(h),u.head.appendChild(h)}}}function B4(o,a,u){bs.S(o,a,u);var h=ic;if(h&&o){var y=ut(h).hoistableStyles,S=sc(o);a=a||"default";var N=y.get(S);if(!N){var z={loading:0,preload:null};if(N=h.querySelector(Bu(S)))z.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":a},u),(u=zr.get(S))&&o0(o,u);var F=N=h.createElement("link");Fe(F),wn(F,"link",o),F._p=new Promise(function(Z,se){F.onload=Z,F.onerror=se}),F.addEventListener("load",function(){z.loading|=1}),F.addEventListener("error",function(){z.loading|=2}),z.loading|=4,wh(N,a,h)}N={type:"stylesheet",instance:N,count:1,state:z},y.set(S,N)}}}function H4(o,a){bs.X(o,a);var u=ic;if(u&&o){var h=ut(u).hoistableScripts,y=oc(o),S=h.get(y);S||(S=u.querySelector(Hu(y)),S||(o=p({src:o,async:!0},a),(a=zr.get(y))&&a0(o,a),S=u.createElement("script"),Fe(S),wn(S,"link",o),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},h.set(y,S))}}function V4(o,a){bs.M(o,a);var u=ic;if(u&&o){var h=ut(u).hoistableScripts,y=oc(o),S=h.get(y);S||(S=u.querySelector(Hu(y)),S||(o=p({src:o,async:!0,type:"module"},a),(a=zr.get(y))&&a0(o,a),S=u.createElement("script"),Fe(S),wn(S,"link",o),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},h.set(y,S))}}function f2(o,a,u,h){var y=(y=je.current)?bh(y):null;if(!y)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=sc(u.href),u=ut(y).hoistableStyles,h=u.get(a),h||(h={type:"style",instance:null,count:0,state:null},u.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){o=sc(u.href);var S=ut(y).hoistableStyles,N=S.get(o);if(N||(y=y.ownerDocument||y,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(o,N),(S=y.querySelector(Bu(o)))&&!S._p&&(N.instance=S,N.state.loading=5),zr.has(o)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},zr.set(o,u),S||$4(y,o,u,N.state))),a&&h===null)throw Error(r(528,""));return N}if(a&&h!==null)throw Error(r(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=oc(u),u=ut(y).hoistableScripts,h=u.get(a),h||(h={type:"script",instance:null,count:0,state:null},u.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function sc(o){return'href="'+Kt(o)+'"'}function Bu(o){return'link[rel="stylesheet"]['+o+"]"}function h2(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function $4(o,a,u,h){o.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=o.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),wn(a,"link",u),Fe(a),o.head.appendChild(a))}function oc(o){return'[src="'+Kt(o)+'"]'}function Hu(o){return"script[async]"+o}function p2(o,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var h=o.querySelector('style[data-href~="'+Kt(u.href)+'"]');if(h)return a.instance=h,Fe(h),h;var y=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(o.ownerDocument||o).createElement("style"),Fe(h),wn(h,"style",y),wh(h,u.precedence,o),a.instance=h;case"stylesheet":y=sc(u.href);var S=o.querySelector(Bu(y));if(S)return a.state.loading|=4,a.instance=S,Fe(S),S;h=h2(u),(y=zr.get(y))&&o0(h,y),S=(o.ownerDocument||o).createElement("link"),Fe(S);var N=S;return N._p=new Promise(function(z,F){N.onload=z,N.onerror=F}),wn(S,"link",h),a.state.loading|=4,wh(S,u.precedence,o),a.instance=S;case"script":return S=oc(u.src),(y=o.querySelector(Hu(S)))?(a.instance=y,Fe(y),y):(h=u,(y=zr.get(S))&&(h=p({},u),a0(h,y)),o=o.ownerDocument||o,y=o.createElement("script"),Fe(y),wn(y,"link",h),o.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,wh(h,u.precedence,o));return a.instance}function wh(o,a,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,S=y,N=0;N<h.length;N++){var z=h[N];if(z.dataset.precedence===a)S=z;else if(S!==y)break}S?S.parentNode.insertBefore(o,S.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(o,a.firstChild))}function o0(o,a){o.crossOrigin==null&&(o.crossOrigin=a.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=a.referrerPolicy),o.title==null&&(o.title=a.title)}function a0(o,a){o.crossOrigin==null&&(o.crossOrigin=a.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=a.referrerPolicy),o.integrity==null&&(o.integrity=a.integrity)}var Sh=null;function m2(o,a,u){if(Sh===null){var h=new Map,y=Sh=new Map;y.set(u,h)}else y=Sh,h=y.get(u),h||(h=new Map,y.set(u,h));if(h.has(o))return h;for(h.set(o,null),u=u.getElementsByTagName(o),y=0;y<u.length;y++){var S=u[y];if(!(S[Ne]||S[ue]||o==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var N=S.getAttribute(a)||"";N=o+N;var z=h.get(N);z?z.push(S):h.set(N,[S])}}return h}function g2(o,a,u){o=o.ownerDocument||o,o.head.insertBefore(u,a==="title"?o.querySelector("head > title"):null)}function F4(o,a,u){if(u===1||a.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return o=a.disabled,typeof a.precedence=="string"&&o==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function y2(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Vu=null;function q4(){}function W4(o,a,u){if(Vu===null)throw Error(r(475));var h=Vu;if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var y=sc(u.href),S=o.querySelector(Bu(y));if(S){o=S._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(h.count++,h=xh.bind(h),o.then(h,h)),a.state.loading|=4,a.instance=S,Fe(S);return}S=o.ownerDocument||o,u=h2(u),(y=zr.get(y))&&o0(u,y),S=S.createElement("link"),Fe(S);var N=S;N._p=new Promise(function(z,F){N.onload=z,N.onerror=F}),wn(S,"link",u),a.instance=S}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(a,o),(o=a.state.preload)&&(a.state.loading&3)===0&&(h.count++,a=xh.bind(h),o.addEventListener("load",a),o.addEventListener("error",a))}}function G4(){if(Vu===null)throw Error(r(475));var o=Vu;return o.stylesheets&&o.count===0&&l0(o,o.stylesheets),0<o.count?function(a){var u=setTimeout(function(){if(o.stylesheets&&l0(o,o.stylesheets),o.unsuspend){var h=o.unsuspend;o.unsuspend=null,h()}},6e4);return o.unsuspend=a,function(){o.unsuspend=null,clearTimeout(u)}}:null}function xh(){if(this.count--,this.count===0){if(this.stylesheets)l0(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Eh=null;function l0(o,a){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Eh=new Map,a.forEach(K4,o),Eh=null,xh.call(o))}function K4(o,a){if(!(a.state.loading&4)){var u=Eh.get(o);if(u)var h=u.get(null);else{u=new Map,Eh.set(o,u);for(var y=o.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<y.length;S++){var N=y[S];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(u.set(N.dataset.precedence,N),h=N)}h&&u.set(null,h)}y=a.instance,N=y.getAttribute("data-precedence"),S=u.get(N)||h,S===h&&u.set(null,y),u.set(N,y),this.count++,h=xh.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),S?S.parentNode.insertBefore(y,S.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(y,o.firstChild)),a.state.loading|=4}}var $u={$$typeof:L,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function Y4(o,a,u,h,y,S,N,z){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kr(0),this.hiddenUpdates=kr(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=S,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function v2(o,a,u,h,y,S,N,z,F,Z,se,le){return o=new Y4(o,a,u,N,z,F,Z,le),a=1,S===!0&&(a|=24),S=cr(3,null,null,a),o.current=S,S.stateNode=o,a=$g(),a.refCount++,o.pooledCache=a,a.refCount++,S.memoizedState={element:h,isDehydrated:u,cache:a},Gg(S),o}function b2(o){return o?(o=Pl,o):Pl}function w2(o,a,u,h,y,S){y=b2(y),h.context===null?h.context=y:h.pendingContext=y,h=so(a),h.payload={element:u},S=S===void 0?null:S,S!==null&&(h.callback=S),u=oo(o,h,a),u!==null&&(pr(u,o,a),bu(u,o,a))}function S2(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var u=o.retryLane;o.retryLane=u!==0&&u<a?u:a}}function c0(o,a){S2(o,a),(o=o.alternate)&&S2(o,a)}function x2(o){if(o.tag===13){var a=Ll(o,67108864);a!==null&&pr(a,o,67108864),c0(o,67108864)}}var Th=!0;function X4(o,a,u,h){var y=G.T;G.T=null;var S=oe.p;try{oe.p=2,u0(o,a,u,h)}finally{oe.p=S,G.T=y}}function J4(o,a,u,h){var y=G.T;G.T=null;var S=oe.p;try{oe.p=8,u0(o,a,u,h)}finally{oe.p=S,G.T=y}}function u0(o,a,u,h){if(Th){var y=d0(h);if(y===null)Jy(o,a,h,Ch,u),T2(o,h);else if(Z4(y,o,a,u,h))h.stopPropagation();else if(T2(o,h),a&4&&-1<Q4.indexOf(o)){for(;y!==null;){var S=tt(y);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var N=ir(S.pendingLanes);if(N!==0){var z=S;for(z.pendingLanes|=2,z.entangledLanes|=2;N;){var F=1<<31-Gt(N);z.entanglements[1]|=F,N&=~F}Oi(S),(yt&6)===0&&(lh=Dn()+500,Lu(0))}}break;case 13:z=Ll(S,2),z!==null&&pr(z,S,2),uh(),c0(S,2)}if(S=d0(h),S===null&&Jy(o,a,h,Ch,u),S===y)break;y=S}y!==null&&h.stopPropagation()}else Jy(o,a,h,null,u)}}function d0(o){return o=Mr(o),f0(o)}var Ch=null;function f0(o){if(Ch=null,o=qe(o),o!==null){var a=s(o);if(a===null)o=null;else{var u=a.tag;if(u===13){if(o=l(a),o!==null)return o;o=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null)}}return Ch=o,null}function E2(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jc()){case ha:return 2;case qs:return 8;case Ki:case Kr:return 32;case Er:return 268435456;default:return 32}default:return 32}}var h0=!1,wo=null,So=null,xo=null,Fu=new Map,qu=new Map,Eo=[],Q4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function T2(o,a){switch(o){case"focusin":case"focusout":wo=null;break;case"dragenter":case"dragleave":So=null;break;case"mouseover":case"mouseout":xo=null;break;case"pointerover":case"pointerout":Fu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":qu.delete(a.pointerId)}}function Wu(o,a,u,h,y,S){return o===null||o.nativeEvent!==S?(o={blockedOn:a,domEventName:u,eventSystemFlags:h,nativeEvent:S,targetContainers:[y]},a!==null&&(a=tt(a),a!==null&&x2(a)),o):(o.eventSystemFlags|=h,a=o.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),o)}function Z4(o,a,u,h,y){switch(a){case"focusin":return wo=Wu(wo,o,a,u,h,y),!0;case"dragenter":return So=Wu(So,o,a,u,h,y),!0;case"mouseover":return xo=Wu(xo,o,a,u,h,y),!0;case"pointerover":var S=y.pointerId;return Fu.set(S,Wu(Fu.get(S)||null,o,a,u,h,y)),!0;case"gotpointercapture":return S=y.pointerId,qu.set(S,Wu(qu.get(S)||null,o,a,u,h,y)),!0}return!1}function C2(o){var a=qe(o.target);if(a!==null){var u=s(a);if(u!==null){if(a=u.tag,a===13){if(a=l(u),a!==null){o.blockedOn=a,X(o.priority,function(){if(u.tag===13){var h=hr();h=Ji(h);var y=Ll(u,h);y!==null&&pr(y,u,h),c0(u,h)}});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){o.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}o.blockedOn=null}function kh(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var u=d0(o.nativeEvent);if(u===null){u=o.nativeEvent;var h=new u.constructor(u.type,u);Zi=h,u.target.dispatchEvent(h),Zi=null}else return a=tt(u),a!==null&&x2(a),o.blockedOn=u,!1;a.shift()}return!0}function k2(o,a,u){kh(o)&&u.delete(a)}function eD(){h0=!1,wo!==null&&kh(wo)&&(wo=null),So!==null&&kh(So)&&(So=null),xo!==null&&kh(xo)&&(xo=null),Fu.forEach(k2),qu.forEach(k2)}function Ah(o,a){o.blockedOn===a&&(o.blockedOn=null,h0||(h0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,eD)))}var Nh=null;function A2(o){Nh!==o&&(Nh=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Nh===o&&(Nh=null);for(var a=0;a<o.length;a+=3){var u=o[a],h=o[a+1],y=o[a+2];if(typeof h!="function"){if(f0(h||u)===null)continue;break}var S=tt(u);S!==null&&(o.splice(a,3),a-=3,fy(S,{pending:!0,data:y,method:u.method,action:h},h,y))}}))}function Gu(o){function a(F){return Ah(F,o)}wo!==null&&Ah(wo,o),So!==null&&Ah(So,o),xo!==null&&Ah(xo,o),Fu.forEach(a),qu.forEach(a);for(var u=0;u<Eo.length;u++){var h=Eo[u];h.blockedOn===o&&(h.blockedOn=null)}for(;0<Eo.length&&(u=Eo[0],u.blockedOn===null);)C2(u),u.blockedOn===null&&Eo.shift();if(u=(o.ownerDocument||o).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var y=u[h],S=u[h+1],N=y[pe]||null;if(typeof S=="function")N||A2(u);else if(N){var z=null;if(S&&S.hasAttribute("formAction")){if(y=S,N=S[pe]||null)z=N.formAction;else if(f0(y)!==null)continue}else z=N.action;typeof z=="function"?u[h+1]=z:(u.splice(h,3),h-=3),A2(u)}}}function p0(o){this._internalRoot=o}Mh.prototype.render=p0.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(r(409));var u=a.current,h=hr();w2(u,h,o,a,null,null)},Mh.prototype.unmount=p0.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;w2(o.current,2,null,o,null,null),uh(),a[we]=null}};function Mh(o){this._internalRoot=o}Mh.prototype.unstable_scheduleHydration=function(o){if(o){var a=W();o={blockedOn:null,target:o,priority:a};for(var u=0;u<Eo.length&&a!==0&&a<Eo[u].priority;u++);Eo.splice(u,0,o),u===0&&C2(o)}};var N2=e.version;if(N2!=="19.1.1")throw Error(r(527,N2,"19.1.1"));oe.findDOMNode=function(o){var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(a),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var tD={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{ct=Oh.inject(tD),Ke=Oh}catch{}}return Yu.createRoot=function(o,a){if(!i(o))throw Error(r(299));var u=!1,h="",y=FS,S=qS,N=WS,z=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(N=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(z=a.unstable_transitionCallbacks)),a=v2(o,1,!1,null,null,u,h,y,S,N,z,null),o[we]=a.current,Xy(o),new p0(a)},Yu.hydrateRoot=function(o,a,u){if(!i(o))throw Error(r(299));var h=!1,y="",S=FS,N=qS,z=WS,F=null,Z=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(S=u.onUncaughtError),u.onCaughtError!==void 0&&(N=u.onCaughtError),u.onRecoverableError!==void 0&&(z=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(F=u.unstable_transitionCallbacks),u.formState!==void 0&&(Z=u.formState)),a=v2(o,1,!0,a,u??null,h,y,S,N,z,F,Z),a.context=b2(null),u=a.current,h=hr(),h=Ji(h),y=so(h),y.callback=null,oo(u,y,h),u=h,a.current.lanes=u,Yr(a,u),Oi(a),o[we]=a.current,Xy(o),new Mh(a)},Yu.version="19.1.1",Yu}var z2;function dD(){if(z2)return y0.exports;z2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),y0.exports=uD(),y0.exports}var fD=dD();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Rk=t=>{throw TypeError(t)},hD=(t,e,n)=>e.has(t)||Rk("Cannot "+n),S0=(t,e,n)=>(hD(t,e,"read from private field"),n?n.call(t):e.get(t)),pD=(t,e,n)=>e.has(t)?Rk("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),U2="popstate";function mD(t={}){function e(r,i){let{pathname:s,search:l,hash:c}=r.location;return Cd("",{pathname:s,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ta(i)}return yD(e,n,null,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function en(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gD(){return Math.random().toString(36).substring(2,10)}function B2(t,e){return{usr:t.state,key:t.key,idx:e}}function Cd(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?oa(e):e,state:n,key:e&&e.key||r||gD()}}function ta({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function oa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function yD(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,c="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function m(){c="POP";let C=p(),_=C==null?null:C-f;f=C,d&&d({action:c,location:E.location,delta:_})}function v(C,_){c="PUSH";let I=Cd(E.location,C,_);f=p()+1;let L=B2(I,f),U=E.createHref(I);try{l.pushState(L,"",U)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(U)}s&&d&&d({action:c,location:E.location,delta:1})}function w(C,_){c="REPLACE";let I=Cd(E.location,C,_);f=p();let L=B2(I,f),U=E.createHref(I);l.replaceState(L,"",U),s&&d&&d({action:c,location:E.location,delta:0})}function x(C){return Dk(C)}let E={get action(){return c},get location(){return t(i,l)},listen(C){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(U2,m),d=C,()=>{i.removeEventListener(U2,m),d=null}},createHref(C){return e(i,C)},createURL:x,encodeLocation(C){let _=x(C);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:v,replace:w,go(C){return l.go(C)}};return E}function Dk(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Je(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ta(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var ed,H2=class{constructor(t){if(pD(this,ed,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(S0(this,ed).has(t))return S0(this,ed).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){S0(this,ed).set(t,e)}};ed=new WeakMap;var vD=new Set(["lazy","caseSensitive","path","id","index","children"]);function bD(t){return vD.has(t)}var wD=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function SD(t){return wD.has(t)}function xD(t){return t.index===!0}function kd(t,e,n=[],r={},i=!1){return t.map((s,l)=>{let c=[...n,String(l)],d=typeof s.id=="string"?s.id:c.join("-");if(Je(s.index!==!0||!s.children,"Cannot specify children on an index route"),Je(i||!r[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),xD(s)){let f={...s,...e(s),id:d};return r[d]=f,f}else{let f={...s,...e(s),id:d,children:void 0};return r[d]=f,s.children&&(f.children=kd(s.children,e,c,r,i)),f}})}function jo(t,e,n="/"){return dp(t,e,n,!1)}function dp(t,e,n,r){let i=typeof e=="string"?oa(e):e,s=rr(i.pathname||"/",n);if(s==null)return null;let l=jk(t);ED(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=Pk(s);c=RD(l[d],f,r)}return c}function Ik(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function jk(t,e=[],n=[],r="",i=!1){let s=(l,c,d=i,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;Je(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let m=zi([r,p.relativePath]),v=n.concat(p);l.children&&l.children.length>0&&(Je(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),jk(l.children,e,v,m,d)),!(l.path==null&&!l.index)&&e.push({path:m,score:OD(m,l.index),routesMeta:v})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))s(l,c);else for(let d of Lk(l.path))s(l,c,!0,d)}),e}function Lk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=Lk(r.join("/")),c=[];return c.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function ED(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_D(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var TD=/^:[\w-]+$/,CD=3,kD=2,AD=1,ND=10,MD=-2,V2=t=>t==="*";function OD(t,e){let n=t.split("/"),r=n.length;return n.some(V2)&&(r+=MD),e&&(r+=kD),n.filter(i=>!V2(i)).reduce((i,s)=>i+(TD.test(s)?CD:s===""?AD:ND),r)}function _D(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function RD(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",m=Ad({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),v=d.route;if(!m&&f&&n&&!r[r.length-1].route.index&&(m=Ad({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:zi([s,m.pathname]),pathnameBase:PD(zi([s,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(s=zi([s,m.pathnameBase]))}return l}function Ad(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=DD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:m},v)=>{if(p==="*"){let x=c[v]||"";l=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const w=c[v];return m&&!w?f[p]=void 0:f[p]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:t}}function DD(t,e=!1,n=!0){en(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Pk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return en(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function rr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ID({basename:t,pathname:e}){return e==="/"?t:zi([t,e])}function jD(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?oa(t):t;return{pathname:n?n.startsWith("/")?n:LD(n,e):e,search:zD(r),hash:UD(i)}}function LD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function x0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Rv(t){let e=zk(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Dv(t,e,n,r=!1){let i;typeof t=="string"?i=oa(t):(i={...t},Je(!i.pathname||!i.pathname.includes("?"),x0("?","pathname","search",i)),Je(!i.pathname||!i.pathname.includes("#"),x0("#","pathname","hash",i)),Je(!i.search||!i.search.includes("#"),x0("#","search","hash",i)));let s=t===""||i.pathname==="",l=s?"/":i.pathname,c;if(l==null)c=n;else{let m=e.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),m-=1;i.pathname=v.join("/")}c=m>=0?e[m]:"/"}let d=jD(i,c),f=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var zi=t=>t.join("/").replace(/\/\/+/g,"/"),PD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),zD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,BD=(t,e=302)=>{let n=e;typeof n=="number"?n={status:n}:typeof n.status>"u"&&(n.status=302);let r=new Headers(n.headers);return r.set("Location",t),new Response(null,{...n,headers:r})},_p=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Nd(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Uk=["POST","PUT","PATCH","DELETE"],HD=new Set(Uk),VD=["GET",...Uk],$D=new Set(VD),FD=new Set([301,302,303,307,308]),qD=new Set([307,308]),E0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},WD={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},GD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Iv=t=>GD.test(t),KD=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Bk="remix-router-transitions",Hk=Symbol("ResetLoaderData");function YD(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Je(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||KD,s={},l=kd(t.routes,i,void 0,s),c,d=t.basename||"/";d.startsWith("/")||(d=`/${d}`);let f=t.dataStrategy||e3,p={...t.future},m=null,v=new Set,w=null,x=null,E=null,C=t.hydrationData!=null,_=jo(l,t.history.location,d),I=!1,L=null,U;if(_==null&&!t.patchRoutesOnNavigation){let W=Hr(404,{pathname:t.history.location.pathname}),{matches:X,route:ee}=_h(l);U=!0,_=X,L={[ee.id]:W}}else if(_&&!t.hydrationData&&Wn(_,l,t.history.location.pathname).active&&(_=null),_)if(_.some(W=>W.route.lazy))U=!1;else if(!_.some(W=>W.route.loader))U=!0;else{let W=t.hydrationData?t.hydrationData.loaderData:null,X=t.hydrationData?t.hydrationData.errors:null;if(X){let ee=_.findIndex(ue=>X[ue.route.id]!==void 0);U=_.slice(0,ee+1).every(ue=>!_1(ue.route,W,X))}else U=_.every(ee=>!_1(ee.route,W,X))}else{U=!1,_=[];let W=Wn(null,l,t.history.location.pathname);W.active&&W.matches&&(I=!0,_=W.matches)}let P,j={historyAction:t.history.action,location:t.history.location,matches:_,initialized:U,navigation:E0,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||L,fetchers:new Map,blockers:new Map},R="POP",O=!1,D,M=!1,V=new Map,$=null,B=!1,ye=!1,me=new Set,G=new Map,oe=0,ce=-1,Ce=new Map,q=new Set,ie=new Map,he=new Map,de=new Set,xe=new Map,$e,je=null;function Nt(){if(m=t.history.listen(({action:W,location:X,delta:ee})=>{if($e){$e(),$e=void 0;return}en(xe.size===0||ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ue=Ks({currentLocation:j.location,nextLocation:X,historyAction:W});if(ue&&ee!=null){let pe=new Promise(we=>{$e=we});t.history.go(ee*-1),Cr(ue,{state:"blocked",location:X,proceed(){Cr(ue,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),pe.then(()=>t.history.go(ee))},reset(){let we=new Map(j.blockers);we.set(ue,hc),Ct({blockers:we})}});return}return Rn(W,X)}),n){m3(e,V);let W=()=>g3(e,V);e.addEventListener("pagehide",W),$=()=>e.removeEventListener("pagehide",W)}return j.initialized||Rn("POP",j.location,{initialHydration:!0}),P}function lt(){m&&m(),$&&$(),v.clear(),D&&D.abort(),j.fetchers.forEach((W,X)=>Gt(X)),j.blockers.forEach((W,X)=>Yi(X))}function Fn(W){return v.add(W),()=>v.delete(W)}function Ct(W,X={}){W.matches&&(W.matches=W.matches.map(pe=>{let we=s[pe.route.id],Me=pe.route;return Me.element!==we.element||Me.errorElement!==we.errorElement||Me.hydrateFallbackElement!==we.hydrateFallbackElement?{...pe,route:we}:pe})),j={...j,...W};let ee=[],ue=[];j.fetchers.forEach((pe,we)=>{pe.state==="idle"&&(de.has(we)?ee.push(we):ue.push(we))}),de.forEach(pe=>{!j.fetchers.has(pe)&&!G.has(pe)&&ee.push(pe)}),[...v].forEach(pe=>pe(j,{deletedFetchers:ee,viewTransitionOpts:X.viewTransitionOpts,flushSync:X.flushSync===!0})),ee.forEach(pe=>Gt(pe)),ue.forEach(pe=>j.fetchers.delete(pe))}function sn(W,X,{flushSync:ee}={}){let ue=j.actionData!=null&&j.navigation.formMethod!=null&&Zn(j.navigation.formMethod)&&j.navigation.state==="loading"&&W.state?._isRedirect!==!0,pe;X.actionData?Object.keys(X.actionData).length>0?pe=X.actionData:pe=null:ue?pe=j.actionData:pe=null;let we=X.loaderData?Q2(j.loaderData,X.loaderData,X.matches||[],X.errors):j.loaderData,Me=j.blockers;Me.size>0&&(Me=new Map(Me),Me.forEach((Ne,Ee)=>Me.set(Ee,hc)));let ke=B?!1:Ys(W,X.matches||j.matches),Ae=O===!0||j.navigation.formMethod!=null&&Zn(j.navigation.formMethod)&&W.state?._isRedirect!==!0;c&&(l=c,c=void 0),B||R==="POP"||(R==="PUSH"?t.history.push(W,W.state):R==="REPLACE"&&t.history.replace(W,W.state));let Le;if(R==="POP"){let Ne=V.get(j.location.pathname);Ne&&Ne.has(W.pathname)?Le={currentLocation:j.location,nextLocation:W}:V.has(W.pathname)&&(Le={currentLocation:W,nextLocation:j.location})}else if(M){let Ne=V.get(j.location.pathname);Ne?Ne.add(W.pathname):(Ne=new Set([W.pathname]),V.set(j.location.pathname,Ne)),Le={currentLocation:j.location,nextLocation:W}}Ct({...X,actionData:pe,loaderData:we,historyAction:R,location:W,initialized:!0,navigation:E0,revalidation:"idle",restoreScrollPosition:ke,preventScrollReset:Ae,blockers:Me},{viewTransitionOpts:Le,flushSync:ee===!0}),R="POP",O=!1,M=!1,B=!1,ye=!1,je?.resolve(),je=null}async function xr(W,X){if(typeof W=="number"){t.history.go(W);return}let ee=O1(j.location,j.matches,d,W,X?.fromRouteId,X?.relative),{path:ue,submission:pe,error:we}=$2(!1,ee,X),Me=j.location,ke=Cd(j.location,ue,X&&X.state);ke={...ke,...t.history.encodeLocation(ke)};let Ae=X&&X.replace!=null?X.replace:void 0,Le="PUSH";Ae===!0?Le="REPLACE":Ae===!1||pe!=null&&Zn(pe.formMethod)&&pe.formAction===j.location.pathname+j.location.search&&(Le="REPLACE");let Ne=X&&"preventScrollReset"in X?X.preventScrollReset===!0:void 0,Ee=(X&&X.flushSync)===!0,qe=Ks({currentLocation:Me,nextLocation:ke,historyAction:Le});if(qe){Cr(qe,{state:"blocked",location:ke,proceed(){Cr(qe,{state:"proceeding",proceed:void 0,reset:void 0,location:ke}),xr(W,X)},reset(){let tt=new Map(j.blockers);tt.set(qe,hc),Ct({blockers:tt})}});return}await Rn(Le,ke,{submission:pe,pendingError:we,preventScrollReset:Ne,replace:X&&X.replace,enableViewTransition:X&&X.viewTransition,flushSync:Ee})}function qn(){je||(je=y3()),Gs(),Ct({revalidation:"loading"});let W=je.promise;return j.navigation.state==="submitting"?W:j.navigation.state==="idle"?(Rn(j.historyAction,j.location,{startUninterruptedRevalidation:!0}),W):(Rn(R||j.historyAction,j.navigation.location,{overrideNavigation:j.navigation,enableViewTransition:M===!0}),W)}async function Rn(W,X,ee){D&&D.abort(),D=null,R=W,B=(ee&&ee.startUninterruptedRevalidation)===!0,Yr(j.location,j.matches),O=(ee&&ee.preventScrollReset)===!0,M=(ee&&ee.enableViewTransition)===!0;let ue=c||l,pe=ee&&ee.overrideNavigation,we=ee?.initialHydration&&j.matches&&j.matches.length>0&&!I?j.matches:jo(ue,X,d),Me=(ee&&ee.flushSync)===!0;if(we&&j.initialized&&!ye&&l3(j.location,X)&&!(ee&&ee.submission&&Zn(ee.submission.formMethod))){sn(X,{matches:we},{flushSync:Me});return}let ke=Wn(we,ue,X.pathname);if(ke.active&&ke.matches&&(we=ke.matches),!we){let{error:ut,notFoundMatches:Fe,route:dt}=Xi(X.pathname);sn(X,{matches:Fe,loaderData:{},errors:{[dt.id]:ut}},{flushSync:Me});return}D=new AbortController;let Ae=pc(t.history,X,D.signal,ee&&ee.submission),Le=t.unstable_getContext?await t.unstable_getContext():new H2,Ne;if(ee&&ee.pendingError)Ne=[Lo(we).route.id,{type:"error",error:ee.pendingError}];else if(ee&&ee.submission&&Zn(ee.submission.formMethod)){let ut=await fa(Ae,X,ee.submission,we,Le,ke.active,ee&&ee.initialHydration===!0,{replace:ee.replace,flushSync:Me});if(ut.shortCircuited)return;if(ut.pendingActionResult){let[Fe,dt]=ut.pendingActionResult;if(gr(dt)&&Nd(dt.error)&&dt.error.status===404){D=null,sn(X,{matches:ut.matches,loaderData:{},errors:{[Fe]:dt.error}});return}}we=ut.matches||we,Ne=ut.pendingActionResult,pe=T0(X,ee.submission),Me=!1,ke.active=!1,Ae=pc(t.history,Ae.url,Ae.signal)}let{shortCircuited:Ee,matches:qe,loaderData:tt,errors:mt}=await Sl(Ae,X,we,Le,ke.active,pe,ee&&ee.submission,ee&&ee.fetcherSubmission,ee&&ee.replace,ee&&ee.initialHydration===!0,Me,Ne);Ee||(D=null,sn(X,{matches:qe||we,...Z2(Ne),loaderData:tt,errors:mt}))}async function fa(W,X,ee,ue,pe,we,Me,ke={}){Gs();let Ae=h3(X,ee);if(Ct({navigation:Ae},{flushSync:ke.flushSync===!0}),we){let Ee=await bi(ue,X.pathname,W.signal);if(Ee.type==="aborted")return{shortCircuited:!0};if(Ee.type==="error"){if(Ee.partialMatches.length===0){let{matches:tt,route:mt}=_h(l);return{matches:tt,pendingActionResult:[mt.id,{type:"error",error:Ee.error}]}}let qe=Lo(Ee.partialMatches).route.id;return{matches:Ee.partialMatches,pendingActionResult:[qe,{type:"error",error:Ee.error}]}}else if(Ee.matches)ue=Ee.matches;else{let{notFoundMatches:qe,error:tt,route:mt}=Xi(X.pathname);return{matches:qe,pendingActionResult:[mt.id,{type:"error",error:tt}]}}}let Le,Ne=fp(ue,X);if(!Ne.route.action&&!Ne.route.lazy)Le={type:"error",error:Hr(405,{method:W.method,pathname:X.pathname,routeId:Ne.route.id})};else{let Ee=Ec(i,s,W,ue,Ne,Me?[]:r,pe),qe=await Er(W,Ee,pe,null);if(Le=qe[Ne.route.id],!Le){for(let tt of ue)if(qe[tt.route.id]){Le=qe[tt.route.id];break}}if(W.signal.aborted)return{shortCircuited:!0}}if(qa(Le)){let Ee;return ke&&ke.replace!=null?Ee=ke.replace:Ee=Y2(Le.response.headers.get("Location"),new URL(W.url),d)===j.location.pathname+j.location.search,await Kr(W,Le,!0,{submission:ee,replace:Ee}),{shortCircuited:!0}}if(gr(Le)){let Ee=Lo(ue,Ne.route.id);return(ke&&ke.replace)!==!0&&(R="PUSH"),{matches:ue,pendingActionResult:[Ee.route.id,Le,Ne.route.id]}}return{matches:ue,pendingActionResult:[Ne.route.id,Le]}}async function Sl(W,X,ee,ue,pe,we,Me,ke,Ae,Le,Ne,Ee){let qe=we||T0(X,Me),tt=Me||ke||tE(qe),mt=!B&&!Le;if(pe){if(mt){let Dt=Dn(Ee);Ct({navigation:qe,...Dt!==void 0?{actionData:Dt}:{}},{flushSync:Ne})}let ze=await bi(ee,X.pathname,W.signal);if(ze.type==="aborted")return{shortCircuited:!0};if(ze.type==="error"){if(ze.partialMatches.length===0){let{matches:Xr,route:yn}=_h(l);return{matches:Xr,loaderData:{},errors:{[yn.id]:ze.error}}}let Dt=Lo(ze.partialMatches).route.id;return{matches:ze.partialMatches,loaderData:{},errors:{[Dt]:ze.error}}}else if(ze.matches)ee=ze.matches;else{let{error:Dt,notFoundMatches:Xr,route:yn}=Xi(X.pathname);return{matches:Xr,loaderData:{},errors:{[yn.id]:Dt}}}}let ut=c||l,{dsMatches:Fe,revalidatingFetchers:dt}=F2(W,ue,i,s,t.history,j,ee,tt,X,Le?[]:r,Le===!0,ye,me,de,ie,q,ut,d,t.patchRoutesOnNavigation!=null,Ee);if(ce=++oe,!t.dataStrategy&&!Fe.some(ze=>ze.shouldLoad)&&!Fe.some(ze=>ze.route.unstable_middleware)&&dt.length===0){let ze=yi();return sn(X,{matches:ee,loaderData:{},errors:Ee&&gr(Ee[1])?{[Ee[0]]:Ee[1].error}:null,...Z2(Ee),...ze?{fetchers:new Map(j.fetchers)}:{}},{flushSync:Ne}),{shortCircuited:!0}}if(mt){let ze={};if(!pe){ze.navigation=qe;let Dt=Dn(Ee);Dt!==void 0&&(ze.actionData=Dt)}dt.length>0&&(ze.fetchers=Jc(dt)),Ct(ze,{flushSync:Ne})}dt.forEach(ze=>{Tr(ze.key),ze.controller&&G.set(ze.key,ze.controller)});let Gn=()=>dt.forEach(ze=>Tr(ze.key));D&&D.signal.addEventListener("abort",Gn);let{loaderResults:gn,fetcherResults:on}=await Ws(Fe,dt,W,ue);if(W.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",Gn),dt.forEach(ze=>G.delete(ze.key));let In=Rh(gn);if(In)return await Kr(W,In.result,!0,{replace:Ae}),{shortCircuited:!0};if(In=Rh(on),In)return q.add(In.key),await Kr(W,In.result,!0,{replace:Ae}),{shortCircuited:!0};let{loaderData:Js,errors:sr}=J2(j,ee,gn,Ee,dt,on);Le&&j.errors&&(sr={...j.errors,...sr});let Ar=yi(),or=vi(ce),jn=Ar||or||dt.length>0;return{matches:ee,loaderData:Js,errors:sr,...jn?{fetchers:new Map(j.fetchers)}:{}}}function Dn(W){if(W&&!gr(W[1]))return{[W[0]]:W[1].data};if(j.actionData)return Object.keys(j.actionData).length===0?null:j.actionData}function Jc(W){return W.forEach(X=>{let ee=j.fetchers.get(X.key),ue=Xu(void 0,ee?ee.data:void 0);j.fetchers.set(X.key,ue)}),new Map(j.fetchers)}async function ha(W,X,ee,ue){Tr(W);let pe=(ue&&ue.flushSync)===!0,we=c||l,Me=O1(j.location,j.matches,d,ee,X,ue?.relative),ke=jo(we,Me,d),Ae=Wn(ke,we,Me);if(Ae.active&&Ae.matches&&(ke=Ae.matches),!ke){Ke(W,X,Hr(404,{pathname:Me}),{flushSync:pe});return}let{path:Le,submission:Ne,error:Ee}=$2(!0,Me,ue);if(Ee){Ke(W,X,Ee,{flushSync:pe});return}let qe=t.unstable_getContext?await t.unstable_getContext():new H2,tt=(ue&&ue.preventScrollReset)===!0;if(Ne&&Zn(Ne.formMethod)){await qs(W,X,Le,ke,qe,Ae.active,pe,tt,Ne);return}ie.set(W,{routeId:X,path:Le}),await Ki(W,X,Le,ke,qe,Ae.active,pe,tt,Ne)}async function qs(W,X,ee,ue,pe,we,Me,ke,Ae){Gs(),ie.delete(W);let Le=j.fetchers.get(W);ct(W,p3(Ae,Le),{flushSync:Me});let Ne=new AbortController,Ee=pc(t.history,ee,Ne.signal,Ae);if(we){let Mt=await bi(ue,new URL(Ee.url).pathname,Ee.signal,W);if(Mt.type==="aborted")return;if(Mt.type==="error"){Ke(W,X,Mt.error,{flushSync:Me});return}else if(Mt.matches)ue=Mt.matches;else{Ke(W,X,Hr(404,{pathname:ee}),{flushSync:Me});return}}let qe=fp(ue,ee);if(!qe.route.action&&!qe.route.lazy){let Mt=Hr(405,{method:Ae.formMethod,pathname:ee,routeId:X});Ke(W,X,Mt,{flushSync:Me});return}G.set(W,Ne);let tt=oe,mt=Ec(i,s,Ee,ue,qe,r,pe),Fe=(await Er(Ee,mt,pe,W))[qe.route.id];if(Ee.signal.aborted){G.get(W)===Ne&&G.delete(W);return}if(de.has(W)){if(qa(Fe)||gr(Fe)){ct(W,Mo(void 0));return}}else{if(qa(Fe))if(G.delete(W),ce>tt){ct(W,Mo(void 0));return}else return q.add(W),ct(W,Xu(Ae)),Kr(Ee,Fe,!1,{fetcherSubmission:Ae,preventScrollReset:ke});if(gr(Fe)){Ke(W,X,Fe.error);return}}let dt=j.navigation.location||j.location,Gn=pc(t.history,dt,Ne.signal),gn=c||l,on=j.navigation.state!=="idle"?jo(gn,j.navigation.location,d):j.matches;Je(on,"Didn't find any matches after fetcher action");let In=++oe;Ce.set(W,In);let Js=Xu(Ae,Fe.data);j.fetchers.set(W,Js);let{dsMatches:sr,revalidatingFetchers:Ar}=F2(Gn,pe,i,s,t.history,j,on,Ae,dt,r,!1,ye,me,de,ie,q,gn,d,t.patchRoutesOnNavigation!=null,[qe.route.id,Fe]);Ar.filter(Mt=>Mt.key!==W).forEach(Mt=>{let Jr=Mt.key,Qs=j.fetchers.get(Jr),Zs=Xu(void 0,Qs?Qs.data:void 0);j.fetchers.set(Jr,Zs),Tr(Jr),Mt.controller&&G.set(Jr,Mt.controller)}),Ct({fetchers:new Map(j.fetchers)});let or=()=>Ar.forEach(Mt=>Tr(Mt.key));Ne.signal.addEventListener("abort",or);let{loaderResults:jn,fetcherResults:ze}=await Ws(sr,Ar,Gn,pe);if(Ne.signal.aborted)return;if(Ne.signal.removeEventListener("abort",or),Ce.delete(W),G.delete(W),Ar.forEach(Mt=>G.delete(Mt.key)),j.fetchers.has(W)){let Mt=Mo(Fe.data);j.fetchers.set(W,Mt)}let Dt=Rh(jn);if(Dt)return Kr(Gn,Dt.result,!1,{preventScrollReset:ke});if(Dt=Rh(ze),Dt)return q.add(Dt.key),Kr(Gn,Dt.result,!1,{preventScrollReset:ke});let{loaderData:Xr,errors:yn}=J2(j,on,jn,void 0,Ar,ze);vi(In),j.navigation.state==="loading"&&In>ce?(Je(R,"Expected pending action"),D&&D.abort(),sn(j.navigation.location,{matches:on,loaderData:Xr,errors:yn,fetchers:new Map(j.fetchers)})):(Ct({errors:yn,loaderData:Q2(j.loaderData,Xr,on,yn),fetchers:new Map(j.fetchers)}),ye=!1)}async function Ki(W,X,ee,ue,pe,we,Me,ke,Ae){let Le=j.fetchers.get(W);ct(W,Xu(Ae,Le?Le.data:void 0),{flushSync:Me});let Ne=new AbortController,Ee=pc(t.history,ee,Ne.signal);if(we){let dt=await bi(ue,new URL(Ee.url).pathname,Ee.signal,W);if(dt.type==="aborted")return;if(dt.type==="error"){Ke(W,X,dt.error,{flushSync:Me});return}else if(dt.matches)ue=dt.matches;else{Ke(W,X,Hr(404,{pathname:ee}),{flushSync:Me});return}}let qe=fp(ue,ee);G.set(W,Ne);let tt=oe,mt=Ec(i,s,Ee,ue,qe,r,pe),Fe=(await Er(Ee,mt,pe,W))[qe.route.id];if(G.get(W)===Ne&&G.delete(W),!Ee.signal.aborted){if(de.has(W)){ct(W,Mo(void 0));return}if(qa(Fe))if(ce>tt){ct(W,Mo(void 0));return}else{q.add(W),await Kr(Ee,Fe,!1,{preventScrollReset:ke});return}if(gr(Fe)){Ke(W,X,Fe.error);return}ct(W,Mo(Fe.data))}}async function Kr(W,X,ee,{submission:ue,fetcherSubmission:pe,preventScrollReset:we,replace:Me}={}){X.response.headers.has("X-Remix-Revalidate")&&(ye=!0);let ke=X.response.headers.get("Location");Je(ke,"Expected a Location header on the redirect Response"),ke=Y2(ke,new URL(W.url),d);let Ae=Cd(j.location,ke,{_isRedirect:!0});if(n){let mt=!1;if(X.response.headers.has("X-Remix-Reload-Document"))mt=!0;else if(Iv(ke)){const ut=Dk(ke,!0);mt=ut.origin!==e.location.origin||rr(ut.pathname,d)==null}if(mt){Me?e.location.replace(ke):e.location.assign(ke);return}}D=null;let Le=Me===!0||X.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ne,formAction:Ee,formEncType:qe}=j.navigation;!ue&&!pe&&Ne&&Ee&&qe&&(ue=tE(j.navigation));let tt=ue||pe;if(qD.has(X.response.status)&&tt&&Zn(tt.formMethod))await Rn(Le,Ae,{submission:{...tt,formAction:ke},preventScrollReset:we||O,enableViewTransition:ee?M:void 0});else{let mt=T0(Ae,ue);await Rn(Le,Ae,{overrideNavigation:mt,fetcherSubmission:pe,preventScrollReset:we||O,enableViewTransition:ee?M:void 0})}}async function Er(W,X,ee,ue){let pe,we={};try{pe=await n3(f,W,X,ue,ee,!1)}catch(Me){return X.filter(ke=>ke.shouldLoad).forEach(ke=>{we[ke.route.id]={type:"error",error:Me}}),we}if(W.signal.aborted)return we;for(let[Me,ke]of Object.entries(pe))if(d3(ke)){let Ae=ke.result;we[Me]={type:"redirect",response:o3(Ae,W,Me,X,d)}}else we[Me]=await s3(ke);return we}async function Ws(W,X,ee,ue){let pe=Er(ee,W,ue,null),we=Promise.all(X.map(async Ae=>{if(Ae.matches&&Ae.match&&Ae.request&&Ae.controller){let Ne=(await Er(Ae.request,Ae.matches,ue,Ae.key))[Ae.match.route.id];return{[Ae.key]:Ne}}else return Promise.resolve({[Ae.key]:{type:"error",error:Hr(404,{pathname:Ae.path})}})})),Me=await pe,ke=(await we).reduce((Ae,Le)=>Object.assign(Ae,Le),{});return{loaderResults:Me,fetcherResults:ke}}function Gs(){ye=!0,ie.forEach((W,X)=>{G.has(X)&&me.add(X),Tr(X)})}function ct(W,X,ee={}){j.fetchers.set(W,X),Ct({fetchers:new Map(j.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function Ke(W,X,ee,ue={}){let pe=Lo(j.matches,X);Gt(W),Ct({errors:{[pe.route.id]:ee},fetchers:new Map(j.fetchers)},{flushSync:(ue&&ue.flushSync)===!0})}function Cn(W){return he.set(W,(he.get(W)||0)+1),de.has(W)&&de.delete(W),j.fetchers.get(W)||WD}function Gt(W){let X=j.fetchers.get(W);G.has(W)&&!(X&&X.state==="loading"&&Ce.has(W))&&Tr(W),ie.delete(W),Ce.delete(W),q.delete(W),de.delete(W),me.delete(W),j.fetchers.delete(W)}function xl(W){let X=(he.get(W)||0)-1;X<=0?(he.delete(W),de.add(W)):he.set(W,X),Ct({fetchers:new Map(j.fetchers)})}function Tr(W){let X=G.get(W);X&&(X.abort(),G.delete(W))}function gi(W){for(let X of W){let ee=Cn(X),ue=Mo(ee.data);j.fetchers.set(X,ue)}}function yi(){let W=[],X=!1;for(let ee of q){let ue=j.fetchers.get(ee);Je(ue,`Expected fetcher: ${ee}`),ue.state==="loading"&&(q.delete(ee),W.push(ee),X=!0)}return gi(W),X}function vi(W){let X=[];for(let[ee,ue]of Ce)if(ue<W){let pe=j.fetchers.get(ee);Je(pe,`Expected fetcher: ${ee}`),pe.state==="loading"&&(Tr(ee),Ce.delete(ee),X.push(ee))}return gi(X),X.length>0}function ir(W,X){let ee=j.blockers.get(W)||hc;return xe.get(W)!==X&&xe.set(W,X),ee}function Yi(W){j.blockers.delete(W),xe.delete(W)}function Cr(W,X){let ee=j.blockers.get(W)||hc;Je(ee.state==="unblocked"&&X.state==="blocked"||ee.state==="blocked"&&X.state==="blocked"||ee.state==="blocked"&&X.state==="proceeding"||ee.state==="blocked"&&X.state==="unblocked"||ee.state==="proceeding"&&X.state==="unblocked",`Invalid blocker state transition: ${ee.state} -> ${X.state}`);let ue=new Map(j.blockers);ue.set(W,X),Ct({blockers:ue})}function Ks({currentLocation:W,nextLocation:X,historyAction:ee}){if(xe.size===0)return;xe.size>1&&en(!1,"A router only supports one blocker at a time");let ue=Array.from(xe.entries()),[pe,we]=ue[ue.length-1],Me=j.blockers.get(pe);if(!(Me&&Me.state==="proceeding")&&we({currentLocation:W,nextLocation:X,historyAction:ee}))return pe}function Xi(W){let X=Hr(404,{pathname:W}),ee=c||l,{matches:ue,route:pe}=_h(ee);return{notFoundMatches:ue,route:pe,error:X}}function El(W,X,ee){if(w=W,E=X,x=ee||null,!C&&j.navigation===E0){C=!0;let ue=Ys(j.location,j.matches);ue!=null&&Ct({restoreScrollPosition:ue})}return()=>{w=null,E=null,x=null}}function kr(W,X){return x&&x(W,X.map(ue=>Ik(ue,j.loaderData)))||W.key}function Yr(W,X){if(w&&E){let ee=kr(W,X);w[ee]=E()}}function Ys(W,X){if(w){let ee=kr(W,X),ue=w[ee];if(typeof ue=="number")return ue}return null}function Wn(W,X,ee){if(t.patchRoutesOnNavigation)if(W){if(Object.keys(W[0].params).length>0)return{active:!0,matches:dp(X,ee,d,!0)}}else return{active:!0,matches:dp(X,ee,d,!0)||[]};return{active:!1,matches:null}}async function bi(W,X,ee,ue){if(!t.patchRoutesOnNavigation)return{type:"success",matches:W};let pe=W;for(;;){let we=c==null,Me=c||l,ke=s;try{await t.patchRoutesOnNavigation({signal:ee,path:X,matches:pe,fetcherKey:ue,patch:(Ne,Ee)=>{ee.aborted||q2(Ne,Ee,Me,ke,i,!1)}})}catch(Ne){return{type:"error",error:Ne,partialMatches:pe}}finally{we&&!ee.aborted&&(l=[...l])}if(ee.aborted)return{type:"aborted"};let Ae=jo(Me,X,d);if(Ae)return{type:"success",matches:Ae};let Le=dp(Me,X,d,!0);if(!Le||pe.length===Le.length&&pe.every((Ne,Ee)=>Ne.route.id===Le[Ee].route.id))return{type:"success",matches:null};pe=Le}}function Ji(W){s={},c=kd(W,i,void 0,s)}function Xs(W,X,ee=!1){let ue=c==null;q2(W,X,c||l,s,i,ee),ue&&(l=[...l],Ct({}))}return P={get basename(){return d},get future(){return p},get state(){return j},get routes(){return l},get window(){return e},initialize:Nt,subscribe:Fn,enableScrollRestoration:El,navigate:xr,fetch:ha,revalidate:qn,createHref:W=>t.history.createHref(W),encodeLocation:W=>t.history.encodeLocation(W),getFetcher:Cn,deleteFetcher:xl,dispose:lt,getBlocker:ir,deleteBlocker:Yi,patchRoutes:Xs,_internalFetchControllers:G,_internalSetRoutes:Ji,_internalSetStateDoNotUseOrYouWillBreakYourApp(W){Ct(W)}},P}function XD(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function O1(t,e,n,r,i,s){let l,c;if(i){l=[];for(let f of e)if(l.push(f),f.route.id===i){c=f;break}}else l=e,c=e[e.length-1];let d=Dv(r||".",Rv(l),rr(t.pathname,n)||t.pathname,s==="path");if(r==null&&(d.search=t.search,d.hash=t.hash),(r==null||r===""||r===".")&&c){let f=jv(d.search);if(c.route.index&&!f)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&f){let p=new URLSearchParams(d.search),m=p.getAll("index");p.delete("index"),m.filter(w=>w).forEach(w=>p.append("index",w));let v=p.toString();d.search=v?`?${v}`:""}}return n!=="/"&&(d.pathname=ID({basename:n,pathname:d.pathname})),ta(d)}function $2(t,e,n){if(!n||!XD(n))return{path:e};if(n.formMethod&&!f3(n.formMethod))return{path:e,error:Hr(405,{method:n.formMethod})};let r=()=>({path:e,error:Hr(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),l=Gk(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Zn(s))return r();let m=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((v,[w,x])=>`${v}${w}=${x}
`,""):String(n.body);return{path:e,submission:{formMethod:s,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:m}}}else if(n.formEncType==="application/json"){if(!Zn(s))return r();try{let m=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:s,formAction:l,formEncType:n.formEncType,formData:void 0,json:m,text:void 0}}}catch{return r()}}}Je(typeof FormData=="function","FormData is not available in this environment");let c,d;if(n.formData)c=D1(n.formData),d=n.formData;else if(n.body instanceof FormData)c=D1(n.body),d=n.body;else if(n.body instanceof URLSearchParams)c=n.body,d=X2(c);else if(n.body==null)c=new URLSearchParams,d=new FormData;else try{c=new URLSearchParams(n.body),d=X2(c)}catch{return r()}let f={formMethod:s,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(Zn(f.formMethod))return{path:e,submission:f};let p=oa(e);return t&&p.search&&jv(p.search)&&c.append("index",""),p.search=`?${c}`,{path:ta(p),submission:f}}function F2(t,e,n,r,i,s,l,c,d,f,p,m,v,w,x,E,C,_,I,L){let U=L?gr(L[1])?L[1].error:L[1].data:void 0,P=i.createURL(s.location),j=i.createURL(d),R;if(p&&s.errors){let B=Object.keys(s.errors)[0];R=l.findIndex(ye=>ye.route.id===B)}else if(L&&gr(L[1])){let B=L[0];R=l.findIndex(ye=>ye.route.id===B)-1}let O=L?L[1].statusCode:void 0,D=O&&O>=400,M={currentUrl:P,currentParams:s.matches[0]?.params||{},nextUrl:j,nextParams:l[0].params,...c,actionResult:U,actionStatus:O},V=l.map((B,ye)=>{let{route:me}=B,G=null;if(R!=null&&ye>R?G=!1:me.lazy?G=!0:me.loader==null?G=!1:p?G=_1(me,s.loaderData,s.errors):JD(s.loaderData,s.matches[ye],B)&&(G=!0),G!==null)return R1(n,r,t,B,f,e,G);let oe=D?!1:m||P.pathname+P.search===j.pathname+j.search||P.search!==j.search||QD(s.matches[ye],B),ce={...M,defaultShouldRevalidate:oe},Ce=Rp(B,ce);return R1(n,r,t,B,f,e,Ce,ce)}),$=[];return x.forEach((B,ye)=>{if(p||!l.some(he=>he.route.id===B.routeId)||w.has(ye))return;let me=s.fetchers.get(ye),G=me&&me.state!=="idle"&&me.data===void 0,oe=jo(C,B.path,_);if(!oe){if(I&&G)return;$.push({key:ye,routeId:B.routeId,path:B.path,matches:null,match:null,request:null,controller:null});return}if(E.has(ye))return;let ce=fp(oe,B.path),Ce=new AbortController,q=pc(i,B.path,Ce.signal),ie=null;if(v.has(ye))v.delete(ye),ie=Ec(n,r,q,oe,ce,f,e);else if(G)m&&(ie=Ec(n,r,q,oe,ce,f,e));else{let he={...M,defaultShouldRevalidate:D?!1:m};Rp(ce,he)&&(ie=Ec(n,r,q,oe,ce,f,e,he))}ie&&$.push({key:ye,routeId:B.routeId,path:B.path,matches:ie,match:ce,request:q,controller:Ce})}),{dsMatches:V,revalidatingFetchers:$}}function _1(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function JD(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function QD(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Rp(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function q2(t,e,n,r,i,s){let l;if(t){let f=r[t];Je(f,`No route found to patch children into: routeId = ${t}`),f.children||(f.children=[]),l=f.children}else l=n;let c=[],d=[];if(e.forEach(f=>{let p=l.find(m=>Vk(f,m));p?d.push({existingRoute:p,newRoute:f}):c.push(f)}),c.length>0){let f=kd(c,i,[t||"_","patch",String(l?.length||"0")],r);l.push(...f)}if(s&&d.length>0)for(let f=0;f<d.length;f++){let{existingRoute:p,newRoute:m}=d[f],v=p,[w]=kd([m],i,[],{},!0);Object.assign(v,{element:w.element?w.element:v.element,errorElement:w.errorElement?w.errorElement:v.errorElement,hydrateFallbackElement:w.hydrateFallbackElement?w.hydrateFallbackElement:v.hydrateFallbackElement})}}function Vk(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>e.children?.some(i=>Vk(n,i))):!1}var W2=new WeakMap,$k=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(Je(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[t];if(!s)return;let l=W2.get(i);l||(l={},W2.set(i,l));let c=l[t];if(c)return c;let d=(async()=>{let f=bD(t),m=i[t]!==void 0&&t!=="hasErrorBoundary";if(f)en(!f,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),l[t]=Promise.resolve();else if(m)en(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let v=await s();v!=null&&(Object.assign(i,{[t]:v}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(v=>v===void 0)&&(i.lazy=void 0))})();return l[t]=d,d},G2=new WeakMap;function ZD(t,e,n,r,i){let s=n[t.id];if(Je(s,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let p=G2.get(s);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let m=(async()=>{Je(typeof t.lazy=="function","No lazy route function found");let v=await t.lazy(),w={};for(let x in v){let E=v[x];if(E===void 0)continue;let C=SD(x),I=s[x]!==void 0&&x!=="hasErrorBoundary";C?en(!C,"Route property "+x+" is not a supported property to be returned from a lazy route function. This property will be ignored."):I?en(!I,`Route "${s.id}" has a static property "${x}" defined but its lazy function is also returning a value for this property. The lazy route property "${x}" will be ignored.`):w[x]=E}Object.assign(s,w),Object.assign(s,{...r(s),lazy:void 0})})();return G2.set(s,m),m.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:m}}let l=Object.keys(t.lazy),c=[],d;for(let p of l){if(i&&i.includes(p))continue;let m=$k({key:p,route:t,manifest:n,mapRouteProperties:r});m&&(c.push(m),p===e&&(d=m))}let f=c.length>0?Promise.all(c).then(()=>{}):void 0;return f?.catch(()=>{}),d?.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:d}}async function K2(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,s)=>{n[e[s].route.id]=i}),n}async function e3(t){return t.matches.some(e=>e.route.unstable_middleware)?Fk(t,()=>K2(t)):K2(t)}function Fk(t,e){return t3(t,e,r=>r,c3,n);function n(r,i,s){if(s)return Promise.resolve(Object.assign(s.value,{[i]:{type:"error",result:r}}));{let{matches:l}=t,c=Math.min(l.findIndex(f=>f.route.id===i)||0,l.findIndex(f=>f.unstable_shouldCallHandler())||0),d=Lo(l,l[c].route.id).route.id;return Promise.resolve({[d]:{type:"error",result:r}})}}}async function t3(t,e,n,r,i){let{matches:s,request:l,params:c,context:d}=t,f=s.flatMap(m=>m.route.unstable_middleware?m.route.unstable_middleware.map(v=>[m.route.id,v]):[]);return await qk({request:l,params:c,context:d},f,e,n,r,i)}async function qk(t,e,n,r,i,s,l=0){let{request:c}=t;if(c.signal.aborted)throw c.signal.reason??new Error(`Request aborted: ${c.method} ${c.url}`);let d=e[l];if(!d)return await n();let[f,p]=d,m,v=async()=>{if(m)throw new Error("You may only call `next()` once per middleware");try{return m={value:await qk(t,e,n,r,i,s,l+1)},m.value}catch(w){return m={value:await s(w,f,m)},m.value}};try{let w=await p(t,v),x=w!=null?r(w):void 0;return i(x)?x:m?x??m.value:(m={value:await v()},m.value)}catch(w){return await s(w,f,m)}}function Wk(t,e,n,r,i){let s=$k({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),l=ZD(r.route,Zn(n.method)?"action":"loader",e,t,i);return{middleware:s,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function R1(t,e,n,r,i,s,l,c=null){let d=!1,f=Wk(t,e,n,r,i);return{...r,_lazyPromises:f,shouldLoad:l,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler(p){return d=!0,c?typeof p=="boolean"?Rp(r,{...c,defaultShouldRevalidate:p}):Rp(r,c):l},resolve(p){return d||l||p&&!Zn(n.method)&&(r.route.lazy||r.route.loader)?r3({request:n,match:r,lazyHandlerPromise:f?.handler,lazyRoutePromise:f?.route,handlerOverride:p,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function Ec(t,e,n,r,i,s,l,c=null){return r.map(d=>d.route.id!==i.route.id?{...d,shouldLoad:!1,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler:()=>!1,_lazyPromises:Wk(t,e,n,d,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:R1(t,e,n,d,s,l,!0,c))}async function n3(t,e,n,r,i,s){n.some(f=>f._lazyPromises?.middleware)&&await Promise.all(n.map(f=>f._lazyPromises?.middleware));let l={request:e,params:n[0].params,context:i,matches:n},d=await t({...l,fetcherKey:r,unstable_runClientMiddleware:f=>{let p=l;return Fk(p,()=>f({...p,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(f=>[f._lazyPromises?.handler,f._lazyPromises?.route]))}catch{}return d}async function r3({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:s}){let l,c,d=Zn(t.method),f=d?"action":"loader",p=m=>{let v,w=new Promise((C,_)=>v=_);c=()=>v(),t.signal.addEventListener("abort",c);let x=C=>typeof m!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${f}" [routeId: ${e.route.id}]`)):m({request:t,params:e.params,context:s},...C!==void 0?[C]:[]),E=(async()=>{try{return{type:"data",result:await(i?i(_=>x(_)):x())}}catch(C){return{type:"error",result:C}}})();return Promise.race([E,w])};try{let m=d?e.route.action:e.route.loader;if(n||r)if(m){let v,[w]=await Promise.all([p(m).catch(x=>{v=x}),n,r]);if(v!==void 0)throw v;l=w}else{await n;let v=d?e.route.action:e.route.loader;if(v)[l]=await Promise.all([p(v),r]);else if(f==="action"){let w=new URL(t.url),x=w.pathname+w.search;throw Hr(405,{method:t.method,pathname:x,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(m)l=await p(m);else{let v=new URL(t.url),w=v.pathname+v.search;throw Hr(404,{pathname:w})}}catch(m){return{type:"error",result:m}}finally{c&&t.signal.removeEventListener("abort",c)}return l}async function i3(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function s3(t){let{result:e,type:n}=t;if(Kk(e)){let r;try{r=await i3(e)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new _p(e.status,e.statusText,r),statusCode:e.status,headers:e.headers}:{type:"data",data:r,statusCode:e.status,headers:e.headers}}return n==="error"?eE(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new _p(e.init?.status||500,void 0,e.data),statusCode:Nd(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Nd(e)?e.status:void 0}:eE(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function o3(t,e,n,r,i){let s=t.headers.get("Location");if(Je(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!Iv(s)){let l=r.slice(0,r.findIndex(c=>c.route.id===n)+1);s=O1(new URL(e.url),l,i,s),t.headers.set("Location",s)}return t}function Y2(t,e,n){if(Iv(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=rr(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function pc(t,e,n,r){let i=t.createURL(Gk(e)).toString(),s={signal:n};if(r&&Zn(r.formMethod)){let{formMethod:l,formEncType:c}=r;s.method=l.toUpperCase(),c==="application/json"?(s.headers=new Headers({"Content-Type":c}),s.body=JSON.stringify(r.json)):c==="text/plain"?s.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?s.body=D1(r.formData):s.body=r.formData}return new Request(i,s)}function D1(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function X2(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function a3(t,e,n,r=!1,i=!1){let s={},l=null,c,d=!1,f={},p=n&&gr(n[1])?n[1].error:void 0;return t.forEach(m=>{if(!(m.route.id in e))return;let v=m.route.id,w=e[v];if(Je(!qa(w),"Cannot handle redirect results in processLoaderData"),gr(w)){let x=w.error;if(p!==void 0&&(x=p,p=void 0),l=l||{},i)l[v]=x;else{let E=Lo(t,v);l[E.route.id]==null&&(l[E.route.id]=x)}r||(s[v]=Hk),d||(d=!0,c=Nd(w.error)?w.error.status:500),w.headers&&(f[v]=w.headers)}else s[v]=w.data,w.statusCode&&w.statusCode!==200&&!d&&(c=w.statusCode),w.headers&&(f[v]=w.headers)}),p!==void 0&&n&&(l={[n[0]]:p},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:l,statusCode:c||200,loaderHeaders:f}}function J2(t,e,n,r,i,s){let{loaderData:l,errors:c}=a3(e,n,r);return i.filter(d=>!d.matches||d.matches.some(f=>f.shouldLoad)).forEach(d=>{let{key:f,match:p,controller:m}=d;if(m&&m.signal.aborted)return;let v=s[f];if(Je(v,"Did not find corresponding fetcher result"),gr(v)){let w=Lo(t.matches,p?.route.id);c&&c[w.route.id]||(c={...c,[w.route.id]:v.error}),t.fetchers.delete(f)}else if(qa(v))Je(!1,"Unhandled fetcher revalidation redirect");else{let w=Mo(v.data);t.fetchers.set(f,w)}}),{loaderData:l,errors:c}}function Q2(t,e,n,r){let i=Object.entries(e).filter(([,s])=>s!==Hk).reduce((s,[l,c])=>(s[l]=c,s),{});for(let s of n){let l=s.route.id;if(!e.hasOwnProperty(l)&&t.hasOwnProperty(l)&&s.route.loader&&(i[l]=t[l]),r&&r.hasOwnProperty(l))break}return i}function Z2(t){return t?gr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Lo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function _h(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Hr(t,{pathname:e,routeId:n,method:r,type:i,message:s}={}){let l="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(l="Bad Request",r&&e&&n?c=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(c="Unable to encode submission body")):t===403?(l="Forbidden",c=`Route "${n}" does not match URL "${e}"`):t===404?(l="Not Found",c=`No route matches URL "${e}"`):t===405&&(l="Method Not Allowed",r&&e&&n?c=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(c=`Invalid request method "${r.toUpperCase()}"`)),new _p(t||500,l,new Error(c),!0)}function Rh(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(qa(i))return{key:r,result:i}}}function Gk(t){let e=typeof t=="string"?oa(t):t;return ta({...e,hash:""})}function l3(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function c3(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&u3(n))}function u3(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function d3(t){return Kk(t.result)&&FD.has(t.result.status)}function gr(t){return t.type==="error"}function qa(t){return(t&&t.type)==="redirect"}function eE(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Kk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function f3(t){return $D.has(t.toUpperCase())}function Zn(t){return HD.has(t.toUpperCase())}function jv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function fp(t,e){let n=typeof e=="string"?oa(e).search:e.search;if(t[t.length-1].route.index&&jv(n||""))return t[t.length-1];let r=zk(t);return r[r.length-1]}function tE(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:l}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function T0(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function h3(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Xu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function p3(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Mo(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function m3(t,e){try{let n=t.sessionStorage.getItem(Bk);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function g3(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(Bk,JSON.stringify(n))}catch(r){en(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function y3(){let t,e,n=new Promise((r,i)=>{t=async s=>{r(s);try{await n}catch{}},e=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var gl=k.createContext(null);gl.displayName="DataRouter";var Yd=k.createContext(null);Yd.displayName="DataRouterState";k.createContext(!1);var Lv=k.createContext({isTransitioning:!1});Lv.displayName="ViewTransition";var Yk=k.createContext(new Map);Yk.displayName="Fetchers";var v3=k.createContext(null);v3.displayName="Await";var qi=k.createContext(null);qi.displayName="Navigation";var Pm=k.createContext(null);Pm.displayName="Location";var Wi=k.createContext({outlet:null,matches:[],isDataRoute:!1});Wi.displayName="Route";var Pv=k.createContext(null);Pv.displayName="RouteError";function b3(t,{relative:e}={}){Je(Wc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(qi),{hash:i,pathname:s,search:l}=Xd(t,{relative:e}),c=s;return n!=="/"&&(c=s==="/"?n:zi([n,s])),r.createHref({pathname:c,search:l,hash:i})}function Wc(){return k.useContext(Pm)!=null}function zs(){return Je(Wc(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Pm).location}function Dp(t){Je(Wc(),"useMatch() may be used only in the context of a <Router> component.");let{pathname:e}=zs();return k.useMemo(()=>Ad(t,Pk(e)),[e,t])}var Xk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jk(t){k.useContext(qi).static||k.useLayoutEffect(t)}function Qk(){let{isDataRoute:t}=k.useContext(Wi);return t?I3():w3()}function w3(){Je(Wc(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(gl),{basename:e,navigator:n}=k.useContext(qi),{matches:r}=k.useContext(Wi),{pathname:i}=zs(),s=JSON.stringify(Rv(r)),l=k.useRef(!1);return Jk(()=>{l.current=!0}),k.useCallback((d,f={})=>{if(en(l.current,Xk),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=Dv(d,JSON.parse(s),i,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:zi([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,s,i,t])}var S3=k.createContext(null);function x3(t){let e=k.useContext(Wi).outlet;return e&&k.createElement(S3.Provider,{value:t},e)}function Xd(t,{relative:e}={}){let{matches:n}=k.useContext(Wi),{pathname:r}=zs(),i=JSON.stringify(Rv(n));return k.useMemo(()=>Dv(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function E3(t,e,n,r,i){Je(Wc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=k.useContext(qi),{matches:l}=k.useContext(Wi),c=l[l.length-1],d=c?c.params:{},f=c?c.pathname:"/",p=c?c.pathnameBase:"/",m=c&&c.route;{let I=m&&m.path||"";tA(f,!m||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let v=zs(),w;w=v;let x=w.pathname||"/",E=x;if(p!=="/"){let I=p.replace(/^\//,"").split("/");E="/"+x.replace(/^\//,"").split("/").slice(I.length).join("/")}let C=jo(t,{pathname:E});return en(m||C!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),en(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),N3(C&&C.map(I=>Object.assign({},I,{params:Object.assign({},d,I.params),pathname:zi([p,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?p:zi([p,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),l,n,r,i)}function T3(){let t=R3(),e=Nd(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:s},"ErrorBoundary")," or"," ",k.createElement("code",{style:s},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,l)}var C3=k.createElement(T3,null),k3=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?k.createElement(Wi.Provider,{value:this.props.routeContext},k.createElement(Pv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function A3({routeContext:t,match:e,children:n}){let r=k.useContext(gl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(Wi.Provider,{value:t},n)}function N3(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=n?.errors;if(l!=null){let f=s.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);Je(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let c=!1,d=-1;if(n)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:m,errors:v}=n,w=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||w){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((f,p,m)=>{let v,w=!1,x=null,E=null;n&&(v=l&&p.route.id?l[p.route.id]:void 0,x=p.route.errorElement||C3,c&&(d<0&&m===0?(tA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,E=null):d===m&&(w=!0,E=p.route.hydrateFallbackElement||null)));let C=e.concat(s.slice(0,m+1)),_=()=>{let I;return v?I=x:w?I=E:p.route.Component?I=k.createElement(p.route.Component,null):p.route.element?I=p.route.element:I=f,k.createElement(A3,{match:p,routeContext:{outlet:f,matches:C,isDataRoute:n!=null},children:I})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?k.createElement(k3,{location:n.location,revalidation:n.revalidation,component:x,error:v,children:_(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:r}):_()},null)}function zv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zk(t){let e=k.useContext(gl);return Je(e,zv(t)),e}function Jd(t){let e=k.useContext(Yd);return Je(e,zv(t)),e}function M3(t){let e=k.useContext(Wi);return Je(e,zv(t)),e}function zm(t){let e=M3(t),n=e.matches[e.matches.length-1];return Je(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function O3(){return zm("useRouteId")}function GY(){return Jd("useNavigation").navigation}function KY(){let{matches:t,loaderData:e}=Jd("useMatches");return k.useMemo(()=>t.map(n=>Ik(n,e)),[t,e])}function _3(){let t=Jd("useLoaderData"),e=zm("useLoaderData");return t.loaderData[e]}function R3(){let t=k.useContext(Pv),e=Jd("useRouteError"),n=zm("useRouteError");return t!==void 0?t:e.errors?.[n]}var D3=0;function eA(t){let{router:e,basename:n}=Zk("useBlocker"),r=Jd("useBlocker"),[i,s]=k.useState(""),l=k.useCallback(c=>{if(typeof t!="function")return!!t;if(n==="/")return t(c);let{currentLocation:d,nextLocation:f,historyAction:p}=c;return t({currentLocation:{...d,pathname:rr(d.pathname,n)||d.pathname},nextLocation:{...f,pathname:rr(f.pathname,n)||f.pathname},historyAction:p})},[n,t]);return k.useEffect(()=>{let c=String(++D3);return s(c),()=>e.deleteBlocker(c)},[e]),k.useEffect(()=>{i!==""&&e.getBlocker(i,l)},[e,i,l]),i&&r.blockers.has(i)?r.blockers.get(i):hc}function I3(){let{router:t}=Zk("useNavigate"),e=zm("useNavigate"),n=k.useRef(!1);return Jk(()=>{n.current=!0}),k.useCallback(async(i,s={})=>{en(n.current,Xk),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var nE={};function tA(t,e,n){!e&&!nE[t]&&(nE[t]=!0,en(!1,n))}var rE={};function iE(t,e){!t&&!rE[e]&&(rE[e]=!0,console.warn(e))}function j3(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&en(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:k.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&en(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:k.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&en(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:k.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var L3=["HydrateFallback","hydrateFallbackElement"],P3=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function z3({router:t,flushSync:e,unstable_onError:n}){let[r,i]=k.useState(t.state),[s,l]=k.useState(),[c,d]=k.useState({isTransitioning:!1}),[f,p]=k.useState(),[m,v]=k.useState(),[w,x]=k.useState(),E=k.useRef(new Map),C=k.useCallback(P=>{i(j=>(P.errors&&n&&Object.entries(P.errors).forEach(([R,O])=>{j.errors?.[R]!==O&&n(O)}),P))},[n]),_=k.useCallback((P,{deletedFetchers:j,flushSync:R,viewTransitionOpts:O})=>{P.fetchers.forEach((M,V)=>{M.data!==void 0&&E.current.set(V,M.data)}),j.forEach(M=>E.current.delete(M)),iE(R===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let D=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(iE(O==null||D,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!O||!D){e&&R?e(()=>C(P)):k.startTransition(()=>C(P));return}if(e&&R){e(()=>{m&&(f&&f.resolve(),m.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:O.currentLocation,nextLocation:O.nextLocation})});let M=t.window.document.startViewTransition(()=>{e(()=>C(P))});M.finished.finally(()=>{e(()=>{p(void 0),v(void 0),l(void 0),d({isTransitioning:!1})})}),e(()=>v(M));return}m?(f&&f.resolve(),m.skipTransition(),x({state:P,currentLocation:O.currentLocation,nextLocation:O.nextLocation})):(l(P),d({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}))},[t.window,e,m,f,C]);k.useLayoutEffect(()=>t.subscribe(_),[t,_]),k.useEffect(()=>{c.isTransitioning&&!c.flushSync&&p(new P3)},[c]),k.useEffect(()=>{if(f&&s&&t.window){let P=s,j=f.promise,R=t.window.document.startViewTransition(async()=>{k.startTransition(()=>C(P)),await j});R.finished.finally(()=>{p(void 0),v(void 0),l(void 0),d({isTransitioning:!1})}),v(R)}},[s,f,t.window,C]),k.useEffect(()=>{f&&s&&r.location.key===s.location.key&&f.resolve()},[f,m,r.location,s]),k.useEffect(()=>{!c.isTransitioning&&w&&(l(w.state),d({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),x(void 0))},[c.isTransitioning,w]);let I=k.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:P=>t.navigate(P),push:(P,j,R)=>t.navigate(P,{state:j,preventScrollReset:R?.preventScrollReset}),replace:(P,j,R)=>t.navigate(P,{replace:!0,state:j,preventScrollReset:R?.preventScrollReset})}),[t]),L=t.basename||"/",U=k.useMemo(()=>({router:t,navigator:I,static:!1,basename:L,unstable_onError:n}),[t,I,L,n]);return k.createElement(k.Fragment,null,k.createElement(gl.Provider,{value:U},k.createElement(Yd.Provider,{value:r},k.createElement(Yk.Provider,{value:E.current},k.createElement(Lv.Provider,{value:c},k.createElement(V3,{basename:L,location:r.location,navigationType:r.historyAction,navigator:I},k.createElement(U3,{routes:t.routes,future:t.future,state:r,unstable_onError:n})))))),null)}var U3=k.memo(B3);function B3({routes:t,future:e,state:n,unstable_onError:r}){return E3(t,void 0,n,r,e)}function H3(t){return x3(t.context)}function V3({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Je(!Wc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof n=="string"&&(n=oa(n));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:v="default"}=n,w=k.useMemo(()=>{let x=rr(d,l);return x==null?null:{location:{pathname:x,search:f,hash:p,state:m,key:v},navigationType:r}},[l,d,f,p,m,v,r]);return en(w!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:k.createElement(qi.Provider,{value:c},k.createElement(Pm.Provider,{children:e,value:w}))}var hp="get",pp="application/x-www-form-urlencoded";function Um(t){return t!=null&&typeof t.tagName=="string"}function $3(t){return Um(t)&&t.tagName.toLowerCase()==="button"}function F3(t){return Um(t)&&t.tagName.toLowerCase()==="form"}function q3(t){return Um(t)&&t.tagName.toLowerCase()==="input"}function W3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function G3(t,e){return t.button===0&&(!e||e==="_self")&&!W3(t)}var Dh=null;function K3(){if(Dh===null)try{new FormData(document.createElement("form"),0),Dh=!1}catch{Dh=!0}return Dh}var Y3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function C0(t){return t!=null&&!Y3.has(t)?(en(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pp}"`),null):t}function X3(t,e){let n,r,i,s,l;if(F3(t)){let c=t.getAttribute("action");r=c?rr(c,e):null,n=t.getAttribute("method")||hp,i=C0(t.getAttribute("enctype"))||pp,s=new FormData(t)}else if($3(t)||q3(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?rr(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||hp,i=C0(t.getAttribute("formenctype"))||C0(c.getAttribute("enctype"))||pp,s=new FormData(c,t),!K3()){let{name:f,type:p,value:m}=t;if(p==="image"){let v=f?`${f}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else f&&s.append(f,m)}}else{if(Um(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=hp,r=null,i=pp,l=t}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Uv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function J3(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&rr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Q3(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Z3(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function e5(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await Q3(s,n);return l.links?l.links():[]}return[]}));return i5(r.flat(1).filter(Z3).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function sE(t,e,n,r,i,s){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,c=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return s==="assets"?e.filter((d,f)=>l(d,f)||c(d,f)):s==="data"?e.filter((d,f)=>{let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function t5(t,e,{includeHydrateFallback:n}={}){return n5(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function n5(t){return[...new Set(t)]}function r5(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function i5(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(r5(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function nA(){let t=k.useContext(gl);return Uv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function s5(){let t=k.useContext(Yd);return Uv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Bv=k.createContext(void 0);Bv.displayName="FrameworkContext";function rA(){let t=k.useContext(Bv);return Uv(t,"You must render this element inside a <HydratedRouter> element"),t}function o5(t,e){let n=k.useContext(Bv),[r,i]=k.useState(!1),[s,l]=k.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=e,v=k.useRef(null);k.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let E=_=>{_.forEach(I=>{l(I.isIntersecting)})},C=new IntersectionObserver(E,{threshold:.5});return v.current&&C.observe(v.current),()=>{C.disconnect()}}},[t]),k.useEffect(()=>{if(r){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[r]);let w=()=>{i(!0)},x=()=>{i(!1),l(!1)};return n?t!=="intent"?[s,v,{}]:[s,v,{onFocus:Ju(c,w),onBlur:Ju(d,x),onMouseEnter:Ju(f,w),onMouseLeave:Ju(p,x),onTouchStart:Ju(m,w)}]:[!1,v,{}]}function Ju(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function a5({page:t,...e}){let{router:n}=nA(),r=k.useMemo(()=>jo(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?k.createElement(c5,{page:t,matches:r,...e}):null}function l5(t){let{manifest:e,routeModules:n}=rA(),[r,i]=k.useState([]);return k.useEffect(()=>{let s=!1;return e5(t,e,n).then(l=>{s||i(l)}),()=>{s=!0}},[t,e,n]),r}function c5({page:t,matches:e,...n}){let r=zs(),{manifest:i,routeModules:s}=rA(),{basename:l}=nA(),{loaderData:c,matches:d}=s5(),f=k.useMemo(()=>sE(t,e,d,i,r,"data"),[t,e,d,i,r]),p=k.useMemo(()=>sE(t,e,d,i,r,"assets"),[t,e,d,i,r]),m=k.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,E=!1;if(e.forEach(_=>{let I=i.routes[_.route.id];!I||!I.hasLoader||(!f.some(L=>L.route.id===_.route.id)&&_.route.id in c&&s[_.route.id]?.shouldRevalidate||I.hasClientLoader?E=!0:x.add(_.route.id))}),x.size===0)return[];let C=J3(t,l,"data");return E&&x.size>0&&C.searchParams.set("_routes",e.filter(_=>x.has(_.route.id)).map(_=>_.route.id).join(",")),[C.pathname+C.search]},[l,c,r,i,f,e,t,s]),v=k.useMemo(()=>t5(p,i),[p,i]),w=l5(p);return k.createElement(k.Fragment,null,m.map(x=>k.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),v.map(x=>k.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),w.map(({key:x,link:E})=>k.createElement("link",{key:x,nonce:n.nonce,...E})))}function u5(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var iA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iA&&(window.__reactRouterVersion="7.8.2")}catch{}function d5(t,e){return YD({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:mD({window:e?.window}),hydrationData:f5(),routes:t,mapRouteProperties:j3,hydrationRouteProperties:L3,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function f5(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:h5(t.errors)}),t}function h5(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new _p(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let l=new s(i.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var sA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oA=k.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:c,target:d,to:f,preventScrollReset:p,viewTransition:m,...v},w){let{basename:x}=k.useContext(qi),E=typeof f=="string"&&sA.test(f),C,_=!1;if(typeof f=="string"&&E&&(C=f,iA))try{let D=new URL(window.location.href),M=f.startsWith("//")?new URL(D.protocol+f):new URL(f),V=rr(M.pathname,x);M.origin===D.origin&&V!=null?f=V+M.search+M.hash:_=!0}catch{en(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=b3(f,{relative:i}),[L,U,P]=o5(r,v),j=g5(f,{replace:l,state:c,target:d,preventScrollReset:p,relative:i,viewTransition:m});function R(D){e&&e(D),D.defaultPrevented||j(D)}let O=k.createElement("a",{...v,...P,href:C||I,onClick:_||s?e:R,ref:u5(w,U),target:d,"data-discover":!E&&n==="render"?"true":void 0});return L&&!E?k.createElement(k.Fragment,null,O,k.createElement(a5,{page:I})):O});oA.displayName="Link";var mp=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:c,children:d,...f},p){let m=Xd(l,{relative:f.relative}),v=zs(),w=k.useContext(Yd),{navigator:x,basename:E}=k.useContext(qi),C=w!=null&&w5(m)&&c===!0,_=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,I=v.pathname,L=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(I=I.toLowerCase(),L=L?L.toLowerCase():null,_=_.toLowerCase()),L&&E&&(L=rr(L,E)||L);const U=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let P=I===_||!i&&I.startsWith(_)&&I.charAt(U)==="/",j=L!=null&&(L===_||!i&&L.startsWith(_)&&L.charAt(_.length)==="/"),R={isActive:P,isPending:j,isTransitioning:C},O=P?e:void 0,D;typeof r=="function"?D=r(R):D=[r,P?"active":null,j?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let M=typeof s=="function"?s(R):s;return k.createElement(oA,{...f,"aria-current":O,className:D,ref:p,style:M,to:l,viewTransition:c},typeof d=="function"?d(R):d)});mp.displayName="NavLink";var p5=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:l=hp,action:c,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:m,...v},w)=>{let x=Bm(),E=b5(c,{relative:f}),C=l.toLowerCase()==="get"?"get":"post",_=typeof c=="string"&&sA.test(c),I=L=>{if(d&&d(L),L.defaultPrevented)return;L.preventDefault();let U=L.nativeEvent.submitter,P=U?.getAttribute("formmethod")||l;x(U||L.currentTarget,{fetcherKey:e,method:P,navigate:n,replace:i,state:s,relative:f,preventScrollReset:p,viewTransition:m})};return k.createElement("form",{ref:w,method:C,action:E,onSubmit:r?d:I,...v,"data-discover":!_&&t==="render"?"true":void 0})});p5.displayName="Form";function m5(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aA(t){let e=k.useContext(gl);return Je(e,m5(t)),e}function g5(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:l}={}){let c=Qk(),d=zs(),f=Xd(t,{relative:s});return k.useCallback(p=>{if(G3(p,e)){p.preventDefault();let m=n!==void 0?n:ta(d)===ta(f);c(t,{replace:m,state:r,preventScrollReset:i,relative:s,viewTransition:l})}},[d,c,f,n,r,e,t,i,s,l])}var y5=0,v5=()=>`__${String(++y5)}__`;function Bm(){let{router:t}=aA("useSubmit"),{basename:e}=k.useContext(qi),n=O3();return k.useCallback(async(r,i={})=>{let{action:s,method:l,encType:c,formData:d,body:f}=X3(r,e);if(i.navigate===!1){let p=i.fetcherKey||v5();await t.fetch(p,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function b5(t,{relative:e}={}){let{basename:n}=k.useContext(qi),r=k.useContext(Wi);Je(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Xd(t||".",{relative:e})},l=zs();if(t==null){s.search=l.search;let c=new URLSearchParams(s.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(m=>m).forEach(m=>c.append("index",m));let p=c.toString();s.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:zi([n,s.pathname])),ta(s)}function w5(t,{relative:e}={}){let n=k.useContext(Lv);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=aA("useViewTransitionState"),i=Xd(t,{relative:e});if(!n.isTransitioning)return!1;let s=rr(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=rr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ad(i.pathname,l)!=null||Ad(i.pathname,s)!=null}var yl=_k();const lA=_v(yl);function cA(){return b.jsxs("svg",{viewBox:"0 0 1720 440",xmlns:"http://www.w3.org/2000/svg",children:[b.jsxs("defs",{children:[b.jsxs("linearGradient",{x1:"0",y1:"440",x2:"1720",y2:"0",id:"g",gradientUnits:"userSpaceOnUse",children:[b.jsx("stop",{offset:"0",children:b.jsx("animate",{attributeName:"stop-color",values:"#ff6000;#000000",dur:"10s",repeatCount:"1"})}),b.jsx("stop",{offset:"0.5",children:b.jsx("animate",{attributeName:"stop-color",values:"#fe0190;#000000",dur:"10s",repeatCount:"1"})}),b.jsx("stop",{offset:"1",children:b.jsx("animate",{attributeName:"stop-color",values:"#e400ff;#000000",dur:"10s",repeatCount:"1"})})]}),b.jsxs("radialGradient",{cx:"1080",cy:"180",r:"220",id:"h",gradientUnits:"userSpaceOnUse",children:[b.jsx("stop",{offset:"0",stopColor:"#ff6d00"}),b.jsx("stop",{offset:"1",children:b.jsx("animate",{attributeName:"stop-color",values:"#fe0589;#000000",dur:"10s",repeatCount:"1"})})]})]}),b.jsx("path",{d:"M 715.902 68 L 715.902 126.5 L 692.902 126.5 C 682.235 126.5 674.902 128.5 670.902 132.5 C 666.902 136.5 664.902 143.333 664.902 153 L 664.902 163.5 L 715.902 163.5 L 715.902 231 L 664.902 231 L 664.902 434.5 L 565.402 434.5 L 565.402 231 L 507.402 231 L 507.402 434.5 L 407.902 434.5 L 407.902 231 L 370.91 231 C 364.205 266.237 349.431 294.571 326.589 316 C 294.255 346.333 248.422 361.5 189.089 361.5 C 129.755 361.5 84.005 346.417 51.839 316.25 C 19.672 286.083 3.589 241.833 3.589 183.5 C 3.589 125.167 19.672 80.917 51.839 50.75 C 84.005 20.583 129.755 5.5 189.089 5.5 C 248.422 5.5 294.255 20.667 326.589 51 C 355.098 77.745 371.038 115.245 374.41 163.5 L 407.902 163.5 L 407.902 152.5 C 407.902 118.5 416.235 94.417 432.902 80.25 C 449.568 66.083 473.402 59 504.402 59 C 511.735 59 520.902 59.917 531.902 61.75 C 542.902 63.583 551.735 65.667 558.402 68 L 558.402 126.5 L 535.402 126.5 C 524.735 126.5 517.402 128.5 513.402 132.5 C 509.402 136.5 507.402 143.333 507.402 153 L 507.402 163.5 L 565.402 163.5 L 565.402 152.5 C 565.402 118.5 573.735 94.417 590.402 80.25 C 607.068 66.083 630.902 59 661.902 59 C 669.235 59 678.402 59.917 689.402 61.75 C 700.402 63.583 709.235 65.667 715.902 68 Z M 116.589 167.5 L 116.589 199.5 C 116.589 223.833 122.755 243.167 135.089 257.5 C 147.422 271.833 165.422 279 189.089 279 C 212.755 279 230.839 271.833 243.339 257.5 C 255.839 243.167 262.089 223.833 262.089 199.5 L 262.089 167.5 C 262.089 143.167 255.839 123.833 243.339 109.5 C 230.839 95.167 212.755 88 189.089 88 C 165.422 88 147.422 95.167 135.089 109.5 C 122.755 123.833 116.589 143.167 116.589 167.5 Z M 1096.9 136 L 991.404 136 C 991.404 121.667 985.071 110.083 972.404 101.25 C 959.737 92.417 944.404 88 926.404 88 C 900.404 88 880.737 94.917 867.404 108.75 C 854.071 122.583 847.404 142.167 847.404 167.5 L 847.404 199.5 C 847.404 224.833 854.071 244.417 867.404 258.25 C 880.737 272.083 900.404 279 926.404 279 C 944.404 279 959.737 274.75 972.404 266.25 C 985.071 257.75 956.571 361.5 905.904 361.5 C 848.904 361.5 806.071 346.583 777.404 316.75 C 748.737 286.917 734.404 242.5 734.404 183.5 C 734.404 125.167 750.654 80.917 783.154 50.75 C 815.654 20.583 861.904 5.5 921.904 5.5 C 954.904 5.5 984.571 10.5 1010.9 20.5 C 1037.24 30.5 1058.15 45.25 1073.65 64.75 C 1089.15 84.25 1096.9 108 1096.9 136 Z M 1397.41 171.5 L 1397.41 274.5 C 1397.41 280.167 1398.74 284.833 1401.41 288.5 C 1404.07 292.167 1408.07 294 1413.41 294 L 1431.41 294 L 1431.41 91.5 L 1512.41 91.5 L 1520.91 129 C 1540.24 100 1568.24 85.5 1604.91 85.5 C 1640.57 85.5 1668.07 97.167 1687.41 120.5 C 1706.74 143.833 1716.41 178.333 1716.41 224 C 1716.41 269.333 1706.74 303.583 1687.41 326.75 C 1668.07 349.917 1640.57 361.5 1604.91 361.5 C 1574.24 361.5 1549.57 351.5 1530.91 331.5 L 1530.91 434.5 L 1431.41 434.5 L 1431.41 351.5 C 1430.41 352.167 1427.82 353.25 1423.66 354.75 C 1419.49 356.25 1413.57 357.75 1405.91 359.25 C 1398.24 360.75 1389.41 361.5 1379.41 361.5 C 1360.07 361.5 1344.16 358.583 1331.66 352.75 C 1319.16 346.917 1310.57 338.833 1305.91 328.5 C 1293.24 338.5 1279.07 346.5 1263.41 352.5 C 1247.74 358.5 1229.41 361.5 1208.41 361.5 C 1146.41 361.5 1115.41 336.833 1115.41 287.5 C 1115.41 261.833 1122.32 242.25 1136.16 228.75 C 1149.99 215.25 1169.91 206 1195.91 201 C 1221.91 196 1255.91 193.5 1297.91 193.5 L 1297.91 180.5 C 1297.91 170.167 1294.32 162.333 1287.16 157 C 1279.99 151.667 1270.74 149 1259.41 149 C 1249.07 149 1240.16 150.833 1232.66 154.5 C 1225.16 158.167 1223.01 163.5 1223.01 163.5 L 1122.6 163.5 C 1122.61 138.856 1134.82 122.167 1158.66 107.5 C 1182.49 92.833 1216.57 85.5 1260.91 85.5 C 1301.24 85.5 1334.07 92.25 1359.41 105.75 C 1384.74 119.25 1397.41 141.167 1397.41 171.5 Z M 1297.91 263 L 1297.91 240.5 C 1269.57 240.5 1248.66 243.583 1235.16 249.75 C 1221.66 255.917 1214.91 264.167 1214.91 274.5 C 1214.91 291.167 1226.24 299.5 1248.91 299.5 C 1261.91 299.5 1273.32 296 1283.16 289 C 1292.99 282 1297.91 273.333 1297.91 263 Z M 1529.91 215 L 1529.91 231.5 C 1529.91 248.167 1533.57 261.75 1540.91 272.25 C 1548.24 282.75 1559.24 288 1573.91 288 C 1602.57 288 1616.91 270.833 1616.91 236.5 L 1616.91 210 C 1616.91 176 1602.57 159 1573.91 159 C 1559.24 159 1548.24 164.167 1540.91 174.5 C 1533.57 184.833 1529.91 198.333 1529.91 215 Z",fill:"url(#g)"}),b.jsx("path",{d:"M 992.373 231.321 L 904.897 231 L 904.897 163.5 L 1096.9 163.5 L 1096.9 355.5 L 1029.4 355.5 L 1029.4 312.685 C 1008.68 359.5 956.571 361.5 905.904 361.5 C 848.904 361.5 806.071 346.583 777.404 316.75 C 748.737 286.917 847.404 199.5 847.404 199.5 C 847.404 224.833 854.071 244.417 867.404 258.25 C 880.737 272.083 900.404 279 926.404 279 C 944.404 279 959.737 274.75 972.404 266.25 C 985.071 257.75 990.07 248.497 992.373 231.321 Z",fill:"url(#h)"})]})}const vl="https://api.offgap.com",S5="AIzaSyCreSZSO-cUugR2K4Oc1EgGnbJ7a40mk08",mr={TLD:".offgap.com"},Ds={TAB_ROOT_PATH:3,SHOW_FONTS:3,FONT_DEF_WEIGHT:400,FEED_MENU_TEXT_LENGTH:30,EDITOR_NEWLINE:"<p></p>"},er={INIT:"starts",LENGTH:6,FOLDER:"_",GITFOLDER:"static/_",LIVEFILE:"_.json",TIME_ZIP:36,TIME_TRIM:1e3},Jt={BLUR:250,FOCUS:50,DEBOUNCE:3e3,UI_FLASH:3e3},qr={TRIM:1e4,DATE:[0,10],TIME:[11,16],ZONE_OFFSET_MS:60*1e3,LOCALE:"en-us",FORMAT:{year:"numeric",month:"long",day:"numeric"}},x5={SHOW_LEVEL:4},Hv={OK:200,CREATED:201,ACCEPTED:202,NOTMODIFIED:304},et={INIT:0,NS_SET:1,NS_POLL:2,NS_HOLD:3,NS_DONE:4,DOMAIN_POLL:5,DOMAIN_HOLD:6,DOMAIN_DONE:7,PID_OLD:8,PID_NEW:9},oE="^[a-z0-9][a-z0-9\\-]{4,}$",aE="^(https?://)?([a-zA-Z0-9]([a-zA-Z0-9\\-].*[a-zA-Z0-9])?\\.)+[a-zA-Z].*$",Co={SUB:new RegExp(oE),SUB_PAT:oE,DOM:new RegExp(aE),DOM_PAT:aE},I1={EMAIL:"emailForSignIn"},ko={UNDO:"undo",REDO:"redo",FORMAT:"editor.action.formatDocument",FIND:"actions.find",REPLACE:"editor.action.startFindReplaceAction",COMMENT:"editor.action.commentLine",INDENT_R:"editor.action.indentLines",INDENT_L:"editor.action.outdentLines"},E5={A1:"185.199.108.153",A2:"185.199.109.153",A3:"185.199.110.153",A4:"185.199.111.153",CNAME:"offgap.github.io"},uA=["body>div,.ProseMirror{min-height:100%;height:auto;outline:none;white-space:pre-wrap;overflow:auto}.feed{margin-block:0 !important}","area{display:block;border:0.01px solid #fff3;text-align:center;padding:3em;width:auto;mix-blend-mode:difference;background:repeating-linear-gradient(30deg,#fff1 0,#fff1 15px,transparent 15px,transparent 30px);background-clip:padding-box;}",'area:before{content:"Feed Placeholder"}area.top:before{content:"Featured Feed Entries Placeholder"}'],lE={unpaid:3};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5=()=>{};var cE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},C5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],c=t[n++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},fA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,c=l?t[i+1]:0,d=i+2<t.length,f=d?t[i+2]:0,p=s>>2,m=(s&3)<<4|c>>4;let v=(c&15)<<2|f>>6,w=f&63;d||(w=64,l||(v=64)),r.push(n[p],n[m],n[v],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):C5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||f==null||m==null)throw new k5;const v=s<<2|c>>4;if(r.push(v),f!==64){const w=c<<4&240|f>>2;if(r.push(w),m!==64){const x=f<<6&192|m;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class k5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A5=function(t){const e=dA(t);return fA.encodeByteArray(e,!0)},Ip=function(t){return A5(t).replace(/\./g,"")},hA=function(t){try{return fA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=()=>N5().__FIREBASE_DEFAULTS__,O5=()=>{if(typeof process>"u"||typeof cE>"u")return;const t=cE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&hA(t[1]);return e&&JSON.parse(e)},Vv=()=>{try{return T5()||M5()||O5()||_5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pA=t=>{var e,n;return(n=(e=Vv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},R5=t=>{const e=pA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},mA=()=>{var t;return(t=Vv())===null||t===void 0?void 0:t.config},gA=t=>{var e;return(e=Vv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yA(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ip(JSON.stringify(n)),Ip(JSON.stringify(l)),""].join(".")}const ld={};function j5(){const t={prod:[],emulator:[]};for(const e of Object.keys(ld))ld[e]?t.emulator.push(e):t.prod.push(e);return t}function L5(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let uE=!1;function vA(t,e){if(typeof window>"u"||typeof document>"u"||!Qd(window.location.host)||ld[t]===e||ld[t]||uE)return;ld[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",s=j5().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,w){v.setAttribute("width","24"),v.setAttribute("id",w),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{uE=!0,l()},v}function p(v,w){v.setAttribute("id",w),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function m(){const v=L5(r),w=n("text"),x=document.getElementById(w)||document.createElement("span"),E=n("learnmore"),C=document.getElementById(E)||document.createElement("a"),_=n("preprendIcon"),I=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const L=v.element;c(L),p(C,E);const U=f();d(I,_),L.append(I,x,C,U),document.body.appendChild(L)}s?(x.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function P5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bn())}function z5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function U5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function B5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function H5(){const t=Bn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function V5(){try{return typeof indexedDB=="object"}catch{return!1}}function $5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5="FirebaseError";class Us extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=F5,Object.setPrototypeOf(this,Us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zd.prototype.create)}}class Zd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?q5(s,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Us(i,c,r)}}function q5(t,e){return t.replace(W5,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const W5=/\{\$([^}]+)}/g;function G5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(dE(s)&&dE(l)){if(!sl(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function dE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function td(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function nd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function K5(t,e){const n=new Y5(t,e);return n.subscribe.bind(n)}class Y5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");X5(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=k0),i.error===void 0&&(i.error=k0),i.complete===void 0&&(i.complete=k0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function X5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function k0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(t){return t&&t._delegate?t._delegate:t}class ol{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new D5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Z5(e))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Va){return this.instances.has(e)}getOptions(e=Va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const l=this.instances.get(i);return l&&e(l,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Q5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Va){return this.component?this.component.multipleInstances?e:Va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q5(t){return t===Va?void 0:t}function Z5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new J5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pt||(pt={}));const tI={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},nI=pt.INFO,rI={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},iI=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=rI[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $v{constructor(e){this.name=e,this._logLevel=nI,this._logHandler=iI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...e),this._logHandler(this,pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...e),this._logHandler(this,pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pt.INFO,...e),this._logHandler(this,pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pt.WARN,...e),this._logHandler(this,pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...e),this._logHandler(this,pt.ERROR,...e)}}const sI=(t,e)=>e.some(n=>t instanceof n);let fE,hE;function oI(){return fE||(fE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aI(){return hE||(hE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bA=new WeakMap,j1=new WeakMap,wA=new WeakMap,A0=new WeakMap,Fv=new WeakMap;function lI(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(qo(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&bA.set(n,t)}).catch(()=>{}),Fv.set(e,t),e}function cI(t){if(j1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});j1.set(t,e)}let L1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return j1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uI(t){L1=t(L1)}function dI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(N0(this),e,...n);return wA.set(r,e.sort?e.sort():[e]),qo(r)}:aI().includes(t)?function(...e){return t.apply(N0(this),e),qo(bA.get(this))}:function(...e){return qo(t.apply(N0(this),e))}}function fI(t){return typeof t=="function"?dI(t):(t instanceof IDBTransaction&&cI(t),sI(t,oI())?new Proxy(t,L1):t)}function qo(t){if(t instanceof IDBRequest)return lI(t);if(A0.has(t))return A0.get(t);const e=fI(t);return e!==t&&(A0.set(t,e),Fv.set(e,t)),e}const N0=t=>Fv.get(t);function hI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),c=qo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(qo(l.result),d.oldVersion,d.newVersion,qo(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const pI=["get","getKey","getAll","getAllKeys","count"],mI=["put","add","delete","clear"],M0=new Map;function pE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(M0.get(e))return M0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=mI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pI.includes(n)))return;const s=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&d.done]))[0]};return M0.set(e,s),s}uI(t=>({...t,get:(e,n,r)=>pE(e,n)||t.get(e,n,r),has:(e,n)=>!!pE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yI(t){const e=t.getComponent();return e?.type==="VERSION"}const P1="@firebase/app",mE="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new $v("@firebase/app"),vI="@firebase/app-compat",bI="@firebase/analytics-compat",wI="@firebase/analytics",SI="@firebase/app-check-compat",xI="@firebase/app-check",EI="@firebase/auth",TI="@firebase/auth-compat",CI="@firebase/database",kI="@firebase/data-connect",AI="@firebase/database-compat",NI="@firebase/functions",MI="@firebase/functions-compat",OI="@firebase/installations",_I="@firebase/installations-compat",RI="@firebase/messaging",DI="@firebase/messaging-compat",II="@firebase/performance",jI="@firebase/performance-compat",LI="@firebase/remote-config",PI="@firebase/remote-config-compat",zI="@firebase/storage",UI="@firebase/storage-compat",BI="@firebase/firestore",HI="@firebase/ai",VI="@firebase/firestore-compat",$I="firebase",FI="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="[DEFAULT]",qI={[P1]:"fire-core",[vI]:"fire-core-compat",[wI]:"fire-analytics",[bI]:"fire-analytics-compat",[xI]:"fire-app-check",[SI]:"fire-app-check-compat",[EI]:"fire-auth",[TI]:"fire-auth-compat",[CI]:"fire-rtdb",[kI]:"fire-data-connect",[AI]:"fire-rtdb-compat",[NI]:"fire-fn",[MI]:"fire-fn-compat",[OI]:"fire-iid",[_I]:"fire-iid-compat",[RI]:"fire-fcm",[DI]:"fire-fcm-compat",[II]:"fire-perf",[jI]:"fire-perf-compat",[LI]:"fire-rc",[PI]:"fire-rc-compat",[zI]:"fire-gcs",[UI]:"fire-gcs-compat",[BI]:"fire-fst",[VI]:"fire-fst-compat",[HI]:"fire-vertex","fire-js":"fire-js",[$I]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=new Map,WI=new Map,U1=new Map;function gE(t,e){try{t.container.addComponent(e)}catch(n){Ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Rc(t){const e=t.name;if(U1.has(e))return Ls.debug(`There were multiple attempts to register component ${e}.`),!1;U1.set(e,t);for(const n of Md.values())gE(n,t);for(const n of WI.values())gE(n,t);return!0}function qv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $r(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wo=new Zd("app","Firebase",GI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ol("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=FI;function SA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:z1,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Wo.create("bad-app-name",{appName:String(i)});if(n||(n=mA()),!n)throw Wo.create("no-options");const s=Md.get(i);if(s){if(sl(n,s.options)&&sl(r,s.config))return s;throw Wo.create("duplicate-app",{appName:i})}const l=new eI(i);for(const d of U1.values())l.addComponent(d);const c=new KI(n,r,l);return Md.set(i,c),c}function Wv(t=z1){const e=Md.get(t);if(!e&&t===z1&&mA())return SA();if(!e)throw Wo.create("no-app",{appName:t});return e}function YI(){return Array.from(Md.values())}function Go(t,e,n){var r;let i=(r=qI[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ls.warn(c.join(" "));return}Rc(new ol(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="firebase-heartbeat-database",JI=1,Od="firebase-heartbeat-store";let O0=null;function xA(){return O0||(O0=hI(XI,JI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Od)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wo.create("idb-open",{originalErrorMessage:t.message})})),O0}async function QI(t){try{const n=(await xA()).transaction(Od),r=await n.objectStore(Od).get(EA(t));return await n.done,r}catch(e){if(e instanceof Us)Ls.warn(e.message);else{const n=Wo.create("idb-get",{originalErrorMessage:e?.message});Ls.warn(n.message)}}}async function yE(t,e){try{const r=(await xA()).transaction(Od,"readwrite");await r.objectStore(Od).put(e,EA(t)),await r.done}catch(n){if(n instanceof Us)Ls.warn(n.message);else{const r=Wo.create("idb-set",{originalErrorMessage:n?.message});Ls.warn(r.message)}}}function EA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=1024,ej=30;class tj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=vE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>ej){const l=ij(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ls.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=vE(),{heartbeatsToSend:r,unsentEntries:i}=nj(this._heartbeatsCache.heartbeats),s=Ip(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ls.warn(n),""}}}function vE(){return new Date().toISOString().substring(0,10)}function nj(t,e=ZI){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),bE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),bE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class rj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return V5()?$5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return yE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return yE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function bE(t){return Ip(JSON.stringify({version:2,heartbeats:t})).length}function ij(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(t){Rc(new ol("platform-logger",e=>new gI(e),"PRIVATE")),Rc(new ol("heartbeat",e=>new tj(e),"PRIVATE")),Go(P1,mE,t),Go(P1,mE,"esm2017"),Go("fire-js","")}sj("");var oj="firebase",aj="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Go(oj,aj,"app");var Li=function(){return Li=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Li.apply(this,arguments)};function tf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function lj(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function TA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cj=TA,CA=new Zd("auth","Firebase",TA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp=new $v("@firebase/auth");function uj(t,...e){jp.logLevel<=pt.WARN&&jp.warn(`Auth (${Gc}): ${t}`,...e)}function gp(t,...e){jp.logLevel<=pt.ERROR&&jp.error(`Auth (${Gc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(t,...e){throw Kv(t,...e)}function li(t,...e){return Kv(t,...e)}function Gv(t,e,n){const r=Object.assign(Object.assign({},cj()),{[e]:n});return new Zd("auth","Firebase",r).create(e,{appName:t.name})}function Ko(t){return Gv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dj(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Gr(t,"argument-error"),Gv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Kv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return CA.create(t,...e)}function Re(t,e,...n){if(!t)throw Kv(e,...n)}function Ms(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gp(e),new Error(e)}function Ps(t,e){t||Ms(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function fj(){return wE()==="http:"||wE()==="https:"}function wE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fj()||U5()||"connection"in navigator)?navigator.onLine:!0}function pj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ps(n>e,"Short delay should be less than long delay!"),this.isMobile=P5()||B5()}get(){return hj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(t,e){Ps(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yj=new nf(3e4,6e4);function aa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Hs(t,e,n,r,i={}){return AA(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const c=ef(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:d},s);return z5()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Qd(t.emulatorConfig.host)&&(f.credentials="include"),kA.fetch()(await NA(t,t.config.apiHost,n,c),f)})}async function AA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},mj),e);try{const i=new bj(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Ih(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const c=s.ok?l.errorMessage:l.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ih(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Ih(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Ih(t,"user-disabled",l);const p=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Gv(t,p,f);Gr(t,p)}}catch(i){if(i instanceof Us)throw i;Gr(t,"network-request-failed",{message:String(i)})}}async function Hm(t,e,n,r,i={}){const s=await Hs(t,e,n,r,i);return"mfaPendingCredential"in s&&Gr(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function NA(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?Yv(t.config,i):`${t.config.apiScheme}://${i}`;return gj.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}function vj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(li(this.auth,"network-request-failed")),yj.get())})}}function Ih(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=li(t,e,r);return i.customData._tokenResponse=n,i}function SE(t){return t!==void 0&&t.enterprise!==void 0}class wj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return vj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Sj(t,e){return Hs(t,"GET","/v2/recaptchaConfig",aa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xj(t,e){return Hs(t,"POST","/v1/accounts:delete",e)}async function Pp(t,e){return Hs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ej(t,e=!1){const n=Bs(t),r=await n.getIdToken(e),i=Xv(r);Re(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:r,authTime:cd(_0(i.auth_time)),issuedAtTime:cd(_0(i.iat)),expirationTime:cd(_0(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function _0(t){return Number(t)*1e3}function Xv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return gp("JWT malformed, contained fewer than 3 sections"),null;try{const i=hA(n);return i?JSON.parse(i):(gp("Failed to decode base64 JWT payload"),null)}catch(i){return gp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function xE(t){const e=Xv(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _d(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Us&&Tj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Tj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cd(this.lastLoginAt),this.creationTime=cd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await _d(t,Pp(n,{idToken:r}));Re(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?MA(s.providerUserInfo):[],c=Aj(t.providerData,l),d=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!c?.length,p=d?f:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new B1(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function kj(t){const e=Bs(t);await zp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Aj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function MA(t){return t.map(e=>{var{providerId:n}=e,r=tf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nj(t,e){const n=await AA(t,{},async()=>{const r=ef({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await NA(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&Qd(t.emulatorConfig.host)&&(d.credentials="include"),kA.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Mj(t,e){return Hs(t,"POST","/v2/accounts:revokeToken",aa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=xE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Nj(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new Tc;return r&&(Re(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Re(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(Re(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Tc,this.toJSON())}_performRefresh(){return Ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ii{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=tf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Cj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new B1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await _d(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Ej(this,e)}reload(){return kj(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ii(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($r(this.auth.app))return Promise.reject(Ko(this.auth));const e=await this.getIdToken();return await _d(this,xj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,l,c,d,f,p;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,x=(l=n.photoURL)!==null&&l!==void 0?l:void 0,E=(c=n.tenantId)!==null&&c!==void 0?c:void 0,C=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,_=(f=n.createdAt)!==null&&f!==void 0?f:void 0,I=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:L,emailVerified:U,isAnonymous:P,providerData:j,stsTokenManager:R}=n;Re(L&&R,e,"internal-error");const O=Tc.fromJSON(this.name,R);Re(typeof L=="string",e,"internal-error"),Ao(m,e.name),Ao(v,e.name),Re(typeof U=="boolean",e,"internal-error"),Re(typeof P=="boolean",e,"internal-error"),Ao(w,e.name),Ao(x,e.name),Ao(E,e.name),Ao(C,e.name),Ao(_,e.name),Ao(I,e.name);const D=new ii({uid:L,auth:e,email:v,emailVerified:U,displayName:m,isAnonymous:P,photoURL:x,phoneNumber:w,tenantId:E,stsTokenManager:O,createdAt:_,lastLoginAt:I});return j&&Array.isArray(j)&&(D.providerData=j.map(M=>Object.assign({},M))),C&&(D._redirectEventId=C),D}static async _fromIdTokenResponse(e,n,r=!1){const i=new Tc;i.updateFromServerResponse(n);const s=new ii({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await zp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Re(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?MA(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!s?.length,c=new Tc;c.updateFromIdToken(r);const d=new ii({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new B1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;function Os(t){Ps(t instanceof Function,"Expected a class definition");let e=EE.get(t);return e?(Ps(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,EE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}OA.type="NONE";const TE=OA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(t,e,n){return`firebase:${t}:${e}:${n}`}class Cc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=yp(this.userKey,i.apiKey,s),this.fullPersistenceKey=yp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Pp(this.auth,{idToken:e}).catch(()=>{});return n?ii._fromGetAccountInfoResponse(this.auth,n,e):null}return ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Cc(Os(TE),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||Os(TE);const l=yp(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const p=await f._get(l);if(p){let m;if(typeof p=="string"){const v=await Pp(e,{idToken:p}).catch(()=>{});if(!v)break;m=await ii._fromGetAccountInfoResponse(e,v,p)}else m=ii._fromJSON(e,p);f!==s&&(c=m),s=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new Cc(s,e,r):(s=d[0],c&&await s._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(l)}catch{}})),new Cc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_A(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LA(e))return"Blackberry";if(PA(e))return"Webos";if(RA(e))return"Safari";if((e.includes("chrome/")||DA(e))&&!e.includes("edge/"))return"Chrome";if(jA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function _A(t=Bn()){return/firefox\//i.test(t)}function RA(t=Bn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DA(t=Bn()){return/crios\//i.test(t)}function IA(t=Bn()){return/iemobile/i.test(t)}function jA(t=Bn()){return/android/i.test(t)}function LA(t=Bn()){return/blackberry/i.test(t)}function PA(t=Bn()){return/webos/i.test(t)}function Jv(t=Bn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Oj(t=Bn()){var e;return Jv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _j(){return H5()&&document.documentMode===10}function zA(t=Bn()){return Jv(t)||jA(t)||PA(t)||LA(t)||/windows phone/i.test(t)||IA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(t,e=[]){let n;switch(t){case"Browser":n=CE(Bn());break;case"Worker":n=`${CE(Bn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,c)=>{try{const d=e(s);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dj(t,e={}){return Hs(t,"GET","/v2/passwordPolicy",aa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=6;class jj{constructor(e){var n,r,i,s;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:Ij,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsUppercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kE(this),this.idTokenSubscription=new kE(this),this.beforeStateQueue=new Rj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Os(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Cc.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Pp(this,{idToken:e}),r=await ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if($r(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(i=d.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zp(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($r(this.app))return Promise.reject(Ko(this));const n=e?Bs(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $r(this.app)?Promise.reject(Ko(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $r(this.app)?Promise.reject(Ko(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Os(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Dj(this),n=new jj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Mj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Os(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await Cc.create(this,[Os(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(c,this,"internal-error"),c.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if($r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&uj(`Error while retrieving App Check token: ${n.error}`),n?.token}}function bl(t){return Bs(t)}class kE{constructor(e){this.auth=e,this.observer=null,this.addObserver=K5(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Pj(t){Vm=t}function BA(t){return Vm.loadJS(t)}function zj(){return Vm.recaptchaEnterpriseScript}function Uj(){return Vm.gapiScript}function Bj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Hj{constructor(){this.enterprise=new Vj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Vj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const $j="recaptcha-enterprise",HA="NO_RECAPTCHA";class Fj{constructor(e){this.type=$j,this.auth=bl(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,c)=>{Sj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new wj(d);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,l(f.siteKey)}}).catch(d=>{c(d)})})}function i(s,l,c){const d=window.grecaptcha;SE(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(f=>{l(f)}).catch(()=>{l(HA)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Hj().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(c=>{if(!n&&SE(window.grecaptcha))i(c,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=zj();d.length!==0&&(d+=c),BA(d).then(()=>{i(c,s,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function AE(t,e,n,r=!1,i=!1){const s=new Fj(t);let l;if(i)l=HA;else try{l=await s.verify(n)}catch{l=await s.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function H1(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await AE(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await AE(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(t,e){const n=qv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(sl(s,e??{}))return i;Gr(i,"already-initialized")}return n.initialize({options:e})}function Wj(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Os);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Gj(t,e,n){const r=bl(t);Re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=VA(e),{host:l,port:c}=Kj(e),d=c===null?"":`:${c}`,f={url:`${s}//${l}${d}/`},p=Object.freeze({host:l,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Re(sl(f,r.config.emulator)&&sl(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Qd(l)?(yA(`${s}//${l}${d}`),vA("Auth",!0)):Yj()}function VA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Kj(t){const e=VA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:NE(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:NE(l)}}}function NE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Yj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ms("not implemented")}_getIdTokenResponse(e){return Ms("not implemented")}_linkToIdToken(e,n){return Ms("not implemented")}_getReauthenticationResolver(e){return Ms("not implemented")}}async function Xj(t,e){return Hs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jj(t,e){return Hm(t,"POST","/v1/accounts:signInWithPassword",aa(t,e))}async function Qj(t,e){return Hs(t,"POST","/v1/accounts:sendOobCode",aa(t,e))}async function Zj(t,e){return Qj(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e6(t,e){return Hm(t,"POST","/v1/accounts:signInWithEmailLink",aa(t,e))}async function t6(t,e){return Hm(t,"POST","/v1/accounts:signInWithEmailLink",aa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd extends Qv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Rd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Rd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return H1(e,n,"signInWithPassword",Jj);case"emailLink":return e6(e,{email:this._email,oobCode:this._password});default:Gr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return H1(e,r,"signUpPassword",Xj);case"emailLink":return t6(e,{idToken:n,email:this._email,oobCode:this._password});default:Gr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(t,e){return Hm(t,"POST","/v1/accounts:signInWithIdp",aa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6="http://localhost";class al extends Qv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new al(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=tf(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new al(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return kc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,kc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,kc(e,n)}buildRequest(){const e={requestUri:n6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ef(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function i6(t){const e=td(nd(t)).link,n=e?td(nd(e)).deep_link_id:null,r=td(nd(t)).deep_link_id;return(r?td(nd(r)).link:null)||r||n||e||t}class $m{constructor(e){var n,r,i,s,l,c;const d=td(nd(e)),f=(n=d.apiKey)!==null&&n!==void 0?n:null,p=(r=d.oobCode)!==null&&r!==void 0?r:null,m=r6((i=d.mode)!==null&&i!==void 0?i:null);Re(f&&p&&m,"argument-error"),this.apiKey=f,this.operation=m,this.code=p,this.continueUrl=(s=d.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(l=d.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=i6(e);try{return new $m(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(){this.providerId=Kc.PROVIDER_ID}static credential(e,n){return Rd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=$m.parseLink(n);return Re(r,"argument-error"),Rd._fromEmailAndCode(e,r.code,r.tenantId)}}Kc.PROVIDER_ID="password";Kc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Kc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends Zv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po extends rf{constructor(){super("facebook.com")}static credential(e){return al._fromParams({providerId:Po.PROVIDER_ID,signInMethod:Po.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Po.credentialFromTaggedObject(e)}static credentialFromError(e){return Po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Po.credential(e.oauthAccessToken)}catch{return null}}}Po.FACEBOOK_SIGN_IN_METHOD="facebook.com";Po.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends rf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return al._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return As.credential(n,r)}catch{return null}}}As.GOOGLE_SIGN_IN_METHOD="google.com";As.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo extends rf{constructor(){super("github.com")}static credential(e){return al._fromParams({providerId:zo.PROVIDER_ID,signInMethod:zo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zo.credentialFromTaggedObject(e)}static credentialFromError(e){return zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zo.credential(e.oauthAccessToken)}catch{return null}}}zo.GITHUB_SIGN_IN_METHOD="github.com";zo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends rf{constructor(){super("twitter.com")}static credential(e,n){return al._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Uo.credential(n,r)}catch{return null}}}Uo.TWITTER_SIGN_IN_METHOD="twitter.com";Uo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ii._fromIdTokenResponse(e,r,i),l=ME(r);return new Dc({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=ME(r);return new Dc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function ME(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up extends Us{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Up.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Up(e,n,r,i)}}function $A(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Up._fromErrorAndOperation(t,s,e,r):s})}async function s6(t,e,n=!1){const r=await _d(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Dc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o6(t,e,n=!1){const{auth:r}=t;if($r(r.app))return Promise.reject(Ko(r));const i="reauthenticate";try{const s=await _d(t,$A(r,i,e,t),n);Re(s.idToken,r,"internal-error");const l=Xv(s.idToken);Re(l,r,"internal-error");const{sub:c}=l;return Re(t.uid===c,r,"user-mismatch"),Dc._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Gr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FA(t,e,n=!1){if($r(t.app))return Promise.reject(Ko(t));const r="signIn",i=await $A(t,r,e),s=await Dc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function a6(t,e){return FA(bl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(t,e,n){var r;Re(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Re(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),Re(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Re(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Re(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c6(t,e,n){const r=bl(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(l,c){Re(c.handleCodeInApp,r,"argument-error"),c&&l6(r,l,c)}s(i,n),await H1(r,i,"getOobCode",Zj)}function u6(t,e){const n=$m.parseLink(e);return n?.operation==="EMAIL_SIGNIN"}async function d6(t,e,n){if($r(t.app))return Promise.reject(Ko(t));const r=Bs(t),i=Kc.credentialWithLink(e,n||Lp());return Re(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),a6(r,i)}function f6(t,e,n,r){return Bs(t).onIdTokenChanged(e,n,r)}function h6(t,e,n){return Bs(t).beforeAuthStateChanged(e,n)}function p6(t,e,n,r){return Bs(t).onAuthStateChanged(e,n,r)}function m6(t){return Bs(t).signOut()}const Bp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bp,"1"),this.storage.removeItem(Bp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=1e3,y6=10;class WA extends qA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);_j()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,y6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},g6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}WA.type="LOCAL";const v6=WA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA extends qA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}GA.type="SESSION";const KA=GA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Fm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(n.origin,s)),d=await b6(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((c,d)=>{const f=eb("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(m){const v=m;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(v.data.response);break;default:clearTimeout(p),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return window}function S6(t){Ui().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function x6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function E6(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function T6(){return YA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="firebaseLocalStorageDb",C6=1,Hp="firebaseLocalStorage",JA="fbase_key";class sf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qm(t,e){return t.transaction([Hp],e?"readwrite":"readonly").objectStore(Hp)}function k6(){const t=indexedDB.deleteDatabase(XA);return new sf(t).toPromise()}function V1(){const t=indexedDB.open(XA,C6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Hp,{keyPath:JA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Hp)?e(r):(r.close(),await k6(),e(await V1()))})})}async function OE(t,e,n){const r=qm(t,!0).put({[JA]:e,value:n});return new sf(r).toPromise()}async function A6(t,e){const n=qm(t,!1).get(e),r=await new sf(n).toPromise();return r===void 0?null:r.value}function _E(t,e){const n=qm(t,!0).delete(e);return new sf(n).toPromise()}const N6=800,M6=3;class QA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await V1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>M6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fm._getInstance(T6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await x6(),!this.activeServiceWorker)return;this.sender=new w6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||E6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await V1();return await OE(e,Bp,"1"),await _E(e,Bp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>OE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>A6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_E(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=qm(i,!1).getAll();return new sf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),N6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QA.type="LOCAL";const O6=QA;new nf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(t,e){return e?Os(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb extends Qv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return kc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return kc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _6(t){return FA(t.auth,new tb(t),t.bypassAuthState)}function R6(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),o6(n,new tb(t),t.bypassAuthState)}async function D6(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),s6(n,new tb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _6;case"linkViaPopup":case"linkViaRedirect":return D6;case"reauthViaPopup":case"reauthViaRedirect":return R6;default:Gr(this.auth,"internal-error")}}resolve(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6=new nf(2e3,1e4);async function j6(t,e,n){if($r(t.app))return Promise.reject(li(t,"operation-not-supported-in-this-environment"));const r=bl(t);dj(t,e,Zv);const i=ZA(r,n);return new Wa(r,"signInViaPopup",e,i).executeNotNull()}class Wa extends eN{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Wa.currentPopupAction&&Wa.currentPopupAction.cancel(),Wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Ps(this.filter.length===1,"Popup operations only handle one event");const e=eb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,I6.get())};e()}}Wa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6="pendingRedirect",vp=new Map;class P6 extends eN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=vp.get(this.auth._key());if(!e){try{const r=await z6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}vp.set(this.auth._key(),e)}return this.bypassAuthState||vp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function z6(t,e){const n=H6(e),r=B6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function U6(t,e){vp.set(t._key(),e)}function B6(t){return Os(t._redirectPersistence)}function H6(t){return yp(L6,t.config.apiKey,t.name)}async function V6(t,e,n=!1){if($r(t.app))return Promise.reject(Ko(t));const r=bl(t),i=ZA(r,e),l=await new P6(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=600*1e3;class F6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!q6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!tN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(li(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$6&&this.cachedEventUids.clear(),this.cachedEventUids.has(RE(e))}saveEventToCache(e){this.cachedEventUids.add(RE(e)),this.lastProcessedEventTime=Date.now()}}function RE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function tN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function q6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W6(t,e={}){return Hs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,K6=/^https?/;async function Y6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await W6(t);for(const n of e)try{if(X6(n))return}catch{}Gr(t,"unauthorized-domain")}function X6(t){const e=Lp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!K6.test(n))return!1;if(G6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=new nf(3e4,6e4);function DE(){const t=Ui().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Q6(t){return new Promise((e,n)=>{var r,i,s;function l(){DE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DE(),n(li(t,"network-request-failed"))},timeout:J6.get()})}if(!((i=(r=Ui().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ui().gapi)===null||s===void 0)&&s.load)l();else{const c=Bj("iframefcb");return Ui()[c]=()=>{gapi.load?l():n(li(t,"network-request-failed"))},BA(`${Uj()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw bp=null,e})}let bp=null;function Z6(t){return bp=bp||Q6(t),bp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=new nf(5e3,15e3),tL="__/auth/iframe",nL="emulator/auth/iframe",rL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sL(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Yv(e,nL):`https://${t.config.authDomain}/${tL}`,r={apiKey:e.apiKey,appName:t.name,v:Gc},i=iL.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ef(r).slice(1)}`}async function oL(t){const e=await Z6(t),n=Ui().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:sL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rL,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=li(t,"network-request-failed"),c=Ui().setTimeout(()=>{s(l)},eL.get());function d(){Ui().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lL=500,cL=600,uL="_blank",dL="http://localhost";class IE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fL(t,e,n,r=lL,i=cL){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},aL),{width:r.toString(),height:i.toString(),top:s,left:l}),f=Bn().toLowerCase();n&&(c=DA(f)?uL:n),_A(f)&&(e=e||dL,d.scrollbars="yes");const p=Object.entries(d).reduce((v,[w,x])=>`${v}${w}=${x},`,"");if(Oj(f)&&c!=="_self")return hL(e||"",c),new IE(null);const m=window.open(e||"",c,p);Re(m,t,"popup-blocked");try{m.focus()}catch{}return new IE(m)}function hL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL="__/auth/handler",mL="emulator/auth/handler",gL=encodeURIComponent("fac");async function jE(t,e,n,r,i,s){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Gc,eventId:i};if(e instanceof Zv){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",G5(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))l[p]=m}if(e instanceof rf){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const d=await t._getAppCheckToken(),f=d?`#${gL}=${encodeURIComponent(d)}`:"";return`${yL(t)}?${ef(c).slice(1)}${f}`}function yL({config:t}){return t.emulator?Yv(t,mL):`https://${t.authDomain}/${pL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="webStorageSupport";class vL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KA,this._completeRedirectFn=V6,this._overrideRedirectResult=U6}async _openPopup(e,n,r,i){var s;Ps((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=await jE(e,n,r,Lp(),i);return fL(e,l,eb())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await jE(e,n,r,Lp(),i);return S6(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ps(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await oL(e),r=new F6(e);return n.register("authEvent",i=>(Re(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(R0,{type:R0},i=>{var s;const l=(s=i?.[0])===null||s===void 0?void 0:s[R0];l!==void 0&&n(!!l),Gr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Y6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zA()||RA()||Jv()}}const bL=vL;var LE="@firebase/auth",PE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xL(t){Rc(new ol("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Re(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UA(t)},f=new Lj(r,i,s,d);return Wj(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Rc(new ol("auth-internal",e=>{const n=bl(e.getProvider("auth").getImmediate());return(r=>new wL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Go(LE,PE,SL(t)),Go(LE,PE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=300,TL=gA("authIdTokenMaxAge")||EL;let zE=null;const CL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>TL)return;const i=n?.token;zE!==i&&(zE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function kL(t=Wv()){const e=qv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=qj(t,{popupRedirectResolver:bL,persistence:[O6,v6,KA]}),r=gA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=CL(s.toString());h6(n,l,()=>l(n.currentUser)),f6(n,c=>l(c))}}const i=pA("auth");return i&&Gj(n,`http://${i}`),n}function AL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Pj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=li("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",AL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xL("Browser");var UE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,O){function D(){}D.prototype=O.prototype,R.D=O.prototype,R.prototype=new D,R.prototype.constructor=R,R.C=function(M,V,$){for(var B=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)B[ye-2]=arguments[ye];return O.prototype[V].apply(M,B)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,O,D){D||(D=0);var M=Array(16);if(typeof O=="string")for(var V=0;16>V;++V)M[V]=O.charCodeAt(D++)|O.charCodeAt(D++)<<8|O.charCodeAt(D++)<<16|O.charCodeAt(D++)<<24;else for(V=0;16>V;++V)M[V]=O[D++]|O[D++]<<8|O[D++]<<16|O[D++]<<24;O=R.g[0],D=R.g[1],V=R.g[2];var $=R.g[3],B=O+($^D&(V^$))+M[0]+3614090360&4294967295;O=D+(B<<7&4294967295|B>>>25),B=$+(V^O&(D^V))+M[1]+3905402710&4294967295,$=O+(B<<12&4294967295|B>>>20),B=V+(D^$&(O^D))+M[2]+606105819&4294967295,V=$+(B<<17&4294967295|B>>>15),B=D+(O^V&($^O))+M[3]+3250441966&4294967295,D=V+(B<<22&4294967295|B>>>10),B=O+($^D&(V^$))+M[4]+4118548399&4294967295,O=D+(B<<7&4294967295|B>>>25),B=$+(V^O&(D^V))+M[5]+1200080426&4294967295,$=O+(B<<12&4294967295|B>>>20),B=V+(D^$&(O^D))+M[6]+2821735955&4294967295,V=$+(B<<17&4294967295|B>>>15),B=D+(O^V&($^O))+M[7]+4249261313&4294967295,D=V+(B<<22&4294967295|B>>>10),B=O+($^D&(V^$))+M[8]+1770035416&4294967295,O=D+(B<<7&4294967295|B>>>25),B=$+(V^O&(D^V))+M[9]+2336552879&4294967295,$=O+(B<<12&4294967295|B>>>20),B=V+(D^$&(O^D))+M[10]+4294925233&4294967295,V=$+(B<<17&4294967295|B>>>15),B=D+(O^V&($^O))+M[11]+2304563134&4294967295,D=V+(B<<22&4294967295|B>>>10),B=O+($^D&(V^$))+M[12]+1804603682&4294967295,O=D+(B<<7&4294967295|B>>>25),B=$+(V^O&(D^V))+M[13]+4254626195&4294967295,$=O+(B<<12&4294967295|B>>>20),B=V+(D^$&(O^D))+M[14]+2792965006&4294967295,V=$+(B<<17&4294967295|B>>>15),B=D+(O^V&($^O))+M[15]+1236535329&4294967295,D=V+(B<<22&4294967295|B>>>10),B=O+(V^$&(D^V))+M[1]+4129170786&4294967295,O=D+(B<<5&4294967295|B>>>27),B=$+(D^V&(O^D))+M[6]+3225465664&4294967295,$=O+(B<<9&4294967295|B>>>23),B=V+(O^D&($^O))+M[11]+643717713&4294967295,V=$+(B<<14&4294967295|B>>>18),B=D+($^O&(V^$))+M[0]+3921069994&4294967295,D=V+(B<<20&4294967295|B>>>12),B=O+(V^$&(D^V))+M[5]+3593408605&4294967295,O=D+(B<<5&4294967295|B>>>27),B=$+(D^V&(O^D))+M[10]+38016083&4294967295,$=O+(B<<9&4294967295|B>>>23),B=V+(O^D&($^O))+M[15]+3634488961&4294967295,V=$+(B<<14&4294967295|B>>>18),B=D+($^O&(V^$))+M[4]+3889429448&4294967295,D=V+(B<<20&4294967295|B>>>12),B=O+(V^$&(D^V))+M[9]+568446438&4294967295,O=D+(B<<5&4294967295|B>>>27),B=$+(D^V&(O^D))+M[14]+3275163606&4294967295,$=O+(B<<9&4294967295|B>>>23),B=V+(O^D&($^O))+M[3]+4107603335&4294967295,V=$+(B<<14&4294967295|B>>>18),B=D+($^O&(V^$))+M[8]+1163531501&4294967295,D=V+(B<<20&4294967295|B>>>12),B=O+(V^$&(D^V))+M[13]+2850285829&4294967295,O=D+(B<<5&4294967295|B>>>27),B=$+(D^V&(O^D))+M[2]+4243563512&4294967295,$=O+(B<<9&4294967295|B>>>23),B=V+(O^D&($^O))+M[7]+1735328473&4294967295,V=$+(B<<14&4294967295|B>>>18),B=D+($^O&(V^$))+M[12]+2368359562&4294967295,D=V+(B<<20&4294967295|B>>>12),B=O+(D^V^$)+M[5]+4294588738&4294967295,O=D+(B<<4&4294967295|B>>>28),B=$+(O^D^V)+M[8]+2272392833&4294967295,$=O+(B<<11&4294967295|B>>>21),B=V+($^O^D)+M[11]+1839030562&4294967295,V=$+(B<<16&4294967295|B>>>16),B=D+(V^$^O)+M[14]+4259657740&4294967295,D=V+(B<<23&4294967295|B>>>9),B=O+(D^V^$)+M[1]+2763975236&4294967295,O=D+(B<<4&4294967295|B>>>28),B=$+(O^D^V)+M[4]+1272893353&4294967295,$=O+(B<<11&4294967295|B>>>21),B=V+($^O^D)+M[7]+4139469664&4294967295,V=$+(B<<16&4294967295|B>>>16),B=D+(V^$^O)+M[10]+3200236656&4294967295,D=V+(B<<23&4294967295|B>>>9),B=O+(D^V^$)+M[13]+681279174&4294967295,O=D+(B<<4&4294967295|B>>>28),B=$+(O^D^V)+M[0]+3936430074&4294967295,$=O+(B<<11&4294967295|B>>>21),B=V+($^O^D)+M[3]+3572445317&4294967295,V=$+(B<<16&4294967295|B>>>16),B=D+(V^$^O)+M[6]+76029189&4294967295,D=V+(B<<23&4294967295|B>>>9),B=O+(D^V^$)+M[9]+3654602809&4294967295,O=D+(B<<4&4294967295|B>>>28),B=$+(O^D^V)+M[12]+3873151461&4294967295,$=O+(B<<11&4294967295|B>>>21),B=V+($^O^D)+M[15]+530742520&4294967295,V=$+(B<<16&4294967295|B>>>16),B=D+(V^$^O)+M[2]+3299628645&4294967295,D=V+(B<<23&4294967295|B>>>9),B=O+(V^(D|~$))+M[0]+4096336452&4294967295,O=D+(B<<6&4294967295|B>>>26),B=$+(D^(O|~V))+M[7]+1126891415&4294967295,$=O+(B<<10&4294967295|B>>>22),B=V+(O^($|~D))+M[14]+2878612391&4294967295,V=$+(B<<15&4294967295|B>>>17),B=D+($^(V|~O))+M[5]+4237533241&4294967295,D=V+(B<<21&4294967295|B>>>11),B=O+(V^(D|~$))+M[12]+1700485571&4294967295,O=D+(B<<6&4294967295|B>>>26),B=$+(D^(O|~V))+M[3]+2399980690&4294967295,$=O+(B<<10&4294967295|B>>>22),B=V+(O^($|~D))+M[10]+4293915773&4294967295,V=$+(B<<15&4294967295|B>>>17),B=D+($^(V|~O))+M[1]+2240044497&4294967295,D=V+(B<<21&4294967295|B>>>11),B=O+(V^(D|~$))+M[8]+1873313359&4294967295,O=D+(B<<6&4294967295|B>>>26),B=$+(D^(O|~V))+M[15]+4264355552&4294967295,$=O+(B<<10&4294967295|B>>>22),B=V+(O^($|~D))+M[6]+2734768916&4294967295,V=$+(B<<15&4294967295|B>>>17),B=D+($^(V|~O))+M[13]+1309151649&4294967295,D=V+(B<<21&4294967295|B>>>11),B=O+(V^(D|~$))+M[4]+4149444226&4294967295,O=D+(B<<6&4294967295|B>>>26),B=$+(D^(O|~V))+M[11]+3174756917&4294967295,$=O+(B<<10&4294967295|B>>>22),B=V+(O^($|~D))+M[2]+718787259&4294967295,V=$+(B<<15&4294967295|B>>>17),B=D+($^(V|~O))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+O&4294967295,R.g[1]=R.g[1]+(V+(B<<21&4294967295|B>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+$&4294967295}r.prototype.u=function(R,O){O===void 0&&(O=R.length);for(var D=O-this.blockSize,M=this.B,V=this.h,$=0;$<O;){if(V==0)for(;$<=D;)i(this,R,$),$+=this.blockSize;if(typeof R=="string"){for(;$<O;)if(M[V++]=R.charCodeAt($++),V==this.blockSize){i(this,M),V=0;break}}else for(;$<O;)if(M[V++]=R[$++],V==this.blockSize){i(this,M),V=0;break}}this.h=V,this.o+=O},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var O=1;O<R.length-8;++O)R[O]=0;var D=8*this.o;for(O=R.length-8;O<R.length;++O)R[O]=D&255,D/=256;for(this.u(R),R=Array(16),O=D=0;4>O;++O)for(var M=0;32>M;M+=8)R[D++]=this.g[O]>>>M&255;return R};function s(R,O){var D=c;return Object.prototype.hasOwnProperty.call(D,R)?D[R]:D[R]=O(R)}function l(R,O){this.h=O;for(var D=[],M=!0,V=R.length-1;0<=V;V--){var $=R[V]|0;M&&$==O||(D[V]=$,M=!1)}this.g=D}var c={};function d(R){return-128<=R&&128>R?s(R,function(O){return new l([O|0],0>O?-1:0)}):new l([R|0],0>R?-1:0)}function f(R){if(isNaN(R)||!isFinite(R))return m;if(0>R)return C(f(-R));for(var O=[],D=1,M=0;R>=D;M++)O[M]=R/D|0,D*=4294967296;return new l(O,0)}function p(R,O){if(R.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(R.charAt(0)=="-")return C(p(R.substring(1),O));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=f(Math.pow(O,8)),M=m,V=0;V<R.length;V+=8){var $=Math.min(8,R.length-V),B=parseInt(R.substring(V,V+$),O);8>$?($=f(Math.pow(O,$)),M=M.j($).add(f(B))):(M=M.j(D),M=M.add(f(B)))}return M}var m=d(0),v=d(1),w=d(16777216);t=l.prototype,t.m=function(){if(E(this))return-C(this).m();for(var R=0,O=1,D=0;D<this.g.length;D++){var M=this.i(D);R+=(0<=M?M:4294967296+M)*O,O*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(x(this))return"0";if(E(this))return"-"+C(this).toString(R);for(var O=f(Math.pow(R,6)),D=this,M="";;){var V=U(D,O).g;D=_(D,V.j(O));var $=((0<D.g.length?D.g[0]:D.h)>>>0).toString(R);if(D=V,x(D))return $+M;for(;6>$.length;)$="0"+$;M=$+M}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function x(R){if(R.h!=0)return!1;for(var O=0;O<R.g.length;O++)if(R.g[O]!=0)return!1;return!0}function E(R){return R.h==-1}t.l=function(R){return R=_(this,R),E(R)?-1:x(R)?0:1};function C(R){for(var O=R.g.length,D=[],M=0;M<O;M++)D[M]=~R.g[M];return new l(D,~R.h).add(v)}t.abs=function(){return E(this)?C(this):this},t.add=function(R){for(var O=Math.max(this.g.length,R.g.length),D=[],M=0,V=0;V<=O;V++){var $=M+(this.i(V)&65535)+(R.i(V)&65535),B=($>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);M=B>>>16,$&=65535,B&=65535,D[V]=B<<16|$}return new l(D,D[D.length-1]&-2147483648?-1:0)};function _(R,O){return R.add(C(O))}t.j=function(R){if(x(this)||x(R))return m;if(E(this))return E(R)?C(this).j(C(R)):C(C(this).j(R));if(E(R))return C(this.j(C(R)));if(0>this.l(w)&&0>R.l(w))return f(this.m()*R.m());for(var O=this.g.length+R.g.length,D=[],M=0;M<2*O;M++)D[M]=0;for(M=0;M<this.g.length;M++)for(var V=0;V<R.g.length;V++){var $=this.i(M)>>>16,B=this.i(M)&65535,ye=R.i(V)>>>16,me=R.i(V)&65535;D[2*M+2*V]+=B*me,I(D,2*M+2*V),D[2*M+2*V+1]+=$*me,I(D,2*M+2*V+1),D[2*M+2*V+1]+=B*ye,I(D,2*M+2*V+1),D[2*M+2*V+2]+=$*ye,I(D,2*M+2*V+2)}for(M=0;M<O;M++)D[M]=D[2*M+1]<<16|D[2*M];for(M=O;M<2*O;M++)D[M]=0;return new l(D,0)};function I(R,O){for(;(R[O]&65535)!=R[O];)R[O+1]+=R[O]>>>16,R[O]&=65535,O++}function L(R,O){this.g=R,this.h=O}function U(R,O){if(x(O))throw Error("division by zero");if(x(R))return new L(m,m);if(E(R))return O=U(C(R),O),new L(C(O.g),C(O.h));if(E(O))return O=U(R,C(O)),new L(C(O.g),O.h);if(30<R.g.length){if(E(R)||E(O))throw Error("slowDivide_ only works with positive integers.");for(var D=v,M=O;0>=M.l(R);)D=P(D),M=P(M);var V=j(D,1),$=j(M,1);for(M=j(M,2),D=j(D,2);!x(M);){var B=$.add(M);0>=B.l(R)&&(V=V.add(D),$=B),M=j(M,1),D=j(D,1)}return O=_(R,V.j(O)),new L(V,O)}for(V=m;0<=R.l(O);){for(D=Math.max(1,Math.floor(R.m()/O.m())),M=Math.ceil(Math.log(D)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),$=f(D),B=$.j(O);E(B)||0<B.l(R);)D-=M,$=f(D),B=$.j(O);x($)&&($=v),V=V.add($),R=_(R,B)}return new L(V,R)}t.A=function(R){return U(this,R).h},t.and=function(R){for(var O=Math.max(this.g.length,R.g.length),D=[],M=0;M<O;M++)D[M]=this.i(M)&R.i(M);return new l(D,this.h&R.h)},t.or=function(R){for(var O=Math.max(this.g.length,R.g.length),D=[],M=0;M<O;M++)D[M]=this.i(M)|R.i(M);return new l(D,this.h|R.h)},t.xor=function(R){for(var O=Math.max(this.g.length,R.g.length),D=[],M=0;M<O;M++)D[M]=this.i(M)^R.i(M);return new l(D,this.h^R.h)};function P(R){for(var O=R.g.length+1,D=[],M=0;M<O;M++)D[M]=R.i(M)<<1|R.i(M-1)>>>31;return new l(D,R.h)}function j(R,O){var D=O>>5;O%=32;for(var M=R.g.length-D,V=[],$=0;$<M;$++)V[$]=0<O?R.i($+D)>>>O|R.i($+D+1)<<32-O:R.i($+D);return new l(V,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,nb=l}).apply(typeof UE<"u"?UE:typeof self<"u"?self:typeof window<"u"?window:{});var jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,T,A){return g==Array.prototype||g==Object.prototype||(g[T]=A.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof jh=="object"&&jh];for(var T=0;T<g.length;++T){var A=g[T];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(g,T){if(T)e:{var A=r;g=g.split(".");for(var H=0;H<g.length-1;H++){var J=g[H];if(!(J in A))break e;A=A[J]}g=g[g.length-1],H=A[g],T=T(H),T!=H&&T!=null&&e(A,g,{configurable:!0,writable:!0,value:T})}}function s(g,T){g instanceof String&&(g+="");var A=0,H=!1,J={next:function(){if(!H&&A<g.length){var re=A++;return{value:T(re,g[re]),done:!1}}return H=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}i("Array.prototype.values",function(g){return g||function(){return s(this,function(T,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(g){var T=typeof g;return T=T!="object"?T:g?Array.isArray(g)?"array":T:"null",T=="array"||T=="object"&&typeof g.length=="number"}function f(g){var T=typeof g;return T=="object"&&g!=null||T=="function"}function p(g,T,A){return g.call.apply(g.bind,arguments)}function m(g,T,A){if(!g)throw Error();if(2<arguments.length){var H=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,H),g.apply(T,J)}}return function(){return g.apply(T,arguments)}}function v(g,T,A){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,v.apply(null,arguments)}function w(g,T){var A=Array.prototype.slice.call(arguments,1);return function(){var H=A.slice();return H.push.apply(H,arguments),g.apply(this,H)}}function x(g,T){function A(){}A.prototype=T.prototype,g.aa=T.prototype,g.prototype=new A,g.prototype.constructor=g,g.Qb=function(H,J,re){for(var ve=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)ve[ht-2]=arguments[ht];return T.prototype[J].apply(H,ve)}}function E(g){const T=g.length;if(0<T){const A=Array(T);for(let H=0;H<T;H++)A[H]=g[H];return A}return[]}function C(g,T){for(let A=1;A<arguments.length;A++){const H=arguments[A];if(d(H)){const J=g.length||0,re=H.length||0;g.length=J+re;for(let ve=0;ve<re;ve++)g[J+ve]=H[ve]}else g.push(H)}}class _{constructor(T,A){this.i=T,this.j=A,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function I(g){return/^[\s\xa0]*$/.test(g)}function L(){var g=c.navigator;return g&&(g=g.userAgent)?g:""}function U(g){return U[" "](g),g}U[" "]=function(){};var P=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function j(g,T,A){for(const H in g)T.call(A,g[H],H,g)}function R(g,T){for(const A in g)T.call(void 0,g[A],A,g)}function O(g){const T={};for(const A in g)T[A]=g[A];return T}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(g,T){let A,H;for(let J=1;J<arguments.length;J++){H=arguments[J];for(A in H)g[A]=H[A];for(let re=0;re<D.length;re++)A=D[re],Object.prototype.hasOwnProperty.call(H,A)&&(g[A]=H[A])}}function V(g){var T=1;g=g.split(":");const A=[];for(;0<T&&g.length;)A.push(g.shift()),T--;return g.length&&A.push(g.join(":")),A}function $(g){c.setTimeout(()=>{throw g},0)}function B(){var g=Ce;let T=null;return g.g&&(T=g.g,g.g=g.g.next,g.g||(g.h=null),T.next=null),T}class ye{constructor(){this.h=this.g=null}add(T,A){const H=me.get();H.set(T,A),this.h?this.h.next=H:this.g=H,this.h=H}}var me=new _(()=>new G,g=>g.reset());class G{constructor(){this.next=this.g=this.h=null}set(T,A){this.h=T,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ce=!1,Ce=new ye,q=()=>{const g=c.Promise.resolve(void 0);oe=()=>{g.then(ie)}};var ie=()=>{for(var g;g=B();){try{g.h.call(g.g)}catch(A){$(A)}var T=me;T.j(g),100>T.h&&(T.h++,g.next=T.g,T.g=g)}ce=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(g,T){this.type=g,this.g=this.target=T,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var xe=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var g=!1,T=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const A=()=>{};c.addEventListener("test",A,T),c.removeEventListener("test",A,T)}catch{}return g})();function $e(g,T){if(de.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var A=this.type=g.type,H=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=T,T=g.relatedTarget){if(P){e:{try{U(T.nodeName);var J=!0;break e}catch{}J=!1}J||(T=null)}}else A=="mouseover"?T=g.fromElement:A=="mouseout"&&(T=g.toElement);this.relatedTarget=T,H?(this.clientX=H.clientX!==void 0?H.clientX:H.pageX,this.clientY=H.clientY!==void 0?H.clientY:H.pageY,this.screenX=H.screenX||0,this.screenY=H.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:je[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&$e.aa.h.call(this)}}x($e,de);var je={2:"touch",3:"pen",4:"mouse"};$e.prototype.h=function(){$e.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),lt=0;function Fn(g,T,A,H,J){this.listener=g,this.proxy=null,this.src=T,this.type=A,this.capture=!!H,this.ha=J,this.key=++lt,this.da=this.fa=!1}function Ct(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function sn(g){this.src=g,this.g={},this.h=0}sn.prototype.add=function(g,T,A,H,J){var re=g.toString();g=this.g[re],g||(g=this.g[re]=[],this.h++);var ve=qn(g,T,H,J);return-1<ve?(T=g[ve],A||(T.fa=!1)):(T=new Fn(T,this.src,re,!!H,J),T.fa=A,g.push(T)),T};function xr(g,T){var A=T.type;if(A in g.g){var H=g.g[A],J=Array.prototype.indexOf.call(H,T,void 0),re;(re=0<=J)&&Array.prototype.splice.call(H,J,1),re&&(Ct(T),g.g[A].length==0&&(delete g.g[A],g.h--))}}function qn(g,T,A,H){for(var J=0;J<g.length;++J){var re=g[J];if(!re.da&&re.listener==T&&re.capture==!!A&&re.ha==H)return J}return-1}var Rn="closure_lm_"+(1e6*Math.random()|0),fa={};function Sl(g,T,A,H,J){if(Array.isArray(T)){for(var re=0;re<T.length;re++)Sl(g,T[re],A,H,J);return null}return A=Gs(A),g&&g[Nt]?g.K(T,A,f(H)?!!H.capture:!1,J):Dn(g,T,A,!1,H,J)}function Dn(g,T,A,H,J,re){if(!T)throw Error("Invalid event type");var ve=f(J)?!!J.capture:!!J,ht=Er(g);if(ht||(g[Rn]=ht=new sn(g)),A=ht.add(T,A,H,ve,re),A.proxy)return A;if(H=Jc(),A.proxy=H,H.src=g,H.listener=A,g.addEventListener)xe||(J=ve),J===void 0&&(J=!1),g.addEventListener(T.toString(),H,J);else if(g.attachEvent)g.attachEvent(Ki(T.toString()),H);else if(g.addListener&&g.removeListener)g.addListener(H);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Jc(){function g(A){return T.call(g.src,g.listener,A)}const T=Kr;return g}function ha(g,T,A,H,J){if(Array.isArray(T))for(var re=0;re<T.length;re++)ha(g,T[re],A,H,J);else H=f(H)?!!H.capture:!!H,A=Gs(A),g&&g[Nt]?(g=g.i,T=String(T).toString(),T in g.g&&(re=g.g[T],A=qn(re,A,H,J),-1<A&&(Ct(re[A]),Array.prototype.splice.call(re,A,1),re.length==0&&(delete g.g[T],g.h--)))):g&&(g=Er(g))&&(T=g.g[T.toString()],g=-1,T&&(g=qn(T,A,H,J)),(A=-1<g?T[g]:null)&&qs(A))}function qs(g){if(typeof g!="number"&&g&&!g.da){var T=g.src;if(T&&T[Nt])xr(T.i,g);else{var A=g.type,H=g.proxy;T.removeEventListener?T.removeEventListener(A,H,g.capture):T.detachEvent?T.detachEvent(Ki(A),H):T.addListener&&T.removeListener&&T.removeListener(H),(A=Er(T))?(xr(A,g),A.h==0&&(A.src=null,T[Rn]=null)):Ct(g)}}}function Ki(g){return g in fa?fa[g]:fa[g]="on"+g}function Kr(g,T){if(g.da)g=!0;else{T=new $e(T,this);var A=g.listener,H=g.ha||g.src;g.fa&&qs(g),g=A.call(H,T)}return g}function Er(g){return g=g[Rn],g instanceof sn?g:null}var Ws="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gs(g){return typeof g=="function"?g:(g[Ws]||(g[Ws]=function(T){return g.handleEvent(T)}),g[Ws])}function ct(){he.call(this),this.i=new sn(this),this.M=this,this.F=null}x(ct,he),ct.prototype[Nt]=!0,ct.prototype.removeEventListener=function(g,T,A,H){ha(this,g,T,A,H)};function Ke(g,T){var A,H=g.F;if(H)for(A=[];H;H=H.F)A.push(H);if(g=g.M,H=T.type||T,typeof T=="string")T=new de(T,g);else if(T instanceof de)T.target=T.target||g;else{var J=T;T=new de(H,g),M(T,J)}if(J=!0,A)for(var re=A.length-1;0<=re;re--){var ve=T.g=A[re];J=Cn(ve,H,!0,T)&&J}if(ve=T.g=g,J=Cn(ve,H,!0,T)&&J,J=Cn(ve,H,!1,T)&&J,A)for(re=0;re<A.length;re++)ve=T.g=A[re],J=Cn(ve,H,!1,T)&&J}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var g=this.i,T;for(T in g.g){for(var A=g.g[T],H=0;H<A.length;H++)Ct(A[H]);delete g.g[T],g.h--}}this.F=null},ct.prototype.K=function(g,T,A,H){return this.i.add(String(g),T,!1,A,H)},ct.prototype.L=function(g,T,A,H){return this.i.add(String(g),T,!0,A,H)};function Cn(g,T,A,H){if(T=g.i.g[String(T)],!T)return!0;T=T.concat();for(var J=!0,re=0;re<T.length;++re){var ve=T[re];if(ve&&!ve.da&&ve.capture==A){var ht=ve.listener,It=ve.ha||ve.src;ve.fa&&xr(g.i,ve),J=ht.call(It,H)!==!1&&J}}return J&&!H.defaultPrevented}function Gt(g,T,A){if(typeof g=="function")A&&(g=v(g,A));else if(g&&typeof g.handleEvent=="function")g=v(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:c.setTimeout(g,T||0)}function xl(g){g.g=Gt(()=>{g.g=null,g.i&&(g.i=!1,xl(g))},g.l);const T=g.h;g.h=null,g.m.apply(null,T)}class Tr extends he{constructor(T,A){super(),this.m=T,this.l=A,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:xl(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gi(g){he.call(this),this.h=g,this.g={}}x(gi,he);var yi=[];function vi(g){j(g.g,function(T,A){this.g.hasOwnProperty(A)&&qs(T)},g),g.g={}}gi.prototype.N=function(){gi.aa.N.call(this),vi(this)},gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ir=c.JSON.stringify,Yi=c.JSON.parse,Cr=class{stringify(g){return c.JSON.stringify(g,void 0)}parse(g){return c.JSON.parse(g,void 0)}};function Ks(){}Ks.prototype.h=null;function Xi(g){return g.h||(g.h=g.i())}function El(){}var kr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yr(){de.call(this,"d")}x(Yr,de);function Ys(){de.call(this,"c")}x(Ys,de);var Wn={},bi=null;function Ji(){return bi=bi||new ct}Wn.La="serverreachability";function Xs(g){de.call(this,Wn.La,g)}x(Xs,de);function W(g){const T=Ji();Ke(T,new Xs(T))}Wn.STAT_EVENT="statevent";function X(g,T){de.call(this,Wn.STAT_EVENT,g),this.stat=T}x(X,de);function ee(g){const T=Ji();Ke(T,new X(T,g))}Wn.Ma="timingevent";function ue(g,T){de.call(this,Wn.Ma,g),this.size=T}x(ue,de);function pe(g,T){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){g()},T)}function we(){this.g=!0}we.prototype.xa=function(){this.g=!1};function Me(g,T,A,H,J,re){g.info(function(){if(g.g)if(re)for(var ve="",ht=re.split("&"),It=0;It<ht.length;It++){var nt=ht[It].split("=");if(1<nt.length){var ln=nt[0];nt=nt[1];var cn=ln.split("_");ve=2<=cn.length&&cn[1]=="type"?ve+(ln+"="+nt+"&"):ve+(ln+"=redacted&")}}else ve=null;else ve=re;return"XMLHTTP REQ ("+H+") [attempt "+J+"]: "+T+`
`+A+`
`+ve})}function ke(g,T,A,H,J,re,ve){g.info(function(){return"XMLHTTP RESP ("+H+") [ attempt "+J+"]: "+T+`
`+A+`
`+re+" "+ve})}function Ae(g,T,A,H){g.info(function(){return"XMLHTTP TEXT ("+T+"): "+Ne(g,A)+(H?" "+H:"")})}function Le(g,T){g.info(function(){return"TIMEOUT: "+T})}we.prototype.info=function(){};function Ne(g,T){if(!g.g)return T;if(!T)return null;try{var A=JSON.parse(T);if(A){for(g=0;g<A.length;g++)if(Array.isArray(A[g])){var H=A[g];if(!(2>H.length)){var J=H[1];if(Array.isArray(J)&&!(1>J.length)){var re=J[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ve=1;ve<J.length;ve++)J[ve]=""}}}}return ir(A)}catch{return T}}var Ee={NO_ERROR:0,TIMEOUT:8},qe={},tt;function mt(){}x(mt,Ks),mt.prototype.g=function(){return new XMLHttpRequest},mt.prototype.i=function(){return{}},tt=new mt;function ut(g,T,A,H){this.j=g,this.i=T,this.l=A,this.R=H||1,this.U=new gi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fe}function Fe(){this.i=null,this.g="",this.h=!1}var dt={},Gn={};function gn(g,T,A){g.L=1,g.v=ga(ar(T)),g.m=A,g.P=!0,on(g,null)}function on(g,T){g.F=Date.now(),sr(g),g.A=ar(g.v);var A=g.A,H=g.R;Array.isArray(H)||(H=[String(H)]),nu(A.i,"t",H),g.C=0,A=g.j.J,g.h=new Fe,g.g=Af(g.j,A?T:null,!g.m),0<g.O&&(g.M=new Tr(v(g.Y,g,g.g),g.O)),T=g.U,A=g.g,H=g.ca;var J="readystatechange";Array.isArray(J)||(J&&(yi[0]=J.toString()),J=yi);for(var re=0;re<J.length;re++){var ve=Sl(A,J[re],H||T.handleEvent,!1,T.h||T);if(!ve)break;T.g[ve.key]=ve}T=g.H?O(g.H):{},g.m?(g.u||(g.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,T)):(g.u="GET",g.g.ea(g.A,g.u,null,T)),W(),Me(g.i,g.u,g.A,g.l,g.R,g.m)}ut.prototype.ca=function(g){g=g.target;const T=this.M;T&&_r(g)==3?T.j():this.Y(g)},ut.prototype.Y=function(g){try{if(g==this.g)e:{const cn=_r(this.g);var T=this.g.Ba();const is=this.g.Z();if(!(3>cn)&&(cn!=3||this.g&&(this.h.h||this.g.oa()||bf(this.g)))){this.J||cn!=4||T==7||(T==8||0>=is?W(3):W(2)),or(this);var A=this.g.Z();this.X=A;t:if(In(this)){var H=bf(this.g);g="";var J=H.length,re=_r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ze(this),jn(this);var ve="";break t}this.h.i=new c.TextDecoder}for(T=0;T<J;T++)this.h.h=!0,g+=this.h.i.decode(H[T],{stream:!(re&&T==J-1)});H.length=0,this.h.g+=g,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=A==200,ke(this.i,this.u,this.A,this.l,this.R,cn,A),this.o){if(this.T&&!this.K){t:{if(this.g){var ht,It=this.g;if((ht=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(ht)){var nt=ht;break t}}nt=null}if(A=nt)Ae(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dt(this,A);else{this.o=!1,this.s=3,ee(12),ze(this),jn(this);break e}}if(this.P){A=!0;let Yn;for(;!this.J&&this.C<ve.length;)if(Yn=Js(this,ve),Yn==Gn){cn==4&&(this.s=4,ee(14),A=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}else if(Yn==dt){this.s=4,ee(15),Ae(this.i,this.l,ve,"[Invalid Chunk]"),A=!1;break}else Ae(this.i,this.l,Yn,null),Dt(this,Yn);if(In(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),cn!=4||ve.length!=0||this.h.h||(this.s=1,ee(16),A=!1),this.o=this.o&&A,!A)Ae(this.i,this.l,ve,"[Invalid Chunked Response]"),ze(this),jn(this);else if(0<ve.length&&!this.W){this.W=!0;var ln=this.j;ln.g==this&&ln.ba&&!ln.M&&(ln.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Ta(ln),ln.M=!0,ee(11))}}else Ae(this.i,this.l,ve,null),Dt(this,ve);cn==4&&ze(this),this.o&&!this.J&&(cn==4?Tf(this.j,this):(this.o=!1,sr(this)))}else Eg(this.g),A==400&&0<ve.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),ze(this),jn(this)}}}catch{}finally{}};function In(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Js(g,T){var A=g.C,H=T.indexOf(`
`,A);return H==-1?Gn:(A=Number(T.substring(A,H)),isNaN(A)?dt:(H+=1,H+A>T.length?Gn:(T=T.slice(H,H+A),g.C=H+A,T)))}ut.prototype.cancel=function(){this.J=!0,ze(this)};function sr(g){g.S=Date.now()+g.I,Ar(g,g.I)}function Ar(g,T){if(g.B!=null)throw Error("WatchDog timer not null");g.B=pe(v(g.ba,g),T)}function or(g){g.B&&(c.clearTimeout(g.B),g.B=null)}ut.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Le(this.i,this.A),this.L!=2&&(W(),ee(17)),ze(this),this.s=2,jn(this)):Ar(this,this.S-g)};function jn(g){g.j.G==0||g.J||Tf(g.j,g)}function ze(g){or(g);var T=g.M;T&&typeof T.ma=="function"&&T.ma(),g.M=null,vi(g.U),g.g&&(T=g.g,g.g=null,T.abort(),T.ma())}function Dt(g,T){try{var A=g.j;if(A.G!=0&&(A.g==g||Qs(A.h,g))){if(!g.K&&Qs(A.h,g)&&A.G==3){try{var H=A.Da.g.parse(T)}catch{H=null}if(Array.isArray(H)&&H.length==3){var J=H;if(J[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<g.F)Rl(A),Ol(A);else break e;au(A),ee(18)}}else A.za=J[1],0<A.za-A.T&&37500>J[2]&&A.F&&A.v==0&&!A.C&&(A.C=pe(v(A.Za,A),6e3));if(1>=Jr(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else rs(A,11)}else if((g.K||A.g==g)&&Rl(A),!I(T))for(J=A.Da.g.parse(T),T=0;T<J.length;T++){let nt=J[T];if(A.T=nt[0],nt=nt[1],A.G==2)if(nt[0]=="c"){A.K=nt[1],A.ia=nt[2];const ln=nt[3];ln!=null&&(A.la=ln,A.j.info("VER="+A.la));const cn=nt[4];cn!=null&&(A.Aa=cn,A.j.info("SVER="+A.Aa));const is=nt[5];is!=null&&typeof is=="number"&&0<is&&(H=1.5*is,A.L=H,A.j.info("backChannelRequestTimeoutMs_="+H)),H=A;const Yn=g.g;if(Yn){const Ci=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ci){var re=H.h;re.g||Ci.indexOf("spdy")==-1&&Ci.indexOf("quic")==-1&&Ci.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Zs(re,re.h),re.h=null))}if(H.D){const ss=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;ss&&(H.ya=ss,St(H.I,H.D,ss))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-g.F,A.j.info("Handshake RTT: "+A.R+"ms")),H=A;var ve=g;if(H.qa=kf(H,H.J?H.ia:null,H.W),ve.K){Ln(H.h,ve);var ht=ve,It=H.L;It&&(ht.I=It),ht.B&&(or(ht),sr(ht)),H.g=ve}else xf(H);0<A.i.length&&_l(A)}else nt[0]!="stop"&&nt[0]!="close"||rs(A,7);else A.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?rs(A,7):su(A):nt[0]!="noop"&&A.l&&A.l.ta(nt),A.v=0)}}W(4)}catch{}}var Xr=class{constructor(g,T){this.g=g,this.map=T}};function yn(g){this.l=g||10,c.PerformanceNavigationTiming?(g=c.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mt(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Jr(g){return g.h?1:g.g?g.g.size:0}function Qs(g,T){return g.h?g.h==T:g.g?g.g.has(T):!1}function Zs(g,T){g.g?g.g.add(T):g.h=T}function Ln(g,T){g.h&&g.h==T?g.h=null:g.g&&g.g.has(T)&&g.g.delete(T)}yn.prototype.cancel=function(){if(this.i=Qc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Qc(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let T=g.i;for(const A of g.g.values())T=T.concat(A.D);return T}return E(g.i)}function bg(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(d(g)){for(var T=[],A=g.length,H=0;H<A;H++)T.push(g[H]);return T}T=[],A=0;for(H in g)T[A++]=g[H];return T}function Tl(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(d(g)||typeof g=="string"){var T=[];g=g.length;for(var A=0;A<g;A++)T.push(A);return T}T=[],A=0;for(const H in g)T[A++]=H;return T}}}function Zc(g,T){if(g.forEach&&typeof g.forEach=="function")g.forEach(T,void 0);else if(d(g)||typeof g=="string")Array.prototype.forEach.call(g,T,void 0);else for(var A=Tl(g),H=bg(g),J=H.length,re=0;re<J;re++)T.call(void 0,H[re],A&&A[re],g)}var pa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wg(g,T){if(g){g=g.split("&");for(var A=0;A<g.length;A++){var H=g[A].indexOf("="),J=null;if(0<=H){var re=g[A].substring(0,H);J=g[A].substring(H+1)}else re=g[A];T(re,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Kt(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Kt){this.h=g.h,ma(this,g.j),this.o=g.o,this.g=g.g,eo(this,g.s),this.l=g.l;var T=g.i,A=new Zi;A.i=T.i,T.g&&(A.g=new Map(T.g),A.h=T.h),Qi(this,A),this.m=g.m}else g&&(T=String(g).match(pa))?(this.h=!1,ma(this,T[1]||"",!0),this.o=Nr(T[2]||""),this.g=Nr(T[3]||"",!0),eo(this,T[4]),this.l=Nr(T[5]||"",!0),Qi(this,T[6]||"",!0),this.m=Nr(T[7]||"")):(this.h=!1,this.i=new Zi(null,this.h))}Kt.prototype.toString=function(){var g=[],T=this.j;T&&g.push(ya(T,eu,!0),":");var A=this.g;return(A||T=="file")&&(g.push("//"),(T=this.o)&&g.push(ya(T,eu,!0),"@"),g.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&g.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&g.push("/"),g.push(ya(A,A.charAt(0)=="/"?Sg:tu,!0))),(A=this.i.toString())&&g.push("?",A),(A=this.m)&&g.push("#",ya(A,Cl)),g.join("")};function ar(g){return new Kt(g)}function ma(g,T,A){g.j=A?Nr(T,!0):T,g.j&&(g.j=g.j.replace(/:$/,""))}function eo(g,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);g.s=T}else g.s=null}function Qi(g,T,A){T instanceof Zi?(g.i=T,yf(g.i,g.h)):(A||(T=ya(T,xg)),g.i=new Zi(T,g.h))}function St(g,T,A){g.i.set(T,A)}function ga(g){return St(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Nr(g,T){return g?T?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function ya(g,T,A){return typeof g=="string"?(g=encodeURI(g).replace(T,gf),A&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function gf(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var eu=/[#\/\?@]/g,tu=/[#\?:]/g,Sg=/[#\?]/g,xg=/[#\?@]/g,Cl=/#/g;function Zi(g,T){this.h=this.g=null,this.i=g||null,this.j=!!T}function Mr(g){g.g||(g.g=new Map,g.h=0,g.i&&wg(g.i,function(T,A){g.add(decodeURIComponent(T.replace(/\+/g," ")),A)}))}t=Zi.prototype,t.add=function(g,T){Mr(this),this.i=null,g=wi(this,g);var A=this.g.get(g);return A||this.g.set(g,A=[]),A.push(T),this.h+=1,this};function es(g,T){Mr(g),T=wi(g,T),g.g.has(T)&&(g.i=null,g.h-=g.g.get(T).length,g.g.delete(T))}function ts(g,T){return Mr(g),T=wi(g,T),g.g.has(T)}t.forEach=function(g,T){Mr(this),this.g.forEach(function(A,H){A.forEach(function(J){g.call(T,J,H,this)},this)},this)},t.na=function(){Mr(this);const g=Array.from(this.g.values()),T=Array.from(this.g.keys()),A=[];for(let H=0;H<T.length;H++){const J=g[H];for(let re=0;re<J.length;re++)A.push(T[H])}return A},t.V=function(g){Mr(this);let T=[];if(typeof g=="string")ts(this,g)&&(T=T.concat(this.g.get(wi(this,g))));else{g=Array.from(this.g.values());for(let A=0;A<g.length;A++)T=T.concat(g[A])}return T},t.set=function(g,T){return Mr(this),this.i=null,g=wi(this,g),ts(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[T]),this.h+=1,this},t.get=function(g,T){return g?(g=this.V(g),0<g.length?String(g[0]):T):T};function nu(g,T,A){es(g,T),0<A.length&&(g.i=null,g.g.set(wi(g,T),E(A)),g.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],T=Array.from(this.g.keys());for(var A=0;A<T.length;A++){var H=T[A];const re=encodeURIComponent(String(H)),ve=this.V(H);for(H=0;H<ve.length;H++){var J=re;ve[H]!==""&&(J+="="+encodeURIComponent(String(ve[H]))),g.push(J)}}return this.i=g.join("&")};function wi(g,T){return T=String(T),g.j&&(T=T.toLowerCase()),T}function yf(g,T){T&&!g.j&&(Mr(g),g.i=null,g.g.forEach(function(A,H){var J=H.toLowerCase();H!=J&&(es(this,H),nu(this,J,A))},g)),g.j=T}function va(g,T){const A=new we;if(c.Image){const H=new Image;H.onload=w(Or,A,"TestLoadImage: loaded",!0,T,H),H.onerror=w(Or,A,"TestLoadImage: error",!1,T,H),H.onabort=w(Or,A,"TestLoadImage: abort",!1,T,H),H.ontimeout=w(Or,A,"TestLoadImage: timeout",!1,T,H),c.setTimeout(function(){H.ontimeout&&H.ontimeout()},1e4),H.src=g}else T(!1)}function Qr(g,T){const A=new we,H=new AbortController,J=setTimeout(()=>{H.abort(),Or(A,"TestPingServer: timeout",!1,T)},1e4);fetch(g,{signal:H.signal}).then(re=>{clearTimeout(J),re.ok?Or(A,"TestPingServer: ok",!0,T):Or(A,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(J),Or(A,"TestPingServer: error",!1,T)})}function Or(g,T,A,H,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),H(A)}catch{}}function ba(){this.g=new Cr}function Si(g,T,A){const H=A||"";try{Zc(g,function(J,re){let ve=J;f(J)&&(ve=ir(J)),T.push(H+re+"="+encodeURIComponent(ve))})}catch(J){throw T.push(H+"type="+encodeURIComponent("_badmap")),J}}function to(g){this.l=g.Ub||null,this.j=g.eb||!1}x(to,Ks),to.prototype.g=function(){return new ns(this.l,this.j)},to.prototype.i=(function(g){return function(){return g}})({});function ns(g,T){ct.call(this),this.D=g,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(ns,ct),t=ns.prototype,t.open=function(g,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=T,this.readyState=1,Ei(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(T.body=g),(this.D||c).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xi(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ru(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function ru(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var T=g.value?g.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!g.done}))&&(this.response=this.responseText+=T)}g.done?xi(this):Ei(this),this.readyState==3&&ru(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,xi(this))},t.Qa=function(g){this.g&&(this.response=g,xi(this))},t.ga=function(){this.g&&xi(this)};function xi(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Ei(g)}t.setRequestHeader=function(g,T){this.u.append(g,T)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],T=this.h.entries();for(var A=T.next();!A.done;)A=A.value,g.push(A[0]+": "+A[1]),A=T.next();return g.join(`\r
`)};function Ei(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(ns.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function iu(g){let T="";return j(g,function(A,H){T+=H,T+=":",T+=A,T+=`\r
`}),T}function an(g,T,A){e:{for(H in A){var H=!1;break e}H=!0}H||(A=iu(A),typeof g=="string"?A!=null&&encodeURIComponent(String(A)):St(g,T,A))}function gt(g){ct.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(gt,ct);var kl=/^https?$/i,wa=["POST","PUT"];t=gt.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,T,A,H){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);T=T?T.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tt.g(),this.v=this.o?Xi(this.o):Xi(tt),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(T,String(g),!0),this.B=!1}catch(re){vf(this,re);return}if(g=A||"",A=new Map(this.headers),H)if(Object.getPrototypeOf(H)===Object.prototype)for(var J in H)A.set(J,H[J]);else if(typeof H.keys=="function"&&typeof H.get=="function")for(const re of H.keys())A.set(re,H.get(re));else throw Error("Unknown input type for opt_headers: "+String(H));H=Array.from(A.keys()).find(re=>re.toLowerCase()=="content-type"),J=c.FormData&&g instanceof c.FormData,!(0<=Array.prototype.indexOf.call(wa,T,void 0))||H||J||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ve]of A)this.g.setRequestHeader(re,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sa(this),this.u=!0,this.g.send(g),this.u=!1}catch(re){vf(this,re)}};function vf(g,T){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=T,g.m=5,Al(g),Ti(g)}function Al(g){g.A||(g.A=!0,Ke(g,"complete"),Ke(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Ke(this,"complete"),Ke(this,"abort"),Ti(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ti(this,!0)),gt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Nl(this):this.bb())},t.bb=function(){Nl(this)};function Nl(g){if(g.h&&typeof l<"u"&&(!g.v[1]||_r(g)!=4||g.Z()!=2)){if(g.u&&_r(g)==4)Gt(g.Ea,0,g);else if(Ke(g,"readystatechange"),_r(g)==4){g.h=!1;try{const ve=g.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var A;if(!(A=T)){var H;if(H=ve===0){var J=String(g.D).match(pa)[1]||null;!J&&c.self&&c.self.location&&(J=c.self.location.protocol.slice(0,-1)),H=!kl.test(J?J.toLowerCase():"")}A=H}if(A)Ke(g,"complete"),Ke(g,"success");else{g.m=6;try{var re=2<_r(g)?g.g.statusText:""}catch{re=""}g.l=re+" ["+g.Z()+"]",Al(g)}}finally{Ti(g)}}}}function Ti(g,T){if(g.g){Sa(g);const A=g.g,H=g.v[0]?()=>{}:null;g.g=null,g.v=null,T||Ke(g,"ready");try{A.onreadystatechange=H}catch{}}}function Sa(g){g.I&&(c.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function _r(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<_r(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var T=this.g.responseText;return g&&T.indexOf(g)==0&&(T=T.substring(g.length)),Yi(T)}};function bf(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Eg(g){const T={};g=(g.g&&2<=_r(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let H=0;H<g.length;H++){if(I(g[H]))continue;var A=V(g[H]);const J=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const re=T[J]||[];T[J]=re,re.push(A)}R(T,function(H){return H.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xa(g,T,A){return A&&A.internalChannelParams&&A.internalChannelParams[g]||T}function Ml(g){this.Aa=0,this.i=[],this.j=new we,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xa("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xa("baseRetryDelayMs",5e3,g),this.cb=xa("retryDelaySeedMs",1e4,g),this.Wa=xa("forwardChannelMaxRetries",2,g),this.wa=xa("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new yn(g&&g.concurrentRequestLimit),this.Da=new ba,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ml.prototype,t.la=8,t.G=1,t.connect=function(g,T,A,H){ee(0),this.W=g,this.H=T||{},A&&H!==void 0&&(this.H.OSID=A,this.H.OAID=H),this.F=this.X,this.I=kf(this,null,this.W),_l(this)};function su(g){if(wf(g),g.G==3){var T=g.U++,A=ar(g.I);if(St(A,"SID",g.K),St(A,"RID",T),St(A,"TYPE","terminate"),Ea(g,A),T=new ut(g,g.j,T),T.L=2,T.v=ga(ar(A)),A=!1,c.navigator&&c.navigator.sendBeacon)try{A=c.navigator.sendBeacon(T.v.toString(),"")}catch{}!A&&c.Image&&(new Image().src=T.v,A=!0),A||(T.g=Af(T.j,null),T.g.ea(T.v)),T.F=Date.now(),sr(T)}Cf(g)}function Ol(g){g.g&&(Ta(g),g.g.cancel(),g.g=null)}function wf(g){Ol(g),g.u&&(c.clearTimeout(g.u),g.u=null),Rl(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&c.clearTimeout(g.s),g.s=null)}function _l(g){if(!Mt(g.h)&&!g.s){g.s=!0;var T=g.Ga;oe||q(),ce||(oe(),ce=!0),Ce.add(T,g),g.B=0}}function Tg(g,T){return Jr(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=T.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=pe(v(g.Ga,g,T),lu(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const J=new ut(this,this.j,g);let re=this.o;if(this.S&&(re?(re=O(re),M(re,this.S)):re=this.S),this.m!==null||this.O||(J.H=re,re=null),this.P)e:{for(var T=0,A=0;A<this.i.length;A++){t:{var H=this.i[A];if("__data__"in H.map&&(H=H.map.__data__,typeof H=="string")){H=H.length;break t}H=void 0}if(H===void 0)break;if(T+=H,4096<T){T=A;break e}if(T===4096||A===this.i.length-1){T=A+1;break e}}T=1e3}else T=1e3;T=Sf(this,J,T),A=ar(this.I),St(A,"RID",g),St(A,"CVER",22),this.D&&St(A,"X-HTTP-Session-Id",this.D),Ea(this,A),re&&(this.O?T="headers="+encodeURIComponent(String(iu(re)))+"&"+T:this.m&&an(A,this.m,re)),Zs(this.h,J),this.Ua&&St(A,"TYPE","init"),this.P?(St(A,"$req",T),St(A,"SID","null"),J.T=!0,gn(J,A,null)):gn(J,A,T),this.G=2}}else this.G==3&&(g?ou(this,g):this.i.length==0||Mt(this.h)||ou(this))};function ou(g,T){var A;T?A=T.l:A=g.U++;const H=ar(g.I);St(H,"SID",g.K),St(H,"RID",A),St(H,"AID",g.T),Ea(g,H),g.m&&g.o&&an(H,g.m,g.o),A=new ut(g,g.j,A,g.B+1),g.m===null&&(A.H=g.o),T&&(g.i=T.D.concat(g.i)),T=Sf(g,A,1e3),A.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Zs(g.h,A),gn(A,H,T)}function Ea(g,T){g.H&&j(g.H,function(A,H){St(T,H,A)}),g.l&&Zc({},function(A,H){St(T,H,A)})}function Sf(g,T,A){A=Math.min(g.i.length,A);var H=g.l?v(g.l.Na,g.l,g):null;e:{var J=g.i;let re=-1;for(;;){const ve=["count="+A];re==-1?0<A?(re=J[0].g,ve.push("ofs="+re)):re=0:ve.push("ofs="+re);let ht=!0;for(let It=0;It<A;It++){let nt=J[It].g;const ln=J[It].map;if(nt-=re,0>nt)re=Math.max(0,J[It].g-100),ht=!1;else try{Si(ln,ve,"req"+nt+"_")}catch{H&&H(ln)}}if(ht){H=ve.join("&");break e}}}return g=g.i.splice(0,A),T.D=g,H}function xf(g){if(!g.g&&!g.u){g.Y=1;var T=g.Fa;oe||q(),ce||(oe(),ce=!0),Ce.add(T,g),g.v=0}}function au(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=pe(v(g.Fa,g),lu(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,Ef(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=pe(v(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),Ol(this),Ef(this))};function Ta(g){g.A!=null&&(c.clearTimeout(g.A),g.A=null)}function Ef(g){g.g=new ut(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var T=ar(g.qa);St(T,"RID","rpc"),St(T,"SID",g.K),St(T,"AID",g.T),St(T,"CI",g.F?"0":"1"),!g.F&&g.ja&&St(T,"TO",g.ja),St(T,"TYPE","xmlhttp"),Ea(g,T),g.m&&g.o&&an(T,g.m,g.o),g.L&&(g.g.I=g.L);var A=g.g;g=g.ia,A.L=1,A.v=ga(ar(T)),A.m=null,A.P=!0,on(A,g)}t.Za=function(){this.C!=null&&(this.C=null,Ol(this),au(this),ee(19))};function Rl(g){g.C!=null&&(c.clearTimeout(g.C),g.C=null)}function Tf(g,T){var A=null;if(g.g==T){Rl(g),Ta(g),g.g=null;var H=2}else if(Qs(g.h,T))A=T.D,Ln(g.h,T),H=1;else return;if(g.G!=0){if(T.o)if(H==1){A=T.m?T.m.length:0,T=Date.now()-T.F;var J=g.B;H=Ji(),Ke(H,new ue(H,A)),_l(g)}else xf(g);else if(J=T.s,J==3||J==0&&0<T.X||!(H==1&&Tg(g,T)||H==2&&au(g)))switch(A&&0<A.length&&(T=g.h,T.i=T.i.concat(A)),J){case 1:rs(g,5);break;case 4:rs(g,10);break;case 3:rs(g,6);break;default:rs(g,2)}}}function lu(g,T){let A=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(A*=2),A*T}function rs(g,T){if(g.j.info("Error code "+T),T==2){var A=v(g.fb,g),H=g.Xa;const J=!H;H=new Kt(H||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ma(H,"https"),ga(H),J?va(H.toString(),A):Qr(H.toString(),A)}else ee(2);g.G=0,g.l&&g.l.sa(T),Cf(g),wf(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function Cf(g){if(g.G=0,g.ka=[],g.l){const T=Qc(g.h);(T.length!=0||g.i.length!=0)&&(C(g.ka,T),C(g.ka,g.i),g.h.i.length=0,E(g.i),g.i.length=0),g.l.ra()}}function kf(g,T,A){var H=A instanceof Kt?ar(A):new Kt(A);if(H.g!="")T&&(H.g=T+"."+H.g),eo(H,H.s);else{var J=c.location;H=J.protocol,T=T?T+"."+J.hostname:J.hostname,J=+J.port;var re=new Kt(null);H&&ma(re,H),T&&(re.g=T),J&&eo(re,J),A&&(re.l=A),H=re}return A=g.D,T=g.ya,A&&T&&St(H,A,T),St(H,"VER",g.la),Ea(g,H),H}function Af(g,T,A){if(T&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=g.Ca&&!g.pa?new gt(new to({eb:A})):new gt(g.pa),T.Ha(g.J),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nf(){}t=Nf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Kn(g,T){ct.call(this),this.g=new Ml(T),this.l=g,this.h=T&&T.messageUrlParams||null,g=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(g?g["X-WebChannel-Content-Type"]=T.messageContentType:g={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(g?g["X-WebChannel-Client-Profile"]=T.va:g={"X-WebChannel-Client-Profile":T.va}),this.g.S=g,(g=T&&T.Sb)&&!I(g)&&(this.g.m=g),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!I(T)&&(this.g.D=T,g=this.h,g!==null&&T in g&&(g=this.h,T in g&&delete g[T])),this.j=new no(this)}x(Kn,ct),Kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kn.prototype.close=function(){su(this.g)},Kn.prototype.o=function(g){var T=this.g;if(typeof g=="string"){var A={};A.__data__=g,g=A}else this.u&&(A={},A.__data__=ir(g),g=A);T.i.push(new Xr(T.Ya++,g)),T.G==3&&_l(T)},Kn.prototype.N=function(){this.g.l=null,delete this.j,su(this.g),delete this.g,Kn.aa.N.call(this)};function Mf(g){Yr.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var T=g.__sm__;if(T){e:{for(const A in T){g=A;break e}g=void 0}(this.i=g)&&(g=this.i,T=T!==null&&g in T?T[g]:void 0),this.data=T}else this.data=g}x(Mf,Yr);function Of(){Ys.call(this),this.status=1}x(Of,Ys);function no(g){this.g=g}x(no,Nf),no.prototype.ua=function(){Ke(this.g,"a")},no.prototype.ta=function(g){Ke(this.g,new Mf(g))},no.prototype.sa=function(g){Ke(this.g,new Of)},no.prototype.ra=function(){Ke(this.g,"b")},Kn.prototype.send=Kn.prototype.o,Kn.prototype.open=Kn.prototype.m,Kn.prototype.close=Kn.prototype.close,Ee.NO_ERROR=0,Ee.TIMEOUT=8,Ee.HTTP_ERROR=6,qe.COMPLETE="complete",El.EventType=kr,kr.OPEN="a",kr.CLOSE="b",kr.ERROR="c",kr.MESSAGE="d",ct.prototype.listen=ct.prototype.K,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha}).apply(typeof jh<"u"?jh:typeof self<"u"?self:typeof window<"u"?window:{});const BE="@firebase/firestore",HE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let of="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new $v("@firebase/firestore");function si(t,...e){if(Ic.logLevel<=pt.DEBUG){const n=e.map(rb);Ic.debug(`Firestore (${of}): ${t}`,...n)}}function nN(t,...e){if(Ic.logLevel<=pt.ERROR){const n=e.map(rb);Ic.error(`Firestore (${of}): ${t}`,...n)}}function NL(t,...e){if(Ic.logLevel<=pt.WARN){const n=e.map(rb);Ic.warn(`Firestore (${of}): ${t}`,...n)}}function rb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,rN(t,r,n)}function rN(t,e,n){let r=`FIRESTORE (${of}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw nN(r),new Error(r)}function ud(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||rN(e,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class ot extends Us{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ML{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(zn.UNAUTHENTICATED)))}shutdown(){}}class OL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class _L{constructor(e){this.t=e,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ud(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let s=new dd;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new dd,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=s;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},c=d=>{si("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(si("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new dd)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(si("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ud(typeof r.accessToken=="string",31837,{l:r}),new iN(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ud(e===null||typeof e=="string",2055,{h:e}),new zn(e)}}class RL{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=zn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class DL{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new RL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(zn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class VE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$r(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ud(this.o===void 0,3512);const r=s=>{s.error!=null&&si("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,si("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{si("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):si("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new VE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ud(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new VE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=jL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ci(t,e){return t<e?-1:t>e?1:0}function zL(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ci(r,i);{const s=LL(),l=UL(s.encode($E(t,n)),s.encode($E(e,n)));return l!==0?l:ci(r,i)}}n+=r>65535?2:1}return ci(t.length,e.length)}function $E(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function UL(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ci(t[n],e[n]);return ci(t.length,e.length)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="__name__";class Ii{constructor(e,n,r){n===void 0?n=0:n>e.length&&Dd(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Dd(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ii.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ii?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Ii.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ci(e.length,n.length)}static compareSegments(e,n){const r=Ii.isNumericId(e),i=Ii.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ii.extractNumericId(e).compare(Ii.extractNumericId(n)):zL(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return nb.fromString(e.substring(4,e.length-2))}}class ni extends Ii{construct(e,n,r){return new ni(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ot(st.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new ni(n)}static emptyPath(){return new ni([])}}const BL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $a extends Ii{construct(e,n,r){return new $a(e,n,r)}static isValidIdentifier(e){return BL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$a.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===FE}static keyField(){return new $a([FE])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ot(st.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new ot(st.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ot(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(s(),i++)}if(s(),l)throw new ot(st.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $a(n)}static emptyPath(){return new $a([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this.path=e}static fromPath(e){return new Ga(ni.fromString(e))}static fromName(e){return new Ga(ni.fromString(e).popFirst(5))}static empty(){return new Ga(ni.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ni.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ni.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ga(new ni(e.slice()))}}function HL(t,e,n,r){if(e===!0&&r===!0)throw new ot(st.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function VL(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function $L(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Dd(12329,{type:typeof t})}function FL(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ot(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$L(t);throw new ot(st.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(t,e){const n={typeString:t};return e&&(n.value=e),n}function af(t,e){if(!VL(t))throw new ot(st.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new ot(st.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=-62135596800,WE=1e6;class ji{static now(){return ji.fromMillis(Date.now())}static fromDate(e){return ji.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*WE);return new ji(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ot(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ot(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<qE)throw new ot(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/WE}_compareTo(e){return this.seconds===e.seconds?ci(this.nanoseconds,e.nanoseconds):ci(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ji._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(af(e,ji._jsonSchema))return new ji(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ji._jsonSchemaVersion="firestore/timestamp/1.0",ji._jsonSchema={type:Qt("string",ji._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};function qL(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new WL("Invalid base64 string: "+s):s}})(e);return new ll(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new ll(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ci(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ll.EMPTY_BYTE_STRING=new ll("");const $1="(default)";class Vp{constructor(e,n){this.projectId=e,this.database=n||$1}static empty(){return new Vp("","")}get isDefaultDatabase(){return this.database===$1}isEqual(e){return e instanceof Vp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,n=null,r=[],i=[],s=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=d,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function KL(t){return new GL(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GE,it;(it=GE||(GE={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new nb([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=1048576;function D0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&si("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new dd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,c=new ib(e,n,l,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(st.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var KE,YE;(YE=KE||(KE={})).Fa="default",YE.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="firestore.googleapis.com",JE=!0;class QE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ot(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sN,this.ssl=JE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:JE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YL;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XL)throw new ot(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ot(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ot(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ot(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class oN{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ML;switch(r.type){case"firstParty":return new DL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ot(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=XE.get(n);r&&(si("ComponentProvider","Removing Datastore"),XE.delete(n),r.terminate())})(this),Promise.resolve()}}function ZL(t,e,n,r={}){var i;t=FL(t,oN);const s=Qd(e),l=t._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;s&&(yA(`https://${d}`),vA("Firestore",!0)),l.host!==sN&&l.host!==d&&NL("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},l),{host:d,ssl:s,emulatorOptions:r});if(!sl(f,c)&&(t._setSettings(f),r.mockUserToken)){let p,m;if(typeof r.mockUserToken=="string")p=r.mockUserToken,m=zn.MOCK_USER;else{p=I5(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ot(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new zn(v)}t._authCredentials=new OL(new iN(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new sb(this.firestore,e,this._query)}}class Pi{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ob(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pi(this.firestore,e,this._key)}toJSON(){return{type:Pi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(af(n,Pi._jsonSchema))return new Pi(e,r||null,new Ga(ni.fromString(n.referencePath)))}}Pi._jsonSchemaVersion="firestore/documentReference/1.0",Pi._jsonSchema={type:Qt("string",Pi._jsonSchemaVersion),referencePath:Qt("string")};class ob extends sb{constructor(e,n,r){super(e,n,KL(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pi(this.firestore,null,new Ga(e))}withConverter(e){return new ob(this.firestore,e,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="AsyncQueue";class eT{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new JL(this,"async_queue_retry"),this.oc=()=>{const r=D0();r&&si(ZE,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=D0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=D0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new dd;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!qL(e))throw e;si(ZE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const n=this._c.then((()=>(this.nc=!0,e().catch((r=>{throw this.tc=r,this.nc=!1,nN("INTERNAL UNHANDLED ERROR: ",tT(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=ib.createAndSchedule(this,e,n,r,(s=>this.lc(s)));return this.ec.push(i),i}ac(){this.tc&&Dd(47125,{hc:tT(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function tT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class eP extends oN{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new eT,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eT(e),this._firestoreClient=void 0,await e}}}function tP(t,e){const n=typeof t=="object"?t:Wv(),r=typeof t=="string"?t:$1,i=qv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=R5("firestore");s&&ZL(i,...s)}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ns(ll.fromBase64String(e))}catch(n){throw new ot(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ns(ll.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ns._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(af(e,Ns._jsonSchema))return Ns.fromBase64String(e.bytes)}}Ns._jsonSchemaVersion="firestore/bytes/1.0",Ns._jsonSchema={type:Qt("string",Ns._jsonSchemaVersion),bytes:Qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ot(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $a(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ot(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ot(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ci(this._lat,e._lat)||ci(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qa._jsonSchemaVersion}}static fromJSON(e){if(af(e,Qa._jsonSchema))return new Qa(e.latitude,e.longitude)}}Qa._jsonSchemaVersion="firestore/geoPoint/1.0",Qa._jsonSchema={type:Qt("string",Qa._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Za._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(af(e,Za._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Za(e.vectorValues);throw new ot(st.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Za._jsonSchemaVersion="firestore/vectorValue/1.0",Za._jsonSchema={type:Qt("string",Za._jsonSchemaVersion),vectorValues:Qt("object")};const nP=new RegExp("[~\\*/\\[\\]]");function rP(t,e,n){if(e.search(nP)>=0)throw nT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new aN(...e.split("."))._internalPath}catch{throw nT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function nT(t,e,n,r,i){let s=`Function ${e}() called with invalid data`;s+=". ";let l="";return new ot(st.INVALID_ARGUMENT,s+t+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Pi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cN("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iP extends lN{data(){return super.data()}}function cN(t,e){return typeof e=="string"?rP(t,e):e instanceof aN?e._internalPath:e._delegate._internalPath}class Lh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ac extends lN{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(cN("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(st.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ac._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ac._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ac._jsonSchema={type:Qt("string",Ac._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class wp extends Ac{data(e={}){return super.data(e)}}class fd{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Lh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new wp(this._firestore,this._userDataWriter,r.key,r,new Lh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ot(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const d=new wp(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Lh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const d=new wp(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Lh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,p=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:sP(c.type),doc:d,oldIndex:f,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(st.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=PL.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function sP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dd(61501,{type:t})}}fd._jsonSchemaVersion="firestore/querySnapshot/1.0",fd._jsonSchema={type:Qt("string",fd._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};(function(e,n=!0){(function(i){of=i})(Gc),Rc(new ol("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),c=new eP(new _L(r.getProvider("auth-internal")),new IL(l,r.getProvider("app-check-internal")),(function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ot(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vp(f.options.projectId,p)})(l,i),l);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),Go(BE,HE,e),Go(BE,HE,"esm2017")})();const oP={apiKey:"AIzaSyAXWSKq6gecCbuFxPVEg7HLiUoEkYBFiBk",authDomain:"auth.offgap.com",projectId:"offgap",messagingSenderId:"129911949748",appId:"1:129911949748:web:3343dc37d8b2d15941cae1"},uN=YI().length?Wv():SA(oP),cl=kL(uN),ab=new As;ab.setDefaultLanguage("en");ab.addScope("openid");const aP=async(t,e)=>await c6(cl,t,{url:e,handleCodeInApp:!0});async function XY(t){if(u6(cl,t))try{const e=window.localStorage.getItem(I1.EMAIL)||window.prompt("You seems to change the browser. Which email did you use to log in?")||"";return await d6(cl,e,t),window.localStorage.removeItem(I1.EMAIL),!0}catch(e){console.error(e)}return!1}const lP=async()=>await j6(cl,ab),Wm=()=>{const t={exit:()=>{}},e=new Promise(n=>{t.exit=p6(cl,r=>n(r))});return Object.assign(e,{unsubscribe:t.exit})},Gm=()=>cl.currentUser,JY=async()=>await m6(cl);tP(uN);const rT=t=>{let e;const n=new Set,r=(f,p)=>{const m=typeof f=="function"?f(e):f;if(!Object.is(m,e)){const v=e;e=p??(typeof m!="object"||m===null)?m:Object.assign({},e,m),n.forEach(w=>w(e,v))}},i=()=>e,c={setState:r,getState:i,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f))},d=e=t(r,i,c);return c},cP=(t=>t?rT(t):rT),uP=t=>t;function dP(t,e=uP){const n=_t.useSyncExternalStore(t.subscribe,_t.useCallback(()=>e(t.getState()),[t,e]),_t.useCallback(()=>e(t.getInitialState()),[t,e]));return _t.useDebugValue(n),n}const iT=t=>{const e=cP(t),n=r=>dP(e,r);return Object.assign(n,e),n},fP=(t=>t?iT(t):iT);function hP(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const l=d=>d===null?null:JSON.parse(d,void 0),c=(s=n.getItem(i))!=null?s:null;return c instanceof Promise?c.then(l):l(c)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const F1=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return F1(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return F1(r)(n)}}}},pP=(t,e)=>(n,r,i)=>{let s={storage:hP(()=>localStorage),partialize:E=>E,version:0,merge:(E,C)=>({...C,...E}),...e},l=!1;const c=new Set,d=new Set;let f=s.storage;if(!f)return t((...E)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...E)},r,i);const p=()=>{const E=s.partialize({...r()});return f.setItem(s.name,{state:E,version:s.version})},m=i.setState;i.setState=(E,C)=>(m(E,C),p());const v=t((...E)=>(n(...E),p()),r,i);i.getInitialState=()=>v;let w;const x=()=>{var E,C;if(!f)return;l=!1,c.forEach(I=>{var L;return I((L=r())!=null?L:v)});const _=((C=s.onRehydrateStorage)==null?void 0:C.call(s,(E=r())!=null?E:v))||void 0;return F1(f.getItem.bind(f))(s.name).then(I=>{if(I)if(typeof I.version=="number"&&I.version!==s.version){if(s.migrate){const L=s.migrate(I.state,I.version);return L instanceof Promise?L.then(U=>[!0,U]):[!0,L]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,I.state];return[!1,void 0]}).then(I=>{var L;const[U,P]=I;if(w=s.merge(P,(L=r())!=null?L:v),n(w,!0),U)return p()}).then(()=>{_?.(w,void 0),w=r(),l=!0,d.forEach(I=>I(w))}).catch(I=>{_?.(void 0,I)})};return i.persist={setOptions:E=>{s={...s,...E},E.storage&&(f=E.storage)},clearStorage:()=>{f?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>x(),hasHydrated:()=>l,onHydrate:E=>(c.add(E),()=>{c.delete(E)}),onFinishHydration:E=>(d.add(E),()=>{d.delete(E)})},s.skipHydration||x(),w||v},mP=pP,sT={project:{sitemap:"",robots:""},meta:{title:"",description:"",canonical:"",headTags:[]},header:{content:""},footer:{content:""},sid:"",css:"",js:"",fonts:{},pages:[{path:"/",title:"Page Title",content:""}]},gP=(t,e)=>["path","title","content"].every(n=>t[n]===e[n]),Ph=(t,e)=>t.pages.filter(n=>!e.pages.find(r=>gP(n,r))).map(n=>n.path),yP=t=>t.path.length>2&&typeof t.title=="string",zh=t=>(t.pages=t.pages.sort((e,n)=>e.path.localeCompare(n.path)),t),oT=t=>{const e=Array.from(document.querySelectorAll('[tabindex="0"]')),r=e.indexOf(document.activeElement)+t,i=r<0?e.length-1:r>=e.length?0:r;e[i]&&e[i].focus()},aT=t=>{t.key==="ArrowDown"?(t.preventDefault(),oT(1)):t.key==="ArrowUp"&&(t.preventDefault(),oT(-1))},vP=(t,e,n)=>{if(!e.length)return[];const r=t.filter(s=>s.toLowerCase().startsWith(e)&&!n.includes(s)).slice(0,Ds.SHOW_FONTS),i=Ds.SHOW_FONTS-r.length;if(i){const s=t.filter(l=>l.toLowerCase().includes(e)&&!n.includes(l)&&!r.includes(l)).slice(0,i);r.push(...s)}return r},bP=(t,e,n)=>{const r=t.length,i=e.length,s=Object.keys(n).length;let l=!1;return[r?i?s?`Upload ${r}, rename ${s}, delete ${i} files`:`Upload ${r} and delete ${i} files`:`Upload ${r} file(s)`:i?s?`Rename ${s} and delete ${i} files`:`Delete ${i} file(s)`:s?`Rename ${s} file(s)`:(l=!0,"All files are synced"),l]},wP=t=>new DOMParser().parseFromString(t,"text/html").documentElement.textContent,SP=t=>`${wP(t).slice(0,Ds.FEED_MENU_TEXT_LENGTH)}`,I0=(t,e)=>(e.feat?1:0)-(t.feat?1:0)||e.time-t.time,Oe=fP(mP(t=>({pid:"",sid:"",sub:["",""],user:void 0,repo:"",plan:{id:"",status:0},token:"",domain:"",status:0,config:sT,pageDiff:[],configBackup:sT,updatingPage:"",setPid:e=>t(()=>({pid:e})),setSid:e=>t(()=>({sid:e})),setSub:e=>t(()=>({sub:e})),setUser:e=>t(()=>({user:e})),setRepo:e=>t(()=>({repo:e})),setPlan:e=>t(()=>({plan:e})),setToken:e=>t(()=>({token:e})),setDomain:e=>t(()=>({domain:e})),setStatus:e=>t(()=>({status:e})),setConfig:e=>t(()=>({config:e,configBackup:structuredClone(e),pageDiff:[]})),setConfigKey:({key:e,value:n})=>t(({config:r})=>{const i=structuredClone(r);return(e==="js"||e==="css")&&typeof n=="string"?i[e]=n:e==="fonts"&&n?i.fonts=n:e==="header"&&typeof n=="string"?i.header.content=n:e==="footer"&&typeof n=="string"&&(i.footer.content=n),{config:i}}),setConfigPage:({oldPath:e,...n})=>t(({config:r,configBackup:i})=>{const s=structuredClone(r);if(n.content?.endsWith(Ds.EDITOR_NEWLINE)&&(n.content=n.content.slice(0,-Ds.EDITOR_NEWLINE.length)),typeof e=="string"&&e.length){if(n.path===""){s.pages=s.pages.filter(c=>c.path!==e);const l=Ph(s,i);return{config:zh(s),pageDiff:l}}if(n.path.length>2){const l=s.pages.find(d=>d.path===e);l&&Object.assign(l,n);const c=Ph(s,i);return{config:zh(s),pageDiff:c,updatingPage:n.path}}}else{const l=s.pages.find(c=>c.path===n.path);if(l){Object.assign(l,n);const c=Ph(s,i);return{config:zh(s),pageDiff:c}}if(yP(n)){s.pages.push(n);const c=Ph(s,i);return{config:zh(s),pageDiff:c,updatingPage:n.path}}}return{config:r}}),setUpdatingPage:e=>t(()=>({updatingPage:e})),setFeedItem:({time:e,text:n,newTime:r})=>t(({config:i})=>{if(i.feed){const s={...i.feed};if(s.list!==void 0){if(r!==void 0){const l=s.list.find(c=>c.time===e);l&&(l.time=r,s.list=s.list.sort(I0))}else if(typeof n=="string"){const l=s.list.find(c=>c.time===e);l!==void 0?l.text=n:(s.list.push({time:e,text:n}),s.list=s.list.sort(I0))}else s.list=s.list.filter(l=>l.time!==e);i.feed=s}}return{config:i}}),setFeedFeat:({time:e})=>t(({config:n})=>{if(n.feed){const r={...n.feed},i=r.list.find(s=>s.time===e);i&&(i.feat?delete i.feat:i.feat=1,r.list=r.list.sort(I0),n.feed=r)}return{config:n}})}),{name:"data"})),bc=t=>new Date(parseInt(t,er.TIME_ZIP)*er.TIME_TRIM).getTime(),lT=t=>typeof t=="number"&&t>0?new Date(t).toLocaleString(window.navigator.language,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}):"",wc=t=>typeof t=="string"?new TextEncoder().encode(t).length:0,q1=t=>t<100?`${t} bytes`:t<1e5?`${(t/1024).toFixed(2)} KB`:`${(t/(1024*1024)).toFixed(2)} MB`,cT=t=>{let e=Math.floor((Date.now()-new Date(t).getTime())/1e3);return e<60?"seconds ago":[{label:"d",seconds:86400},{label:"h",seconds:3600},{label:"m",seconds:60}].reduce((r,{label:i,seconds:s})=>{const l=Math.floor(e/s);return l>0&&!(i==="s"&&r.length>0)&&(r.push(`${l}${i}`),e-=l*s),r},[]).join(" ")},xP=(t,e)=>`https://raw.githubusercontent.com/offgap/${t}/main/${e}`,lb=async({domain:t,pid:e})=>{const{pid:n,setStatus:r,setPid:i}=Oe.getState();try{if((await fetch(`https://${t}/${er.FOLDER}/${e}.json`,{cache:"no-store"})).ok)return n!==e&&i(e),r(et.PID_NEW),!0;try{const l=await fetch(`https://${t}/`,{cache:"no-store"});if(l.ok&&l.status===Hv.OK){const c=await fetch(`https://${t}/${er.FOLDER}/${er.LIVEFILE}`,{cache:"no-store"});if(c.ok){const d=await c.json();if(!d?.p)throw new Error(`Live file doesn't have pid collection (https://${t}/${er.FOLDER}/${er.LIVEFILE})`);const{p:f}=d,p=f[0];if(!f.includes(e))r(et.PID_OLD);else if(p===e)r(et.PID_NEW);else if(p.length===er.LENGTH&&bc(p)>bc(e))return lb({domain:t,pid:p});return!0}}}catch(l){console.error(`Domain (${t}) DNS might be still propagating; ${l}`)}throw r(et.NS_POLL),new Error(`Domain (${t}) isn't available`)}catch(s){console.error(s,`Checking pid (${e}) from domain (${t}) failed`)}return!1},EP=async({repo:t})=>{try{const e=await fetch(xP(t,`${er.GITFOLDER}/${er.LIVEFILE}`),{cache:"no-store"});if(!e.ok)throw new Error(`Fetching pid from GitHub (${t}) live.json failed`);const n=await e.json();if(!n?.p)throw new Error(`Github repo (${t}) file doesn't have pid collection`);const{p:r}=n;return r[0]}catch(e){console.error(`Parsing pid from GitHub (${t}) failed. ${e}`)}return""},QY=async({pid:t,repo:e,domain:n})=>{try{if(t&&n&&await lb({domain:n,pid:t}))return!0;if(e){const r=await EP({repo:e});if(r===t&&t===er.INIT)return!1;throw new Error(`Github pid (${r}) is different than server's pid (${t}), or progressed without domain`)}}catch(r){console.error(r)}return!1},TP=[[1,1e4],[10,3e4],[25,6e4],[45,3e5],[133,9e5]],CP=t=>TP.find(([e])=>t<=e)?.[1]??0,kP=t=>parseInt(localStorage.getItem(`poll:${t}`)||"0",10),AP=(t,e)=>localStorage.setItem(`poll:${t}`,String(e)),lf=(t,e)=>{let n=!0;return{promise:(async()=>{let r=kP(t);for(;n;){if(await e())return localStorage.removeItem(`poll:${t}`),!0;r++,AP(t,r);const s=t.startsWith("pid")?5e3:CP(r);if(!s)return console.error(`Polling "${t}" exceeded max attempts, user action required`),!1;await new Promise(l=>setTimeout(l,s))}return!1})(),stop:()=>{n=!1,localStorage.removeItem(`poll:${t}`)}}},NP=["185.199.108.153","185.199.109.153","185.199.110.153","185.199.111.153"],MP=["offgap.github.io."],dN=["https://dns.google/resolve","https://cloudflare-dns.com/dns-query"],OP=(t,e="CNAME",n=dN[0])=>`${n}?name=${t}&type=${e}`,cb=async(t,e,n)=>{const r=n?[n]:e==="A"?NP:MP;try{return await dN.reduce(async(i,s)=>{if(!await i)return!1;const c=await fetch(OP(t,e,s),{headers:{Accept:"application/dns-json"}}),{Answer:d}=await c.json();return Array.isArray(d)&&r.every(f=>d.some(p=>p.data.replaceAll('"',"")===f))},Promise.resolve(!0))}catch(i){console.error(i)}return!1},_P=async(t,e)=>{try{if((await fetch(`https://${t}/${er.FOLDER}/${e}.json`,{cache:"no-store"})).ok)return Oe.getState().setStatus(et.PID_NEW),!0}catch(n){console.error(n)}return!1},RP=t=>lf(`dns:${t}`,async()=>await cb(t,"A")),DP=t=>lf(`dns:${t}`,async()=>await cb(t,"CNAME")),IP=(t,e)=>lf(`dns:${t}`,async()=>await cb(t,"TXT",e)),jP=(t,e)=>lf(`pid:${t}`,async()=>await _P(t,e)),LP=(t,e)=>lf(`dom:${t}`,async()=>await lb({domain:t,pid:e})),PP=async(t,e,n)=>!!(await IP(t,`offgap.com=${n}`).promise&&await(e[0]===""?RP:DP)(t).promise),zP=(t,e,n)=>{const{pid:r,sub:i,setStatus:s}=Oe.getState();switch(e){case et.NS_SET:return"1";case et.NS_POLL:return t&&n&&PP(t,i,n).then(l=>s(l?et.NS_DONE:et.NS_SET)).catch(l=>console.error(l)),"2";case et.NS_HOLD:return"3";case et.NS_DONE:return n?fetch("/api/domain/",{method:"PUT"}).then(l=>{l.ok&&s(et.DOMAIN_POLL)}).catch(l=>console.error(l)):s(et.DOMAIN_POLL),"4";case et.DOMAIN_POLL:return LP(t,r).promise.then(l=>{l||console.error("Pid is not set")}).catch(l=>console.error(l)),"5";case et.DOMAIN_HOLD:return"6";case et.DOMAIN_DONE:return"7";case et.PID_OLD:return jP(t,r).promise.then(()=>s(et.PID_NEW)).catch(l=>console.error(l)),"8";case et.PID_NEW:return"9";default:throw new Error("Unexpected status value")}},uT=t=>t&&window.location.pathname!=="/app/"?window.location.pathname="/app/":void 0;function UP({children:t}){const e=Oe(l=>l.user),n=Oe(l=>l.token),r=Oe(l=>l.domain),i=Oe(l=>l.status);k.useEffect(()=>{const l=Wm();return l.then(c=>{Oe.getState().setUser(c!==null),uT(c===null)}),l.unsubscribe},[]),k.useEffect(()=>void uT(!e),[e]);const s=k.useCallback(()=>zP(r,i,n),[r,i,n]);return k.useEffect(()=>void(e&&i>et.INIT&&s()),[e,i,s]),e!==void 0?t:b.jsx(cA,{})}/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HP=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),dT=t=>{const e=HP(t);return e.charAt(0).toUpperCase()+e.slice(1)},fN=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),VP=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $P={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...c},d)=>k.createElement("svg",{ref:d,...$P,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:fN("lucide",i),...!s&&!VP(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,p])=>k.createElement(f,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(t,e)=>{const n=k.forwardRef(({className:r,...i},s)=>k.createElement(FP,{ref:s,iconNode:e,className:fN(`lucide-${BP(dT(t))}`,`lucide-${t}`,r),...i}));return n.displayName=dT(t),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Id=Se("arrow-right",qP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],GP=Se("bold",WP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["path",{d:"m14.5 7-5 5",key:"dy991v"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m9.5 7 5 5",key:"s45iea"}]],YP=Se("book-x",KP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],JP=Se("check",XP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ub=Se("circle-check",QP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],e9=Se("circle-pause",ZP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],n9=Se("circle-plus",t9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]],i9=Se("clipboard-copy",r9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],o9=Se("clock",s9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],fT=Se("cloud",a9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],c9=Se("code",l9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],d9=Se("external-link",u9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],h9=Se("file-check",f9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M16 22h2a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"37hlfg"}],["path",{d:"M8 14v2.2l1.6 1",key:"6m4bie"}],["circle",{cx:"8",cy:"16",r:"6",key:"10v15b"}]],m9=Se("file-clock",p9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]],y9=Se("file-code",g9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]],b9=Se("file-pen",v9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M3 15h6",key:"4e2qda"}],["path",{d:"M6 12v6",key:"1u72j0"}]],S9=Se("file-plus-2",w9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=[["path",{d:"M11 21a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1",key:"likhh7"}],["path",{d:"M16 16a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1",key:"17ky3x"}],["path",{d:"M21 6a2 2 0 0 0-.586-1.414l-2-2A2 2 0 0 0 17 2h-3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1z",key:"1hyeo0"}]],E9=Se("file-stack",x9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],C9=Se("file-text",T9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 13v-1h6v1",key:"1bb014"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M11 18h2",key:"12mj7e"}]],A9=Se("file-type",k9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],M9=Se("file",N9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=[["path",{d:"m17 3-5 5-5-5h10",key:"1ftt6x"}],["path",{d:"m17 21-5-5-5 5h10",key:"1m0wmu"}],["path",{d:"M4 12H2",key:"rhcxmi"}],["path",{d:"M10 12H8",key:"s88cx1"}],["path",{d:"M16 12h-2",key:"10asgb"}],["path",{d:"M22 12h-2",key:"14jgyd"}]],_9=Se("flip-vertical-2",O9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],D9=Se("hand",R9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],j9=Se("hash",I9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],hN=Se("image",L9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["path",{d:"M21 12H11",key:"wd7e0v"}],["path",{d:"M21 18H11",key:"4wu86t"}],["path",{d:"M21 6H11",key:"6dy1d6"}],["path",{d:"m7 8-4 4 4 4",key:"o5hrat"}]],z9=Se("indent-decrease",P9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=[["path",{d:"M21 12H11",key:"wd7e0v"}],["path",{d:"M21 18H11",key:"4wu86t"}],["path",{d:"M21 6H11",key:"6dy1d6"}],["path",{d:"m3 8 4 4-4 4",key:"1a3j6y"}]],B9=Se("indent-increase",U9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],pN=Se("info",H9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],$9=Se("italic",V9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]],q9=Se("link-2-off",F9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],G9=Se("link-2",W9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],mN=Se("link",K9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Km=Se("loader-circle",Y9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M7.5 9.5c0 .687.265 1.383.697 1.844l3.009 3.264a1.14 1.14 0 0 0 .407.314 1 1 0 0 0 .783-.004 1.14 1.14 0 0 0 .398-.31l3.008-3.264A2.77 2.77 0 0 0 16.5 9.5 2.5 2.5 0 0 0 12 8a2.5 2.5 0 0 0-4.5 1.5",key:"1faxuh"}]],J9=Se("message-square-heart",X9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Z9=Se("message-square",Q9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],t7=Se("moon",e7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]],r7=Se("paintbrush",n7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],s7=Se("panel-left-close",i7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]],a7=Se("panel-left-open",o7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]],c7=Se("panel-right",l7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],gN=Se("plus",u7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],f7=Se("quote",d7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M14 8H8",key:"1l3xfs"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"M13 16H8",key:"wsln4y"}]],p7=Se("receipt-text",h7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],yN=Se("redo-2",m7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=[["path",{d:"M21 8L18.74 5.74A9.75 9.75 0 0 0 12 3C11 3 10.03 3.16 9.13 3.47",key:"1krf6h"}],["path",{d:"M8 16H3v5",key:"1cv678"}],["path",{d:"M3 12C3 9.51 4 7.26 5.64 5.64",key:"ruvoct"}],["path",{d:"m3 16 2.26 2.26A9.75 9.75 0 0 0 12 21c2.49 0 4.74-1 6.36-2.64",key:"19q130"}],["path",{d:"M21 12c0 1-.16 1.97-.47 2.87",key:"4w8emr"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M22 22 2 2",key:"1r8tn9"}]],y7=Se("refresh-cw-off",g7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],b7=Se("refresh-cw",v7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=[["path",{d:"M14 4a2 2 0 0 1 2-2",key:"1w2hp7"}],["path",{d:"M16 10a2 2 0 0 1-2-2",key:"shjach"}],["path",{d:"M20 2a2 2 0 0 1 2 2",key:"188mtx"}],["path",{d:"M22 8a2 2 0 0 1-2 2",key:"ddf4tu"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5a3 3 0 0 1 3-3h1",key:"3y3t5z"}],["rect",{x:"2",y:"14",width:"8",height:"8",rx:"2",key:"4rksxw"}]],S7=Se("replace",w7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],E7=Se("scan-line",x7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],vN=Se("search",T7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=[["path",{d:"m16 16-4 4-4-4",key:"3dv8je"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"m8 8 4-4 4 4",key:"2bscm2"}]],k7=Se("separator-horizontal",C7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],N7=Se("shield-check",A7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=[["path",{d:"M22 17v1c0 .5-.5 1-1 1H3c-.5 0-1-.5-1-1v-1",key:"lt2kga"}]],O7=Se("space",M7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=[["path",{d:"M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6",key:"y09zxi"}],["path",{d:"m21 3-9 9",key:"mpx6sq"}],["path",{d:"M15 3h6v6",key:"1q9fwt"}]],R7=Se("square-arrow-out-up-right",_7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],I7=Se("square-check-big",D7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=[["path",{d:"m10 9-3 3 3 3",key:"1oro0q"}],["path",{d:"m14 15 3-3-3-3",key:"bz13h7"}],["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}]],hT=Se("square-code",j7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],db=Se("square-pen",L7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],z7=Se("square-x",P7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],B7=Se("square",U7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],V7=Se("strikethrough",H7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],F7=Se("sun",$7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=[["path",{d:"M11 17a4 4 0 0 1-8 0V5a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2Z",key:"1ldrpk"}],["path",{d:"M16.7 13H19a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2H7",key:"11i5po"}],["path",{d:"M 7 17h.01",key:"1euzgo"}],["path",{d:"m11 8 2.3-2.3a2.4 2.4 0 0 1 3.404.004L18.6 7.6a2.4 2.4 0 0 1 .026 3.434L9.9 19.8",key:"o2gii7"}]],W7=Se("swatch-book",q7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=[["path",{d:"m10.065 12.493-6.18 1.318a.934.934 0 0 1-1.108-.702l-.537-2.15a1.07 1.07 0 0 1 .691-1.265l13.504-4.44",key:"k4qptu"}],["path",{d:"m13.56 11.747 4.332-.924",key:"19l80z"}],["path",{d:"m16 21-3.105-6.21",key:"7oh9d"}],["path",{d:"M16.485 5.94a2 2 0 0 1 1.455-2.425l1.09-.272a1 1 0 0 1 1.212.727l1.515 6.06a1 1 0 0 1-.727 1.213l-1.09.272a2 2 0 0 1-2.425-1.455z",key:"m7xp4m"}],["path",{d:"m6.158 8.633 1.114 4.456",key:"74o979"}],["path",{d:"m8 21 3.105-6.21",key:"1fvxut"}],["circle",{cx:"12",cy:"13",r:"2",key:"1c1ljs"}]],pT=Se("telescope",G7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],fb=Se("trash-2",K7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],X7=Se("trash",Y7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],bN=Se("triangle-alert",J7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=[["path",{d:"M14 16.5a.5.5 0 0 0 .5.5h.5a2 2 0 0 1 0 4H9a2 2 0 0 1 0-4h.5a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5V8a2 2 0 0 1-4 0V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v3a2 2 0 0 1-4 0v-.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5Z",key:"1reda3"}]],wN=Se("type-outline",Q7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],hb=Se("undo-2",Z7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=[["path",{d:"m16 16-2 2 2 2",key:"kkc6pm"}],["path",{d:"M3 12h15a3 3 0 1 1 0 6h-4",key:"1cl7v7"}],["path",{d:"M3 18h7",key:"sq21v6"}],["path",{d:"M3 6h18",key:"d0wm0j"}]],t8=Se("wrap-text",e8),SN=()=>b.jsx("div",{className:"pointer-events-none fixed inset-0 z-50 flex cursor-progress items-center justify-center bg-base-100/70",children:b.jsx("span",{className:"loading loading-spinner loading-xl"})}),n8=({text:t,info:e})=>b.jsx("div",{className:"pointer-events-none fixed inset-0 z-50 flex cursor-progress items-center justify-center bg-base-100/70",children:b.jsx("div",{className:"card h-60 w-60 bg-base-300 shadow",children:b.jsxs("div",{className:"card-body items-center justify-center",children:[b.jsx("span",{className:"loading loading-spinner loading-xl my-6"}),t?b.jsx("h2",{className:"card-title",children:t}):null,e?b.jsx("div",{className:"w-40 text-center text-xs",children:e}):null]})})}),r8=({text:t})=>{const[e,n]=k.useState("enter");k.useEffect(()=>{const i=setTimeout(()=>n("visible"),Jt.BLUR),s=setTimeout(()=>n("exit"),Jt.BLUR+Jt.UI_FLASH);return()=>{clearTimeout(i),clearTimeout(s)}},[]);const r=e==="enter"?"translate-y-[-120%] opacity-0":e==="visible"?"translate-y-0 opacity-100":"translate-y-[-120%] opacity-0";return b.jsx("div",{className:`absolute z-50 justify-self-center transition-all duration-200 ease-out ${r}`,children:b.jsxs("div",{role:"alert",className:"alert alert-warning pointer-events-none my-1.5 shadow-xl",children:[b.jsx(bN,{}),b.jsx("span",{children:t})]})})},i8="modulepreload",s8=function(t){return"https://offgap.com/app/"+t},mT={},Uh=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let d=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");i=d(n.map(f=>{if(f=s8(f),f in mT)return;mT[f]=!0;const p=f.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":i8,p||(v.as="script"),v.crossOrigin="",v.href=f,c&&v.setAttribute("nonce",c),document.head.appendChild(v),p)return new Promise((w,x)=>{v.addEventListener("load",w),v.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})},Bh=b.jsx(e9,{className:"m-1 size-8"}),Hh=b.jsx(Km,{className:"m-1 size-8 animate-spin"}),Vh=b.jsx(ub,{className:"m-1 size-8"}),o8=()=>{const t=Oe(r=>r.status),e=Bm(),n=k.useCallback(()=>e({},{action:"/app/domain/"}).catch(r=>console.error(r)),[e]);return b.jsxs("div",{className:"hero-content my-6 flex-row items-start gap-6 p-0",children:[b.jsxs("ul",{className:"list w-2/3 rounded-box border border-base-300 bg-base-100",children:[b.jsx("li",{className:"bg-base-200 p-5 text-xs tracking-wide opacity-60",children:"Were confirming that your website is accessible online:"}),b.jsxs("li",{className:"list-row",children:[b.jsx("div",{children:t>et.NS_DONE?Vh:t>et.NS_SET?Hh:Bh}),b.jsxs("div",{children:[b.jsx("div",{children:"Validating your domain ownership"}),b.jsx("div",{className:"font-semibold text-xs uppercase opacity-40",children:"TXT records"})]})]}),b.jsxs("li",{className:"list-row",children:[b.jsx("div",{children:t>et.NS_DONE?Vh:t>et.NS_SET?Hh:Bh}),b.jsxs("div",{children:[b.jsx("div",{children:"Validating correct domain location resolution"}),b.jsx("div",{className:"font-semibold text-xs uppercase opacity-40",children:"CNAME records"})]})]}),b.jsxs("li",{className:"list-row",children:[b.jsx("div",{children:t>et.DOMAIN_DONE?Vh:t>et.NS_DONE?Hh:Bh}),b.jsxs("div",{children:[b.jsx("div",{children:"Checking if website is reachable"}),b.jsx("div",{className:"font-semibold text-xs uppercase opacity-40",children:"Website response"})]})]}),b.jsxs("li",{className:"list-row",children:[b.jsx("div",{children:t>et.PID_OLD?Vh:t>et.DOMAIN_DONE?Hh:Bh}),b.jsxs("div",{children:[b.jsx("div",{children:"Checking if your content can be published"}),b.jsx("div",{className:"font-semibold text-xs uppercase opacity-40",children:"OffGap flag"})]}),t>et.PID_OLD?b.jsxs("button",{type:"button",className:"btn",onClick:n,children:["Next",b.jsx(Id,{})]}):null]})]}),b.jsx("div",{className:"card w-1/3 rounded-box border border-base-300 bg-base-100",children:b.jsx("div",{className:"card-body",children:"Records propagation usually takes from a few minutes to an hour. In extreme cases it takes up to 24 hours for all servers across the globe to update the DNS records."})})]})},a8=()=>b.jsxs("div",{className:"card rounded-box border border-base-300 bg-base-100",children:[b.jsx("div",{className:"bg-base-200 p-5 text-xs tracking-wide opacity-60",children:"How to link your domain to your website"}),b.jsx("div",{className:"card-body -mb-5",children:b.jsx("p",{children:"To get your site online, you must setup or update your domain's DNS records. Think of these records as references that shows the internet where your website's content is located. Records below point your URL to a server which holds your pages and content. Is the records are missing or not setup correctly your visitors won't be able to see your pages."})}),b.jsxs("div",{className:"join join-vertical rounded-box p-5",children:[b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"What are DNS records?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsxs("p",{children:["DNS (Domain Name System) records are entries in a DNS database that provide information about a domain and its associated services. They translate human-readable domain names (like ",b.jsx("code",{children:"www.example.com"}),") into IP addresses that computers use to identify each other on the network. Common types of DNS records include:"]}),b.jsxs("ul",{children:[b.jsxs("li",{children:[b.jsx("strong",{children:"A Record"})," points your domain to a specific server IP address."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"AAAA Record"})," points your domain to a specific server IP address using IPv6 name format."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"CNAME Record"})," points a subdomain to another domain name."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"TXT Record"})," can store verification or security information, like proving you own the domain."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"MX Record"})," handles email delivery for your domain."]})]}),b.jsx("p",{children:"Without the correct DNS records, visitors wont be able to reach your website or use associated services. Think of DNS records as the instructions the internet needs to guide people to your pages."})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"How do I access my DNS settings?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"You access DNS settings through the website of the company where you bought your domain (your domain registrar). Once logged in, look for a section called DNS, Manage DNS, or Domain Settings. From there, you can see, edit, or add records like A, CNAME, or TXT records."}),b.jsx("p",{children:"To access your DNS settings, follow these steps:"}),b.jsxs("ol",{children:[b.jsx("li",{children:"Log in to your domain registrar or hosting provider's website."}),b.jsx("li",{children:"Navigate to the domain management section. Find the domain you want to manage."}),b.jsx("li",{children:'Look for options like DNS, "DNS Management," "DNS Settings," or "Zone File Settings."'}),b.jsx("li",{children:"Edit the records to match the format we show on top of this page."})]}),b.jsx("p",{children:"Make sure you dont change or delete records youre not sure about, as they might be needed for email or other services. If you have trouble finding the DNS settings, the registrars help center usually has step-by-step instructions."})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"What is a domain registrar?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"A domain registrar is the company where you buy and manage your website name (like example.com). They are accredited by organizations like ICANN (Internet Corporation for Assigned Names and Numbers) to sell domain names and maintain the associated DNS records. They keep track of who owns the domain and provide tools to manage it, including DNS settings, renewal, and contact information."}),b.jsx("p",{children:"Your registrar is not where your website is hosted, they just control the domain. You use their dashboard to point your domain to the server where your website is stored and to manage records that tell the internet how to reach your site."}),b.jsx("p",{children:"Sometimes registrars also offer other services like hosting, email, or website creation, but these are usually more expensive than just the domain itself. Domains typically cost a small fee per year (for example 1020/year). If you pay more for domain services, part of that cost is often for hosting: storing your website data or running computations, which is usually much more expensive than the domain alone."})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"What types of DNS records do I need to update?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"To connect your domain to our service you need to change 2 records, which depend on whether you have an apex domain (like example.com) or a subdomain (like blog.example.com). If you have an apex domain, change the TXT Record for verification and the A Record to point your URL to list of servers. If you have a subdomain, change the TXT Record and the CNAME Record to point it to OffGap location. Dependeing on the domain you provided at the previous step we show all necessary configuration above."}),b.jsx("p",{children:"If you're migrating from an existing hosting service, make sure to remove any old A Records or CNAME Records that are no longer needed. Be careful not to delete records that are still in use, such as other TXT or MX Records, as well as any necessary records for your apex domain if you're using OffGap for your subdomain."})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"How do I change my A record?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"Log in to your domain registrar and go to the DNS management section. Find the A Record for your domain (it usually shows your domain name pointing to an IP address). Replace the current IP address with the one provided by your hosting service and save the changes. It may take some time for the changes to propagate."}),b.jsx("p",{children:"Be careful not to delete other records you might need, like MX Records for email. If you are moving from another hosting service, you may remove old A Records that are no longer used to avoid conflicts."})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"What is a CNAME record, and when should I use it?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"A CNAME Record (Canonical Name) tells the internet that a subdomain, like blog.example.com, should point to another domain name instead of a server IP. Its useful when you want a subdomain to follow another domains address or when your hosting provider gives you a special URL to connect to."}),b.jsx("p",{children:"Use a CNAME only for subdomains, not for your main domain. Make sure theres no conflicting A Record for the same subdomain, or the connection might not work."})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"How do I add a new DNS record?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"Log in to your domain registrar and go to the DNS management section. Look for an option like Add Record or Create Record. Choose the type of record you need (A, CNAME, TXT, etc.), enter the information provided by your hosting or service, and save it."}),b.jsx("p",{children:"Double-check youre adding the record to the correct domain or subdomain. Avoid duplicating existing records unless specifically instructed, as this can cause your website or email to stop working properly."}),b.jsx("p",{children:"To add a new DNS record:"}),b.jsxs("ol",{children:[b.jsx("li",{children:"Access your DNS settings as described above."}),b.jsx("li",{children:'Look for an option like "Add Record" or "Create New Record."'}),b.jsx("li",{children:"Select the type of record you want to add (A, CNAME, TXT, etc.)."}),b.jsx("li",{children:"Fill in the required fields, such as the name, value, and TTL."}),b.jsx("li",{children:"Save the new record. It may take some time for the changes to propagate."})]})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"What is TTL (Time To Live), and how does it affect my DNS records?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"TTL (Time To Live) is the amount of time the internet remembers your DNS record before checking for updates. A shorter TTL means changes you make will be noticed faster, while a longer TTL can make your website load slightly quicker because information is cached longer."}),b.jsx("p",{children:"If you plan to update your DNS, its often helpful to temporarily set a lower TTL so changes propagate faster. After everything works, you can return it to a longer value to improve performance."})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"How long does it take for DNS changes to take effect?"}),b.jsx("div",{className:"collapse-content text-sm",children:b.jsx("p",{children:"DNS changes can take anywhere from a few minutes to 2448 hours to fully propagate across the internet. During this time, some visitors might still see the old version of your site. This delay is normal and depends on your TTL settings and how frequently internet servers update their records."})})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"What should I do if my website is not loading after changing DNS records?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"First, double-check that all records (A, CNAME, TXT) match the values provided on the top of this page. Make sure you didnt delete or conflict with other necessary records. If everything looks correct, wait for DNS propagation (up to 2448 hours). You can also clear your browser cache or try accessing your site from a different network. If issues persist, contact your registrar or hosting provider for support."}),b.jsx("p",{children:"If your website is still not loading:"}),b.jsxs("ul",{children:[b.jsx("li",{children:"Check the correct spelling of your domain name."}),b.jsx("li",{children:"Check if the DNS changes have propagated using a DNS lookup tool."}),b.jsx("li",{children:"Clear your browser cache and DNS cache on your local machine."}),b.jsx("li",{children:"Try another device: your computer, phone, tablet, devices of your friends or relatives."}),b.jsx("li",{children:"Ensure that you're connected to internet and your router is working."}),b.jsx("li",{children:"Check your domain payment expiration date and emails from your domain provider."})]})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"How do I verify that my DNS changes have propagated?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsxs("p",{children:["You can use online tools like",b.jsx("a",{href:"https://dnschecker.org/",target:"_blank",rel:"noopener noreferrer",className:"link",children:"DNS checker"}),"or",b.jsx("a",{href:"https://www.whatsmydns.net/",target:"_blank",rel:"noopener noreferrer",className:"link",children:"Whatsmydns.net"}),"to see if your DNS changes have spread across the internet. Enter your domain and check the specific record (A, CNAME, TXT) to confirm it matches the new value."]}),b.jsx("p",{children:"If the updated record shows in multiple locations worldwide, your DNS change has propagated successfully."})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"What's the difference between a domain and a subdomain?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsxs("p",{children:["A domain is the main name of your website, like ",b.jsx("code",{children:"example.com"}),". A subdomain is an extension of your main domain that points to a different section or service (e.g. OffGap), like"," ",b.jsx("code",{children:"blog.example.com"})," or",b.jsx("code",{children:"shop.example.com"}),"."]}),b.jsx("p",{children:"Subdomains let you create new sections, apps, or services without disrupting your main site or buying a new domain. For example, Google runs its search engine on google.com while also running totally different services on subdomains like maps.google.com or drive.google.com. Apple does the same with apple.com and icloud.apple.com."}),b.jsx("p",{children:"Your main site and your subdomains can each:"}),b.jsxs("ul",{children:[b.jsx("li",{children:"Come from different servers,"}),b.jsx("li",{children:"Be managed by different teams,"}),b.jsx("li",{children:"Have their own ways of interacting with visitors, and"}),b.jsx("li",{children:"Even rank independently in search results."})]}),b.jsx("p",{children:"With OffGap, you can launch a blog, news portal, or product collection on a subdomain of your website without touching the main domain or the professional service already running there. Its a way to expand your online presence quickly while keeping your existing site safe and unchanged."})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"How do I set up a subdomain?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"To set up a subdomain, go to your domain registrars DNS settings. There you can add a record. Choose either:"}),b.jsxs("ul",{children:[b.jsxs("li",{children:[b.jsx("strong",{children:"CNAME record"})," if your hosting provider gives you a special link (e.g. OffGap gives you one), or"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"A record"})," if you are given a server address (IP number)."]})]}),b.jsxs("p",{children:["Type the name of the subdomain you want (like blog to make ",b.jsx("code",{children:"blog.example.com"}),") and paste in the value provided by your hosting service. Save your changes, and the new subdomain will be live once the internet updates (usually within 2448 hours)."]})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"Can my website break if I create new records for a subdomain?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"No, your main website will not break if you add a new record for a subdomain. Subdomains work independently, so creating something like blog.example.com will not affect what people see when they go to example.com."}),b.jsx("p",{children:"The only risk comes if you accidentally edit or delete existing records for your main domain or email. As long as you only add or change records for the subdomain itself, your main site will continue running normally. This is why subdomains are a safe way to expand your online presence with services like OffGap."})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"What is a TXT record, and when should I use it?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"A TXT Record is a simple line of text stored in your domains DNS settings. Different services use it to confirm information about your domain."}),b.jsx("p",{children:"At OffGap, we ask you to add a TXT Record with a special validation code. This step proves that you own the domain. It prevents someone else from pretending they control your website. Without this code, OffGap will not show content on your domain, which helps protect you against fraud or impersonation."}),b.jsx("p",{children:"Other common uses of TXT Records include verifying your domain for tools like Google or Microsoft and setting up email safety checks. Adding these records is safe and wont affect your website or email as long as you follow the instructions provided."})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"Will my email continue working if I add or change TXT records?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"Yes, your email will keep working as long as you dont remove or overwrite the TXT Records that handle email security (SPF, DKIM, DMARC). Adding new TXT Records, such as one for OffGap verification, will not break your email."}),b.jsx("p",{children:"Be careful if you edit an existing TXT Record. If it was already used for email, changing it incorrectly could affect delivery. If youre unsure, its best to add the new record separately rather than changing one thats already there."})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"How do I delete a DNS record?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"Log in to your domain registrar and go to the DNS settings. Find the record you want to remove and click the delete option (often shown as a trash icon or remove button). Save your changes. Only delete records youre certain are not needed anymore."}),b.jsx("p",{children:"Removing the wrong record could stop your website or email from working. If youre switching to a new hosting service, make sure the replacement records are already in place before deleting the old ones."})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"What happens if I make a mistake while updating DNS records?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"If you enter something incorrectly, your website or subdomain might not show up right away. The good news is that mistakes can always be fixed by correcting or restoring the record in your DNS settings. Nothing is permanent."}),b.jsx("p",{children:"With OffGap, we provide you with clear instructions for exactly which records to add or update. This keeps the process simple and helps you avoid touching records that belong to other services like email. Even if something goes wrong, your main website and email usually continue to work normally. Our goal is to make expanding your online presence safe and worry-free."}),b.jsx("p",{children:"To be extra safe, we recommend copying or taking a screenshot of your existing DNS records before making changes. In most cases, the setup is straightforward and doesnt require technical knowledge, but domain providers usually dont offer undo or backups. Having your own personal backup means you can quickly restore the previous configuration if necessary."})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"What is a nameserver, and how do I change it?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"A nameserver is like the address book for your domain, it tells the internet where to look for your DNS records. By default, your domain registrar provides nameservers, and thats where you manage your DNS records. Sometimes, your DNS might be managed somewhere else, such as Cloudflare, if youve set up DNS proxying. In that case, youd add or update your records in Cloudflare instead of at your registrar."}),b.jsx("p",{children:"For OffGap, you dont need to change your nameservers. You only add or update a few specific records in the place where your DNS is currently managed. This way, your main website and email continue working as they are, while OffGap handles your new subdomain or service."})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"How do I troubleshoot DNS issues?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"If your site or subdomain isnt loading after a DNS change:"}),b.jsxs("ul",{children:[b.jsx("li",{children:"Make sure you waited long enough. DNS changes can take up to 2448 hours to update everywhere."}),b.jsx("li",{children:"Check that you entered the records exactly as OffGap provided."}),b.jsx("li",{children:"Confirm you didnt accidentally change or delete other important records. Having a backup of your records (screenshot or copy) could help."}),b.jsxs("li",{children:["Use a free online tool like"," ",b.jsx("a",{href:"https://dnschecker.org/",target:"_blank",rel:"noopener noreferrer",className:"link",children:"DNS checker"}),"or",b.jsx("a",{href:"https://www.whatsmydns.net/",target:"_blank",rel:"noopener noreferrer",className:"link",children:"Whatsmydns.net"})," ","to see if your changes are spreading across the internet."]})]}),b.jsx("p",{children:"Most issues are temporary or caused by a small typo. With OffGap, instructions are kept simple so you only adjust whats necessary and avoid breaking other parts of your domain."})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"Where can I find support if I need help with DNS changes?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"You have several options:"}),b.jsxs("ul",{children:[b.jsxs("li",{children:[b.jsx("strong",{children:"AI Assistant"}),": an AI service can guide you step by step with setup, changes, and troubleshooting."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Registrar Help Center"}),": Most domain providers have their own guides on managing DNS."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"OffGap Support"}),": We provide clear documentation for all common setups. On some plans, you also get access to dedicated support. Contact us if you need help."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Online Resources"}),": Free services like"," ",b.jsx("a",{href:"https://dnschecker.org/",target:"_blank",rel:"noopener noreferrer",className:"link",children:"DNS checker"}),"or",b.jsx("a",{href:"https://www.whatsmydns.net/",target:"_blank",rel:"noopener noreferrer",className:"link",children:"Whatsmydns.net"})," ","help you verify if your changes are working worldwide, other services (blogs, forums) could help you to find the right answer."]})]})]})]})]})]}),j0=({sub:t,type:e,copied:n,doCopy:r,values:i})=>{const s=({currentTarget:c})=>c.select(),l=({currentTarget:c})=>{if(c instanceof HTMLButtonElement){const d=c.parentElement?.querySelector("input");d instanceof HTMLInputElement&&(d.focus(),d.select(),navigator.clipboard?navigator.clipboard.writeText(d.value):document.execCommand("copy"),r(d.value))}};return b.jsxs(b.Fragment,{children:[b.jsxs("tr",{className:"thin",children:[b.jsx("td",{}),b.jsx("td",{children:"Name"}),b.jsx("td",{children:"Type"}),b.jsx("td",{children:"Value"}),b.jsx("td",{children:"TTL"})]}),i.map(c=>b.jsxs("tr",{className:"thin",children:[b.jsx("td",{}),b.jsx("td",{children:b.jsxs("label",{className:"input join-item gap-0","data-val":t[0]||"@",children:[b.jsx("input",{type:"text",className:"grow",defaultValue:t[0]||"@",readOnly:!0,size:t[0].length||1,onFocus:s}),b.jsxs("span",{className:"label",children:[".",t[1]]})]})}),b.jsx("td",{children:b.jsx("span",{className:"input",tabIndex:0,children:e})}),b.jsx("td",{children:b.jsxs("div",{className:"join w-full","data-val":c,children:[b.jsx("input",{className:"input join-item grow",type:"text",value:c,size:c.length,spellCheck:"false",readOnly:!0,onFocus:s}),b.jsx("button",{className:`btn btn-square join-item ${n===c?"btn-success":""}`,onClick:l,children:n===c?b.jsx(JP,{}):b.jsx(i9,{})})]})}),b.jsx("td",{children:b.jsx("span",{className:"input",tabIndex:0,children:"Auto"})})]},c))]})},l8=()=>{const t=Oe(w=>w.sub),e=Oe(w=>w.token),n=Oe(w=>w.status),r=Oe(w=>w.domain),i=Bm(),s=k.useCallback(()=>i({},{action:"/app/domain/"}).catch(w=>console.error(w)),[i]),l=k.useMemo(()=>({...E5,TXT:`offgap.com=${e}`}),[e]),c=k.useRef(null),[d,f]=k.useState(""),p=w=>{f(w),c.current&&clearTimeout(c.current),c.current=setTimeout(()=>f(""),Jt.UI_FLASH)},m=Oe(w=>w.setStatus),v=()=>{m(et.NS_POLL),s()};return b.jsxs("div",{className:"hero-content my-6 flex-col gap-6 p-0",children:[b.jsx("div",{className:"rounded-box border border-base-300 bg-base-100",children:b.jsxs("table",{className:"dns table w-full align-top",children:[b.jsx("tbody",{children:b.jsx("tr",{children:b.jsx("td",{className:"bg-base-200 p-5 text-xs tracking-wide opacity-60",colSpan:5,children:"To link your website address to its content follow the instructions below:"})})}),e?b.jsxs("tbody",{children:[b.jsxs("tr",{children:[b.jsx("td",{children:b.jsx(pN,{className:"m-1 size-8"})}),b.jsxs("td",{colSpan:4,children:["If managing DNS records is new to you, please check our detailed instructions below. You can also get help from your domain registrar (company where you purchased your domain name), contact OffGap support or consult with an"," ",b.jsx("a",{href:"https://duck.ai",target:"_blank",rel:"noopener noreferrer",className:"link",children:"AI assistant"}),"."]})]}),b.jsxs("tr",{children:[b.jsx("td",{children:b.jsx(N7,{className:"m-1 size-8"})}),b.jsxs("td",{colSpan:4,children:[b.jsx("div",{className:"font-semibold text-xs uppercase opacity-60",children:"TXT Record"}),b.jsx("div",{className:"mt-2 text-xs",children:"Add this TXT record as shown below to verify that you own this domain and authorized to change its content."})]})]}),b.jsx(j0,{sub:t,type:"TXT",copied:d,doCopy:p,values:[l.TXT]}),t[0]===""?b.jsxs(b.Fragment,{children:[b.jsxs("tr",{children:[b.jsx("td",{children:b.jsx(pT,{className:"m-1 size-8"})}),b.jsxs("td",{colSpan:4,children:[b.jsx("div",{className:"font-semibold text-xs uppercase opacity-60",children:"A Records"}),b.jsx("div",{className:"mt-2 text-xs",children:"These records point your domain to your website's content location. Create four separate A records with the following addresses. Having multiple records helps improving reliability of your website. Remove other existing A and CNAME records that point to the same domain."})]})]}),b.jsx(j0,{sub:t,type:"A",copied:d,doCopy:p,values:Object.entries(l).reduce((w,[x,E])=>(x.at(0)==="A"&&w.push(E),w),[])})]}):b.jsxs(b.Fragment,{children:[b.jsxs("tr",{children:[b.jsx("td",{children:b.jsx(pT,{className:"m-1 size-8"})}),b.jsxs("td",{colSpan:4,children:[b.jsx("div",{className:"font-semibold text-xs uppercase opacity-60",children:"CNAME Record"}),b.jsx("div",{className:"mt-2 text-xs",children:"This record points your subdomain to your website's content location. Remove other existing A and CNAME records that point to the same subdomain."})]})]}),b.jsx(j0,{sub:t,type:"CNAME",copied:d,doCopy:p,values:[l.CNAME]})]}),b.jsxs("tr",{children:[b.jsx("td",{}),b.jsx("td",{colSpan:4,children:b.jsxs("div",{className:"flex flex-row justify-between gap-2",children:[b.jsx("button",{type:"button",className:"btn btn-neutral",disabled:n>et.NS_SET,onClick:v,children:"All values are set"}),n>et.NS_SET?b.jsxs("button",{type:"button",className:"btn",onClick:s,children:["Next",b.jsx(Id,{})]}):null]})})]})]}):b.jsx("tr",{className:"list",children:b.jsxs("td",{className:"list-row",children:[b.jsx("div",{children:b.jsx(ub,{className:"m-1 size-8"})}),b.jsxs("div",{children:[b.jsx("div",{children:"We've already set up your domain records. Check the progress on the next page."}),b.jsxs("div",{className:"example w-fit",children:["https://",r,"/"]})]}),b.jsxs("button",{type:"button",className:"btn",onClick:s,children:["Next",b.jsx(Id,{})]})]})})]})}),e?b.jsx(a8,{}):null]})},c8=()=>{const t=Oe(e=>e.domain);return b.jsxs("div",{className:"card my-6 rounded-box border border-base-300 bg-base-100",children:[b.jsx("div",{className:"mx-auto mt-10",children:b.jsx(ub,{className:"size-32"})}),b.jsx("div",{className:"mx-auto mt-8 mb-6 font-bold text-3xl",children:"All set!"}),b.jsx("a",{href:`https://${t}/`,target:"_blank",className:"example link mx-auto w-fit font-semibold text-xl",children:`https://${t}/`}),b.jsxs("ul",{className:"menu lg:menu-horizontal mx-auto mt-6 mb-10 gap-2 rounded-box bg-base-200",children:[b.jsx("li",{children:b.jsxs(mp,{to:`https://${t}/`,target:"_blank",className:"btn btn-soft",children:[b.jsx(d9,{className:"size-5"}),"Visit your website"]})}),b.jsx("li",{children:b.jsxs(mp,{to:"/app/edit/",className:"btn btn-soft",children:[b.jsx(db,{className:"size-5"}),"Start adding content"]})}),b.jsx("li",{children:b.jsxs(mp,{to:"/app/files/",className:"btn btn-soft",children:[b.jsx(hN,{className:"size-5"}),"Upload images & files"]})})]})]})},Sp=({list:t})=>Object.entries(t).map(([e,n])=>b.jsxs("li",{className:n?void 0:"opacity-50",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`me-2 inline-block size-4 ${n?"text-success":"text-base-content/50"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),b.jsx("span",{className:n?void 0:"line-through",children:e})]},e)),u8=()=>b.jsxs("div",{className:"card-body w-2/5 p-0",children:[b.jsx("h2",{className:"card-title",children:"Choosing Your Website Address"}),b.jsxs("p",{children:["Your domain name is your business's address on the internet. It's how customers find you. A professional domain name builds trust and helps your brand stand out. Your domain name should be easy to remember and type. The most popular choice is ",b.jsx("code",{children:".com"}),", which is widely recognized and trusted. However, many great ",b.jsx("code",{children:".com"})," ","names are already taken. Most domains are rented annually for a small fee. Some unique names may be sold at a higher price or through auctions."]}),b.jsx("p",{children:"Setting up your domain is the final step before we can publish your website. The process of connecting your domain to our platform can take up to 48 hours. By choosing your domain now, you can avoid delays and ensure your website is live and ready for customers as soon as your content is finalized. You have two options to get your website online:"}),b.jsxs("ul",{className:"flex list-disc flex-col gap-2 pl-5",children:[b.jsxs("li",{children:[b.jsx("strong",{children:"OffGap Subdomain:"})," Get started immediately with a free address like"," ",b.jsx("code",{children:"yourbusiness.offgap.com"}),". This is a quick solution for those who want to launch their site right away without any extra cost."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Your Own Domain:"})," If you already own a domain name, you can use it with your OffGap site. We will provide you with the necessary technical details (NS records) to point your domain to our platform."]})]}),b.jsx("p",{children:"For those using their own domain, you'll need to update your NS (Name Server) records with your domain registrar. Think of NS records as the GPS coordinates that tell the internet where to find your website. We will give you these specific coordinates, which you will input into your registrar's control panel. This simple step is crucial for connecting your domain to our servers so your site can be published."})]}),d8=({handleRadio:t,type:e,sub:n,own:r})=>b.jsxs("div",{className:"z-20 my-6 flex flex-row gap-6 p-0",children:[b.jsx("form",{name:"domain",className:"shine w-3/5",onChange:t,children:b.jsxs("ul",{className:"list rounded-box border border-base-300 bg-base-100",children:[b.jsx("li",{className:"p-5 text-xs tracking-wide opacity-60",children:"What address will your website have?"}),b.jsxs("li",{className:"list-row",children:[b.jsx("div",{children:b.jsx("input",{type:"radio",name:"domainType",value:"subdomain",defaultChecked:e==="subdomain",className:"radio mt-3"})}),b.jsxs("div",{children:[b.jsx("h2",{className:"card-title",children:"OffGap Subdomain"}),b.jsx("div",{className:"font-semibold text-xs opacity-60",children:"yourname.offgap.com"}),b.jsx("ul",{className:"mt-4 flex flex-col gap-2 text-xs",children:b.jsx(Sp,{list:{"No DNS configuration needed":!0,"No recurring domain name costs":!0,"Your favorite name is likely available":!0,"Ability to create custom email addresses":!1,"Full control over your domain":!1}})})]}),b.jsxs("div",{className:"flex-col justify-items-end",children:[b.jsx("div",{className:"badge badge-neutral mt-1 block",children:"Free"}),b.jsx("div",{className:"badge badge-soft mt-1 block",children:"No credit card required"})]}),b.jsx("div",{className:"-mt-4 popup absolute left-full z-10 ml-6 w-96",children:b.jsx("div",{className:"shine",children:b.jsxs("div",{className:"card rounded-box border border-base-300 bg-base-100 p-4",children:[b.jsx("div",{className:"arrow-left -ml-4"}),b.jsx("h2",{className:"card-title",children:"Register OffGap Subdomain"}),n]})})})]}),b.jsxs("li",{className:"list-row",children:[b.jsx("div",{children:b.jsx("input",{type:"radio",name:"domainType",value:"domain",defaultChecked:e==="domain",className:"radio mt-3"})}),b.jsxs("div",{children:[b.jsx("h2",{className:"card-title",children:"Bring your own domain"}),b.jsxs("div",{className:"font-semibold text-xs opacity-60",children:["yourname.com ",b.jsx("span",{className:"font-extralight",children:"or"})," blog.yourname.com"]}),b.jsx("ul",{className:"mt-4 flex flex-col gap-2 text-xs",children:b.jsx(Sp,{list:{"Full control over your domain":!0,"Reflects your brand and professionalism":!0,"Ability to create custom email addresses":!0,"Your custom domain is a long-term asset":!0,"No DNS configuration needed":!1,"No recurring domain name costs":!1}})})]}),b.jsxs("div",{className:"flex-col justify-items-end",children:[b.jsx("div",{className:"badge badge-neutral mt-1 block",children:"Free"}),b.jsx("div",{className:"badge badge-soft mt-1 block",children:"No credit card required"})]}),b.jsx("div",{className:"-mt-4 popup absolute left-full z-10 ml-6 w-96",children:b.jsx("div",{className:"shine",children:b.jsxs("div",{className:"card rounded-box border border-base-300 bg-base-100 p-4",children:[b.jsx("div",{className:"arrow-left -ml-4"}),b.jsx("h2",{className:"card-title",children:"Connect OffGap with Your Own Domain"}),r]})})})]}),b.jsxs("li",{className:"disabled list-row",children:[b.jsx("div",{children:b.jsx("input",{type:"radio",name:"domainType",value:"buydomain",className:"radio mt-3",disabled:!0})}),b.jsxs("div",{children:[b.jsx("h2",{className:"card-title",children:"Buy a new domain"}),b.jsxs("div",{className:"font-semibold text-xs opacity-60",children:["yourname.com ",b.jsx("span",{className:"font-extralight",children:"or"})," blog.yourname.com"]}),b.jsx("ul",{className:"mt-4 flex flex-col gap-2 text-xs",children:b.jsx(Sp,{list:{"Full control over your domain":!0,"Reflects your brand and professionalism":!0,"Ability to create custom email addresses":!0,"Your custom domain is a long-term asset":!0,"No DNS configuration needed":!0,"No recurring domain name costs":!1}})})]}),b.jsx("div",{className:"flex-col justify-items-end",children:b.jsxs("div",{className:"badge badge-neutral mt-2",children:[b.jsx(o9,{className:"size-[1em]"})," Coming soon"]})})]})]})}),b.jsx(u8,{})]}),f8=async t=>{const{setDomain:e,setPid:n,setToken:r,setStatus:i}=Oe.getState(),s=Gm();if(s)try{const l=await s.getIdToken(),c=await fetch(`${vl}/domain/${t}`,{method:"POST",headers:new Headers({Authorization:`Bearer ${l}`})});if(!c.ok)throw new Error("Can't save user's domain name");if(c.status===Hv.CREATED){const{domain:d,pid:f,token:p}=await c.json();if(typeof d=="string"&&d.length&&typeof f=="string"&&f.length===er.LENGTH)return e(d),n(f),p?.length&&r(p),i(p?et.NS_SET:et.DOMAIN_POLL),!0;throw new Error("Domain update didn't return domain and/or pid")}}catch(l){console.error(l)}return!1},h8=async t=>{const e=Gm();if(e&&typeof t=="string")try{const n=await e.getIdToken();return(await fetch(`${vl}/domain/${t}`,{method:"GET",headers:new Headers({Authorization:`Bearer ${n}`})})).status===Hv.ACCEPTED}catch(n){console.error(n)}return!1};function Ym(t,e=Jt.DEBOUNCE,n){const r=k.useRef(null),i=k.useRef(!0),s=k.useCallback(()=>{r.current&&(clearTimeout(r.current),r.current=null),i.current=!0},[]),l=k.useCallback(()=>{r.current&&(clearTimeout(r.current),r.current=null,t(),i.current=!0)},[t]),c=k.useCallback((...d)=>{i.current&&n&&(n(),i.current=!1),r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{t(...d),r.current=null,i.current=!0},e)},[t,e,n]);return c.cancel=s,c.flush=l,c}function p8(){const t=Oe(j=>j.domain),e=Bm(),n=k.useCallback(()=>e({},{action:"/app/domain/"}).catch(j=>console.error(j)),[e]),[r,i]=k.useState(t?t.endsWith(mr.TLD)?"subdomain":"domain":""),s=j=>{if(j.target instanceof HTMLInputElement&&j.target.getAttribute("type")==="radio"){i(j.target.value);const R=j.target.parentElement;if(R instanceof HTMLDivElement&&R.parentElement instanceof HTMLLIElement){const O=R.parentElement.querySelector('input[type="text"]');if(O instanceof HTMLInputElement){const D=j.target.form;D instanceof HTMLFormElement&&D.querySelectorAll('input[type="text"]').forEach(M=>{M.removeAttribute("required")}),O.setAttribute("required",""),setTimeout(()=>O.focus(),Jt.FOCUS)}}}},[l,c]=k.useState(t?.endsWith(mr.TLD)?t.slice(0,-mr.TLD.length):""),[d,f]=k.useState(!1),[p,m]=k.useState(t===`${l}${mr.TLD}`||null),[v,w]=k.useState(t&&!t.endsWith(mr.TLD)?t:""),[x,E]=k.useState(!1),[C,_]=k.useState(t===v||null),I=k.useCallback(j=>{const R=r==="subdomain";(R?Co.SUB.test(j):Co.DOM.test(j))&&h8(R?`${j}${mr.TLD}`:j).then(O=>R?m(O):_(O)).catch(O=>console.error(O))},[r]),L=Ym(I,Jt.DEBOUNCE,()=>r==="subdomain"?m(null):_(null)),U=j=>{const R=j.target.value.toLowerCase(),O=r==="subdomain"?c:w,D=r==="subdomain"?f:E,M=r==="subdomain"?m:_,V=r==="subdomain"?Co.SUB:Co.DOM;O(R),V.test(R)?(D(!0),L(R)):(L.cancel(),D(!1),M(null))},P=j=>{if(j.preventDefault(),j.currentTarget instanceof HTMLButtonElement){const R=j.currentTarget.parentElement?.parentElement;R instanceof HTMLFieldSetElement&&R.setAttribute("disabled","");const O=r==="subdomain";(O?Co.SUB.test(l)&&p:Co.DOM.test(v)&&C)&&f8(O?`${l}${mr.TLD}`:v).then(D=>{D?e({a:!0}).catch(M=>console.error(M)):O?m(!1):_(!1)}).catch(D=>console.error(D)).finally(()=>{R?.removeAttribute("disabled")})}};return b.jsx(d8,{handleRadio:s,type:r,sub:b.jsxs("fieldset",{className:"fieldset will-spin flex flex-col",children:[b.jsx("legend",{className:"fieldset-legend",children:"Select a memorable name for your website:"}),b.jsxs("label",{className:"input validator w-full",children:[b.jsx("input",{type:"text",name:"subdomain",className:"grow",placeholder:"yourname",autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",required:!0,pattern:Co.SUB_PAT,value:l,onChange:U}),mr.TLD]}),"Name must contain at least 5 characters, using lowercase letters, digits, and dashes. It cannot start with a dash.",b.jsx("legend",{className:"fieldset-legend",children:"Your new website will be published at:"}),b.jsx("strong",{className:"input example w-full",children:p?`https://${l}${mr.TLD}/`:p===!1?b.jsx("span",{className:"w-full text-center font-medium text-error text-xs",children:"This subdomain is not avaiable"}):d?b.jsx("span",{className:"progress"}):l.length?b.jsx("span",{className:"w-full text-center font-medium text-error text-xs",children:"This subdomain is not correct"}):""}),"You can change your website address later, but changes are limited to once every 24 hours.",b.jsxs("div",{className:t===`${l}${mr.TLD}`?"mt-4 flex flex-row gap-2":"mt-4",children:[b.jsx("button",{type:"submit",className:"btn btn-neutral grow",disabled:!p||t===`${l}${mr.TLD}`,onClick:P,children:t===`${l}${mr.TLD}`?"It's Already Yours!":"Register"}),t===`${l}${mr.TLD}`?b.jsxs("button",{type:"button",className:"btn",onClick:n,children:["Next",b.jsx(Id,{})]}):null]})]}),own:b.jsxs("fieldset",{className:"fieldset flex flex-col",children:[b.jsx("legend",{className:"fieldset-legend",children:"Enter the domain name you want to connect:"}),b.jsxs("label",{className:"input validator w-full",children:["https://",b.jsx("input",{type:"text",name:"domain",className:"grow",placeholder:"yourname.com",autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",required:!0,pattern:Co.DOM_PAT,value:v,onChange:U})]}),b.jsx("legend",{className:"fieldset-legend",children:"Your new website will be published at:"}),b.jsx("strong",{className:"input example w-full",children:C?`https://${v}/`:p===!1?b.jsx("span",{className:"w-full text-center font-medium text-error text-xs",children:"This domain is not avaiable"}):x?b.jsx("span",{className:"progress"}):v.length?b.jsx("span",{className:"w-full text-center font-medium text-error text-xs",children:"This domain is not correct"}):""}),"You can change your website address later, but changes are limited to once every 24 hours.",b.jsxs("div",{className:t===v?"mt-4 flex flex-row gap-2":"mt-4",children:[b.jsx("button",{className:"btn btn-neutral grow",disabled:!C||t===v,onClick:P,children:t===v?"It's Already Yours!":"Register"}),t===v?b.jsxs("button",{type:"button",className:"btn",onClick:n,children:["Next",b.jsx(Id,{})]}):null]})]})})}function m8(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gT(Object(n),!0).forEach(function(r){m8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g8(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function y8(t,e){if(t==null)return{};var n=g8(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function v8(t,e){return b8(t)||w8(t,e)||S8(t,e)||x8()}function b8(t){if(Array.isArray(t))return t}function w8(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var l=t[Symbol.iterator](),c;!(r=(c=l.next()).done)&&(n.push(c.value),!(e&&n.length===e));r=!0);}catch(d){i=!0,s=d}finally{try{!r&&l.return!=null&&l.return()}finally{if(i)throw s}}return n}}function S8(t,e){if(t){if(typeof t=="string")return vT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vT(t,e)}}function vT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function x8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E8(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bT(Object(n),!0).forEach(function(r){E8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T8(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return e.reduceRight(function(i,s){return s(i)},r)}}function rd(t){return function e(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length>=t.length?t.apply(this,i):function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];return e.apply(n,[].concat(i,c))}}}function $p(t){return{}.toString.call(t).includes("Object")}function C8(t){return!Object.keys(t).length}function jd(t){return typeof t=="function"}function k8(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function A8(t,e){return $p(e)||Yo("changeType"),Object.keys(e).some(function(n){return!k8(t,n)})&&Yo("changeField"),e}function N8(t){jd(t)||Yo("selectorType")}function M8(t){jd(t)||$p(t)||Yo("handlerType"),$p(t)&&Object.values(t).some(function(e){return!jd(e)})&&Yo("handlersType")}function O8(t){t||Yo("initialIsRequired"),$p(t)||Yo("initialType"),C8(t)&&Yo("initialContent")}function _8(t,e){throw new Error(t[e]||t.default)}var R8={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Yo=rd(_8)(R8),$h={changes:A8,selector:N8,handler:M8,initial:O8};function D8(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};$h.initial(t),$h.handler(e);var n={current:t},r=rd(L8)(n,e),i=rd(j8)(n),s=rd($h.changes)(t),l=rd(I8)(n);function c(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(p){return p};return $h.selector(f),f(n.current)}function d(f){T8(r,i,s,l)(f)}return[c,d]}function I8(t,e){return jd(e)?e(t.current):e}function j8(t,e){return t.current=wT(wT({},t.current),e),e}function L8(t,e,n){return jd(e)?e(t.current):Object.keys(n).forEach(function(r){var i;return(i=e[r])===null||i===void 0?void 0:i.call(e,t.current[r])}),n}var P8={create:D8},z8={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function U8(t){return function e(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length>=t.length?t.apply(this,i):function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];return e.apply(n,[].concat(i,c))}}}function B8(t){return{}.toString.call(t).includes("Object")}function H8(t){return t||ST("configIsRequired"),B8(t)||ST("configType"),t.urls?(V8(),{paths:{vs:t.urls.monacoBase}}):t}function V8(){console.warn(xN.deprecation)}function $8(t,e){throw new Error(t[e]||t.default)}var xN={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},ST=U8($8)(xN),F8={config:H8},q8=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduceRight(function(s,l){return l(s)},i)}};function EN(t,e){return Object.keys(e).forEach(function(n){e[n]instanceof Object&&t[n]&&Object.assign(e[n],EN(t[n],e[n]))}),yT(yT({},t),e)}var W8={type:"cancelation",msg:"operation is manually canceled"};function L0(t){var e=!1,n=new Promise(function(r,i){t.then(function(s){return e?i(W8):r(s)}),t.catch(i)});return n.cancel=function(){return e=!0},n}var G8=P8.create({config:z8,isInitialized:!1,resolve:null,reject:null,monaco:null}),TN=v8(G8,2),cf=TN[0],Xm=TN[1];function K8(t){var e=F8.config(t),n=e.monaco,r=y8(e,["monaco"]);Xm(function(i){return{config:EN(i.config,r),monaco:n}})}function Y8(){var t=cf(function(e){var n=e.monaco,r=e.isInitialized,i=e.resolve;return{monaco:n,isInitialized:r,resolve:i}});if(!t.isInitialized){if(Xm({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),L0(P0);if(window.monaco&&window.monaco.editor)return CN(window.monaco),t.resolve(window.monaco),L0(P0);q8(X8,Q8)(Z8)}return L0(P0)}function X8(t){return document.body.appendChild(t)}function J8(t){var e=document.createElement("script");return t&&(e.src=t),e}function Q8(t){var e=cf(function(r){var i=r.config,s=r.reject;return{config:i,reject:s}}),n=J8("".concat(e.config.paths.vs,"/loader.js"));return n.onload=function(){return t()},n.onerror=e.reject,n}function Z8(){var t=cf(function(n){var r=n.config,i=n.resolve,s=n.reject;return{config:r,resolve:i,reject:s}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(n){CN(n),t.resolve(n)},function(n){t.reject(n)})}function CN(t){cf().monaco||Xm({monaco:t})}function ez(){return cf(function(t){var e=t.monaco;return e})}var P0=new Promise(function(t,e){return Xm({resolve:t,reject:e})}),kN={config:K8,init:Y8,__getMonacoInstance:ez},tz={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},z0=tz,nz={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},rz=nz;function iz({children:t}){return _t.createElement("div",{style:rz.container},t)}var sz=iz,oz=sz;function az({width:t,height:e,isEditorReady:n,loading:r,_ref:i,className:s,wrapperProps:l}){return _t.createElement("section",{style:{...z0.wrapper,width:t,height:e},...l},!n&&_t.createElement(oz,null,r),_t.createElement("div",{ref:i,style:{...z0.fullWidth,...!n&&z0.hide},className:s}))}var lz=az,AN=k.memo(lz);function cz(t){k.useEffect(t,[])}var NN=cz;function uz(t,e,n=!0){let r=k.useRef(!0);k.useEffect(r.current||!n?()=>{r.current=!1}:t,e)}var yr=uz;function hd(){}function Sc(t,e,n,r){return dz(t,r)||fz(t,e,n,r)}function dz(t,e){return t.editor.getModel(MN(t,e))}function fz(t,e,n,r){return t.editor.createModel(e,n,r?MN(t,r):void 0)}function MN(t,e){return t.Uri.parse(e)}function hz({original:t,modified:e,language:n,originalLanguage:r,modifiedLanguage:i,originalModelPath:s,modifiedModelPath:l,keepCurrentOriginalModel:c=!1,keepCurrentModifiedModel:d=!1,theme:f="light",loading:p="Loading...",options:m={},height:v="100%",width:w="100%",className:x,wrapperProps:E={},beforeMount:C=hd,onMount:_=hd}){let[I,L]=k.useState(!1),[U,P]=k.useState(!0),j=k.useRef(null),R=k.useRef(null),O=k.useRef(null),D=k.useRef(_),M=k.useRef(C),V=k.useRef(!1);NN(()=>{let me=kN.init();return me.then(G=>(R.current=G)&&P(!1)).catch(G=>G?.type!=="cancelation"&&console.error("Monaco initialization: error:",G)),()=>j.current?ye():me.cancel()}),yr(()=>{if(j.current&&R.current){let me=j.current.getOriginalEditor(),G=Sc(R.current,t||"",r||n||"text",s||"");G!==me.getModel()&&me.setModel(G)}},[s],I),yr(()=>{if(j.current&&R.current){let me=j.current.getModifiedEditor(),G=Sc(R.current,e||"",i||n||"text",l||"");G!==me.getModel()&&me.setModel(G)}},[l],I),yr(()=>{let me=j.current.getModifiedEditor();me.getOption(R.current.editor.EditorOption.readOnly)?me.setValue(e||""):e!==me.getValue()&&(me.executeEdits("",[{range:me.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),me.pushUndoStop())},[e],I),yr(()=>{j.current?.getModel()?.original.setValue(t||"")},[t],I),yr(()=>{let{original:me,modified:G}=j.current.getModel();R.current.editor.setModelLanguage(me,r||n||"text"),R.current.editor.setModelLanguage(G,i||n||"text")},[n,r,i],I),yr(()=>{R.current?.editor.setTheme(f)},[f],I),yr(()=>{j.current?.updateOptions(m)},[m],I);let $=k.useCallback(()=>{if(!R.current)return;M.current(R.current);let me=Sc(R.current,t||"",r||n||"text",s||""),G=Sc(R.current,e||"",i||n||"text",l||"");j.current?.setModel({original:me,modified:G})},[n,e,i,t,r,s,l]),B=k.useCallback(()=>{!V.current&&O.current&&(j.current=R.current.editor.createDiffEditor(O.current,{automaticLayout:!0,...m}),$(),R.current?.editor.setTheme(f),L(!0),V.current=!0)},[m,f,$]);k.useEffect(()=>{I&&D.current(j.current,R.current)},[I]),k.useEffect(()=>{!U&&!I&&B()},[U,I,B]);function ye(){let me=j.current?.getModel();c||me?.original?.dispose(),d||me?.modified?.dispose(),j.current?.dispose()}return _t.createElement(AN,{width:w,height:v,isEditorReady:I,loading:p,_ref:O,className:x,wrapperProps:E})}var pz=hz;k.memo(pz);function mz(t){let e=k.useRef();return k.useEffect(()=>{e.current=t},[t]),e.current}var gz=mz,Fh=new Map;function yz({defaultValue:t,defaultLanguage:e,defaultPath:n,value:r,language:i,path:s,theme:l="light",line:c,loading:d="Loading...",options:f={},overrideServices:p={},saveViewState:m=!0,keepCurrentModel:v=!1,width:w="100%",height:x="100%",className:E,wrapperProps:C={},beforeMount:_=hd,onMount:I=hd,onChange:L,onValidate:U=hd}){let[P,j]=k.useState(!1),[R,O]=k.useState(!0),D=k.useRef(null),M=k.useRef(null),V=k.useRef(null),$=k.useRef(I),B=k.useRef(_),ye=k.useRef(),me=k.useRef(r),G=gz(s),oe=k.useRef(!1),ce=k.useRef(!1);NN(()=>{let ie=kN.init();return ie.then(he=>(D.current=he)&&O(!1)).catch(he=>he?.type!=="cancelation"&&console.error("Monaco initialization: error:",he)),()=>M.current?q():ie.cancel()}),yr(()=>{let ie=Sc(D.current,t||r||"",e||i||"",s||n||"");ie!==M.current?.getModel()&&(m&&Fh.set(G,M.current?.saveViewState()),M.current?.setModel(ie),m&&M.current?.restoreViewState(Fh.get(s)))},[s],P),yr(()=>{M.current?.updateOptions(f)},[f],P),yr(()=>{!M.current||r===void 0||(M.current.getOption(D.current.editor.EditorOption.readOnly)?M.current.setValue(r):r!==M.current.getValue()&&(ce.current=!0,M.current.executeEdits("",[{range:M.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),M.current.pushUndoStop(),ce.current=!1))},[r],P),yr(()=>{let ie=M.current?.getModel();ie&&i&&D.current?.editor.setModelLanguage(ie,i)},[i],P),yr(()=>{c!==void 0&&M.current?.revealLine(c)},[c],P),yr(()=>{D.current?.editor.setTheme(l)},[l],P);let Ce=k.useCallback(()=>{if(!(!V.current||!D.current)&&!oe.current){B.current(D.current);let ie=s||n,he=Sc(D.current,r||t||"",e||i||"",ie||"");M.current=D.current?.editor.create(V.current,{model:he,automaticLayout:!0,...f},p),m&&M.current.restoreViewState(Fh.get(ie)),D.current.editor.setTheme(l),c!==void 0&&M.current.revealLine(c),j(!0),oe.current=!0}},[t,e,n,r,i,s,f,p,m,l,c]);k.useEffect(()=>{P&&$.current(M.current,D.current)},[P]),k.useEffect(()=>{!R&&!P&&Ce()},[R,P,Ce]),me.current=r,k.useEffect(()=>{P&&L&&(ye.current?.dispose(),ye.current=M.current?.onDidChangeModelContent(ie=>{ce.current||L(M.current.getValue(),ie)}))},[P,L]),k.useEffect(()=>{if(P){let ie=D.current.editor.onDidChangeMarkers(he=>{let de=M.current.getModel()?.uri;if(de&&he.find(xe=>xe.path===de.path)){let xe=D.current.editor.getModelMarkers({resource:de});U?.(xe)}});return()=>{ie?.dispose()}}return()=>{}},[P,U]);function q(){ye.current?.dispose(),v?m&&Fh.set(s,M.current.saveViewState()):M.current.getModel()?.dispose(),M.current.dispose()}return _t.createElement(AN,{width:w,height:x,isEditorReady:P,loading:d,_ref:V,className:E,wrapperProps:C})}var vz=yz,W1=k.memo(vz),bz=W1;const ON=({codeRef:t,bytes:e,isSync:n,isDark:r,isWrap:i,showMap:s,setIsDark:l,setIsWrap:c,setShowMap:d,handleSync:f})=>{const p=()=>t?.current?.trigger("",ko.FORMAT,""),m=()=>{const j=t?.current;if(!j)return;const R=j.getValue(),O=j.getModel();if(typeof R=="string"&&O){const D=R.replace(/[\r\n]+/g," ").replace(/\s{2,}/g," ").replace(/\s*([;{}:,])\s*/g,"$1");j.pushUndoStop(),j.executeEdits("shrink-action",[{range:O.getFullModelRange(),text:D,forceMoveMarkers:!0}]),j.pushUndoStop()}},v=()=>t?.current?.trigger("",ko.UNDO,""),w=()=>t?.current?.trigger("",ko.REDO,""),x=()=>t?.current?.trigger("",ko.FIND,""),E=()=>t?.current?.trigger("",ko.REPLACE,""),C=()=>t?.current?.trigger("",ko.INDENT_R,""),_=()=>t?.current?.trigger("",ko.INDENT_L,""),I=()=>t?.current?.trigger("",ko.COMMENT,""),L=()=>c(j=>!j),U=()=>d(j=>!j),P=()=>l(j=>!j);return b.jsxs("div",{className:"control-group flex items-center justify-between bg-base-200",children:[b.jsxs("div",{className:"flex-grow",children:[b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:f,children:n?b.jsx(h9,{}):b.jsx(Km,{className:"animate-spin"})}),e?b.jsx("button",{className:"btn btn-ghost btn-sm pointer-events-none",children:q1(e)}):null]}),b.jsxs("div",{className:"flex overflow-hidden",children:[b.jsxs("div",{className:"button-group",children:[b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:v,children:b.jsx(hb,{})}),b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:w,children:b.jsx(yN,{})})]}),b.jsx("div",{className:"group-separator"}),b.jsxs("div",{className:"button-group",children:[b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:C,children:b.jsx(B9,{})}),b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:_,children:b.jsx(z9,{})}),b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:I,children:b.jsx(j9,{})})]}),b.jsx("div",{className:"group-separator"}),b.jsxs("div",{className:"button-group",children:[b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:x,children:b.jsx(vN,{})}),b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:E,children:b.jsx(S7,{})})]}),b.jsx("div",{className:"group-separator"}),b.jsxs("div",{className:"button-group",children:[b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:p,children:b.jsx(k7,{})}),b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:m,children:b.jsx(_9,{})})]})]}),b.jsx("div",{className:"flex flex-grow justify-end",children:b.jsxs("div",{className:"button-group",children:[b.jsx("button",{className:`btn btn-square btn-ghost btn-sm ${i?"btn-soft":""}`,onClick:L,children:b.jsx(t8,{})}),b.jsx("button",{className:`btn btn-square btn-ghost btn-sm ${s?"btn-soft":""}`,onClick:U,children:b.jsx(c7,{})}),b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:P,children:r?b.jsx(F7,{}):b.jsx(t7,{})})]})})]})},_N=({ref:t,dismissModal:e})=>{const n=()=>t?.current instanceof HTMLDialogElement?t.current.close():void 0;return b.jsxs("dialog",{ref:t,className:"modal",children:[b.jsx("button",{type:"button",className:"btn btn-sm btn-circle btn-ghost absolute top-2 right-2",onClick:n,children:""}),b.jsxs("div",{className:"modal-box",children:[b.jsx("h3",{className:"font-bold text-lg",children:"Saving your changes"}),b.jsx("div",{className:"text-center",children:b.jsx("span",{className:"loading loading-spinner loading-md my-6"})}),b.jsxs("div",{className:"mt-4 flex justify-evenly",children:[b.jsx("button",{type:"submit",className:"btn btn-neutral",children:"Wait to save changes"}),b.jsx("button",{type:"button",className:"btn btn-error btn-outline",onClick:e,children:"Dismiss changes and exit"})]})]}),b.jsx("form",{method:"dialog",className:"modal-backdrop",children:b.jsx("button",{children:"close"})})]})};function RN({isBlocked:t,ref:e,stop:n}){const[r,i]=k.useState(!1),s=k.useCallback(()=>e.current?.showModal(),[e.current]),l=k.useCallback(()=>e.current?.close(),[e.current]),c=eA(k.useCallback(({currentLocation:f,nextLocation:p})=>t?f.pathname!==p.pathname:!1,[t]));return k.useEffect(()=>{c.state==="blocked"&&(i(!0),s(),t||(l(),c.proceed(),i(!1)))},[c.state,t,c,s,l]),{modalVisible:r,dismissModal:()=>{n(),l(),c.state==="blocked"&&c.proceed(),i(!1)}}}const DN=()=>{const t=Oe(O=>O.config),e=Oe(O=>O.setConfigKey),n=k.useRef(null),[r,i]=k.useState(0),s=O=>(n.current=O,i(wc(O.getValue()))),l=Dp("/app/styles/css/"),c=Dp("/app/script/"),[d,f]=k.useMemo(()=>l!==null?["css","css"]:["js","typescript"],[l]),[p,m]=k.useState(!0),[v,w]=k.useState(!0),[x,E]=k.useState(!0),[C,_]=k.useState(!1),I=k.useMemo(()=>`calc(100vh - ${d==="css"?118:87}px)`,[d]),L=k.useCallback(()=>{const O=n.current?.getValue();typeof O=="string"&&(e({key:d,value:O}),m(!0),i(wc(O)))},[d,e]),U=Ym(L,Jt.DEBOUNCE,()=>m(!1)),P=k.useCallback(()=>U(),[U]),j=k.useRef(null),{dismissModal:R}=RN({isBlocked:!p,ref:j,stop:U.cancel});if(l===null&&c===null)throw new Error("URL path is wrong");return b.jsxs("div",{className:"shine",children:[b.jsxs("div",{className:"editor shadow",children:[b.jsx(ON,{codeRef:n,bytes:r,handleSync:L,isSync:p,isDark:v,setIsDark:w,isWrap:x,setIsWrap:E,showMap:C,setShowMap:_}),b.jsx(bz,{height:I,theme:v?"vs-dark":"light",language:f,loading:b.jsx("span",{className:"loading loading-spinner loading-xl"}),value:t[d],onMount:s,onChange:P,options:{tabSize:2,minimap:{enabled:C},wordWrap:x?"on":"off",scrollBeyondLastLine:!1,wrappingIndent:"same"}})]}),b.jsx(_N,{ref:j,dismissModal:R})]})},wz=t=>t.root!==void 0,Sz=()=>{const t=Qk(),{pathname:e}=zs(),n=_3(),r=k.useMemo(()=>n.map(l=>wz(l)?{...l,path:l.root}:l),[n]),i=k.useMemo(()=>e.split("/").at(-2)||e.split("/").at(2)||"",[e]),s=k.useCallback(l=>{const c=e.split("/").slice(0,Ds.TAB_ROOT_PATH);t(l===c.at(-1)?`${c.join("/")}/`:`${c.join("/")}/${l}/`)},[e,t]);return{tabs:r,currentTab:i,changeTab:s}},xz=({tabs:t,children:e})=>b.jsx("div",{className:"tabs tabs-lift tabs-sm",children:t.tabs?.map(n=>n.path?b.jsxs(b.Fragment,{children:[b.jsxs("label",{className:"tab",onClick:()=>t.changeTab(n.path),children:[b.jsx("input",{type:"radio",name:"style",defaultChecked:t.currentTab===n.path}),b.jsx(n.icon,{className:"me-2"}),n.name]},n.path),b.jsx(k.Suspense,{fallback:b.jsx(SN,{}),children:t.currentTab===n.path?b.jsx("div",{className:"tab-content",children:e}):null})]}):null)}),xT=()=>{const t=Sz();return b.jsx(xz,{tabs:t,children:b.jsx(H3,{})})};function Sn(t){this.content=t}Sn.prototype={constructor:Sn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new Sn(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Sn(n)},addToStart:function(t,e){return new Sn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Sn(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new Sn(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Sn.from(t),t.size?new Sn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Sn.from(t),t.size?new Sn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Sn.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Sn.from=function(t){if(t instanceof Sn)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Sn(e)};function IN(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let l=0;i.text[l]==s.text[l];l++)n++;return n}if(i.content.size||s.content.size){let l=IN(i.content,s.content,n+1);if(l!=null)return l}n+=i.nodeSize}}function jN(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let l=t.child(--i),c=e.child(--s),d=l.nodeSize;if(l==c){n-=d,r-=d;continue}if(!l.sameMarkup(c))return{a:n,b:r};if(l.isText&&l.text!=c.text){let f=0,p=Math.min(l.text.length,c.text.length);for(;f<p&&l.text[l.text.length-f-1]==c.text[c.text.length-f-1];)f++,n--,r--;return{a:n,b:r}}if(l.content.size||c.content.size){let f=jN(l.content,c.content,n-1,r-1);if(f)return f}n-=d,r-=d}}class fe{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let l=0,c=0;c<n;l++){let d=this.content[l],f=c+d.nodeSize;if(f>e&&r(d,i+c,s||null,l)!==!1&&d.content.size){let p=c+1;d.nodesBetween(Math.max(0,e-p),Math.min(d.content.size,n-p),r,i+p)}c=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",l=!0;return this.nodesBetween(e,n,(c,d)=>{let f=c.isText?c.text.slice(Math.max(e,d)-d,n-d):c.isLeaf?i?typeof i=="function"?i(c):i:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&f||c.isTextblock)&&r&&(l?l=!1:s+=r),s+=f},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new fe(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,l=0;l<n;s++){let c=this.content[s],d=l+c.nodeSize;d>e&&((l<e||d>n)&&(c.isText?c=c.cut(Math.max(0,e-l),Math.min(c.text.length,n-l)):c=c.cut(Math.max(0,e-l-1),Math.min(c.content.size,n-l-1))),r.push(c),i+=c.nodeSize),l=d}return new fe(r,i)}cutByIndex(e,n){return e==n?fe.empty:e==0&&n==this.content.length?this:new fe(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new fe(i,s)}addToStart(e){return new fe([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new fe(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return IN(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return jN(this,e,n,r)}findIndex(e){if(e==0)return qh(0,e);if(e==this.size)return qh(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),s=r+i.nodeSize;if(s>=e)return s==e?qh(n+1,s):qh(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return fe.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new fe(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return fe.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new fe(n||e,r)}static from(e){if(!e)return fe.empty;if(e instanceof fe)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new fe([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}fe.empty=new fe([],0);const U0={index:0,offset:0};function qh(t,e){return U0.index=t,U0.offset=e,U0}function Fp(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Fp(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Fp(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let At=class G1{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Fp(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return G1.none;if(e instanceof G1)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};At.none=[];class qp extends Error{}class be{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=PN(this.content,e+this.openStart,n);return r&&new be(r,this.openStart,this.openEnd)}removeBetween(e,n){return new be(LN(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return be.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new be(fe.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new be(e,r,i)}}be.empty=new be(fe.empty,0,0);function LN(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:l,offset:c}=t.findIndex(n);if(i==e||s.isText){if(c!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(LN(s.content,e-i-1,n-i-1)))}function PN(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),l=t.maybeChild(i);if(s==e||l.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let c=PN(l.content,e-s-1,n,l);return c&&t.replaceChild(i,l.copy(c))}function Ez(t,e,n){if(n.openStart>t.depth)throw new qp("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new qp("Inconsistent open depths");return zN(t,e,n,0)}function zN(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let l=zN(t,e,n,r+1);return s.copy(s.content.replaceChild(i,l))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let l=t.parent,c=l.content;return tl(l,c.cut(0,t.parentOffset).append(n.content).append(c.cut(e.parentOffset)))}else{let{start:l,end:c}=Tz(n,t);return tl(s,BN(t,l,c,e,r))}else return tl(s,Wp(t,e,r))}function UN(t,e){if(!e.type.compatibleContent(t.type))throw new qp("Cannot join "+e.type.name+" onto "+t.type.name)}function K1(t,e,n){let r=t.node(n);return UN(r,e.node(n)),r}function el(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function pd(t,e,n,r){let i=(e||t).node(n),s=0,l=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(el(t.nodeAfter,r),s++));for(let c=s;c<l;c++)el(i.child(c),r);e&&e.depth==n&&e.textOffset&&el(e.nodeBefore,r)}function tl(t,e){return t.type.checkContent(e),t.copy(e)}function BN(t,e,n,r,i){let s=t.depth>i&&K1(t,e,i+1),l=r.depth>i&&K1(n,r,i+1),c=[];return pd(null,t,i,c),s&&l&&e.index(i)==n.index(i)?(UN(s,l),el(tl(s,BN(t,e,n,r,i+1)),c)):(s&&el(tl(s,Wp(t,e,i+1)),c),pd(e,n,i,c),l&&el(tl(l,Wp(n,r,i+1)),c)),pd(r,null,i,c),new fe(c)}function Wp(t,e,n){let r=[];if(pd(null,t,n,r),t.depth>n){let i=K1(t,e,n+1);el(tl(i,Wp(t,e,n+1)),r)}return pd(e,null,n,r),new fe(r)}function Tz(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(fe.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Ld{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return At.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let c=r;r=i,i=c}let s=r.marks;for(var l=0;l<s.length;l++)s[l].type.spec.inclusive===!1&&(!i||!s[l].isInSet(i.marks))&&(s=s[l--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Gp(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let l=e;;){let{index:c,offset:d}=l.content.findIndex(s),f=s-d;if(r.push(l,c,i+d),!f||(l=l.child(c),l.isText))break;s=f-1,i+=d+1}return new Ld(n,r,s)}static resolveCached(e,n){let r=ET.get(e);if(r)for(let s=0;s<r.elts.length;s++){let l=r.elts[s];if(l.pos==n)return l}else ET.set(e,r=new Cz);let i=r.elts[r.i]=Ld.resolve(e,n);return r.i=(r.i+1)%kz,i}}class Cz{constructor(){this.elts=[],this.i=0}}const kz=12,ET=new WeakMap;class Gp{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Az=Object.create(null);let Xo=class Y1{constructor(e,n,r,i=At.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||fe.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Fp(this.attrs,n||e.defaultAttrs||Az)&&At.sameSet(this.marks,r||At.none)}copy(e=null){return e==this.content?this:new Y1(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Y1(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return be.empty;let i=this.resolve(e),s=this.resolve(n),l=r?0:i.sharedDepth(n),c=i.start(l),f=i.node(l).content.cut(i.pos-c,s.pos-c);return new be(f,i.depth-l,s.depth-l)}replace(e,n,r){return Ez(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Ld.resolveCached(this,e)}resolveNoCache(e){return Ld.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),HN(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=fe.empty,i=0,s=r.childCount){let l=this.contentMatchAt(e).matchFragment(r,i,s),c=l&&l.matchFragment(this.content,n);if(!c||!c.validEnd)return!1;for(let d=i;d<s;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),l=s&&s.matchFragment(this.content,n);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=At.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!At.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=fe.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};Xo.prototype.text=void 0;class Kp extends Xo{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):HN(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Kp(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Kp(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function HN(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class ul{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new Nz(e,n);if(r.next==null)return ul.empty;let i=VN(r);r.next&&r.err("Unexpected trailing text");let s=jz(Iz(i));return Lz(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(l,c){let d=l.matchFragment(e,r);if(d&&(!n||d.validEnd))return fe.from(c.map(f=>f.createAndFill()));for(let f=0;f<l.next.length;f++){let{type:p,next:m}=l.next[f];if(!(p.isText||p.hasRequiredAttrs())&&i.indexOf(m)==-1){i.push(m);let v=s(m,c.concat(p));if(v)return v}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let l=[];for(let c=i;c.type;c=c.via)l.push(c.type);return l.reverse()}for(let l=0;l<s.next.length;l++){let{type:c,next:d}=s.next[l];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in n)&&(!i.type||d.validEnd)&&(r.push({match:c.contentMatch,type:c,via:i}),n[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let l=0;l<r.next.length;l++)s+=(l?", ":"")+r.next[l].type.name+"->"+e.indexOf(r.next[l].next);return s}).join(`
`)}}ul.empty=new ul(!0);class Nz{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function VN(t){let e=[];do e.push(Mz(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Mz(t){let e=[];do e.push(Oz(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Oz(t){let e=Dz(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=_z(t,e);else break;return e}function TT(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function _z(t,e){let n=TT(t),r=n;return t.eat(",")&&(t.next!="}"?r=TT(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function Rz(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let l=n[s];l.isInGroup(e)&&i.push(l)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function Dz(t){if(t.eat("(")){let e=VN(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=Rz(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Iz(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(l,c,d){let f={term:d,to:c};return e[l].push(f),f}function i(l,c){l.forEach(d=>d.to=c)}function s(l,c){if(l.type=="choice")return l.exprs.reduce((d,f)=>d.concat(s(f,c)),[]);if(l.type=="seq")for(let d=0;;d++){let f=s(l.exprs[d],c);if(d==l.exprs.length-1)return f;i(f,c=n())}else if(l.type=="star"){let d=n();return r(c,d),i(s(l.expr,d),d),[r(d)]}else if(l.type=="plus"){let d=n();return i(s(l.expr,c),d),i(s(l.expr,d),d),[r(d)]}else{if(l.type=="opt")return[r(c)].concat(s(l.expr,c));if(l.type=="range"){let d=c;for(let f=0;f<l.min;f++){let p=n();i(s(l.expr,d),p),d=p}if(l.max==-1)i(s(l.expr,d),d);else for(let f=l.min;f<l.max;f++){let p=n();r(d,p),i(s(l.expr,d),p),d=p}return[r(d)]}else{if(l.type=="name")return[r(c,void 0,l.value)];throw new Error("Unknown expr type")}}}}function $N(t,e){return e-t}function CT(t,e){let n=[];return r(e),n.sort($N);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let l=0;l<s.length;l++){let{term:c,to:d}=s[l];!c&&n.indexOf(d)==-1&&r(d)}}}function jz(t){let e=Object.create(null);return n(CT(t,0));function n(r){let i=[];r.forEach(l=>{t[l].forEach(({term:c,to:d})=>{if(!c)return;let f;for(let p=0;p<i.length;p++)i[p][0]==c&&(f=i[p][1]);CT(t,d).forEach(p=>{f||i.push([c,f=[]]),f.indexOf(p)==-1&&f.push(p)})})});let s=e[r.join(",")]=new ul(r.indexOf(t.length-1)>-1);for(let l=0;l<i.length;l++){let c=i[l][1].sort($N);s.next.push({type:i[l][0],next:e[c.join(",")]||n(c)})}return s}}function Lz(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,l=[];for(let c=0;c<i.next.length;c++){let{type:d,next:f}=i.next[c];l.push(d.name),s&&!(d.isText||d.hasRequiredAttrs())&&(s=!1),r.indexOf(f)==-1&&r.push(f)}s&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function FN(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function qN(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function WN(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function GN(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new zz(t,r,e[r]);return n}let kT=class KN{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=GN(e,r.attrs),this.defaultAttrs=FN(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ul.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:qN(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Xo(this,this.computeAttrs(e),fe.from(n),At.setFrom(r))}createChecked(e=null,n,r){return n=fe.from(n),this.checkContent(n),new Xo(this,this.computeAttrs(e),n,At.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=fe.from(n),n.size){let l=this.contentMatch.fillBefore(n);if(!l)return null;n=l.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(fe.empty,!0);return s?new Xo(this,e,n.append(s),At.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){WN(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:At.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,l)=>r[s]=new KN(s,n,l));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Pz(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class zz{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Pz(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Jm{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=GN(e,i.attrs),this.excluded=null;let s=FN(this.attrs);this.instance=s?new At(this,s):null}create(e=null){return!e&&this.instance?this.instance:new At(this,qN(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,l)=>r[s]=new Jm(s,i++,n,l)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){WN(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class YN{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Sn.from(e.nodes),n.marks=Sn.from(e.marks||{}),this.nodes=kT.compile(this.spec.nodes,this),this.marks=Jm.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],l=s.spec.content||"",c=s.spec.marks;if(s.contentMatch=r[l]||(r[l]=ul.parse(l,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=c=="_"?null:c?AT(this,c.split(" ")):c==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],l=s.spec.excludes;s.excluded=l==null?[s]:l==""?[]:AT(this,l.split(" "))}this.nodeFromJSON=i=>Xo.fromJSON(this,i),this.markFromJSON=i=>At.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof kT){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Kp(r,r.defaultAttrs,e,At.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function AT(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],l=s;if(s)n.push(s);else for(let c in t.marks){let d=t.marks[c];(i=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(i)>-1)&&n.push(l=d)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function Uz(t){return t.tag!=null}function Bz(t){return t.style!=null}let md=class X1{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(Uz(i))this.tags.push(i);else if(Bz(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new MT(this,n,!1);return r.addAll(e,At.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new MT(this,n,!0);return r.addAll(e,At.none,n.from,n.to),be.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if($z(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let l=s.getAttrs(e);if(l===!1)continue;s.attrs=l||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let l=this.styles[s],c=l.style;if(!(c.indexOf(e)!=0||l.context&&!r.matchesContext(l.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=n))){if(l.getAttrs){let d=l.getAttrs(n);if(d===!1)continue;l.attrs=d||void 0}return l}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,l=0;for(;l<n.length;l++){let c=n[l];if((c.priority==null?50:c.priority)<s)break}n.splice(l,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(l=>{r(l=OT(l)),l.mark||l.ignore||l.clearMark||(l.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(l=>{r(l=OT(l)),l.node||l.ignore||l.mark||(l.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new X1(e,X1.schemaRules(e)))}};const XN={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Hz={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},JN={ol:!0,ul:!0},Pd=1,J1=2,gd=4;function NT(t,e,n){return e!=null?(e?Pd:0)|(e==="full"?J1:0):t&&t.whitespace=="pre"?Pd|J1:n&~gd}class Wh{constructor(e,n,r,i,s,l){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=l,this.content=[],this.activeMarks=At.none,this.match=s||(l&gd?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(fe.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Pd)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=fe.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(fe.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!XN.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class MT{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,l=NT(null,n.preserveWhitespace,0)|(r?gd:0);i?s=new Wh(i.type,i.attrs,At.none,!0,n.topMatch||i.type.contentMatch,l):r?s=new Wh(null,null,At.none,!0,null,l):s=new Wh(e.schema.topNodeType,null,At.none,!0,null,l),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&J1?"full":this.localPreserveWS||(i.options&Pd)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let l=i.content[i.content.length-1],c=e.previousSibling;(!l||c&&c.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let l=e.nodeName.toLowerCase(),c;JN.hasOwnProperty(l)&&this.parser.normalizeLists&&Vz(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(c=this.parser.matchTag(e,this,r));e:if(d?d.ignore:Hz.hasOwnProperty(l))this.findInside(e),this.ignoreFallback(e,n);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let f,p=this.needsBlock;if(XN.hasOwnProperty(l))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),f=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let m=d&&d.skip?n:this.readStyles(e,n);m&&this.addAll(e,m),f&&this.sync(s),this.needsBlock=p}else{let f=this.readStyles(e,n);f&&this.addElementByRule(e,d,f,d.consuming===!1?c:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],l=r.getPropertyValue(s);if(l)for(let c=void 0;;){let d=this.parser.matchStyle(s,l,this,c);if(!d)break;if(d.ignore)return null;if(d.clearMark?n=n.filter(f=>!d.clearMark(f)):n=n.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)c=d;else break}}return n}addElementByRule(e,n,r,i){let s,l;if(n.node)if(l=this.parser.schema.nodes[n.node],l.isLeaf)this.insertNode(l.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let d=this.enter(l,n.attrs||null,r,n.preserveWhitespace);d&&(s=!0,r=d)}else{let d=this.parser.schema.marks[n.mark];r=r.concat(d.create(n.attrs))}let c=this.top;if(l&&l.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,r,!1));else{let d=e;typeof n.contentElement=="string"?d=e.querySelector(n.contentElement):typeof n.contentElement=="function"?d=n.contentElement(e):n.contentElement&&(d=n.contentElement),this.findAround(e,d,!0),this.addAll(d,r),this.findAround(e,d,!1)}s&&this.sync(c)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let l=r?e.childNodes[r]:e.firstChild,c=i==null?null:e.childNodes[i];l!=c;l=l.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(l,n);this.findAtPoint(e,s)}findPlace(e,n,r){let i,s;for(let l=this.open,c=0;l>=0;l--){let d=this.nodes[l],f=d.findWrapping(e);if(f&&(!i||i.length>f.length+c)&&(i=f,s=d,!f.length))break;if(d.solid){if(r)break;c+=2}}if(!i)return null;this.sync(s);for(let l=0;l<i.length;l++)n=this.enterInner(i[l],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let l=At.none;for(let c of i.concat(e.marks))(s.type?s.type.allowsMarkType(c.type):_T(c.type,e.type))&&(l=c.addToSet(l));return s.content.push(e.mark(l)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r,!1);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let l=this.top;l.match=l.match&&l.match.matchType(e);let c=NT(e,s,l.options);l.options&gd&&l.content.length==0&&(c|=gd);let d=At.none;return r=r.filter(f=>(l.type?l.type.allowsMarkType(f.type):_T(f.type,e))?(d=f.addToSet(d),!1):!0),this.nodes.push(new Wh(e,n,d,i,null,c)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Pd)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),l=(c,d)=>{for(;c>=0;c--){let f=n[c];if(f==""){if(c==n.length-1||c==0)continue;for(;d>=s;d--)if(l(c-1,d))return!0;return!1}else{let p=d>0||d==0&&i?this.nodes[d].type:r&&d>=s?r.node(d-s).type:null;if(!p||p.name!=f&&!p.isInGroup(f))return!1;d--}}return!0};return l(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function Vz(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&JN.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function $z(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function OT(t){let e={};for(let n in t)e[n]=t[n];return e}function _T(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],l=c=>{s.push(c);for(let d=0;d<c.edgeCount;d++){let{type:f,next:p}=c.edge(d);if(f==e||s.indexOf(p)<0&&l(p))return!0}};if(l(i.contentMatch))return!0}}class wl{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=B0(n).createDocumentFragment());let i=r,s=[];return e.forEach(l=>{if(s.length||l.marks.length){let c=0,d=0;for(;c<s.length&&d<l.marks.length;){let f=l.marks[d];if(!this.marks[f.type.name]){d++;continue}if(!f.eq(s[c][0])||f.type.spec.spanning===!1)break;c++,d++}for(;c<s.length;)i=s.pop()[1];for(;d<l.marks.length;){let f=l.marks[d++],p=this.serializeMark(f,l.isInline,n);p&&(s.push([f,i]),i.appendChild(p.dom),i=p.contentDOM||p.dom)}}i.appendChild(this.serializeNodeInner(l,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=xp(B0(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&xp(B0(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return xp(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new wl(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=RT(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return RT(e.marks)}}function RT(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function B0(t){return t.document||window.document}const DT=new WeakMap;function Fz(t){let e=DT.get(t);return e===void 0&&DT.set(t,e=qz(t)),e}function qz(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function xp(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=Fz(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let l=i.indexOf(" ");l>0&&(n=i.slice(0,l),i=i.slice(l+1));let c,d=n?t.createElementNS(n,i):t.createElement(i),f=e[1],p=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){p=2;for(let m in f)if(f[m]!=null){let v=m.indexOf(" ");v>0?d.setAttributeNS(m.slice(0,v),m.slice(v+1),f[m]):m=="style"&&d.style?d.style.cssText=f[m]:d.setAttribute(m,f[m])}}for(let m=p;m<e.length;m++){let v=e[m];if(v===0){if(m<e.length-1||m>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:w,contentDOM:x}=xp(t,v,n,r);if(d.appendChild(w),x){if(c)throw new RangeError("Multiple content holes");c=x}}}return{dom:d,contentDOM:c}}const QN=65535,ZN=Math.pow(2,16);function Wz(t,e){return t+e*ZN}function IT(t){return t&QN}function Gz(t){return(t-(t&QN))/ZN}const eM=1,tM=2,Ep=4,nM=8;class Q1{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&nM)>0}get deletedBefore(){return(this.delInfo&(eM|Ep))>0}get deletedAfter(){return(this.delInfo&(tM|Ep))>0}get deletedAcross(){return(this.delInfo&Ep)>0}}class vr{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&vr.empty)return vr.empty}recover(e){let n=0,r=IT(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+Gz(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,l=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?i:0);if(d>e)break;let f=this.ranges[c+s],p=this.ranges[c+l],m=d+f;if(e<=m){let v=f?e==d?-1:e==m?1:n:n,w=d+i+(v<0?0:p);if(r)return w;let x=e==(n<0?d:m)?null:Wz(c/3,e-d),E=e==d?tM:e==m?eM:Ep;return(n<0?e!=d:e!=m)&&(E|=nM),new Q1(w,E,x)}i+=p-f}return r?e+i:new Q1(e+i,0,null)}touches(e,n){let r=0,i=IT(n),s=this.inverted?2:1,l=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?r:0);if(d>e)break;let f=this.ranges[c+s],p=d+f;if(e<=p&&c==i*3)return!0;r+=this.ranges[c+l]-f}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let l=this.ranges[i],c=l-(this.inverted?s:0),d=l+(this.inverted?0:s),f=this.ranges[i+n],p=this.ranges[i+r];e(c,c+f,d,d+p),s+=p-f}}invert(){return new vr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?vr.empty:new vr(e<0?[0,-e,0]:[0,0,e])}}vr.empty=new vr([]);class zd{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new zd(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new zd;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let l=this._maps[s],c=l.mapResult(e,n);if(c.recover!=null){let d=this.getMirror(s);if(d!=null&&d>s&&d<this.to){s=d,e=this._maps[d].recover(c.recover);continue}}i|=c.delInfo,e=c.pos}return r?e:new Q1(e,i,null)}}const H0=Object.create(null);class _n{getMap(){return vr.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=H0[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in H0)throw new RangeError("Duplicate use of step JSON ID "+e);return H0[e]=n,n.prototype.jsonID=e,n}}class Zt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Zt(e,null)}static fail(e){return new Zt(null,e)}static fromReplace(e,n,r,i){try{return Zt.ok(e.replace(n,r,i))}catch(s){if(s instanceof qp)return Zt.fail(s.message);throw s}}}function pb(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(pb(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return fe.fromArray(r)}class Vo extends _n{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new be(pb(n.content,(l,c)=>!l.isAtom||!c.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),i),n.openStart,n.openEnd);return Zt.fromReplace(e,this.from,this.to,s)}invert(){return new oi(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Vo(n.pos,r.pos,this.mark)}merge(e){return e instanceof Vo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Vo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Vo(n.from,n.to,e.markFromJSON(n.mark))}}_n.jsonID("addMark",Vo);class oi extends _n{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new be(pb(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Zt.fromReplace(e,this.from,this.to,r)}invert(){return new Vo(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new oi(n.pos,r.pos,this.mark)}merge(e){return e instanceof oi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new oi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new oi(n.from,n.to,e.markFromJSON(n.mark))}}_n.jsonID("removeMark",oi);class $o extends _n{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Zt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Zt.fromReplace(e,this.pos,this.pos+1,new be(fe.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new $o(this.pos,n.marks[i]);return new $o(this.pos,this.mark)}}return new dl(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new $o(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new $o(n.pos,e.markFromJSON(n.mark))}}_n.jsonID("addNodeMark",$o);class dl extends _n{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Zt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Zt.fromReplace(e,this.pos,this.pos+1,new be(fe.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new $o(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new dl(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new dl(n.pos,e.markFromJSON(n.mark))}}_n.jsonID("removeNodeMark",dl);class hn extends _n{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Z1(e,this.from,this.to)?Zt.fail("Structure replace would overwrite content"):Zt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new vr([this.from,this.to-this.from,this.slice.size])}invert(e){return new hn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new hn(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof hn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?be.empty:new be(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new hn(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?be.empty:new be(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new hn(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new hn(n.from,n.to,be.fromJSON(e,n.slice),!!n.structure)}}_n.jsonID("replace",hn);class pn extends _n{constructor(e,n,r,i,s,l,c=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=l,this.structure=c}apply(e){if(this.structure&&(Z1(e,this.from,this.gapFrom)||Z1(e,this.gapTo,this.to)))return Zt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Zt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Zt.fromReplace(e,this.from,this.to,r):Zt.fail("Content does not fit in gap")}getMap(){return new vr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new pn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new pn(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new pn(n.from,n.to,n.gapFrom,n.gapTo,be.fromJSON(e,n.slice),n.insert,!!n.structure)}}_n.jsonID("replaceAround",pn);function Z1(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let l=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,i--}}return!1}function Kz(t,e,n,r){let i=[],s=[],l,c;t.doc.nodesBetween(e,n,(d,f,p)=>{if(!d.isInline)return;let m=d.marks;if(!r.isInSet(m)&&p.type.allowsMarkType(r.type)){let v=Math.max(f,e),w=Math.min(f+d.nodeSize,n),x=r.addToSet(m);for(let E=0;E<m.length;E++)m[E].isInSet(x)||(l&&l.to==v&&l.mark.eq(m[E])?l.to=w:i.push(l=new oi(v,w,m[E])));c&&c.to==v?c.to=w:s.push(c=new Vo(v,w,r))}}),i.forEach(d=>t.step(d)),s.forEach(d=>t.step(d))}function Yz(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(l,c)=>{if(!l.isInline)return;s++;let d=null;if(r instanceof Jm){let f=l.marks,p;for(;p=r.isInSet(f);)(d||(d=[])).push(p),f=p.removeFromSet(f)}else r?r.isInSet(l.marks)&&(d=[r]):d=l.marks;if(d&&d.length){let f=Math.min(c+l.nodeSize,n);for(let p=0;p<d.length;p++){let m=d[p],v;for(let w=0;w<i.length;w++){let x=i[w];x.step==s-1&&m.eq(i[w].style)&&(v=x)}v?(v.to=f,v.step=s):i.push({style:m,from:Math.max(c,e),to:f,step:s})}}}),i.forEach(l=>t.step(new oi(l.from,l.to,l.style)))}function mb(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),l=[],c=e+1;for(let d=0;d<s.childCount;d++){let f=s.child(d),p=c+f.nodeSize,m=r.matchType(f.type);if(!m)l.push(new hn(c,p,be.empty));else{r=m;for(let v=0;v<f.marks.length;v++)n.allowsMarkType(f.marks[v].type)||t.step(new oi(c,p,f.marks[v]));if(i&&f.isText&&n.whitespace!="pre"){let v,w=/\r?\n|\r/g,x;for(;v=w.exec(f.text);)x||(x=new be(fe.from(n.schema.text(" ",n.allowedMarks(f.marks))),0,0)),l.push(new hn(c+v.index,c+v.index+v[0].length,x))}}c=p}if(!r.validEnd){let d=r.fillBefore(fe.empty,!0);t.replace(c,c,new be(d,0,0))}for(let d=l.length-1;d>=0;d--)t.step(l[d])}function Xz(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Yc(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),l=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,l,n))return r;if(r==0||i.type.spec.isolating||!Xz(i,s,l))break}return null}function Jz(t,e,n){let{$from:r,$to:i,depth:s}=e,l=r.before(s+1),c=i.after(s+1),d=l,f=c,p=fe.empty,m=0;for(let x=s,E=!1;x>n;x--)E||r.index(x)>0?(E=!0,p=fe.from(r.node(x).copy(p)),m++):d--;let v=fe.empty,w=0;for(let x=s,E=!1;x>n;x--)E||i.after(x+1)<i.end(x)?(E=!0,v=fe.from(i.node(x).copy(v)),w++):f++;t.step(new pn(d,f,l,c,new be(p.append(v),m,w),p.size-m,!0))}function gb(t,e,n=null,r=t){let i=Qz(t,e),s=i&&Zz(r,e);return s?i.map(jT).concat({type:e,attrs:n}).concat(s.map(jT)):null}function jT(t){return{type:t,attrs:null}}function Qz(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let l=s.length?s[0]:e;return n.canReplaceWith(r,i,l)?s:null}function Zz(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),l=e.contentMatch.findWrapping(s.type);if(!l)return null;let d=(l.length?l[l.length-1]:e).contentMatch;for(let f=r;d&&f<i;f++)d=d.matchType(n.child(f).type);return!d||!d.validEnd?null:l}function eU(t,e,n){let r=fe.empty;for(let l=n.length-1;l>=0;l--){if(r.size){let c=n[l].type.contentMatch.matchFragment(r);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=fe.from(n[l].type.create(n[l].attrs,r))}let i=e.start,s=e.end;t.step(new pn(i,s,i,s,new be(r,0,0),n.length,!0))}function tU(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(l,c)=>{let d=typeof i=="function"?i(l):i;if(l.isTextblock&&!l.hasMarkup(r,d)&&nU(t.doc,t.mapping.slice(s).map(c),r)){let f=null;if(r.schema.linebreakReplacement){let w=r.whitespace=="pre",x=!!r.contentMatch.matchType(r.schema.linebreakReplacement);w&&!x?f=!1:!w&&x&&(f=!0)}f===!1&&iM(t,l,c,s),mb(t,t.mapping.slice(s).map(c,1),r,void 0,f===null);let p=t.mapping.slice(s),m=p.map(c,1),v=p.map(c+l.nodeSize,1);return t.step(new pn(m,v,m+1,v-1,new be(fe.from(r.create(d,null,l.marks)),0,0),1,!0)),f===!0&&rM(t,l,c,s),!1}})}function rM(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let l,c=/\r?\n|\r/g;for(;l=c.exec(i.text);){let d=t.mapping.slice(r).map(n+1+s+l.index);t.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function iM(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let l=t.mapping.slice(r).map(n+1+s);t.replaceWith(l,l+1,e.type.schema.text(`
`))}})}function nU(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function rU(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let l=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,l);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new pn(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new be(fe.from(l),0,0),1,!0))}function Is(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,l=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!l.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let f=i.depth-1,p=n-2;f>s;f--,p--){let m=i.node(f),v=i.index(f);if(m.type.spec.isolating)return!1;let w=m.content.cutByIndex(v,m.childCount),x=r&&r[p+1];x&&(w=w.replaceChild(0,x.type.create(x.attrs)));let E=r&&r[p]||m;if(!m.canReplace(v+1,m.childCount)||!E.type.validContent(w))return!1}let c=i.indexAfter(s),d=r&&r[0];return i.node(s).canReplaceWith(c,c,d?d.type:i.node(s+1).type)}function iU(t,e,n=1,r){let i=t.doc.resolve(e),s=fe.empty,l=fe.empty;for(let c=i.depth,d=i.depth-n,f=n-1;c>d;c--,f--){s=fe.from(i.node(c).copy(s));let p=r&&r[f];l=fe.from(p?p.type.create(p.attrs,l):i.node(c).copy(l))}t.step(new hn(e,e,new be(s.append(l),n,n),!0))}function la(t,e){let n=t.resolve(e),r=n.index();return sM(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function sU(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),l=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(l),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function sM(t,e){return!!(t&&e&&!t.isLeaf&&sU(t,e))}function Qm(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,l,c=r.index(i);if(i==r.depth?(s=r.nodeBefore,l=r.nodeAfter):n>0?(s=r.node(i+1),c++,l=r.node(i).maybeChild(c)):(s=r.node(i).maybeChild(c-1),l=r.node(i+1)),s&&!s.isTextblock&&sM(s,l)&&r.node(i).canReplace(c,c+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function oU(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),l=s.node().type;if(i&&l.inlineContent){let p=l.whitespace=="pre",m=!!l.contentMatch.matchType(i);p&&!m?r=!1:!p&&m&&(r=!0)}let c=t.steps.length;if(r===!1){let p=t.doc.resolve(e+n);iM(t,p.node(),p.before(),c)}l.inlineContent&&mb(t,e+n-1,l,s.node().contentMatchAt(s.index()),r==null);let d=t.mapping.slice(c),f=d.map(e-n);if(t.step(new hn(f,d.map(e+n,-1),be.empty,!0)),r===!0){let p=t.doc.resolve(f);rM(t,p.node(),p.before(),t.steps.length)}return t}function aU(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function oM(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let l=r.depth;l>=0;l--){let c=l==r.depth?0:r.pos<=(r.start(l+1)+r.end(l+1))/2?-1:1,d=r.index(l)+(c>0?1:0),f=r.node(l),p=!1;if(s==1)p=f.canReplace(d,d,i);else{let m=f.contentMatchAt(d).findWrapping(i.firstChild.type);p=m&&f.canReplaceWith(d,d,m[0])}if(p)return c==0?r.pos:c<0?r.before(l+1):r.after(l+1)}return null}function Zm(t,e,n=e,r=be.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return aM(i,s,r)?new hn(e,n,r):new lU(i,s,r).fit()}function aM(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class lU{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=fe.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=fe.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,l=r.depth,c=i.depth;for(;l&&c&&s.childCount==1;)s=s.firstChild.content,l--,c--;let d=new be(s,l,c);return e>-1?new pn(r.pos,e,this.$to.pos,this.$to.end(),d,n):d.size||r.pos!=this.$to.pos?new hn(r.pos,i.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=V0(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let l=i.firstChild;for(let c=this.depth;c>=0;c--){let{type:d,match:f}=this.frontier[c],p,m=null;if(n==1&&(l?f.matchType(l.type)||(m=f.fillBefore(fe.from(l),!1)):s&&d.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:c,parent:s,inject:m};if(n==2&&l&&(p=f.findWrapping(l.type)))return{sliceDepth:r,frontierDepth:c,parent:s,wrap:p};if(s&&f.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=V0(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new be(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=V0(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new be(id(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new be(id(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let E=0;E<s.length;E++)this.openFrontierNode(s[E]);let l=this.unplaced,c=r?r.content:l.content,d=l.openStart-e,f=0,p=[],{match:m,type:v}=this.frontier[n];if(i){for(let E=0;E<i.childCount;E++)p.push(i.child(E));m=m.matchFragment(i)}let w=c.size+e-(l.content.size-l.openEnd);for(;f<c.childCount;){let E=c.child(f),C=m.matchType(E.type);if(!C)break;f++,(f>1||d==0||E.content.size)&&(m=C,p.push(lM(E.mark(v.allowedMarks(E.marks)),f==1?d:0,f==c.childCount?w:-1)))}let x=f==c.childCount;x||(w=-1),this.placed=sd(this.placed,n,fe.from(p)),this.frontier[n].match=m,x&&w<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let E=0,C=c;E<w;E++){let _=C.lastChild;this.frontier.push({type:_.type,match:_.contentMatchAt(_.childCount)}),C=_.content}this.unplaced=x?e==0?be.empty:new be(id(l.content,e-1,1),e-1,w<0?l.openEnd:e-1):new be(id(l.content,e,f),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!$0(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),l=$0(e,n,i,r,s);if(l){for(let c=n-1;c>=0;c--){let{match:d,type:f}=this.frontier[c],p=$0(e,c,f,d,!0);if(!p||p.childCount)continue e}return{depth:n,fit:l,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=sd(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=sd(this.placed,this.depth,fe.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(fe.empty,!0);n.childCount&&(this.placed=sd(this.placed,this.frontier.length,n))}}function id(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(id(t.firstChild.content,e-1,n)))}function sd(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(sd(t.lastChild.content,e-1,n)))}function V0(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function lM(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,lM(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(fe.empty,!0)))),t.copy(r)}function $0(t,e,n,r,i){let s=t.node(e),l=i?t.indexAfter(e):t.index(e);if(l==s.childCount&&!n.compatibleContent(s.type))return null;let c=r.fillBefore(s.content,!0,l);return c&&!cU(n,s.content,l)?c:null}function cU(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function uU(t){return t.spec.defining||t.spec.definingForContent}function dU(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(aM(i,s,r))return t.step(new hn(e,n,r));let l=uM(i,t.doc.resolve(n));l[l.length-1]==0&&l.pop();let c=-(i.depth+1);l.unshift(c);for(let v=i.depth,w=i.pos-1;v>0;v--,w--){let x=i.node(v).type.spec;if(x.defining||x.definingAsContext||x.isolating)break;l.indexOf(v)>-1?c=v:i.before(v)==w&&l.splice(1,0,-v)}let d=l.indexOf(c),f=[],p=r.openStart;for(let v=r.content,w=0;;w++){let x=v.firstChild;if(f.push(x),w==r.openStart)break;v=x.content}for(let v=p-1;v>=0;v--){let w=f[v],x=uU(w.type);if(x&&!w.sameMarkup(i.node(Math.abs(c)-1)))p=v;else if(x||!w.type.isTextblock)break}for(let v=r.openStart;v>=0;v--){let w=(v+p+1)%(r.openStart+1),x=f[w];if(x)for(let E=0;E<l.length;E++){let C=l[(E+d)%l.length],_=!0;C<0&&(_=!1,C=-C);let I=i.node(C-1),L=i.index(C-1);if(I.canReplaceWith(L,L,x.type,x.marks))return t.replace(i.before(C),_?s.after(C):n,new be(cM(r.content,0,r.openStart,w),w,r.openEnd))}}let m=t.steps.length;for(let v=l.length-1;v>=0&&(t.replace(e,n,r),!(t.steps.length>m));v--){let w=l[v];w<0||(e=i.before(w),n=s.after(w))}}function cM(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(cM(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),l=s.fillBefore(t).append(t);t=l.append(s.matchFragment(l).fillBefore(fe.empty,!0))}return t}function fU(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=aU(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new be(fe.from(r),0,0))}function hU(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=uM(r,i);for(let l=0;l<s.length;l++){let c=s[l],d=l==s.length-1;if(d&&c==0||r.node(c).type.contentMatch.validEnd)return t.delete(r.start(c),i.end(c));if(c>0&&(d||r.node(c-1).canReplace(r.index(c-1),i.indexAfter(c-1))))return t.delete(r.before(c),i.after(c))}for(let l=1;l<=r.depth&&l<=i.depth;l++)if(e-r.start(l)==r.depth-l&&n>r.end(l)&&i.end(l)-n!=i.depth-l&&r.start(l-1)==i.start(l-1)&&r.node(l-1).canReplace(r.index(l-1),i.index(l-1)))return t.delete(r.before(l),n);t.delete(e,n)}function uM(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class Nc extends _n{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Zt.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Zt.fromReplace(e,this.pos,this.pos+1,new be(fe.from(i),0,n.isLeaf?0:1))}getMap(){return vr.empty}invert(e){return new Nc(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Nc(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Nc(n.pos,n.attr,n.value)}}_n.jsonID("attr",Nc);class Ud extends _n{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Zt.ok(r)}getMap(){return vr.empty}invert(e){return new Ud(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Ud(n.attr,n.value)}}_n.jsonID("docAttr",Ud);let jc=class extends Error{};jc=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};jc.prototype=Object.create(Error.prototype);jc.prototype.constructor=jc;jc.prototype.name="TransformError";class dM{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new zd}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new jc(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=be.empty){let i=Zm(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new be(fe.from(r),0,0))}delete(e,n){return this.replace(e,n,be.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return dU(this,e,n,r),this}replaceRangeWith(e,n,r){return fU(this,e,n,r),this}deleteRange(e,n){return hU(this,e,n),this}lift(e,n){return Jz(this,e,n),this}join(e,n=1){return oU(this,e,n),this}wrap(e,n){return eU(this,e,n),this}setBlockType(e,n=e,r,i=null){return tU(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return rU(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new Nc(e,n,r)),this}setDocAttribute(e,n){return this.step(new Ud(e,n)),this}addNodeMark(e,n){return this.step(new $o(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof At)n.isInSet(r.marks)&&this.step(new dl(e,n));else{let i=r.marks,s,l=[];for(;s=n.isInSet(i);)l.push(new dl(e,s)),i=s.removeFromSet(i);for(let c=l.length-1;c>=0;c--)this.step(l[c])}return this}split(e,n=1,r){return iU(this,e,n,r),this}addMark(e,n,r){return Kz(this,e,n,r),this}removeMark(e,n,r){return Yz(this,e,n,r),this}clearIncompatible(e,n,r){return mb(this,e,n,r),this}}const F0=Object.create(null);class Be{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new fM(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=be.empty){let r=n.content.lastChild,i=null;for(let c=0;c<n.openEnd;c++)i=r,r=r.lastChild;let s=e.steps.length,l=this.ranges;for(let c=0;c<l.length;c++){let{$from:d,$to:f}=l[c],p=e.mapping.slice(s);e.replaceRange(p.map(d.pos),p.map(f.pos),c?be.empty:n),c==0&&zT(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:l,$to:c}=i[s],d=e.mapping.slice(r),f=d.map(l.pos),p=d.map(c.pos);s?e.deleteRange(f,p):(e.replaceRangeWith(f,p,n),zT(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new Ve(e):mc(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let l=n<0?mc(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):mc(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(l)return l}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new br(e.node(0))}static atStart(e){return mc(e,e,0,0,1)||new br(e)}static atEnd(e){return mc(e,e,e.content.size,e.childCount,-1)||new br(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=F0[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in F0)throw new RangeError("Duplicate use of selection JSON ID "+e);return F0[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Ve.between(this.$anchor,this.$head).getBookmark()}}Be.prototype.visible=!0;class fM{constructor(e,n){this.$from=e,this.$to=n}}let LT=!1;function PT(t){!LT&&!t.parent.inlineContent&&(LT=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Ve extends Be{constructor(e,n=e){PT(e),PT(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Be.near(r);let i=e.resolve(n.map(this.anchor));return new Ve(i.parent.inlineContent?i:r,r)}replace(e,n=be.empty){if(super.replace(e,n),n==be.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Ve&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new eg(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ve(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Be.findFrom(n,r,!0)||Be.findFrom(n,-r,!0);if(s)n=s.$head;else return Be.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Be.findFrom(e,-r,!0)||Be.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new Ve(e,n)}}Be.jsonID("text",Ve);class eg{constructor(e,n){this.anchor=e,this.head=n}map(e){return new eg(e.map(this.anchor),e.map(this.head))}resolve(e){return Ve.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ie extends Be{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?Be.near(s):new Ie(s)}content(){return new be(fe.from(this.node),0,0)}eq(e){return e instanceof Ie&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new yb(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ie(e.resolve(n.anchor))}static create(e,n){return new Ie(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ie.prototype.visible=!1;Be.jsonID("node",Ie);class yb{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new eg(r,r):new yb(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Ie.isSelectable(r)?new Ie(n):Be.near(n)}}class br extends Be{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=be.empty){if(n==be.empty){e.delete(0,e.doc.content.size);let r=Be.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new br(e)}map(e){return new br(e)}eq(e){return e instanceof br}getBookmark(){return pU}}Be.jsonID("all",br);const pU={map(){return this},resolve(t){return new br(t)}};function mc(t,e,n,r,i,s=!1){if(e.inlineContent)return Ve.create(t,n);for(let l=r-(i>0?0:1);i>0?l<e.childCount:l>=0;l+=i){let c=e.child(l);if(c.isAtom){if(!s&&Ie.isSelectable(c))return Ie.create(t,n-(i<0?c.nodeSize:0))}else{let d=mc(t,c,n+i,i<0?c.childCount:0,i,s);if(d)return d}n+=c.nodeSize*i}return null}function zT(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof hn||i instanceof pn))return;let s=t.mapping.maps[r],l;s.forEach((c,d,f,p)=>{l==null&&(l=p)}),t.setSelection(Be.near(t.doc.resolve(l),n))}const UT=1,Gh=2,BT=4;class mU extends dM{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|UT)&~Gh,this.storedMarks=null,this}get selectionSet(){return(this.updated&UT)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Gh,this}ensureMarks(e){return At.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Gh)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Gh,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||At.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let l=this.doc.resolve(n);s=r==n?l.marks():l.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(Be.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=BT,this}get scrolledIntoView(){return(this.updated&BT)>0}}function HT(t,e){return!e||!t?t:t.bind(e)}class od{constructor(e,n,r){this.name=e,this.init=HT(n.init,r),this.apply=HT(n.apply,r)}}const gU=[new od("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new od("selection",{init(t,e){return t.selection||Be.atStart(e.doc)},apply(t){return t.selection}}),new od("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new od("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class q0{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=gU.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new od(r.key,r.spec.state,r))})}}class xc{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let l=0;l<this.config.plugins.length;l++){let c=this.config.plugins[l];if(c.spec.appendTransaction){let d=i?i[l].n:0,f=i?i[l].state:this,p=d<n.length&&c.spec.appendTransaction.call(c,d?n.slice(d):n,f,r);if(p&&r.filterTransaction(p,l)){if(p.setMeta("appendedTransaction",e),!i){i=[];for(let m=0;m<this.config.plugins.length;m++)i.push(m<l?{state:r,n:n.length}:{state:this,n:0})}n.push(p),r=r.applyInner(p),s=!0}i&&(i[l]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new xc(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new mU(this)}static create(e){let n=new q0(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new xc(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new q0(this.schema,e.plugins),r=n.fields,i=new xc(n);for(let s=0;s<r.length;s++){let l=r[s].name;i[l]=this.hasOwnProperty(l)?this[l]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new q0(e.schema,e.plugins),s=new xc(i);return i.fields.forEach(l=>{if(l.name=="doc")s.doc=Xo.fromJSON(e.schema,n.doc);else if(l.name=="selection")s.selection=Be.fromJSON(s.doc,n.selection);else if(l.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let c in r){let d=r[c],f=d.spec.state;if(d.key==l.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(n,c)){s[l.name]=f.fromJSON.call(d,e,n[c],s);return}}s[l.name]=l.init(e,s)}}),s}}function hM(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=hM(i,e,{})),n[r]=i}return n}class Lt{constructor(e){this.spec=e,this.props={},e.props&&hM(e.props,this,this.props),this.key=e.key?e.key.key:pM("plugin")}getState(e){return e[this.key]}}const W0=Object.create(null);function pM(t){return t in W0?t+"$"+ ++W0[t]:(W0[t]=0,t+"$")}class Ut{constructor(e="key"){this.key=pM(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const xn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Lc=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let ev=null;const Cs=function(t,e,n){let r=ev||(ev=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},yU=function(){ev=null},fl=function(t,e,n,r){return n&&(VT(t,e,n,r,-1)||VT(t,e,n,r,1))},vU=/^(img|br|input|textarea|hr)$/i;function VT(t,e,n,r,i){for(var s;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Fr(t))){let l=t.parentNode;if(!l||l.nodeType!=1||uf(t)||vU.test(t.nodeName)||t.contentEditable=="false")return!1;e=xn(t)+(i<0?0:1),t=l}else if(t.nodeType==1){let l=t.childNodes[e+(i<0?-1:0)];if(l.nodeType==1&&l.contentEditable=="false")if(!((s=l.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else t=l,e=i<0?Fr(t):0}else return!1}}function Fr(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function bU(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Fr(t)}else if(t.parentNode&&!uf(t))e=xn(t),t=t.parentNode;else return null}}function wU(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!uf(t))e=xn(t)+1,t=t.parentNode;else return null}}function SU(t,e,n){for(let r=e==0,i=e==Fr(t);r||i;){if(t==n)return!0;let s=xn(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==Fr(t)}}function uf(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const tg=function(t){return t.focusNode&&fl(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Fa(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function xU(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function EU(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Fr(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Fr(r.startContainer),r.startOffset)}}}const Vi=typeof navigator<"u"?navigator:null,$T=typeof document<"u"?document:null,ca=Vi&&Vi.userAgent||"",tv=/Edge\/(\d+)/.exec(ca),mM=/MSIE \d/.exec(ca),nv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ca),nr=!!(mM||nv||tv),Jo=mM?document.documentMode:nv?+nv[1]:tv?+tv[1]:0,di=!nr&&/gecko\/(\d+)/i.test(ca);di&&+(/Firefox\/(\d+)/.exec(ca)||[0,0])[1];const rv=!nr&&/Chrome\/(\d+)/.exec(ca),On=!!rv,gM=rv?+rv[1]:0,Hn=!nr&&!!Vi&&/Apple Computer/.test(Vi.vendor),Pc=Hn&&(/Mobile\/\w+/.test(ca)||!!Vi&&Vi.maxTouchPoints>2),Vr=Pc||(Vi?/Mac/.test(Vi.platform):!1),TU=Vi?/Win/.test(Vi.platform):!1,_s=/Android \d/.test(ca),df=!!$T&&"webkitFontSmoothing"in $T.documentElement.style,CU=df?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function kU(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function ws(t,e){return typeof t=="number"?t:t[e]}function AU(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function FT(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let l=n||t.dom;l;){if(l.nodeType!=1){l=Lc(l);continue}let c=l,d=c==s.body,f=d?kU(s):AU(c),p=0,m=0;if(e.top<f.top+ws(r,"top")?m=-(f.top-e.top+ws(i,"top")):e.bottom>f.bottom-ws(r,"bottom")&&(m=e.bottom-e.top>f.bottom-f.top?e.top+ws(i,"top")-f.top:e.bottom-f.bottom+ws(i,"bottom")),e.left<f.left+ws(r,"left")?p=-(f.left-e.left+ws(i,"left")):e.right>f.right-ws(r,"right")&&(p=e.right-f.right+ws(i,"right")),p||m)if(d)s.defaultView.scrollBy(p,m);else{let w=c.scrollLeft,x=c.scrollTop;m&&(c.scrollTop+=m),p&&(c.scrollLeft+=p);let E=c.scrollLeft-w,C=c.scrollTop-x;e={left:e.left-E,top:e.top-C,right:e.right-E,bottom:e.bottom-C}}let v=d?"fixed":getComputedStyle(l).position;if(/^(fixed|sticky)$/.test(v))break;l=v=="absolute"?l.offsetParent:Lc(l)}}function NU(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,l=n+1;l<Math.min(innerHeight,e.bottom);l+=5){let c=t.root.elementFromPoint(s,l);if(!c||c==t.dom||!t.dom.contains(c))continue;let d=c.getBoundingClientRect();if(d.top>=n-20){r=c,i=d.top;break}}return{refDOM:r,refTop:i,stack:yM(t.dom)}}function yM(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Lc(r));return e}function MU({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;vM(n,r==0?0:r-e)}function vM(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let ac=null;function OU(t){if(t.setActive)return t.setActive();if(ac)return t.focus(ac);let e=yM(t);t.focus(ac==null?{get preventScroll(){return ac={preventScroll:!0},!0}}:void 0),ac||(ac=!1,vM(e,0))}function bM(t,e){let n,r=2e8,i,s=0,l=e.top,c=e.top,d,f;for(let p=t.firstChild,m=0;p;p=p.nextSibling,m++){let v;if(p.nodeType==1)v=p.getClientRects();else if(p.nodeType==3)v=Cs(p).getClientRects();else continue;for(let w=0;w<v.length;w++){let x=v[w];if(x.top<=l&&x.bottom>=c){l=Math.max(x.bottom,l),c=Math.min(x.top,c);let E=x.left>e.left?x.left-e.left:x.right<e.left?e.left-x.right:0;if(E<r){n=p,r=E,i=E&&n.nodeType==3?{left:x.right<e.left?x.right:x.left,top:e.top}:e,p.nodeType==1&&E&&(s=m+(e.left>=(x.left+x.right)/2?1:0));continue}}else x.top>e.top&&!d&&x.left<=e.left&&x.right>=e.left&&(d=p,f={left:Math.max(x.left,Math.min(x.right,e.left)),top:x.top});!n&&(e.left>=x.right&&e.top>=x.top||e.left>=x.left&&e.top>=x.bottom)&&(s=m+1)}}return!n&&d&&(n=d,i=f,r=0),n&&n.nodeType==3?_U(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:bM(n,i)}function _U(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=Oo(r,1);if(s.top!=s.bottom&&vb(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function vb(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function RU(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function DU(t,e,n){let{node:r,offset:i}=bM(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let l=r.getBoundingClientRect();s=l.left!=l.right&&n.left>(l.left+l.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function IU(t,e,n,r){let i=-1;for(let s=e,l=!1;s!=t.dom;){let c=t.docView.nearestDesc(s,!0),d;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((d=c.dom.getBoundingClientRect()).width||d.height)&&(c.node.isBlock&&c.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(c.dom.nodeName)&&(!l&&d.left>r.left||d.top>r.top?i=c.posBefore:(!l&&d.right<r.left||d.bottom<r.top)&&(i=c.posAfter),l=!0),!c.contentDOM&&i<0&&!c.node.isText))return(c.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?c.posBefore:c.posAfter;s=c.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function wM(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let l=t.childNodes[s];if(l.nodeType==1){let c=l.getClientRects();for(let d=0;d<c.length;d++){let f=c[d];if(vb(e,f))return wM(l,e,f)}}if((s=(s+1)%r)==i)break}return t}function jU(t,e){let n=t.dom.ownerDocument,r,i=0,s=EU(n,e.left,e.top);s&&({node:r,offset:i}=s);let l=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),c;if(!l||!t.dom.contains(l.nodeType!=1?l.parentNode:l)){let f=t.dom.getBoundingClientRect();if(!vb(e,f)||(l=wM(t.dom,e,f),!l))return null}if(Hn)for(let f=l;r&&f;f=Lc(f))f.draggable&&(r=void 0);if(l=RU(l,e),r){if(di&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let p=r.childNodes[i],m;p.nodeName=="IMG"&&(m=p.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&i++}let f;df&&i&&r.nodeType==1&&(f=r.childNodes[i-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?c=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(c=IU(t,r,i,e))}c==null&&(c=DU(t,l,e));let d=t.docView.nearestDesc(l,!0);return{pos:c,inside:d?d.posAtStart-d.border:-1}}function qT(t){return t.top<t.bottom||t.left<t.right}function Oo(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(qT(r))return r}return Array.prototype.find.call(n,qT)||t.getBoundingClientRect()}const LU=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function SM(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),l=df||di;if(r.nodeType==3)if(l&&(LU.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let d=Oo(Cs(r,i,i),n);if(di&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let f=Oo(Cs(r,i-1,i-1),-1);if(f.top==d.top){let p=Oo(Cs(r,i,i+1),-1);if(p.top!=d.top)return Qu(p,p.left<f.left)}}return d}else{let d=i,f=i,p=n<0?1:-1;return n<0&&!i?(f++,p=-1):n>=0&&i==r.nodeValue.length?(d--,p=1):n<0?d--:f++,Qu(Oo(Cs(r,d,f),p),p<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==Fr(r))){let d=r.childNodes[i-1];if(d.nodeType==1)return G0(d.getBoundingClientRect(),!1)}if(s==null&&i<Fr(r)){let d=r.childNodes[i];if(d.nodeType==1)return G0(d.getBoundingClientRect(),!0)}return G0(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==Fr(r))){let d=r.childNodes[i-1],f=d.nodeType==3?Cs(d,Fr(d)-(l?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(f)return Qu(Oo(f,1),!1)}if(s==null&&i<Fr(r)){let d=r.childNodes[i];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let f=d?d.nodeType==3?Cs(d,0,l?0:1):d.nodeType==1?d:null:null;if(f)return Qu(Oo(f,-1),!0)}return Qu(Oo(r.nodeType==3?Cs(r):r,-n),n>=0)}function Qu(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function G0(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function xM(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function PU(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return xM(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let c=t.docView.nearestDesc(s,!0);if(!c)break;if(c.node.isBlock){s=c.contentDOM||c.dom;break}s=c.dom.parentNode}let l=SM(t,i.pos,1);for(let c=s.firstChild;c;c=c.nextSibling){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=Cs(c,0,c.nodeValue.length).getClientRects();else continue;for(let f=0;f<d.length;f++){let p=d[f];if(p.bottom>p.top+1&&(n=="up"?l.top-p.top>(p.bottom-l.top)*2:p.bottom-l.bottom>(l.bottom-p.top)*2))return!1}}return!0})}const zU=/[\u0590-\u08ac]/;function UU(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,l=i==r.parent.content.size,c=t.domSelection();return c?!zU.test(r.parent.textContent)||!c.modify?n=="left"||n=="backward"?s:l:xM(t,e,()=>{let{focusNode:d,focusOffset:f,anchorNode:p,anchorOffset:m}=t.domSelectionRange(),v=c.caretBidiLevel;c.modify("move",n,"character");let w=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:x,focusOffset:E}=t.domSelectionRange(),C=x&&!w.contains(x.nodeType==1?x:x.parentNode)||d==x&&f==E;try{c.collapse(p,m),d&&(d!=p||f!=m)&&c.extend&&c.extend(d,f)}catch{}return v!=null&&(c.caretBidiLevel=v),C}):r.pos==r.start()||r.pos==r.end()}let WT=null,GT=null,KT=!1;function BU(t,e,n){return WT==e&&GT==n?KT:(WT=e,GT=n,KT=n=="up"||n=="down"?PU(t,e,n):UU(t,e,n))}const Wr=0,YT=1,Ka=2,$i=3;class ff{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Wr,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,l;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((l=s.pmViewDesc)&&l.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(l)+l.size:this.posAtStart}else{let s,l;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((l=s.pmViewDesc)&&l.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(l):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>xn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),l;if(s&&(!n||s.node))if(r&&(l=s.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let l=0;l<i.children.length;l++){let c=i.children[l];if(c.size){i=c;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let l=this.children[r],c=s+l.size;if(c>e||l instanceof TM){i=e-s;break}s=c}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof EM&&s.side>=0;r--);if(n<=0){let s,l=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,l=!1);return s&&n&&l&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?xn(s.dom)+1:0}}else{let s,l=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,l=!1);return s&&l&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?xn(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let l=r,c=0;;c++){let d=this.children[c],f=l+d.size;if(i==-1&&e<=f){let p=l+d.border;if(e>=p&&n<=f-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,n,p);e=l;for(let m=c;m>0;m--){let v=this.children[m-1];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(1)){i=xn(v.dom)+1;break}e-=v.size}i==-1&&(i=0)}if(i>-1&&(f>n||c==this.children.length-1)){n=f;for(let p=c+1;p<this.children.length;p++){let m=this.children[p];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){s=xn(m.dom);break}n+=m.size}s==-1&&(s=this.contentDOM.childNodes.length);break}l=f}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),l=Math.max(e,n);for(let w=0,x=0;w<this.children.length;w++){let E=this.children[w],C=x+E.size;if(s>x&&l<C)return E.setSelection(e-x-E.border,n-x-E.border,r,i);x=C}let c=this.domFromPos(e,e?-1:1),d=n==e?c:this.domFromPos(n,n?-1:1),f=r.root.getSelection(),p=r.domSelectionRange(),m=!1;if((di||Hn)&&e==n){let{node:w,offset:x}=c;if(w.nodeType==3){if(m=!!(x&&w.nodeValue[x-1]==`
`),m&&x==w.nodeValue.length)for(let E=w,C;E;E=E.parentNode){if(C=E.nextSibling){C.nodeName=="BR"&&(c=d={node:C.parentNode,offset:xn(C)+1});break}let _=E.pmViewDesc;if(_&&_.node&&_.node.isBlock)break}}else{let E=w.childNodes[x-1];m=E&&(E.nodeName=="BR"||E.contentEditable=="false")}}if(di&&p.focusNode&&p.focusNode!=d.node&&p.focusNode.nodeType==1){let w=p.focusNode.childNodes[p.focusOffset];w&&w.contentEditable=="false"&&(i=!0)}if(!(i||m&&Hn)&&fl(c.node,c.offset,p.anchorNode,p.anchorOffset)&&fl(d.node,d.offset,p.focusNode,p.focusOffset))return;let v=!1;if((f.extend||e==n)&&!m){f.collapse(c.node,c.offset);try{e!=n&&f.extend(d.node,d.offset),v=!0}catch{}}if(!v){if(e>n){let x=c;c=d,d=x}let w=document.createRange();w.setEnd(d.node,d.offset),w.setStart(c.node,c.offset),f.removeAllRanges(),f.addRange(w)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],l=r+s.size;if(r==l?e<=l&&n>=r:e<l&&n>r){let c=r+s.border,d=l-s.border;if(e>=c&&n<=d){this.dirty=e==r||n==l?Ka:YT,e==c&&n==d&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=$i:s.markDirty(e-c,n-c);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Ka:$i}r=l}this.dirty=Ka}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Ka:YT;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class EM extends ff{constructor(e,n,r,i){let s,l=n.type.toDOM;if(typeof l=="function"&&(l=l(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(l.nodeType!=1){let c=document.createElement("span");c.appendChild(l),l=c}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==Wr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class HU extends ff{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class hl extends ff{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],l=s&&s(n,i,r);return(!l||!l.dom)&&(l=wl.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new hl(e,n,l.dom,l.contentDOM||l.dom,l)}parseRule(){return this.dirty&$i||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=$i&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Wr){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Wr}}slice(e,n,r){let i=hl.create(this.parent,this.mark,!0,r),s=this.children,l=this.size;n<l&&(s=sv(s,n,l,r)),e>0&&(s=sv(s,0,e,r));for(let c=0;c<s.length;c++)s[c].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Qo extends ff{constructor(e,n,r,i,s,l,c,d,f){super(e,[],s,l),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=c}static create(e,n,r,i,s,l){let c=s.nodeViews[n.type.name],d,f=c&&c(n,s,()=>{if(!d)return l;if(d.parent)return d.parent.posBeforeChild(d)},r,i),p=f&&f.dom,m=f&&f.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:m}=wl.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!m&&!n.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),n.type.spec.draggable&&(p.draggable=!0));let v=p;return p=AM(p,r,n),f?d=new VU(e,n,r,i,p,m||null,v,f,s,l+1):n.isText?new ng(e,n,r,i,p,v,s):new Qo(e,n,r,i,p,m||null,v,s,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>fe.empty)}return e}matchesNode(e,n,r){return this.dirty==Wr&&e.eq(this.node)&&Yp(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,l=s&&s.pos>-1?s:null,c=s&&s.pos<0,d=new FU(this,l&&l.node,e);GU(this.node,this.innerDeco,(f,p,m)=>{f.spec.marks?d.syncToMarks(f.spec.marks,r,e):f.type.side>=0&&!m&&d.syncToMarks(p==this.node.childCount?At.none:this.node.child(p).marks,r,e),d.placeWidget(f,e,i)},(f,p,m,v)=>{d.syncToMarks(f.marks,r,e);let w;d.findNodeMatch(f,p,m,v)||c&&e.state.selection.from>i&&e.state.selection.to<i+f.nodeSize&&(w=d.findIndexWithChild(s.node))>-1&&d.updateNodeAt(f,p,m,w,e)||d.updateNextNode(f,p,m,e,v,i)||d.addNode(f,p,m,e,i),i+=f.nodeSize}),d.syncToMarks([],r,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==Ka)&&(l&&this.protectLocalComposition(e,l),CM(this.contentDOM,this.children,e),Pc&&KU(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Ve)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let l=s.nodeValue,c=YU(this.node.content,l,r-n,i-n);return c<0?null:{node:s,pos:c,text:l}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let l=new HU(this,s,n,i);e.input.compositionNodes.push(l),this.children=sv(this.children,r,r+i.length,e,l)}update(e,n,r,i){return this.dirty==$i||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Wr}updateOuterDeco(e){if(Yp(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=kM(this.dom,this.nodeDOM,iv(this.outerDeco,this.node,n),iv(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function XT(t,e,n,r,i){AM(r,e,t);let s=new Qo(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class ng extends Qo{constructor(e,n,r,i,s,l,c){super(e,n,r,i,s,null,l,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==$i||this.dirty!=Wr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Wr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Wr,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new ng(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=$i)}get domAtom(){return!1}isText(e){return this.node.text==e}}class TM extends ff{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Wr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class VU extends Qo{constructor(e,n,r,i,s,l,c,d,f,p){super(e,n,r,i,s,l,c,f,p),this.spec=d}update(e,n,r,i){if(this.dirty==$i)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function CM(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let l=e[s],c=l.dom;if(c.parentNode==t){for(;c!=r;)r=JT(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(c,r);if(l instanceof hl){let d=r?r.previousSibling:t.lastChild;CM(l.contentDOM,l.children,n),r=d?d.nextSibling:t.firstChild}}for(;r;)r=JT(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const yd=function(t){t&&(this.nodeName=t)};yd.prototype=Object.create(null);const Ya=[new yd];function iv(t,e,n){if(t.length==0)return Ya;let r=n?Ya[0]:new yd,i=[r];for(let s=0;s<t.length;s++){let l=t[s].type.attrs;if(l){l.nodeName&&i.push(r=new yd(l.nodeName));for(let c in l){let d=l[c];d!=null&&(n&&i.length==1&&i.push(r=new yd(e.isInline?"span":"div")),c=="class"?r.class=(r.class?r.class+" ":"")+d:c=="style"?r.style=(r.style?r.style+";":"")+d:c!="nodeName"&&(r[c]=d))}}}return i}function kM(t,e,n,r){if(n==Ya&&r==Ya)return e;let i=e;for(let s=0;s<r.length;s++){let l=r[s],c=n[s];if(s){let d;c&&c.nodeName==l.nodeName&&i!=t&&(d=i.parentNode)&&d.nodeName.toLowerCase()==l.nodeName||(d=document.createElement(l.nodeName),d.pmIsDeco=!0,d.appendChild(i),c=Ya[0]),i=d}$U(i,c||Ya[0],l)}return i}function $U(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function AM(t,e,n){return kM(t,t,Ya,iv(e,n,t.nodeType!=1))}function Yp(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function JT(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class FU{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=qU(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,l=Math.min(s,e.length);for(;i<l&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=Wr,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let c=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let f=this.top.children[d];if(f.matchesMark(e[s])&&!this.isLocked(f.dom)){c=d;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let d=hl.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,l;if(i>=this.preMatch.index&&(l=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&l.matchesNode(e,n,r))s=this.top.children.indexOf(l,this.index);else for(let c=this.index,d=Math.min(this.top.children.length,c+5);c<d;c++){let f=this.top.children[c];if(f.matchesNode(e,n,r)&&!this.preMatch.matched.has(f)){s=c;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let l=this.top.children[i];return l.dirty==$i&&l.dom==l.contentDOM&&(l.dirty=Ka),l.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,l){for(let c=this.index;c<this.top.children.length;c++){let d=this.top.children[c];if(d instanceof Qo){let f=this.preMatch.matched.get(d);if(f!=null&&f!=s)return!1;let p=d.dom,m,v=this.isLocked(p)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=$i&&Yp(n,d.outerDeco));if(!v&&d.update(e,n,r,i))return this.destroyBetween(this.index,c),d.dom!=p&&(this.changed=!0),this.index++,!0;if(!v&&(m=this.recreateWrapper(d,e,n,r,i,l)))return this.destroyBetween(this.index,c),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=Ka,m.updateChildren(i,l+1),m.dirty=Wr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,l){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Yp(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let c=Qo.create(this.top,n,r,i,s,l);if(c.contentDOM){c.children=e.children,e.children=[];for(let d of c.children)d.parent=c}return e.destroy(),c}addNode(e,n,r,i,s){let l=Qo.create(this.top,e,n,r,i,s);l.contentDOM&&l.updateChildren(i,s+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new EM(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof hl;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof ng)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Hn||On)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new TM(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function qU(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,l=[];e:for(;i>0;){let c;for(;;)if(r){let f=n.children[r-1];if(f instanceof hl)n=f,r=f.children.length;else{c=f,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let d=c.node;if(d){if(d!=t.child(i-1))break;--i,s.set(c,i),l.push(c)}}return{index:i,matched:s,matches:l.reverse()}}function WU(t,e){return t.type.side-e.type.side}function GU(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let f=0;f<t.childCount;f++){let p=t.child(f);r(p,i,e.forChild(s,p),f),s+=p.nodeSize}return}let l=0,c=[],d=null;for(let f=0;;){let p,m;for(;l<i.length&&i[l].to==s;){let C=i[l++];C.widget&&(p?(m||(m=[p])).push(C):p=C)}if(p)if(m){m.sort(WU);for(let C=0;C<m.length;C++)n(m[C],f,!!d)}else n(p,f,!!d);let v,w;if(d)w=-1,v=d,d=null;else if(f<t.childCount)w=f,v=t.child(f++);else break;for(let C=0;C<c.length;C++)c[C].to<=s&&c.splice(C--,1);for(;l<i.length&&i[l].from<=s&&i[l].to>s;)c.push(i[l++]);let x=s+v.nodeSize;if(v.isText){let C=x;l<i.length&&i[l].from<C&&(C=i[l].from);for(let _=0;_<c.length;_++)c[_].to<C&&(C=c[_].to);C<x&&(d=v.cut(C-s),v=v.cut(0,C-s),x=C,w=-1)}else for(;l<i.length&&i[l].to<x;)l++;let E=v.isInline&&!v.isLeaf?c.filter(C=>!C.inline):c.slice();r(v,E,e.forChild(s,v),w),s=x}}function KU(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function YU(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let l=t.child(i++),c=s;if(s+=l.nodeSize,!l.isText)continue;let d=l.text;for(;i<t.childCount;){let f=t.child(i++);if(s+=f.nodeSize,!f.isText)break;d+=f.text}if(s>=n){if(s>=r&&d.slice(r-e.length-c,r-c)==e)return r-e.length;let f=c<r?d.lastIndexOf(e,r-c-1):-1;if(f>=0&&f+e.length+c>=n)return c+f;if(n==r&&d.length>=r+e.length-c&&d.slice(r-c,r-c+e.length)==e)return r}}return-1}function sv(t,e,n,r,i){let s=[];for(let l=0,c=0;l<t.length;l++){let d=t[l],f=c,p=c+=d.size;f>=n||p<=e?s.push(d):(f<e&&s.push(d.slice(0,e-f,r)),i&&(s.push(i),i=void 0),p>n&&s.push(d.slice(n-f,d.size,r)))}return s}function bb(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,l=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let c=r.resolve(l),d,f;if(tg(n)){for(d=l;i&&!i.node;)i=i.parent;let m=i.node;if(i&&m.isAtom&&Ie.isSelectable(m)&&i.parent&&!(m.isInline&&SU(n.focusNode,n.focusOffset,i.dom))){let v=i.posBefore;f=new Ie(l==v?c:r.resolve(v))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let m=l,v=l;for(let w=0;w<n.rangeCount;w++){let x=n.getRangeAt(w);m=Math.min(m,t.docView.posFromDOM(x.startContainer,x.startOffset,1)),v=Math.max(v,t.docView.posFromDOM(x.endContainer,x.endOffset,-1))}if(m<0)return null;[d,l]=v==t.state.selection.anchor?[v,m]:[m,v],c=r.resolve(l)}else d=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null}let p=r.resolve(d);if(!f){let m=e=="pointer"||t.state.selection.head<c.pos&&!s?1:-1;f=wb(t,p,c,m)}return f}function NM(t){return t.editable?t.hasFocus():OM(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function js(t,e=!1){let n=t.state.selection;if(MM(t,n),!!NM(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&On){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&fl(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)JU(t);else{let{anchor:r,head:i}=n,s,l;QT&&!(n instanceof Ve)&&(n.$from.parent.inlineContent||(s=ZT(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(l=ZT(t,n.to))),t.docView.setSelection(r,i,t,e),QT&&(s&&eC(s),l&&eC(l)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&XU(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const QT=Hn||On&&gM<63;function ZT(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(Hn&&i&&i.contentEditable=="false")return K0(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return K0(i);if(s)return K0(s)}}function K0(t){return t.contentEditable="true",Hn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function eC(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function XU(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!NM(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function JU(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,xn(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&nr&&Jo<=11&&(r.disabled=!0,r.disabled=!1)}function MM(t,e){if(e instanceof Ie){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(tC(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else tC(t)}function tC(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function wb(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||Ve.between(e,n,r)}function nC(t){return t.editable&&!t.hasFocus()?!1:OM(t)}function OM(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function QU(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return fl(e.node,e.offset,n.anchorNode,n.anchorOffset)}function ov(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Be.findFrom(s,e)}function Ro(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function rC(t,e,n){let r=t.state.selection;if(r instanceof Ve)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let l=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return Ro(t,new Ve(r.$anchor,l))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=ov(t.state,e);return i&&i instanceof Ie?Ro(t,i):!1}else if(!(Vr&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,l;if(!s||s.isText)return!1;let c=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(l=t.docView.descAt(c))&&!l.contentDOM?Ie.isSelectable(s)?Ro(t,new Ie(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):df?Ro(t,new Ve(t.state.doc.resolve(e<0?c:c+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Ie&&r.node.isInline)return Ro(t,new Ve(e>0?r.$to:r.$from));{let i=ov(t.state,e);return i?Ro(t,i):!1}}}function Xp(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function vd(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function lc(t,e){return e<0?ZU(t):eB(t)}function ZU(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,l=!1;for(di&&n.nodeType==1&&r<Xp(n)&&vd(n.childNodes[r],-1)&&(l=!0);;)if(r>0){if(n.nodeType!=1)break;{let c=n.childNodes[r-1];if(vd(c,-1))i=n,s=--r;else if(c.nodeType==3)n=c,r=n.nodeValue.length;else break}}else{if(_M(n))break;{let c=n.previousSibling;for(;c&&vd(c,-1);)i=n.parentNode,s=xn(c),c=c.previousSibling;if(c)n=c,r=Xp(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}l?av(t,n,r):i&&av(t,i,s)}function eB(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Xp(n),s,l;for(;;)if(r<i){if(n.nodeType!=1)break;let c=n.childNodes[r];if(vd(c,1))s=n,l=++r;else break}else{if(_M(n))break;{let c=n.nextSibling;for(;c&&vd(c,1);)s=c.parentNode,l=xn(c)+1,c=c.nextSibling;if(c)n=c,r=0,i=Xp(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&av(t,s,l)}function _M(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function tB(t,e){for(;t&&e==t.childNodes.length&&!uf(t);)e=xn(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function nB(t,e){for(;t&&!e&&!uf(t);)e=xn(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function av(t,e,n){if(e.nodeType!=3){let s,l;(l=tB(e,n))?(e=l,n=0):(s=nB(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(tg(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&js(t)},50)}function iC(t,e){let n=t.state.doc.resolve(e);if(!(On||TU)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),l=(s.top+s.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),l=(s.top+s.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function sC(t,e,n){let r=t.state.selection;if(r instanceof Ve&&!r.empty||n.indexOf("s")>-1||Vr&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let l=ov(t.state,e);if(l&&l instanceof Ie)return Ro(t,l)}if(!i.parent.inlineContent){let l=e<0?i:s,c=r instanceof br?Be.near(l,e):Be.findFrom(l,e);return c?Ro(t,c):!1}return!1}function oC(t,e){if(!(t.state.selection instanceof Ve))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let l=t.state.tr;return e<0?l.delete(n.pos-s.nodeSize,n.pos):l.delete(n.pos,n.pos+s.nodeSize),t.dispatch(l),!0}return!1}function aC(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function rB(t){if(!Hn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;aC(t,r,"true"),setTimeout(()=>aC(t,r,"false"),20)}return!1}function iB(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function sB(t,e){let n=e.keyCode,r=iB(e);if(n==8||Vr&&n==72&&r=="c")return oC(t,-1)||lc(t,-1);if(n==46&&!e.shiftKey||Vr&&n==68&&r=="c")return oC(t,1)||lc(t,1);if(n==13||n==27)return!0;if(n==37||Vr&&n==66&&r=="c"){let i=n==37?iC(t,t.state.selection.from)=="ltr"?-1:1:-1;return rC(t,i,r)||lc(t,i)}else if(n==39||Vr&&n==70&&r=="c"){let i=n==39?iC(t,t.state.selection.from)=="ltr"?1:-1:1;return rC(t,i,r)||lc(t,i)}else{if(n==38||Vr&&n==80&&r=="c")return sC(t,-1,r)||lc(t,-1);if(n==40||Vr&&n==78&&r=="c")return rB(t)||sC(t,1,r)||lc(t,1);if(r==(Vr?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Sb(t,e){t.someProp("transformCopied",w=>{e=w(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let w=r.firstChild;n.push(w.type.name,w.attrs!=w.type.defaultAttrs?w.attrs:null),r=w.content}let l=t.someProp("clipboardSerializer")||wl.fromSchema(t.state.schema),c=PM(),d=c.createElement("div");d.appendChild(l.serializeFragment(r,{document:c}));let f=d.firstChild,p,m=0;for(;f&&f.nodeType==1&&(p=LM[f.nodeName.toLowerCase()]);){for(let w=p.length-1;w>=0;w--){let x=c.createElement(p[w]);for(;d.firstChild;)x.appendChild(d.firstChild);d.appendChild(x),m++}f=d.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${i} ${s}${m?` -${m}`:""} ${JSON.stringify(n)}`);let v=t.someProp("clipboardTextSerializer",w=>w(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:v,slice:e}}function RM(t,e,n,r,i){let s=i.parent.type.spec.code,l,c;if(!n&&!e)return null;let d=e&&(r||s||!n);if(d){if(t.someProp("transformPastedText",v=>{e=v(e,s||r,t)}),s)return e?new be(fe.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):be.empty;let m=t.someProp("clipboardTextParser",v=>v(e,i,r,t));if(m)c=m;else{let v=i.marks(),{schema:w}=t.state,x=wl.fromSchema(w);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(E=>{let C=l.appendChild(document.createElement("p"));E&&C.appendChild(x.serializeNode(w.text(E,v)))})}}else t.someProp("transformPastedHTML",m=>{n=m(n,t)}),l=cB(n),df&&uB(l);let f=l&&l.querySelector("[data-pm-slice]"),p=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let m=+p[3];m>0;m--){let v=l.firstChild;for(;v&&v.nodeType!=1;)v=v.nextSibling;if(!v)break;l=v}if(c||(c=(t.someProp("clipboardParser")||t.someProp("domParser")||md.fromSchema(t.state.schema)).parseSlice(l,{preserveWhitespace:!!(d||p),context:i,ruleFromNode(v){return v.nodeName=="BR"&&!v.nextSibling&&v.parentNode&&!oB.test(v.parentNode.nodeName)?{ignore:!0}:null}})),p)c=dB(lC(c,+p[1],+p[2]),p[4]);else if(c=be.maxOpen(aB(c.content,i),!0),c.openStart||c.openEnd){let m=0,v=0;for(let w=c.content.firstChild;m<c.openStart&&!w.type.spec.isolating;m++,w=w.firstChild);for(let w=c.content.lastChild;v<c.openEnd&&!w.type.spec.isolating;v++,w=w.lastChild);c=lC(c,m,v)}return t.someProp("transformPasted",m=>{c=m(c,t)}),c}const oB=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function aB(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,l=[];if(t.forEach(c=>{if(!l)return;let d=i.findWrapping(c.type),f;if(!d)return l=null;if(f=l.length&&s.length&&IM(d,s,c,l[l.length-1],0))l[l.length-1]=f;else{l.length&&(l[l.length-1]=jM(l[l.length-1],s.length));let p=DM(c,d);l.push(p),i=i.matchType(p.type),s=d}}),l)return fe.from(l)}return t}function DM(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,fe.from(t));return t}function IM(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=IM(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(fe.from(DM(n,t,i+1))))}}function jM(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,jM(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(fe.empty,!0);return t.copy(n.append(r))}function lv(t,e,n,r,i,s){let l=e<0?t.firstChild:t.lastChild,c=l.content;return t.childCount>1&&(s=0),i<r-1&&(c=lv(c,e,n,r,i+1,s)),i>=n&&(c=e<0?l.contentMatchAt(0).fillBefore(c,s<=i).append(c):c.append(l.contentMatchAt(l.childCount).fillBefore(fe.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,l.copy(c))}function lC(t,e,n){return e<t.openStart&&(t=new be(lv(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new be(lv(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const LM={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let cC=null;function PM(){return cC||(cC=document.implementation.createHTMLDocument("title"))}let Y0=null;function lB(t){let e=window.trustedTypes;return e?(Y0||(Y0=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Y0.createHTML(t)):t}function cB(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=PM().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&LM[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=lB(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function uB(t){let e=t.querySelectorAll(On?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function dB(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:l}=t;for(let c=r.length-2;c>=0;c-=2){let d=n.nodes[r[c]];if(!d||d.hasRequiredAttrs())break;i=fe.from(d.create(r[c+1],i)),s++,l++}return new be(i,s,l)}const Vn={},$n={},fB={touchstart:!0,touchmove:!0};class hB{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function pB(t){for(let e in Vn){let n=Vn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{gB(t,r)&&!xb(t,r)&&(t.editable||!(r.type in $n))&&n(t,r)},fB[e]?{passive:!0}:void 0)}Hn&&t.dom.addEventListener("input",()=>null),cv(t)}function Fo(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function mB(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function cv(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>xb(t,r))})}function xb(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function gB(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function yB(t,e){!xb(t,e)&&Vn[e.type]&&(t.editable||!(e.type in $n))&&Vn[e.type](t,e)}$n.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!UM(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(_s&&On&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Pc&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Fa(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||sB(t,n)?n.preventDefault():Fo(t,"key")};$n.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};$n.keypress=(t,e)=>{let n=e;if(UM(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Vr&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Ve)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",l=>l(t,r.$from.pos,r.$to.pos,i,s))&&t.dispatch(s()),n.preventDefault()}};function rg(t){return{left:t.clientX,top:t.clientY}}function vB(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Eb(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let l=s.depth+1;l>0;l--)if(t.someProp(e,c=>l>s.depth?c(t,n,s.nodeAfter,s.before(l),i,!0):c(t,n,s.node(l),s.before(l),i,!1)))return!0;return!1}function Mc(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function bB(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Ie.isSelectable(r)?(Mc(t,new Ie(n)),!0):!1}function wB(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof Ie&&(r=n.node);let s=t.state.doc.resolve(e);for(let l=s.depth+1;l>0;l--){let c=l>s.depth?s.nodeAfter:s.node(l);if(Ie.isSelectable(c)){r&&n.$from.depth>0&&l>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(l);break}}return i!=null?(Mc(t,Ie.create(t.state.doc,i)),!0):!1}function SB(t,e,n,r,i){return Eb(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?wB(t,n):bB(t,n))}function xB(t,e,n,r){return Eb(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function EB(t,e,n,r){return Eb(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||TB(t,n,r)}function TB(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Mc(t,Ve.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let l=s>i.depth?i.nodeAfter:i.node(s),c=i.before(s);if(l.inlineContent)Mc(t,Ve.create(r,c+1,c+1+l.content.size));else if(Ie.isSelectable(l))Mc(t,Ie.create(r,c));else continue;return!0}}function Tb(t){return Jp(t)}const zM=Vr?"metaKey":"ctrlKey";Vn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=Tb(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&vB(n,t.input.lastClick)&&!n[zM]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let l=t.posAtCoords(rg(n));l&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new CB(t,l,n,!!r)):(s=="doubleClick"?xB:EB)(t,l.pos,l.inside,n)?n.preventDefault():Fo(t,"pointer"))};class CB{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[zM],this.allowDefault=r.shiftKey;let s,l;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),l=n.inside;else{let p=e.state.doc.resolve(n.pos);s=p.parent,l=p.depth?p.before():0}const c=i?null:r.target,d=c?e.docView.nearestDesc(c,!0):null;this.target=d&&d.dom.nodeType==1?d.dom:null;let{selection:f}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||f instanceof Ie&&f.from<=l&&f.to>l)&&(this.mightDrag={node:s,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&di&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Fo(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>js(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(rg(e))),this.updateAllowDefault(e),this.allowDefault||!n?Fo(this.view,"pointer"):SB(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Hn&&this.mightDrag&&!this.mightDrag.node.isAtom||On&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Mc(this.view,Be.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Fo(this.view,"pointer")}move(e){this.updateAllowDefault(e),Fo(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Vn.touchstart=t=>{t.input.lastTouch=Date.now(),Tb(t),Fo(t,"pointer")};Vn.touchmove=t=>{t.input.lastTouch=Date.now(),Fo(t,"pointer")};Vn.contextmenu=t=>Tb(t);function UM(t,e){return t.composing?!0:Hn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const kB=_s?5e3:-1;$n.compositionstart=$n.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Ve&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Jp(t,!0),t.markCursor=null;else if(Jp(t,!e.selection.empty),di&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let l=s<0?i.lastChild:i.childNodes[s-1];if(!l)break;if(l.nodeType==3){let c=t.domSelection();c&&c.collapse(l,l.nodeValue.length);break}else i=l,s=-1}}t.input.composing=!0}BM(t,kB)};$n.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,BM(t,20))};function BM(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Jp(t),e))}function HM(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=NB());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function AB(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=bU(e.focusNode,e.focusOffset),r=wU(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let l=n.pmViewDesc;if(!(!l||!l.isText(n.nodeValue)))return r}}return n||r}function NB(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Jp(t,e=!1){if(!(_s&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),HM(t),e||t.docView&&t.docView.dirty){let n=bb(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function MB(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Bd=nr&&Jo<15||Pc&&CU<604;Vn.copy=$n.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=Bd?null:n.clipboardData,l=r.content(),{dom:c,text:d}=Sb(t,l);s?(n.preventDefault(),s.clearData(),s.setData("text/html",c.innerHTML),s.setData("text/plain",d)):MB(t,c),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function OB(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function _B(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Hd(t,r.value,null,i,e):Hd(t,r.textContent,r.innerHTML,i,e)},50)}function Hd(t,e,n,r,i){let s=RM(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",d=>d(t,i,s||be.empty)))return!0;if(!s)return!1;let l=OB(s),c=l?t.state.tr.replaceSelectionWith(l,r):t.state.tr.replaceSelection(s);return t.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function VM(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}$n.paste=(t,e)=>{let n=e;if(t.composing&&!_s)return;let r=Bd?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Hd(t,VM(r),r.getData("text/html"),i,n)?n.preventDefault():_B(t,n)};class $M{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const RB=Vr?"altKey":"ctrlKey";function FM(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[RB]}Vn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(rg(n)),l;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof Ie?i.to-1:i.to))){if(r&&r.mightDrag)l=Ie.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let m=t.docView.nearestDesc(n.target,!0);m&&m.node.type.spec.draggable&&m!=t.docView&&(l=Ie.create(t.state.doc,m.posBefore))}}let c=(l||t.state.selection).content(),{dom:d,text:f,slice:p}=Sb(t,c);(!n.dataTransfer.files.length||!On||gM>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Bd?"Text":"text/html",d.innerHTML),n.dataTransfer.effectAllowed="copyMove",Bd||n.dataTransfer.setData("text/plain",f),t.dragging=new $M(p,FM(t,n),l)};Vn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};$n.dragover=$n.dragenter=(t,e)=>e.preventDefault();$n.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(rg(n));if(!i)return;let s=t.state.doc.resolve(i.pos),l=r&&r.slice;l?t.someProp("transformPasted",x=>{l=x(l,t)}):l=RM(t,VM(n.dataTransfer),Bd?null:n.dataTransfer.getData("text/html"),!1,s);let c=!!(r&&FM(t,n));if(t.someProp("handleDrop",x=>x(t,n,l||be.empty,c))){n.preventDefault();return}if(!l)return;n.preventDefault();let d=l?oM(t.state.doc,s.pos,l):s.pos;d==null&&(d=s.pos);let f=t.state.tr;if(c){let{node:x}=r;x?x.replace(f):f.deleteSelection()}let p=f.mapping.map(d),m=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,v=f.doc;if(m?f.replaceRangeWith(p,p,l.content.firstChild):f.replaceRange(p,p,l),f.doc.eq(v))return;let w=f.doc.resolve(p);if(m&&Ie.isSelectable(l.content.firstChild)&&w.nodeAfter&&w.nodeAfter.sameMarkup(l.content.firstChild))f.setSelection(new Ie(w));else{let x=f.mapping.map(d);f.mapping.maps[f.mapping.maps.length-1].forEach((E,C,_,I)=>x=I),f.setSelection(wb(t,w,f.doc.resolve(x)))}t.focus(),t.dispatch(f.setMeta("uiEvent","drop"))};Vn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&js(t)},20))};Vn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Vn.beforeinput=(t,e)=>{if(On&&_s&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,Fa(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in $n)Vn[t]=$n[t];function Vd(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Qp{constructor(e,n){this.toDOM=e,this.spec=n||nl,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:l}=e.mapResult(n.from+i,this.side<0?-1:1);return l?null:new Un(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Qp&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Vd(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Zo{constructor(e,n){this.attrs=e,this.spec=n||nl}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,l=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=l?null:new Un(s,l,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Zo&&Vd(this.attrs,e.attrs)&&Vd(this.spec,e.spec)}static is(e){return e.type instanceof Zo}destroy(){}}class Cb{constructor(e,n){this.attrs=e,this.spec=n||nl}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let l=e.mapResult(n.to+i,-1);return l.deleted||l.pos<=s.pos?null:new Un(s.pos-r,l.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof Cb&&Vd(this.attrs,e.attrs)&&Vd(this.spec,e.spec)}destroy(){}}class Un{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Un(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Un(e,e,new Qp(n,r))}static inline(e,n,r,i){return new Un(e,n,new Zo(r,i))}static node(e,n,r,i){return new Un(e,n,new Cb(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Zo}get widget(){return this.type instanceof Qp}}const gc=[],nl={};class zt{constructor(e,n){this.local=e.length?e:gc,this.children=n.length?n:gc}static create(e,n){return n.length?Zp(n,e,0,nl):Nn}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let l=0;l<this.local.length;l++){let c=this.local[l];c.from<=n&&c.to>=e&&(!s||s(c.spec))&&r.push(c.copy(c.from+i,c.to+i))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<n&&this.children[l+1]>e){let c=this.children[l]+1;this.children[l+2].findInner(e-c,n-c,r,i+c,s)}}map(e,n,r){return this==Nn||e.maps.length==0?this:this.mapInner(e,n,0,0,r||nl)}mapInner(e,n,r,i,s){let l;for(let c=0;c<this.local.length;c++){let d=this.local[c].map(e,r,i);d&&d.type.valid(n,d)?(l||(l=[])).push(d):s.onRemove&&s.onRemove(this.local[c].spec)}return this.children.length?DB(this.children,l||[],e,n,r,i,s):l?new zt(l.sort(rl),gc):Nn}add(e,n){return n.length?this==Nn?zt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((c,d)=>{let f=d+r,p;if(p=WM(n,c,f)){for(i||(i=this.children.slice());s<i.length&&i[s]<d;)s+=3;i[s]==d?i[s+2]=i[s+2].addInner(c,p,f+1):i.splice(s,0,d,d+c.nodeSize,Zp(p,c,f+1,nl)),s+=3}});let l=qM(s?GM(n):n,-r);for(let c=0;c<l.length;c++)l[c].type.valid(e,l[c])||l.splice(c--,1);return new zt(l.length?this.local.concat(l).sort(rl):this.local,i||this.children)}remove(e){return e.length==0||this==Nn?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let l,c=r[s]+n,d=r[s+1]+n;for(let p=0,m;p<e.length;p++)(m=e[p])&&m.from>c&&m.to<d&&(e[p]=null,(l||(l=[])).push(m));if(!l)continue;r==this.children&&(r=this.children.slice());let f=r[s+2].removeInner(l,c+1);f!=Nn?r[s+2]=f:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,l;s<e.length;s++)if(l=e[s])for(let c=0;c<i.length;c++)i[c].eq(l,n)&&(i==this.local&&(i=this.local.slice()),i.splice(c--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new zt(i,r):Nn}forChild(e,n){if(this==Nn)return this;if(n.isLeaf)return zt.empty;let r,i;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(r=this.children[c+2]);break}let s=e+1,l=s+n.content.size;for(let c=0;c<this.local.length;c++){let d=this.local[c];if(d.from<l&&d.to>s&&d.type instanceof Zo){let f=Math.max(s,d.from)-s,p=Math.min(l,d.to)-s;f<p&&(i||(i=[])).push(d.copy(f,p))}}if(i){let c=new zt(i.sort(rl),gc);return r?new Bo([c,r]):c}return r||Nn}eq(e){if(this==e)return!0;if(!(e instanceof zt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return kb(this.localsInner(e))}localsInner(e){if(this==Nn)return gc;if(e.inlineContent||!this.local.some(Zo.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Zo||n.push(this.local[r]);return n}forEachSet(e){e(this)}}zt.empty=new zt([],[]);zt.removeOverlap=kb;const Nn=zt.empty;class Bo{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,nl));return Bo.from(r)}forChild(e,n){if(n.isLeaf)return zt.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=Nn&&(s instanceof Bo?r=r.concat(s.members):r.push(s))}return Bo.from(r)}eq(e){if(!(e instanceof Bo)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let l=0;l<s.length;l++)n.push(s[l])}}return n?kb(r?n:n.sort(rl)):gc}static from(e){switch(e.length){case 0:return Nn;case 1:return e[0];default:return new Bo(e.every(n=>n instanceof zt)?e:e.reduce((n,r)=>n.concat(r instanceof zt?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function DB(t,e,n,r,i,s,l){let c=t.slice();for(let f=0,p=s;f<n.maps.length;f++){let m=0;n.maps[f].forEach((v,w,x,E)=>{let C=E-x-(w-v);for(let _=0;_<c.length;_+=3){let I=c[_+1];if(I<0||v>I+p-m)continue;let L=c[_]+p-m;w>=L?c[_+1]=v<=L?-2:-1:v>=p&&C&&(c[_]+=C,c[_+1]+=C)}m+=C}),p=n.maps[f].map(p,-1)}let d=!1;for(let f=0;f<c.length;f+=3)if(c[f+1]<0){if(c[f+1]==-2){d=!0,c[f+1]=-1;continue}let p=n.map(t[f]+s),m=p-i;if(m<0||m>=r.content.size){d=!0;continue}let v=n.map(t[f+1]+s,-1),w=v-i,{index:x,offset:E}=r.content.findIndex(m),C=r.maybeChild(x);if(C&&E==m&&E+C.nodeSize==w){let _=c[f+2].mapInner(n,C,p+1,t[f]+s+1,l);_!=Nn?(c[f]=m,c[f+1]=w,c[f+2]=_):(c[f+1]=-2,d=!0)}else d=!0}if(d){let f=IB(c,t,e,n,i,s,l),p=Zp(f,r,0,l);e=p.local;for(let m=0;m<c.length;m+=3)c[m+1]<0&&(c.splice(m,3),m-=3);for(let m=0,v=0;m<p.children.length;m+=3){let w=p.children[m];for(;v<c.length&&c[v]<w;)v+=3;c.splice(v,0,p.children[m],p.children[m+1],p.children[m+2])}}return new zt(e.sort(rl),c)}function qM(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Un(i.from+e,i.to+e,i.type))}return n}function IB(t,e,n,r,i,s,l){function c(d,f){for(let p=0;p<d.local.length;p++){let m=d.local[p].map(r,i,f);m?n.push(m):l.onRemove&&l.onRemove(d.local[p].spec)}for(let p=0;p<d.children.length;p+=3)c(d.children[p+2],d.children[p]+f+1)}for(let d=0;d<t.length;d+=3)t[d+1]==-1&&c(t[d+2],e[d]+s+1);return n}function WM(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,l;s<t.length;s++)(l=t[s])&&l.from>n&&l.to<r&&((i||(i=[])).push(l),t[s]=null);return i}function GM(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Zp(t,e,n,r){let i=[],s=!1;e.forEach((c,d)=>{let f=WM(t,c,d+n);if(f){s=!0;let p=Zp(f,c,n+d+1,r);p!=Nn&&i.push(d,d+c.nodeSize,p)}});let l=qM(s?GM(t):t,-n).sort(rl);for(let c=0;c<l.length;c++)l[c].type.valid(e,l[c])||(r.onRemove&&r.onRemove(l[c].spec),l.splice(c--,1));return l.length||i.length?new zt(l,i):Nn}function rl(t,e){return t.from-e.from||t.to-e.to}function kb(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),uC(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),uC(e,i,r.copy(s.from,r.to)));break}}}return e}function uC(t,e,n){for(;e<t.length&&rl(n,t[e])>0;)e++;t.splice(e,0,n)}function X0(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Nn&&e.push(r)}),t.cursorWrapper&&e.push(zt.create(t.state.doc,[t.cursorWrapper.deco])),Bo.from(e)}const jB={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},LB=nr&&Jo<=11;class PB{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class zB{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new PB,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);nr&&Jo<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),LB&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,jB)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(nC(this.view)){if(this.suppressingSelectionUpdates)return js(this.view);if(nr&&Jo<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&fl(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=Lc(s))n.add(s);for(let s=e.anchorNode;s;s=Lc(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&nC(e)&&!this.ignoreSelectionChange(r),s=-1,l=-1,c=!1,d=[];if(e.editable)for(let p=0;p<n.length;p++){let m=this.registerMutation(n[p],d);m&&(s=s<0?m.from:Math.min(m.from,s),l=l<0?m.to:Math.max(m.to,l),m.typeOver&&(c=!0))}if(di&&d.length){let p=d.filter(m=>m.nodeName=="BR");if(p.length==2){let[m,v]=p;m.parentNode&&m.parentNode.parentNode==v.parentNode?v.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let v of p){let w=v.parentNode;w&&w.nodeName=="LI"&&(!m||HB(e,m)!=w)&&v.remove()}}}let f=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&tg(r)&&(f=bb(e))&&f.eq(Be.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,js(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,l),UB(e)),this.handleDOMChange(s,l,c,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||js(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let m=e.addedNodes[p];n.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(nr&&Jo<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:m,nextSibling:v}=e.addedNodes[p];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(i=m),(!v||Array.prototype.indexOf.call(e.addedNodes,v)<0)&&(s=v)}let l=i&&i.parentNode==e.target?xn(i)+1:0,c=r.localPosFromDOM(e.target,l,-1),d=s&&s.parentNode==e.target?xn(s):e.target.childNodes.length,f=r.localPosFromDOM(e.target,d,1);return{from:c,to:f}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let dC=new WeakMap,fC=!1;function UB(t){if(!dC.has(t)&&(dC.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=di,fC)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),fC=!0}}function hC(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,l=t.domAtPos(t.state.selection.anchor);return fl(l.node,l.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function BB(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return hC(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?hC(t,n):null}function HB(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function VB(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:l,to:c}=t.docView.parseRange(e,n),d=t.domSelectionRange(),f,p=d.anchorNode;if(p&&t.dom.contains(p.nodeType==1?p:p.parentNode)&&(f=[{node:p,offset:d.anchorOffset}],tg(d)||f.push({node:d.focusNode,offset:d.focusOffset})),On&&t.input.lastKeyCode===8)for(let C=s;C>i;C--){let _=r.childNodes[C-1],I=_.pmViewDesc;if(_.nodeName=="BR"&&!I){s=C;break}if(!I||I.size)break}let m=t.state.doc,v=t.someProp("domParser")||md.fromSchema(t.state.schema),w=m.resolve(l),x=null,E=v.parse(r,{topNode:w.parent,topMatch:w.parent.contentMatchAt(w.index()),topOpen:!0,from:i,to:s,preserveWhitespace:w.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:$B,context:w});if(f&&f[0].pos!=null){let C=f[0].pos,_=f[1]&&f[1].pos;_==null&&(_=C),x={anchor:C+l,head:_+l}}return{doc:E,sel:x,from:l,to:c}}function $B(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Hn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Hn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const FB=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function qB(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let O=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,D=bb(t,O);if(D&&!t.state.selection.eq(D)){if(On&&_s&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",V=>V(t,Fa(13,"Enter"))))return;let M=t.state.tr.setSelection(D);O=="pointer"?M.setMeta("pointer",!0):O=="key"&&M.scrollIntoView(),s&&M.setMeta("composition",s),t.dispatch(M)}return}let l=t.state.doc.resolve(e),c=l.sharedDepth(n);e=l.before(c+1),n=t.state.doc.resolve(n).after(c+1);let d=t.state.selection,f=VB(t,e,n),p=t.state.doc,m=p.slice(f.from,f.to),v,w;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(v=t.state.selection.to,w="end"):(v=t.state.selection.from,w="start"),t.input.lastKeyCode=null;let x=KB(m.content,f.doc.content,f.from,v,w);if(x&&t.input.domChangeCount++,(Pc&&t.input.lastIOSEnter>Date.now()-225||_s)&&i.some(O=>O.nodeType==1&&!FB.test(O.nodeName))&&(!x||x.endA>=x.endB)&&t.someProp("handleKeyDown",O=>O(t,Fa(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!x)if(r&&d instanceof Ve&&!d.empty&&d.$head.sameParent(d.$anchor)&&!t.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))x={start:d.from,endA:d.to,endB:d.to};else{if(f.sel){let O=pC(t,t.state.doc,f.sel);if(O&&!O.eq(t.state.selection)){let D=t.state.tr.setSelection(O);s&&D.setMeta("composition",s),t.dispatch(D)}}return}t.state.selection.from<t.state.selection.to&&x.start==x.endB&&t.state.selection instanceof Ve&&(x.start>t.state.selection.from&&x.start<=t.state.selection.from+2&&t.state.selection.from>=f.from?x.start=t.state.selection.from:x.endA<t.state.selection.to&&x.endA>=t.state.selection.to-2&&t.state.selection.to<=f.to&&(x.endB+=t.state.selection.to-x.endA,x.endA=t.state.selection.to)),nr&&Jo<=11&&x.endB==x.start+1&&x.endA==x.start&&x.start>f.from&&f.doc.textBetween(x.start-f.from-1,x.start-f.from+1)==" "&&(x.start--,x.endA--,x.endB--);let E=f.doc.resolveNoCache(x.start-f.from),C=f.doc.resolveNoCache(x.endB-f.from),_=p.resolve(x.start),I=E.sameParent(C)&&E.parent.inlineContent&&_.end()>=x.endA,L;if((Pc&&t.input.lastIOSEnter>Date.now()-225&&(!I||i.some(O=>O.nodeName=="DIV"||O.nodeName=="P"))||!I&&E.pos<f.doc.content.size&&(!E.sameParent(C)||!E.parent.inlineContent)&&!/\S/.test(f.doc.textBetween(E.pos,C.pos,"",""))&&(L=Be.findFrom(f.doc.resolve(E.pos+1),1,!0))&&L.head>E.pos)&&t.someProp("handleKeyDown",O=>O(t,Fa(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>x.start&&GB(p,x.start,x.endA,E,C)&&t.someProp("handleKeyDown",O=>O(t,Fa(8,"Backspace")))){_s&&On&&t.domObserver.suppressSelectionUpdates();return}On&&x.endB==x.start&&(t.input.lastChromeDelete=Date.now()),_s&&!I&&E.start()!=C.start()&&C.parentOffset==0&&E.depth==C.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==x.endA&&(x.endB-=2,C=f.doc.resolveNoCache(x.endB-f.from),setTimeout(()=>{t.someProp("handleKeyDown",function(O){return O(t,Fa(13,"Enter"))})},20));let U=x.start,P=x.endA,j=O=>{let D=O||t.state.tr.replace(U,P,f.doc.slice(x.start-f.from,x.endB-f.from));if(f.sel){let M=pC(t,D.doc,f.sel);M&&!(On&&t.composing&&M.empty&&(x.start!=x.endB||t.input.lastChromeDelete<Date.now()-100)&&(M.head==U||M.head==D.mapping.map(P)-1)||nr&&M.empty&&M.head==U)&&D.setSelection(M)}return s&&D.setMeta("composition",s),D.scrollIntoView()},R;if(I){if(E.pos==C.pos){nr&&Jo<=11&&E.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>js(t),20));let O=j(t.state.tr.delete(U,P)),D=p.resolve(x.start).marksAcross(p.resolve(x.endA));D&&O.ensureMarks(D),t.dispatch(O)}else if(x.endA==x.endB&&(R=WB(E.parent.content.cut(E.parentOffset,C.parentOffset),_.parent.content.cut(_.parentOffset,x.endA-_.start())))){let O=j(t.state.tr);R.type=="add"?O.addMark(U,P,R.mark):O.removeMark(U,P,R.mark),t.dispatch(O)}else if(E.parent.child(E.index()).isText&&E.index()==C.index()-(C.textOffset?0:1)){let O=E.parent.textBetween(E.parentOffset,C.parentOffset),D=()=>j(t.state.tr.insertText(O,U,P));t.someProp("handleTextInput",M=>M(t,U,P,O,D))||t.dispatch(D())}}else t.dispatch(j())}function pC(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:wb(t,e.resolve(n.anchor),e.resolve(n.head))}function WB(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,l,c,d;for(let p=0;p<r.length;p++)i=r[p].removeFromSet(i);for(let p=0;p<n.length;p++)s=n[p].removeFromSet(s);if(i.length==1&&s.length==0)c=i[0],l="add",d=p=>p.mark(c.addToSet(p.marks));else if(i.length==0&&s.length==1)c=s[0],l="remove",d=p=>p.mark(c.removeFromSet(p.marks));else return null;let f=[];for(let p=0;p<e.childCount;p++)f.push(d(e.child(p)));if(fe.from(f).eq(t))return{mark:c,type:l}}function GB(t,e,n,r,i){if(n-e<=i.pos-r.pos||J0(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let c=s.nodeAfter;return c!=null&&n==e+c.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let l=t.resolve(J0(s,!0,!0));return!l.parent.isTextblock||l.pos>n||J0(l,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(l.parent.content)}function J0(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function KB(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:l,b:c}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let d=Math.max(0,s-Math.min(l,c));r-=l+d-s}if(l<s&&t.size<e.size){let d=r<=s&&r>=l?s-r:0;s-=d,s&&s<e.size&&mC(e.textBetween(s-1,s+1))&&(s+=d?1:-1),c=s+(c-l),l=s}else if(c<s){let d=r<=s&&r>=c?s-r:0;s-=d,s&&s<t.size&&mC(t.textBetween(s-1,s+1))&&(s+=d?1:-1),l=s+(l-c),c=s}return{start:s,endA:l,endB:c}}function mC(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class KM{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new hB,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(wC),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=vC(this),yC(this),this.nodeViews=bC(this),this.docView=XT(this.state.doc,gC(this),X0(this),this.dom,this),this.domObserver=new zB(this,(r,i,s,l)=>qB(this,r,i,s,l)),this.domObserver.start(),pB(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&cv(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(wC),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,l=!1;e.storedMarks&&this.composing&&(HM(this),l=!0),this.state=e;let c=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(c||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let w=bC(this);XB(w,this.nodeViews)&&(this.nodeViews=w,s=!0)}(c||n.handleDOMEvents!=this._props.handleDOMEvents)&&cv(this),this.editable=vC(this),yC(this);let d=X0(this),f=gC(this),p=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",m=s||!this.docView.matchesNode(e.doc,f,d);(m||!e.selection.eq(i.selection))&&(l=!0);let v=p=="preserve"&&l&&this.dom.style.overflowAnchor==null&&NU(this);if(l){this.domObserver.stop();let w=m&&(nr||On)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&YB(i.selection,e.selection);if(m){let x=On?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=AB(this)),(s||!this.docView.update(e.doc,f,d,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=XT(e.doc,f,d,this.dom,this)),x&&!this.trackWrites&&(w=!0)}w||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&QU(this))?js(this,w):(MM(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():v&&MU(v)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Ie){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&FT(this,n.getBoundingClientRect(),e)}else FT(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new $M(e.slice,e.move,i<0?void 0:Ie.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let l=0;l<this.directPlugins.length;l++){let c=this.directPlugins[l].props[e];if(c!=null&&(i=n?n(c):c))return i}let s=this.state.plugins;if(s)for(let l=0;l<s.length;l++){let c=s[l].props[e];if(c!=null&&(i=n?n(c):c))return i}}hasFocus(){if(nr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&OU(this.dom),js(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return jU(this,e)}coordsAtPos(e,n=1){return SM(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return BU(this,n||this.state,e)}pasteHTML(e,n){return Hd(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Hd(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return Sb(this,e)}destroy(){this.docView&&(mB(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],X0(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,yU())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return yB(this,e)}domSelectionRange(){let e=this.domSelection();return e?Hn&&this.root.nodeType===11&&xU(this.dom.ownerDocument)==this.dom&&BB(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}KM.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function gC(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Un.node(0,t.state.doc.content.size,e)]}function yC(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Un.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function vC(t){return!t.someProp("editable",e=>e(t.state)===!1)}function YB(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function bC(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function XB(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function wC(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var na={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},em={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},JB=typeof navigator<"u"&&/Mac/.test(navigator.platform),QB=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var En=0;En<10;En++)na[48+En]=na[96+En]=String(En);for(var En=1;En<=24;En++)na[En+111]="F"+En;for(var En=65;En<=90;En++)na[En]=String.fromCharCode(En+32),em[En]=String.fromCharCode(En);for(var Q0 in na)em.hasOwnProperty(Q0)||(em[Q0]=na[Q0]);function ZB(t){var e=JB&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||QB&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?em:na)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const eH=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),tH=typeof navigator<"u"&&/Win/.test(navigator.platform);function nH(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,l;for(let c=0;c<e.length-1;c++){let d=e[c];if(/^(cmd|meta|m)$/i.test(d))l=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))i=!0;else if(/^s(hift)?$/i.test(d))s=!0;else if(/^mod$/i.test(d))eH?l=!0:i=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),l&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function rH(t){let e=Object.create(null);for(let n in t)e[nH(n)]=t[n];return e}function Z0(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function iH(t){return new Lt({props:{handleKeyDown:Ab(t)}})}function Ab(t){let e=rH(t);return function(n,r){let i=ZB(r),s,l=e[Z0(i,r)];if(l&&l(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let c=e[Z0(i,r,!1)];if(c&&c(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(tH&&r.ctrlKey&&r.altKey)&&(s=na[r.keyCode])&&s!=i){let c=e[Z0(s,r)];if(c&&c(n.state,n.dispatch,n))return!0}}return!1}}const Nb=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function YM(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const XM=(t,e,n)=>{let r=YM(t,n);if(!r)return!1;let i=Mb(r);if(!i){let l=r.blockRange(),c=l&&Yc(l);return c==null?!1:(e&&e(t.tr.lift(l,c).scrollIntoView()),!0)}let s=i.nodeBefore;if(sO(t,i,e,-1))return!0;if(r.parent.content.size==0&&(zc(s,"end")||Ie.isSelectable(s)))for(let l=r.depth;;l--){let c=Zm(t.doc,r.before(l),r.after(l),be.empty);if(c&&c.slice.size<c.to-c.from){if(e){let d=t.tr.step(c);d.setSelection(zc(s,"end")?Be.findFrom(d.doc.resolve(d.mapping.map(i.pos,-1)),-1):Ie.create(d.doc,i.pos-s.nodeSize)),e(d.scrollIntoView())}return!0}if(l==1||r.node(l-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},sH=(t,e,n)=>{let r=YM(t,n);if(!r)return!1;let i=Mb(r);return i?JM(t,i,e):!1},oH=(t,e,n)=>{let r=ZM(t,n);if(!r)return!1;let i=Ob(r);return i?JM(t,i,e):!1};function JM(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let p=i.lastChild;if(!p)return!1;i=p}let l=e.nodeAfter,c=l,d=e.pos+1;for(;!c.isTextblock;d++){if(c.type.spec.isolating)return!1;let p=c.firstChild;if(!p)return!1;c=p}let f=Zm(t.doc,s,d,be.empty);if(!f||f.from!=s||f instanceof hn&&f.slice.size>=d-s)return!1;if(n){let p=t.tr.step(f);p.setSelection(Ve.create(p.doc,s)),n(p.scrollIntoView())}return!0}function zc(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const QM=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=Mb(r)}let l=s&&s.nodeBefore;return!l||!Ie.isSelectable(l)?!1:(e&&e(t.tr.setSelection(Ie.create(t.doc,s.pos-l.nodeSize)).scrollIntoView()),!0)};function Mb(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function ZM(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const eO=(t,e,n)=>{let r=ZM(t,n);if(!r)return!1;let i=Ob(r);if(!i)return!1;let s=i.nodeAfter;if(sO(t,i,e,1))return!0;if(r.parent.content.size==0&&(zc(s,"start")||Ie.isSelectable(s))){let l=Zm(t.doc,r.before(),r.after(),be.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=t.tr.step(l);c.setSelection(zc(s,"start")?Be.findFrom(c.doc.resolve(c.mapping.map(i.pos)),1):Ie.create(c.doc,c.mapping.map(i.pos))),e(c.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},tO=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=Ob(r)}let l=s&&s.nodeAfter;return!l||!Ie.isSelectable(l)?!1:(e&&e(t.tr.setSelection(Ie.create(t.doc,s.pos)).scrollIntoView()),!0)};function Ob(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const aH=(t,e)=>{let n=t.selection,r=n instanceof Ie,i;if(r){if(n.node.isTextblock||!la(t.doc,n.from))return!1;i=n.from}else if(i=Qm(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(Ie.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},lH=(t,e)=>{let n=t.selection,r;if(n instanceof Ie){if(n.node.isTextblock||!la(t.doc,n.to))return!1;r=n.to}else if(r=Qm(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},cH=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&Yc(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},nO=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function _b(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const uH=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),l=_b(i.contentMatchAt(s));if(!l||!i.canReplaceWith(s,s,l))return!1;if(e){let c=n.after(),d=t.tr.replaceWith(c,c,l.createAndFill());d.setSelection(Be.near(d.doc.resolve(c),1)),e(d.scrollIntoView())}return!0},rO=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof br||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=_b(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let l=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,c=t.tr.insert(l,s.createAndFill());c.setSelection(Ve.create(c.doc,l+1)),e(c.scrollIntoView())}return!0},iO=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Is(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Yc(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function dH(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof Ie&&e.selection.node.isBlock)return!r.parentOffset||!Is(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],l,c,d=!1,f=!1;for(let w=r.depth;;w--)if(r.node(w).isBlock){d=r.end(w)==r.pos+(r.depth-w),f=r.start(w)==r.pos-(r.depth-w),c=_b(r.node(w-1).contentMatchAt(r.indexAfter(w-1))),s.unshift(d&&c?{type:c}:null),l=w;break}else{if(w==1)return!1;s.unshift(null)}let p=e.tr;(e.selection instanceof Ve||e.selection instanceof br)&&p.deleteSelection();let m=p.mapping.map(r.pos),v=Is(p.doc,m,s.length,s);if(v||(s[0]=c?{type:c}:null,v=Is(p.doc,m,s.length,s)),!v)return!1;if(p.split(m,s.length,s),!d&&f&&r.node(l).type!=c){let w=p.mapping.map(r.before(l)),x=p.doc.resolve(w);c&&r.node(l-1).canReplaceWith(x.index(),x.index()+1,c)&&p.setNodeMarkup(p.mapping.map(r.before(l)),c)}return n&&n(p.scrollIntoView()),!0}}const fH=dH(),hH=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(Ie.create(t.doc,i))),!0)};function pH(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||la(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function sO(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,l,c,d=i.type.spec.isolating||s.type.spec.isolating;if(!d&&pH(t,e,n))return!0;let f=!d&&e.parent.canReplace(e.index(),e.index()+1);if(f&&(l=(c=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&c.matchType(l[0]||s.type).validEnd){if(n){let w=e.pos+s.nodeSize,x=fe.empty;for(let _=l.length-1;_>=0;_--)x=fe.from(l[_].create(null,x));x=fe.from(i.copy(x));let E=t.tr.step(new pn(e.pos-1,w,e.pos,w,new be(x,1,0),l.length,!0)),C=E.doc.resolve(w+2*l.length);C.nodeAfter&&C.nodeAfter.type==i.type&&la(E.doc,C.pos)&&E.join(C.pos),n(E.scrollIntoView())}return!0}let p=s.type.spec.isolating||r>0&&d?null:Be.findFrom(e,1),m=p&&p.$from.blockRange(p.$to),v=m&&Yc(m);if(v!=null&&v>=e.depth)return n&&n(t.tr.lift(m,v).scrollIntoView()),!0;if(f&&zc(s,"start",!0)&&zc(i,"end")){let w=i,x=[];for(;x.push(w),!w.isTextblock;)w=w.lastChild;let E=s,C=1;for(;!E.isTextblock;E=E.firstChild)C++;if(w.canReplace(w.childCount,w.childCount,E.content)){if(n){let _=fe.empty;for(let L=x.length-1;L>=0;L--)_=fe.from(x[L].copy(_));let I=t.tr.step(new pn(e.pos-x.length,e.pos+s.nodeSize,e.pos+C,e.pos+s.nodeSize-C,new be(_,x.length,0),0,!0));n(I.scrollIntoView())}return!0}}return!1}function oO(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(Ve.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const mH=oO(-1),gH=oO(1);function yH(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,l=i.blockRange(s),c=l&&gb(l,t,e);return c?(r&&r(n.tr.wrap(l,c).scrollIntoView()),!0):!1}}function SC(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:l},$to:{pos:c}}=n.selection.ranges[s];n.doc.nodesBetween(l,c,(d,f)=>{if(i)return!1;if(!(!d.isTextblock||d.hasMarkup(t,e)))if(d.type==t)i=!0;else{let p=n.doc.resolve(f),m=p.index();i=p.parent.canReplaceWith(m,m+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let l=0;l<n.selection.ranges.length;l++){let{$from:{pos:c},$to:{pos:d}}=n.selection.ranges[l];s.setBlockType(c,d,t,e)}r(s.scrollIntoView())}return!0}}function Rb(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}Rb(Nb,XM,QM);Rb(Nb,eO,tO);Rb(nO,rO,iO,fH);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function vH(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,l=i.blockRange(s);if(!l)return!1;let c=r?n.tr:null;return bH(c,l,t,e)?(r&&r(c.scrollIntoView()),!0):!1}}function bH(t,e,n,r=null){let i=!1,s=e,l=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=l.resolve(e.start-2);s=new Gp(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new Gp(e.$from,l.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let c=gb(s,n,r,e);return c?(t&&wH(t,e,c,i,n),!0):!1}function wH(t,e,n,r,i){let s=fe.empty;for(let p=n.length-1;p>=0;p--)s=fe.from(n[p].type.create(n[p].attrs,s));t.step(new pn(e.start-(r?2:0),e.end,e.start,e.end,new be(s,0,0),n.length,!0));let l=0;for(let p=0;p<n.length;p++)n[p].type==i&&(l=p+1);let c=n.length-l,d=e.start+n.length-(r?2:0),f=e.parent;for(let p=e.startIndex,m=e.endIndex,v=!0;p<m;p++,v=!1)!v&&Is(t.doc,d,c)&&(t.split(d,c),d+=2*c),d+=f.child(p).nodeSize;return t}function SH(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,l=>l.childCount>0&&l.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?xH(e,n,t,s):EH(e,n,s):!0:!1}}function xH(t,e,n,r){let i=t.tr,s=r.end,l=r.$to.end(r.depth);s<l&&(i.step(new pn(s-1,l,s,l,new be(fe.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Gp(i.doc.resolve(r.$from.pos),i.doc.resolve(l),r.depth));const c=Yc(r);if(c==null)return!1;i.lift(r,c);let d=i.doc.resolve(i.mapping.map(s,-1)-1);return la(i.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&i.join(d.pos),e(i.scrollIntoView()),!0}function EH(t,e,n){let r=t.tr,i=n.parent;for(let w=n.end,x=n.endIndex-1,E=n.startIndex;x>E;x--)w-=i.child(x).nodeSize,r.delete(w-1,w+1);let s=r.doc.resolve(n.start),l=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let c=n.startIndex==0,d=n.endIndex==i.childCount,f=s.node(-1),p=s.index(-1);if(!f.canReplace(p+(c?0:1),p+1,l.content.append(d?fe.empty:fe.from(i))))return!1;let m=s.pos,v=m+l.nodeSize;return r.step(new pn(m-(c?1:0),v+(d?1:0),m+1,v-1,new be((c?fe.empty:fe.from(i.copy(fe.empty))).append(d?fe.empty:fe.from(i.copy(fe.empty))),c?0:1,d?0:1),c?0:1)),e(r.scrollIntoView()),!0}function TH(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,f=>f.childCount>0&&f.firstChild.type==t);if(!s)return!1;let l=s.startIndex;if(l==0)return!1;let c=s.parent,d=c.child(l-1);if(d.type!=t)return!1;if(n){let f=d.lastChild&&d.lastChild.type==c.type,p=fe.from(f?t.create():null),m=new be(fe.from(t.create(null,fe.from(c.type.create(null,p)))),f?3:1,0),v=s.start,w=s.end;n(e.tr.step(new pn(v-(f?3:1),w,v,w,m,1,!0)).scrollIntoView())}return!0}}var CH=Object.defineProperty,aO=(t,e)=>{for(var n in e)CH(t,n,{get:e[n],enumerable:!0})};function ig(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}var sg=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,s=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([l,c])=>[l,(...f)=>{const p=c(...f)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,l=[],c=!!t,d=t||i.tr,f=()=>(!c&&e&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(d),l.every(m=>m===!0)),p={...Object.fromEntries(Object.entries(n).map(([m,v])=>[m,(...x)=>{const E=this.buildProps(d,e),C=v(...x)(E);return l.push(C),p}])),run:f};return p}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,s=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([c,d])=>[c,(...f)=>d(...f)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,l={tr:t,editor:r,view:s,state:ig({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([c,d])=>[c,(...f)=>d(...f)(l)]))}};return l}},kH=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}};function lO(t,e){const n=new dM(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}var cO=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&cO(r)}return t};function Kh(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return cO(n)}function $d(t,e,n){if(t instanceof Xo||t instanceof fe)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return fe.fromArray(t.map(c=>e.nodeFromJSON(c)));const l=e.nodeFromJSON(t);return n.errorOnInvalidContent&&l.check(),l}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),$d("",e,n)}if(i){if(n.errorOnInvalidContent){let l=!1,c="";const d=new YN({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:f=>(l=!0,c=typeof f=="string"?f:f.outerHTML,null)}]}})});if(n.slice?md.fromSchema(d).parseSlice(Kh(t),n.parseOptions):md.fromSchema(d).parse(Kh(t),n.parseOptions),n.errorOnInvalidContent&&l)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const s=md.fromSchema(e);return n.slice?s.parseSlice(Kh(t),n.parseOptions).content:s.parse(Kh(t),n.parseOptions)}return $d("",e,n)}function uv(t,e,n={},r={}){return $d(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}function AH(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function NH(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function MH(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function og(t){return e=>MH(e.$from,t)}function De(t,e,n){return t.config[e]===void 0&&t.parent?De(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?De(t.parent,e,n):null}):t.config[e]}function Db(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=De(e,"addExtensions",n);return r?[e,...Db(r())]:e}).flat(10)}function Ib(t,e){const n=wl.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function uO(t){return typeof t=="function"}function bt(t,e=void 0,...n){return uO(t)?e?t.bind(e)(...n):t(...n):t}function OH(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Fd(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function dO(t){const e=[],{nodeExtensions:n,markExtensions:r}=Fd(t),i=[...n,...r],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(l=>{const c={name:l.name,options:l.options,storage:l.storage,extensions:i},d=De(l,"addGlobalAttributes",c);if(!d)return;d().forEach(p=>{p.types.forEach(m=>{Object.entries(p.attributes).forEach(([v,w])=>{e.push({type:m,name:v,attribute:{...s,...w}})})})})}),i.forEach(l=>{const c={name:l.name,options:l.options,storage:l.storage},d=De(l,"addAttributes",c);if(!d)return;const f=d();Object.entries(f).forEach(([p,m])=>{const v={...s,...m};typeof v?.default=="function"&&(v.default=v.default()),v?.isRequired&&v?.default===void 0&&delete v.default,e.push({type:l.name,name:p,attribute:v})})}),e}function Ft(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const c=s?String(s).split(" "):[],d=r[i]?r[i].split(" "):[],f=c.filter(p=>!d.includes(p));r[i]=[...d,...f].join(" ")}else if(i==="style"){const c=s?s.split(";").map(p=>p.trim()).filter(Boolean):[],d=r[i]?r[i].split(";").map(p=>p.trim()).filter(Boolean):[],f=new Map;d.forEach(p=>{const[m,v]=p.split(":").map(w=>w.trim());f.set(m,v)}),c.forEach(p=>{const[m,v]=p.split(":").map(w=>w.trim());f.set(m,v)}),r[i]=Array.from(f.entries()).map(([p,m])=>`${p}: ${m}`).join("; ")}else r[i]=s}),r},{})}function tm(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Ft(n,r),{})}function _H(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function xC(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,l)=>{const c=l.attribute.parseHTML?l.attribute.parseHTML(n):_H(n.getAttribute(l.name));return c==null?s:{...s,[l.name]:c}},{});return{...r,...i}}}}function EC(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&OH(n)?!1:n!=null))}function RH(t,e){var n;const r=dO(t),{nodeExtensions:i,markExtensions:s}=Fd(t),l=(n=i.find(f=>De(f,"topNode")))==null?void 0:n.name,c=Object.fromEntries(i.map(f=>{const p=r.filter(_=>_.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},v=t.reduce((_,I)=>{const L=De(I,"extendNodeSchema",m);return{..._,...L?L(f):{}}},{}),w=EC({...v,content:bt(De(f,"content",m)),marks:bt(De(f,"marks",m)),group:bt(De(f,"group",m)),inline:bt(De(f,"inline",m)),atom:bt(De(f,"atom",m)),selectable:bt(De(f,"selectable",m)),draggable:bt(De(f,"draggable",m)),code:bt(De(f,"code",m)),whitespace:bt(De(f,"whitespace",m)),linebreakReplacement:bt(De(f,"linebreakReplacement",m)),defining:bt(De(f,"defining",m)),isolating:bt(De(f,"isolating",m)),attrs:Object.fromEntries(p.map(_=>{var I,L;return[_.name,{default:(I=_?.attribute)==null?void 0:I.default,validate:(L=_?.attribute)==null?void 0:L.validate}]}))}),x=bt(De(f,"parseHTML",m));x&&(w.parseDOM=x.map(_=>xC(_,p)));const E=De(f,"renderHTML",m);E&&(w.toDOM=_=>E({node:_,HTMLAttributes:tm(_,p)}));const C=De(f,"renderText",m);return C&&(w.toText=C),[f.name,w]})),d=Object.fromEntries(s.map(f=>{const p=r.filter(C=>C.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},v=t.reduce((C,_)=>{const I=De(_,"extendMarkSchema",m);return{...C,...I?I(f):{}}},{}),w=EC({...v,inclusive:bt(De(f,"inclusive",m)),excludes:bt(De(f,"excludes",m)),group:bt(De(f,"group",m)),spanning:bt(De(f,"spanning",m)),code:bt(De(f,"code",m)),attrs:Object.fromEntries(p.map(C=>{var _,I;return[C.name,{default:(_=C?.attribute)==null?void 0:_.default,validate:(I=C?.attribute)==null?void 0:I.validate}]}))}),x=bt(De(f,"parseHTML",m));x&&(w.parseDOM=x.map(C=>xC(C,p)));const E=De(f,"renderHTML",m);return E&&(w.toDOM=C=>E({mark:C,HTMLAttributes:tm(C,p)})),[f.name,w]}));return new YN({topNode:l,nodes:c,marks:d})}function DH(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function jb(t){return t.sort((n,r)=>{const i=De(n,"priority")||100,s=De(r,"priority")||100;return i>s?-1:i<s?1:0})}function fO(t){const e=jb(Db(t)),n=DH(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function hO(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:l={}}=n||{};let c="";return t.nodesBetween(r,i,(d,f,p,m)=>{var v;d.isBlock&&f>r&&(c+=s);const w=l?.[d.type.name];if(w)return p&&(c+=w({node:d,pos:f,parent:p,index:m,range:e})),!1;d.isText&&(c+=(v=d?.text)==null?void 0:v.slice(Math.max(r,f)-f,i-f))}),c}function pO(t,e){const n={from:0,to:t.content.size};return hO(t,n,e)}function Lb(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function Vs(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function mO(t,e){const n=Vs(e,t.schema),{from:r,to:i,empty:s}=t.selection,l=[];s?(t.storedMarks&&l.push(...t.storedMarks),l.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,d=>{l.push(...d.marks)});const c=l.find(d=>d.type.name===n.name);return c?{...c.attrs}:{}}function tn(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function IH(t,e){const n=tn(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,c=>{s.push(c)});const l=s.reverse().find(c=>c.type.name===n.name);return l?{...l.attrs}:{}}function ag(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function gO(t,e){const n=ag(typeof e=="string"?e:e.name,t.schema);return n==="node"?IH(t,e):n==="mark"?mO(t,e):{}}function jH(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function LH(t){const e=jH(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,l)=>l!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function yO(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const l=[];if(i.ranges.length)i.forEach((c,d)=>{l.push({from:c,to:d})});else{const{from:c,to:d}=n[s];if(c===void 0||d===void 0)return;l.push({from:c,to:d})}l.forEach(({from:c,to:d})=>{const f=e.slice(s).map(c,-1),p=e.slice(s).map(d),m=e.invert().map(f,-1),v=e.invert().map(p);r.push({oldRange:{from:m,to:v},newRange:{from:f,to:p}})})}),LH(r)}function Pb(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function nm(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:Pb(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function vO(t,e,n={}){return t.find(r=>r.type===e&&nm(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function TC(t,e,n={}){return!!vO(t,e,n)}function zb(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(p=>p.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(p=>p.type===e)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!vO([...i.node.marks],e,n)))return;let l=i.index,c=t.start()+i.offset,d=l+1,f=c+i.node.nodeSize;for(;l>0&&TC([...t.parent.child(l-1).marks],e,n);)l-=1,c-=t.parent.child(l).nodeSize;for(;d<t.parent.childCount&&TC([...t.parent.child(d).marks],e,n);)f+=t.parent.child(d).nodeSize,d+=1;return{from:c,to:f}}function Ub(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),l=zb(s,i.type);l&&r.push({mark:i,...l})}):n.nodesBetween(t,e,(i,s)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(l=>({from:s,to:s+i.nodeSize,mark:l})))}),r}var PH=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let s=r,l=null;for(;s>0&&l===null;){const c=i.node(s);c?.type.name===e?l=c:s-=1}return[l,s]};function e1(t,e){return e.nodes[t]||e.marks[t]||null}function Tp(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}var zH=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,l,c)=>{var d,f;const p=((f=(d=i.type.spec).toText)==null?void 0:f.call(d,{node:i,pos:s,parent:l,index:c}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?p:p.slice(0,Math.max(0,r-s))}),n};function dv(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?Vs(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(m=>s?s.name===m.type.name:!0).find(m=>nm(m.attrs,n,{strict:!1}));let l=0;const c=[];if(i.forEach(({$from:m,$to:v})=>{const w=m.pos,x=v.pos;t.doc.nodesBetween(w,x,(E,C)=>{if(!E.isText&&!E.marks.length)return;const _=Math.max(w,C),I=Math.min(x,C+E.nodeSize),L=I-_;l+=L,c.push(...E.marks.map(U=>({mark:U,from:_,to:I})))})}),l===0)return!1;const d=c.filter(m=>s?s.name===m.mark.type.name:!0).filter(m=>nm(m.mark.attrs,n,{strict:!1})).reduce((m,v)=>m+v.to-v.from,0),f=c.filter(m=>s?m.mark.type!==s&&m.mark.type.excludes(s):!0).reduce((m,v)=>m+v.to-v.from,0);return(d>0?d+f:d)>=l}function ra(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,l=e?tn(e,t.schema):null,c=[];t.doc.nodesBetween(r,i,(m,v)=>{if(m.isText)return;const w=Math.max(r,v),x=Math.min(i,v+m.nodeSize);c.push({node:m,from:w,to:x})});const d=i-r,f=c.filter(m=>l?l.name===m.node.type.name:!0).filter(m=>nm(m.node.attrs,n,{strict:!1}));return s?!!f.length:f.reduce((m,v)=>m+v.to-v.from,0)>=d}function UH(t,e,n={}){if(!e)return ra(t,null,n)||dv(t,null,n);const r=ag(e,t.schema);return r==="node"?ra(t,e,n):r==="mark"?dv(t,e,n):!1}var BH=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const s=og(c=>c.type.name===e)(t.selection);if(!s)return!1;const l=t.doc.resolve(s.pos+1);return i.pos+1===l.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},HH=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function CC(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function kC(t,e){const{nodeExtensions:n}=Fd(e),r=n.find(l=>l.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=bt(De(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function lg(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(lg(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function bO(t){return t instanceof Ie}function Bb(t){return t instanceof Ve}function Rs(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function wO(t,e,n){const i=t.state.doc.content.size,s=Rs(e,0,i),l=Rs(n,0,i),c=t.coordsAtPos(s),d=t.coordsAtPos(l,-1),f=Math.min(c.top,d.top),p=Math.max(c.bottom,d.bottom),m=Math.min(c.left,d.left),v=Math.max(c.right,d.right),w=v-m,x=p-f,_={top:f,bottom:p,left:m,right:v,width:w,height:x,x:m,y:f};return{..._,toJSON:()=>_}}function SO(t,e=null){if(!e)return null;const n=Be.atStart(t),r=Be.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?Ve.create(t,Rs(0,i,s),Rs(t.content.size,i,s)):Ve.create(t,Rs(e,i,s),Rs(e,i,s))}function VH(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof hn||i instanceof pn))return;const s=t.mapping.maps[r];let l=0;s.forEach((c,d,f,p)=>{l===0&&(l=p)}),t.setSelection(Be.near(t.doc.resolve(l),n))}var cg=class{constructor(t){this.find=t.find,this.handler=t.handler}},$H=(t,e)=>{if(Pb(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Yh(t){var e;const{editor:n,from:r,to:i,text:s,rules:l,plugin:c}=t,{view:d}=n;if(d.composing)return!1;const f=d.state.doc.resolve(r);if(f.parent.type.spec.code||(e=f.nodeBefore||f.nodeAfter)!=null&&e.marks.find(v=>v.type.spec.code))return!1;let p=!1;const m=zH(f)+s;return l.forEach(v=>{if(p)return;const w=$H(m,v.find);if(!w)return;const x=d.state.tr,E=ig({state:d.state,transaction:x}),C={from:r-(w[0].length-s.length),to:i},{commands:_,chain:I,can:L}=new sg({editor:n,state:E});v.handler({state:E,range:C,match:w,commands:_,chain:I,can:L})===null||!x.steps.length||(x.setMeta(c,{transform:x,from:r,to:i,text:s}),d.dispatch(x),p=!0)}),p}function FH(t){const{editor:e,rules:n}=t,r=new Lt({state:{init(){return null},apply(i,s,l){const c=i.getMeta(r);if(c)return c;const d=i.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:p}=d;typeof p=="string"?p=p:p=Ib(fe.from(p),l.schema);const{from:m}=d,v=m+p.length;Yh({editor:e,from:m,to:v,text:p,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,l,c){return Yh({editor:e,from:s,to:l,text:c,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&Yh({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:l}=i.state.selection;return l?Yh({editor:e,from:l.pos,to:l.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function qH(t){return Object.prototype.toString.call(t).slice(8,-1)}function Xh(t){return qH(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function xO(t,e){const n={...t};return Xh(t)&&Xh(e)&&Object.keys(e).forEach(r=>{Xh(e[r])&&Xh(t[r])?n[r]=xO(t[r],e[r]):n[r]=e[r]}),n}var Hb=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...bt(De(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...bt(De(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>xO(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},$s=class EO extends Hb{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new EO(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const l=i.marks();if(!!!l.find(f=>f?.type.name===n.name))return!1;const d=l.find(f=>f?.type.name===n.name);return d&&r.removeStoredMark(d),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function WH(t){return typeof t=="number"}var GH=class{constructor(t){this.find=t.find,this.handler=t.handler}},KH=(t,e,n)=>{if(Pb(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function YH(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:l,dropEvent:c}=t,{commands:d,chain:f,can:p}=new sg({editor:e,state:n}),m=[];return n.doc.nodesBetween(r,i,(w,x)=>{var E,C,_,I,L;if((C=(E=w.type)==null?void 0:E.spec)!=null&&C.code||!(w.isText||w.isTextblock||w.isInline))return;const U=(L=(I=(_=w.content)==null?void 0:_.size)!=null?I:w.nodeSize)!=null?L:0,P=Math.max(r,x),j=Math.min(i,x+U);if(P>=j)return;const R=w.isText?w.text||"":w.textBetween(P-x,j-x,void 0,"");KH(R,s.find,l).forEach(D=>{if(D.index===void 0)return;const M=P+D.index+1,V=M+D[0].length,$={from:n.tr.mapping.map(M),to:n.tr.mapping.map(V)},B=s.handler({state:n,range:$,match:D,commands:d,chain:f,can:p,pasteEvent:l,dropEvent:c});m.push(B)})}),m.every(w=>w!==null)}var Jh=null,XH=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function JH(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const d=({state:p,from:m,to:v,rule:w,pasteEvt:x})=>{const E=p.tr,C=ig({state:p,transaction:E});if(!(!YH({editor:e,state:C,from:Math.max(m-1,0),to:v.b-1,rule:w,pasteEvent:x,dropEvent:c})||!E.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,E}};return n.map(p=>new Lt({view(m){const v=x=>{var E;r=(E=m.dom.parentElement)!=null&&E.contains(x.target)?m.dom.parentElement:null,r&&(Jh=e)},w=()=>{Jh&&(Jh=null)};return window.addEventListener("dragstart",v),window.addEventListener("dragend",w),{destroy(){window.removeEventListener("dragstart",v),window.removeEventListener("dragend",w)}}},props:{handleDOMEvents:{drop:(m,v)=>{if(s=r===m.dom.parentElement,c=v,!s){const w=Jh;w?.isEditable&&setTimeout(()=>{const x=w.state.selection;x&&w.commands.deleteRange({from:x.from,to:x.to})},10)}return!1},paste:(m,v)=>{var w;const x=(w=v.clipboardData)==null?void 0:w.getData("text/html");return l=v,i=!!x?.includes("data-pm-slice"),!1}}},appendTransaction:(m,v,w)=>{const x=m[0],E=x.getMeta("uiEvent")==="paste"&&!i,C=x.getMeta("uiEvent")==="drop"&&!s,_=x.getMeta("applyPasteRules"),I=!!_;if(!E&&!C&&!I)return;if(I){let{text:P}=_;typeof P=="string"?P=P:P=Ib(fe.from(P),w.schema);const{from:j}=_,R=j+P.length,O=XH(P);return d({rule:p,state:w,from:j,to:{b:R},pasteEvt:O})}const L=v.doc.content.findDiffStart(w.doc.content),U=v.doc.content.findDiffEnd(w.doc.content);if(!(!WH(L)||!U||L===U.b))return d({rule:p,state:w,from:L,to:U,pasteEvt:l})}}))}var ug=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=fO(t),this.schema=RH(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:e1(e.name,this.schema)},r=De(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return jb([...this.extensions].reverse()).map(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:e1(r.name,this.schema)},s=[],l=De(r,"addKeyboardShortcuts",i);let c={};if(r.type==="mark"&&De(r,"exitable",i)&&(c.ArrowRight=()=>$s.handleExit({editor:t,mark:r})),l){const v=Object.fromEntries(Object.entries(l()).map(([w,x])=>[w,()=>x({editor:t})]));c={...c,...v}}const d=iH(c);s.push(d);const f=De(r,"addInputRules",i);if(CC(r,t.options.enableInputRules)&&f){const v=f();if(v&&v.length){const w=FH({editor:t,rules:v}),x=Array.isArray(w)?w:[w];s.push(...x)}}const p=De(r,"addPasteRules",i);if(CC(r,t.options.enablePasteRules)&&p){const v=p();if(v&&v.length){const w=JH({editor:t,rules:v});s.push(...w)}}const m=De(r,"addProseMirrorPlugins",i);if(m){const v=m();s.push(...v)}return s}).flat()}get attributes(){return dO(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Fd(this.extensions);return Object.fromEntries(e.filter(n=>!!De(n,"addNodeView")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:tn(n.name,this.schema)},s=De(n,"addNodeView",i);if(!s)return[];const l=(c,d,f,p,m)=>{const v=tm(c,r);return s()({node:c,view:d,getPos:f,decorations:p,innerDecorations:m,editor:t,extension:n,HTMLAttributes:v})};return[n.name,l]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=Fd(this.extensions);return Object.fromEntries(e.filter(n=>!!De(n,"addMarkView")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Vs(n.name,this.schema)},s=De(n,"addMarkView",i);if(!s)return[];const l=(c,d,f)=>{const p=tm(c,r);return s()({mark:c,view:d,inline:f,editor:t,extension:n,HTMLAttributes:p,updateAttributes:m=>{f$(c,t,m)}})};return[n.name,l]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:e1(e.name,this.schema)};e.type==="mark"&&((n=bt(De(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const i=De(e,"onBeforeCreate",r),s=De(e,"onCreate",r),l=De(e,"onUpdate",r),c=De(e,"onSelectionUpdate",r),d=De(e,"onTransaction",r),f=De(e,"onFocus",r),p=De(e,"onBlur",r),m=De(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),l&&this.editor.on("update",l),c&&this.editor.on("selectionUpdate",c),d&&this.editor.on("transaction",d),f&&this.editor.on("focus",f),p&&this.editor.on("blur",p),m&&this.editor.on("destroy",m)})}};ug.resolve=fO;ug.sort=jb;ug.flatten=Db;var QH={};aO(QH,{ClipboardTextSerializer:()=>CO,Commands:()=>NO,Delete:()=>MO,Drop:()=>OO,Editable:()=>_O,FocusEvents:()=>DO,Keymap:()=>IO,Paste:()=>jO,Tabindex:()=>LO,focusEventsPluginKey:()=>RO});var wt=class TO extends Hb{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new TO(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},CO=wt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Lt({key:new Ut("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,l=Math.min(...s.map(p=>p.$from.pos)),c=Math.max(...s.map(p=>p.$to.pos)),d=Lb(n);return hO(r,{from:l,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),kO={};aO(kO,{blur:()=>ZH,clearContent:()=>eV,clearNodes:()=>tV,command:()=>nV,createParagraphNear:()=>rV,cut:()=>iV,deleteCurrentNode:()=>sV,deleteNode:()=>oV,deleteRange:()=>aV,deleteSelection:()=>lV,enter:()=>cV,exitCode:()=>uV,extendMarkRange:()=>dV,first:()=>fV,focus:()=>pV,forEach:()=>mV,insertContent:()=>gV,insertContentAt:()=>vV,joinBackward:()=>SV,joinDown:()=>wV,joinForward:()=>xV,joinItemBackward:()=>EV,joinItemForward:()=>TV,joinTextblockBackward:()=>CV,joinTextblockForward:()=>kV,joinUp:()=>bV,keyboardShortcut:()=>NV,lift:()=>MV,liftEmptyBlock:()=>OV,liftListItem:()=>_V,newlineInCode:()=>RV,resetAttributes:()=>DV,scrollIntoView:()=>IV,selectAll:()=>jV,selectNodeBackward:()=>LV,selectNodeForward:()=>PV,selectParentNode:()=>zV,selectTextblockEnd:()=>UV,selectTextblockStart:()=>BV,setContent:()=>HV,setMark:()=>$V,setMeta:()=>FV,setNode:()=>qV,setNodeSelection:()=>WV,setTextSelection:()=>GV,sinkListItem:()=>KV,splitBlock:()=>YV,splitListItem:()=>XV,toggleList:()=>JV,toggleMark:()=>QV,toggleNode:()=>ZV,toggleWrap:()=>e$,undoInputRule:()=>t$,unsetAllMarks:()=>n$,unsetMark:()=>r$,updateAttributes:()=>i$,wrapIn:()=>s$,wrapInList:()=>o$});var ZH=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),eV=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),tV=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:l})=>{t.doc.nodesBetween(s.pos,l.pos,(c,d)=>{if(c.type.isText)return;const{doc:f,mapping:p}=e,m=f.resolve(p.map(d)),v=f.resolve(p.map(d+c.nodeSize)),w=m.blockRange(v);if(!w)return;const x=Yc(w);if(c.type.isTextblock){const{defaultType:E}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(w.start,E)}(x||x===0)&&e.lift(w,x)})}),!0},nV=t=>e=>t(e),rV=()=>({state:t,dispatch:e})=>rO(t,e),iV=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const l=r.mapping.map(e);return r.insert(l,s.content),r.setSelection(new Ve(r.doc.resolve(Math.max(l-1,0)))),!0},sV=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const c=i.before(s),d=i.after(s);t.delete(c,d).scrollIntoView()}return!0}return!1},oV=t=>({tr:e,state:n,dispatch:r})=>{const i=tn(t,n.schema),s=e.selection.$anchor;for(let l=s.depth;l>0;l-=1)if(s.node(l).type===i){if(r){const d=s.before(l),f=s.after(l);e.delete(d,f).scrollIntoView()}return!0}return!1},aV=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},lV=()=>({state:t,dispatch:e})=>Nb(t,e),cV=()=>({commands:t})=>t.keyboardShortcut("Enter"),uV=()=>({state:t,dispatch:e})=>uH(t,e),dV=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=Vs(t,r.schema),{doc:l,selection:c}=n,{$from:d,from:f,to:p}=c;if(i){const m=zb(d,s,e);if(m&&m.from<=f&&m.to>=p){const v=Ve.create(l,m.from,m.to);n.setSelection(v)}}return!0},fV=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function hV(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Vb(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var pV=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const l=()=>{(Vb()||hV())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!Bb(n.state.selection))return l(),!0;const c=SO(i.doc,t)||n.state.selection,d=n.state.selection.eq(c);return s&&(d||i.setSelection(c),d&&i.storedMarks&&i.setStoredMarks(i.storedMarks),l()),!0},mV=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),gV=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),yV=t=>!("type"in t),vV=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var l;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let c;const{selection:d}=s.state,f=_=>{s.emit("contentError",{editor:s,error:_,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},p={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{$d(e,s.schema,{parseOptions:p,errorOnInvalidContent:!0})}catch(_){f(_)}try{c=$d(e,s.schema,{parseOptions:p,errorOnInvalidContent:(l=n.errorOnInvalidContent)!=null?l:s.options.enableContentCheck})}catch(_){return f(_),!1}let{from:m,to:v}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},w=!0,x=!0;if((yV(c)?c:[c]).forEach(_=>{_.check(),w=w?_.isText&&_.marks.length===0:!1,x=x?_.isBlock:!1}),m===v&&x){const{parent:_}=r.doc.resolve(m);_.isTextblock&&!_.type.spec.code&&!_.childCount&&(m-=1,v+=1)}let C;if(w){if(Array.isArray(e))C=e.map(_=>_.text||"").join("");else if(e instanceof fe){let _="";e.forEach(I=>{I.text&&(_+=I.text)}),C=_}else typeof e=="object"&&e&&e.text?C=e.text:C=e;r.insertText(C,m,v)}else{C=c;const _=d.$from.parentOffset===0,I=d.$from.node().isText||d.$from.node().isTextblock,L=d.$from.node().content.size>0;_&&I&&L&&(m=Math.max(0,m-1)),r.replaceWith(m,v,C)}n.updateSelection&&VH(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:m,text:C}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:m,text:C})}return!0},bV=()=>({state:t,dispatch:e})=>aH(t,e),wV=()=>({state:t,dispatch:e})=>lH(t,e),SV=()=>({state:t,dispatch:e})=>XM(t,e),xV=()=>({state:t,dispatch:e})=>eO(t,e),EV=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Qm(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},TV=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Qm(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},CV=()=>({state:t,dispatch:e})=>sH(t,e),kV=()=>({state:t,dispatch:e})=>oH(t,e);function AO(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function AV(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,l;for(let c=0;c<e.length-1;c+=1){const d=e[c];if(/^(cmd|meta|m)$/i.test(d))l=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))i=!0;else if(/^s(hift)?$/i.test(d))s=!0;else if(/^mod$/i.test(d))Vb()||AO()?l=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),l&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var NV=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=AV(t).split(/-(?!$)/),l=s.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),c=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{n.someProp("handleKeyDown",f=>f(n,c))});return d?.steps.forEach(f=>{const p=f.map(r.mapping);p&&i&&r.maybeStep(p)}),!0},MV=(t,e={})=>({state:n,dispatch:r})=>{const i=tn(t,n.schema);return ra(n,i,e)?cH(n,r):!1},OV=()=>({state:t,dispatch:e})=>iO(t,e),_V=t=>({state:e,dispatch:n})=>{const r=tn(t,e.schema);return SH(r)(e,n)},RV=()=>({state:t,dispatch:e})=>nO(t,e);function AC(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}var DV=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,l=null;const c=ag(typeof t=="string"?t:t.name,r.schema);return c?(c==="node"&&(s=tn(t,r.schema)),c==="mark"&&(l=Vs(t,r.schema)),i&&n.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.$from.pos,d.$to.pos,(f,p)=>{s&&s===f.type&&n.setNodeMarkup(p,void 0,AC(f.attrs,e)),l&&f.marks.length&&f.marks.forEach(m=>{l===m.type&&n.addMark(p,p+f.nodeSize,l.create(AC(m.attrs,e)))})})}),!0):!1},IV=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),jV=()=>({tr:t,dispatch:e})=>{if(e){const n=new br(t.doc);t.setSelection(n)}return!0},LV=()=>({state:t,dispatch:e})=>QM(t,e),PV=()=>({state:t,dispatch:e})=>tO(t,e),zV=()=>({state:t,dispatch:e})=>hH(t,e),UV=()=>({state:t,dispatch:e})=>gH(t,e),BV=()=>({state:t,dispatch:e})=>mH(t,e),HV=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:s,dispatch:l,commands:c})=>{const{doc:d}=s;if(r.preserveWhitespace!=="full"){const f=uv(t,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return l&&s.replaceWith(0,d.content.size,f).setMeta("preventUpdate",!n),!0}return l&&s.setMeta("preventUpdate",!n),c.insertContentAt({from:0,to:d.content.size},t,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function VV(t,e,n){var r;const{selection:i}=e;let s=null;if(Bb(i)&&(s=i.$cursor),s){const c=(r=t.storedMarks)!=null?r:s.marks();return!!n.isInSet(c)||!c.some(d=>d.type.excludes(n))}const{ranges:l}=i;return l.some(({$from:c,$to:d})=>{let f=c.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(c.pos,d.pos,(p,m,v)=>{if(f)return!1;if(p.isInline){const w=!v||v.type.allowsMarkType(n),x=!!n.isInSet(p.marks)||!p.marks.some(E=>E.type.excludes(n));f=w&&x}return!f}),f})}var $V=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:l,ranges:c}=s,d=Vs(t,r.schema);if(i)if(l){const f=mO(r,d);n.addStoredMark(d.create({...f,...e}))}else c.forEach(f=>{const p=f.$from.pos,m=f.$to.pos;r.doc.nodesBetween(p,m,(v,w)=>{const x=Math.max(w,p),E=Math.min(w+v.nodeSize,m);v.marks.find(_=>_.type===d)?v.marks.forEach(_=>{d===_.type&&n.addMark(x,E,d.create({..._.attrs,...e}))}):n.addMark(x,E,d.create(e))})});return VV(r,n,d)},FV=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),qV=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=tn(t,n.schema);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:c})=>SC(s,{...l,...e})(n)?!0:c.clearNodes()).command(({state:c})=>SC(s,{...l,...e})(c,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},WV=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=Rs(t,0,r.content.size),s=Ie.create(r,i);e.setSelection(s)}return!0},GV=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,l=Ve.atStart(r).from,c=Ve.atEnd(r).to,d=Rs(i,l,c),f=Rs(s,l,c),p=Ve.create(r,d,f);e.setSelection(p)}return!0},KV=t=>({state:e,dispatch:n})=>{const r=tn(t,e.schema);return TH(r)(e,n)};function NC(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e?.includes(i.type.name));t.tr.ensureMarks(r)}}var YV=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:l}=e,{$from:c,$to:d}=s,f=i.extensionManager.attributes,p=Tp(f,c.node().type.name,c.node().attrs);if(s instanceof Ie&&s.node.isBlock)return!c.parentOffset||!Is(l,c.pos)?!1:(r&&(t&&NC(n,i.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const m=d.parentOffset===d.parent.content.size,v=c.depth===0?void 0:AH(c.node(-1).contentMatchAt(c.indexAfter(-1)));let w=m&&v?[{type:v,attrs:p}]:void 0,x=Is(e.doc,e.mapping.map(c.pos),1,w);if(!w&&!x&&Is(e.doc,e.mapping.map(c.pos),1,v?[{type:v}]:void 0)&&(x=!0,w=v?[{type:v,attrs:p}]:void 0),r){if(x&&(s instanceof Ve&&e.deleteSelection(),e.split(e.mapping.map(c.pos),1,w),v&&!m&&!c.parentOffset&&c.parent.type!==v)){const E=e.mapping.map(c.before()),C=e.doc.resolve(E);c.node(-1).canReplaceWith(C.index(),C.index()+1,v)&&e.setNodeMarkup(e.mapping.map(c.before()),v)}t&&NC(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return x},XV=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var l;const c=tn(t,r.schema),{$from:d,$to:f}=r.selection,p=r.selection.node;if(p&&p.isBlock||d.depth<2||!d.sameParent(f))return!1;const m=d.node(-1);if(m.type!==c)return!1;const v=s.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==c||d.index(-2)!==d.node(-2).childCount-1)return!1;if(i){let _=fe.empty;const I=d.index(-1)?1:d.index(-2)?2:3;for(let O=d.depth-I;O>=d.depth-3;O-=1)_=fe.from(d.node(O).copy(_));const L=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,U={...Tp(v,d.node().type.name,d.node().attrs),...e},P=((l=c.contentMatch.defaultType)==null?void 0:l.createAndFill(U))||void 0;_=_.append(fe.from(c.createAndFill(null,P)||void 0));const j=d.before(d.depth-(I-1));n.replace(j,d.after(-L),new be(_,4-I,0));let R=-1;n.doc.nodesBetween(j,n.doc.content.size,(O,D)=>{if(R>-1)return!1;O.isTextblock&&O.content.size===0&&(R=D+1)}),R>-1&&n.setSelection(Ve.near(n.doc.resolve(R))),n.scrollIntoView()}return!0}const w=f.pos===d.end()?m.contentMatchAt(0).defaultType:null,x={...Tp(v,m.type.name,m.attrs),...e},E={...Tp(v,d.node().type.name,d.node().attrs),...e};n.delete(d.pos,f.pos);const C=w?[{type:c,attrs:x},{type:w,attrs:E}]:[{type:c,attrs:x}];if(!Is(n.doc,d.pos,2))return!1;if(i){const{selection:_,storedMarks:I}=r,{splittableMarks:L}=s.extensionManager,U=I||_.$to.parentOffset&&_.$from.marks();if(n.split(d.pos,2,C).scrollIntoView(),!U||!i)return!0;const P=U.filter(j=>L.includes(j.type.name));n.ensureMarks(P)}return!0},t1=(t,e)=>{const n=og(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&la(t.doc,n.pos)&&t.join(n.pos),!0},n1=(t,e)=>{const n=og(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&la(t.doc,r)&&t.join(r),!0},JV=(t,e,n,r={})=>({editor:i,tr:s,state:l,dispatch:c,chain:d,commands:f,can:p})=>{const{extensions:m,splittableMarks:v}=i.extensionManager,w=tn(t,l.schema),x=tn(e,l.schema),{selection:E,storedMarks:C}=l,{$from:_,$to:I}=E,L=_.blockRange(I),U=C||E.$to.parentOffset&&E.$from.marks();if(!L)return!1;const P=og(j=>kC(j.type.name,m))(E);if(L.depth>=1&&P&&L.depth-P.depth<=1){if(P.node.type===w)return f.liftListItem(x);if(kC(P.node.type.name,m)&&w.validContent(P.node.content)&&c)return d().command(()=>(s.setNodeMarkup(P.pos,w),!0)).command(()=>t1(s,w)).command(()=>n1(s,w)).run()}return!n||!U||!c?d().command(()=>p().wrapInList(w,r)?!0:f.clearNodes()).wrapInList(w,r).command(()=>t1(s,w)).command(()=>n1(s,w)).run():d().command(()=>{const j=p().wrapInList(w,r),R=U.filter(O=>v.includes(O.type.name));return s.ensureMarks(R),j?!0:f.clearNodes()}).wrapInList(w,r).command(()=>t1(s,w)).command(()=>n1(s,w)).run()},QV=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,l=Vs(t,r.schema);return dv(r,l,e)?i.unsetMark(l,{extendEmptyMarkRange:s}):i.setMark(l,e)},ZV=(t,e,n={})=>({state:r,commands:i})=>{const s=tn(t,r.schema),l=tn(e,r.schema),c=ra(r,s,n);let d;return r.selection.$anchor.sameParent(r.selection.$head)&&(d=r.selection.$anchor.parent.attrs),c?i.setNode(l,d):i.setNode(s,{...d,...n})},e$=(t,e={})=>({state:n,commands:r})=>{const i=tn(t,n.schema);return ra(n,i,e)?r.lift(i):r.wrapIn(i,e)},t$=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const l=t.tr,c=s.transform;for(let d=c.steps.length-1;d>=0;d-=1)l.step(c.steps[d].invert(c.docs[d]));if(s.text){const d=l.doc.resolve(s.from).marks();l.replaceWith(s.from,s.to,t.schema.text(s.text,d))}else l.delete(s.from,s.to)}return!0}}return!1},n$=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},r$=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:l=!1}=e,{selection:c}=n,d=Vs(t,r.schema),{$from:f,empty:p,ranges:m}=c;if(!i)return!0;if(p&&l){let{from:v,to:w}=c;const x=(s=f.marks().find(C=>C.type===d))==null?void 0:s.attrs,E=zb(f,d,x);E&&(v=E.from,w=E.to),n.removeMark(v,w,d)}else m.forEach(v=>{n.removeMark(v.$from.pos,v.$to.pos,d)});return n.removeStoredMark(d),!0},i$=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,l=null;const c=ag(typeof t=="string"?t:t.name,r.schema);return c?(c==="node"&&(s=tn(t,r.schema)),c==="mark"&&(l=Vs(t,r.schema)),i&&n.selection.ranges.forEach(d=>{const f=d.$from.pos,p=d.$to.pos;let m,v,w,x;n.selection.empty?r.doc.nodesBetween(f,p,(E,C)=>{s&&s===E.type&&(w=Math.max(C,f),x=Math.min(C+E.nodeSize,p),m=C,v=E)}):r.doc.nodesBetween(f,p,(E,C)=>{C<f&&s&&s===E.type&&(w=Math.max(C,f),x=Math.min(C+E.nodeSize,p),m=C,v=E),C>=f&&C<=p&&(s&&s===E.type&&n.setNodeMarkup(C,void 0,{...E.attrs,...e}),l&&E.marks.length&&E.marks.forEach(_=>{if(l===_.type){const I=Math.max(C,f),L=Math.min(C+E.nodeSize,p);n.addMark(I,L,l.create({..._.attrs,...e}))}}))}),v&&(m!==void 0&&n.setNodeMarkup(m,void 0,{...v.attrs,...e}),l&&v.marks.length&&v.marks.forEach(E=>{l===E.type&&n.addMark(w,x,l.create({...E.attrs,...e}))}))}),!0):!1},s$=(t,e={})=>({state:n,dispatch:r})=>{const i=tn(t,n.schema);return yH(i,e)(n,r)},o$=(t,e={})=>({state:n,dispatch:r})=>{const i=tn(t,n.schema);return vH(i,e)(n,r)},NO=wt.create({name:"commands",addCommands(){return{...kO}}}),MO=wt.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,i;const s=()=>{var l,c,d,f;if((f=(d=(c=(l=this.editor.options.coreExtensionOptions)==null?void 0:l.delete)==null?void 0:c.filterTransaction)==null?void 0:d.call(c,t))!=null?f:t.getMeta("y-sync$"))return;const p=lO(t.before,[t,...e]);yO(p).forEach(w=>{p.mapping.mapResult(w.oldRange.from).deletedAfter&&p.mapping.mapResult(w.oldRange.to).deletedBefore&&p.before.nodesBetween(w.oldRange.from,w.oldRange.to,(x,E)=>{const C=E+x.nodeSize-2,_=w.oldRange.from<=E&&C<=w.oldRange.to;this.editor.emit("delete",{type:"node",node:x,from:E,to:C,newFrom:p.mapping.map(E),newTo:p.mapping.map(C),deletedRange:w.oldRange,newRange:w.newRange,partial:!_,editor:this.editor,transaction:t,combinedTransform:p})})});const v=p.mapping;p.steps.forEach((w,x)=>{var E,C;if(w instanceof oi){const _=v.slice(x).map(w.from,-1),I=v.slice(x).map(w.to),L=v.invert().map(_,-1),U=v.invert().map(I),P=(E=p.doc.nodeAt(_-1))==null?void 0:E.marks.some(R=>R.eq(w.mark)),j=(C=p.doc.nodeAt(I))==null?void 0:C.marks.some(R=>R.eq(w.mark));this.editor.emit("delete",{type:"mark",mark:w.mark,from:w.from,to:w.to,deletedRange:{from:L,to:U},newRange:{from:_,to:I},partial:!!(j||P),editor:this.editor,transaction:t,combinedTransform:p})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(s,0):s()}}),OO=wt.create({name:"drop",addProseMirrorPlugins(){return[new Lt({key:new Ut("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),_O=wt.create({name:"editable",addProseMirrorPlugins(){return[new Lt({key:new Ut("editable"),props:{editable:()=>this.editor.options.editable}})]}}),RO=new Ut("focusEvents"),DO=wt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Lt({key:RO,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),IO=wt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:c})=>{const{selection:d,doc:f}=c,{empty:p,$anchor:m}=d,{pos:v,parent:w}=m,x=m.parent.isTextblock&&v>0?c.doc.resolve(v-1):m,E=x.parent.type.spec.isolating,C=m.pos-m.parentOffset,_=E&&x.parent.childCount===1?C===m.pos:Be.atStart(f).from===v;return!p||!w.type.isTextblock||w.textContent.length||!_||_&&m.parent.type.name==="paragraph"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Vb()||AO()?s:i},addProseMirrorPlugins(){return[new Lt({key:new Ut("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(E=>E.getMeta("composition")))return;const r=t.some(E=>E.docChanged)&&!e.doc.eq(n.doc),i=t.some(E=>E.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:l,to:c}=e.selection,d=Be.atStart(e.doc).from,f=Be.atEnd(e.doc).to;if(s||!(l===d&&c===f)||!lg(n.doc))return;const v=n.tr,w=ig({state:n,transaction:v}),{commands:x}=new sg({editor:this.editor,state:w});if(x.clearNodes(),!!v.steps.length)return v}})]}}),jO=wt.create({name:"paste",addProseMirrorPlugins(){return[new Lt({key:new Ut("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),LO=wt.create({name:"tabindex",addProseMirrorPlugins(){return[new Lt({key:new Ut("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),a$=class yc{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new yc(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new yc(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new yc(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,l=this.pos+r+(s?0:1);if(l<0||l>this.resolvedPos.doc.nodeSize-2)return;const c=this.resolvedPos.doc.resolve(l);if(!i&&c.depth<=this.depth)return;const d=new yc(c,this.editor,i,i?n:null);i&&(d.actualDepth=this.depth+1),e.push(new yc(c,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,l=Object.keys(n);for(let c=0;c<l.length;c+=1){const d=l[c];if(s[d]!==n[d])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(l=>{r&&i.length>0||(l.node.type.name===e&&s.every(d=>n[d]===l.node.attrs[d])&&i.push(l),!(r&&i.length>0)&&(i=i.concat(l.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},l$=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function c$(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var u$=class extends kH{constructor(e={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:i})=>{throw i},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:i,slice:s,moved:l})=>this.options.onDrop(i,s,l)),this.on("paste",({event:i,slice:s})=>this.options.onPaste(i,s)),this.on("delete",this.options.onDelete);const n=this.createDoc(),r=SO(n,this.options.autofocus);this.editorState=xc.create({doc:n,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e?.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=c$(l$,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.editorState=this.state.apply(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,n)=>{if(n==="state")return this.editorState;if(n in e)return Reflect.get(e,n);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${n}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,n){const r=uO(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(e).forEach(s=>{const l=typeof s=="string"?`${s}$`:s.key;r=r.filter(c=>!c.key.startsWith(l))}),n.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,n;const i=[...this.options.enableCoreExtensions?[_O,CO.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:n.blockSeparator}),NO,DO,IO,LO,OO,jO,MO].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s?.type));this.extensionManager=new ug(i,this)}createCommandManager(){this.commandManager=new sg({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=uv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(n){if(!(n instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(n.message))throw n;this.emit("contentError",{editor:this,error:n,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),e=uv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var n;this.editorView=new KM(e,{...this.options.editorProps,attributes:{role:"textbox",...(n=this.options.editorProps)==null?void 0:n.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass(),this.injectCSS();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(p=>{var m;return(m=this.capturedTransaction)==null?void 0:m.step(p)});return}const{state:n,transactions:r}=this.state.applyTransaction(e),i=!this.state.selection.eq(n.selection),s=r.includes(e),l=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),!s)return;this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:r.slice(1)}),i&&this.emit("selectionUpdate",{editor:this,transaction:e});const c=r.findLast(p=>p.getMeta("focus")||p.getMeta("blur")),d=c?.getMeta("focus"),f=c?.getMeta("blur");d&&this.emit("focus",{editor:this,event:d.event,transaction:c}),f&&this.emit("blur",{editor:this,event:f.event,transaction:c}),!(e.getMeta("preventUpdate")||!r.some(p=>p.docChanged)||l.doc.eq(n.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:r.slice(1)})}getAttributes(e){return gO(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return UH(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Ib(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return pO(this.state.doc,{blockSeparator:n,textSerializers:{...Lb(this.schema),...r}})}get isEmpty(){return lg(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,n;return(n=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?n:!0}$node(e,n){var r;return((r=this.$doc)==null?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new a$(n,this)}get $doc(){return this.$pos(0)}};function Uc(t){return new cg({find:t.find,handler:({state:e,range:n,match:r})=>{const i=bt(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,l=r[r.length-1],c=r[0];if(l){const d=c.search(/\S/),f=n.from+c.indexOf(l),p=f+l.length;if(Ub(n.from,n.to,e.doc).filter(w=>w.mark.type.excluded.find(E=>E===t.type&&E!==w.mark.type)).filter(w=>w.to>f).length)return null;p<n.to&&s.delete(p,n.to),f>n.from&&s.delete(n.from+d,f);const v=n.from+d+l.length;s.addMark(n.from+d,v,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}function PO(t){return new cg({find:t.find,handler:({state:e,range:n,match:r})=>{const i=bt(t.getAttributes,void 0,r)||{},{tr:s}=e,l=n.from;let c=n.to;const d=t.type.create(i);if(r[1]){const f=r[0].lastIndexOf(r[1]);let p=l+f;p>c?p=c:c=p+r[1].length;const m=r[0][r[0].length-1];s.insertText(m,l+r[0].length-1),s.replaceWith(p,c,d)}else if(r[0]){const f=t.type.isInline?l:l-1;s.insert(f,t.type.create(i)).delete(s.mapping.map(l),s.mapping.map(c))}s.scrollIntoView()}})}function fv(t){return new cg({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=bt(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)}})}function Bc(t){return new cg({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=bt(t.getAttributes,void 0,r)||{},l=e.tr.delete(n.from,n.to),d=l.doc.resolve(n.from).blockRange(),f=d&&gb(d,t.type,s);if(!f)return null;if(l.wrap(d,f),t.keepMarks&&t.editor){const{selection:m,storedMarks:v}=e,{splittableMarks:w}=t.editor.extensionManager,x=v||m.$to.parentOffset&&m.$from.marks();if(x){const E=x.filter(C=>w.includes(C.type.name));l.ensureMarks(E)}}if(t.keepAttributes){const m=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(m,s).run()}const p=l.doc.resolve(n.from-1).nodeBefore;p&&p.type===t.type&&la(l.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,p))&&l.join(n.from-1)}})}function d$(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof Ie){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}function f$(t,e,n={}){const{state:r}=e,{doc:i,tr:s}=r,l=t;i.descendants((c,d)=>{const f=s.mapping.map(d),p=s.mapping.map(d)+c.nodeSize;let m=null;if(c.marks.forEach(w=>{if(w!==l)return!1;m=w}),!m)return;let v=!1;if(Object.keys(n).forEach(w=>{n[w]!==m.attrs[w]&&(v=!0)}),v){const w=t.type.create({...t.attrs,...n});s.removeMark(f,p,t.type),s.addMark(f,p,w)}}),s.docChanged&&e.view.dispatch(s)}var Tn=class zO extends Hb{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new zO(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function pl(t){return new GH({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=bt(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:l}=e,c=r[r.length-1],d=r[0];let f=n.to;if(c){const p=d.search(/\S/),m=n.from+d.indexOf(c),v=m+c.length;if(Ub(n.from,n.to,e.doc).filter(x=>x.mark.type.excluded.find(C=>C===t.type&&C!==x.mark.type)).filter(x=>x.to>m).length)return null;v<n.to&&l.delete(v,n.to),m>n.from&&l.delete(n.from+p,m),f=n.from+p+c.length,l.addMark(n.from+p,f,t.type.create(s||{})),l.removeStoredMark(t.type)}}})}var h$=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,p$=Tn.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",Ft(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[PO({find:h$,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),m$=p$,g$=wt.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),y$=g$,v$=t=>{if(!t.children.length)return;const e=t.querySelectorAll("span");e&&e.forEach(n=>{var r,i;const s=n.getAttribute("style"),l=(i=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:i.getAttribute("style");n.setAttribute("style",`${l};${s}`)})},b$=$s.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&v$(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",Ft(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(s=>!!s))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),w$=wt.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),S$=wt.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),x$=wt.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),E$=wt.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),T$=wt.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}}),C$=wt.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(w$.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(S$.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(x$.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(E$.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(T$.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(b$.configure(this.options.textStyle)),t}}),r1={exports:{}},i1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MC;function k$(){if(MC)return i1;MC=1;var t=Kd();function e(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function c(m,v){var w=v(),x=r({inst:{value:w,getSnapshot:v}}),E=x[0].inst,C=x[1];return s(function(){E.value=w,E.getSnapshot=v,d(E)&&C({inst:E})},[m,w,v]),i(function(){return d(E)&&C({inst:E}),m(function(){d(E)&&C({inst:E})})},[m]),l(w),w}function d(m){var v=m.getSnapshot;m=m.value;try{var w=v();return!n(m,w)}catch{return!0}}function f(m,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return i1.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,i1}var OC;function UO(){return OC||(OC=1,r1.exports=k$()),r1.exports}var BO=UO(),s1,_C;function A$(){return _C||(_C=1,s1=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var l=s[i];if(!(l==="_owner"&&e.$$typeof)&&!t(e[l],n[l]))return!1}return!0}return e!==e&&n!==n}),s1}var N$=A$();const M$=_v(N$);var o1={exports:{}},a1={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RC;function O$(){if(RC)return a1;RC=1;var t=Kd(),e=UO();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return a1.useSyncExternalStoreWithSelector=function(f,p,m,v,w){var x=s(null);if(x.current===null){var E={hasValue:!1,value:null};x.current=E}else E=x.current;x=c(function(){function _(j){if(!I){if(I=!0,L=j,j=v(j),w!==void 0&&E.hasValue){var R=E.value;if(w(R,j))return U=R}return U=j}if(R=U,r(L,j))return R;var O=v(j);return w!==void 0&&w(R,O)?(L=j,R):(L=j,U=O)}var I=!1,L,U,P=m===void 0?null:m;return[function(){return _(p())},P===null?void 0:function(){return _(P())}]},[p,m,v,w]);var C=i(f,x[0],x[1]);return l(function(){E.hasValue=!0,E.value=C},[C]),d(C),C},a1}var DC;function _$(){return DC||(DC=1,o1.exports=O$()),o1.exports}var R$=_$(),D$=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},I$=({contentComponent:t})=>{const e=BO.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return b.jsx(b.Fragment,{children:Object.values(e)})};function j$(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:lA.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}var L$=class extends _t.Component{constructor(t){var e;super(t),this.editorContentRef=_t.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(...t.options.element.childNodes),t.setOptions({element:e}),t.contentComponent=j$(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!((t=e.options.element)!=null&&t.firstChild)))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:t,innerRef:e,...n}=this.props;return b.jsxs(b.Fragment,{children:[b.jsx("div",{ref:D$(e,this.editorContentRef),...n}),t?.contentComponent&&b.jsx(I$,{contentComponent:t.contentComponent})]})}},P$=k.forwardRef((t,e)=>{const n=_t.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return _t.createElement(L$,{key:n,innerRef:e,...t})}),IC=_t.memo(P$),z$=typeof window<"u"?k.useLayoutEffect:k.useEffect,U$=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function HO(t){var e;const[n]=k.useState(()=>new U$(t.editor)),r=R$.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:M$);return z$(()=>n.watch(t.editor),[t.editor,n]),k.useDebugValue(r),r}var B$=!1,hv=typeof window>"u",H$=hv||!!(typeof window<"u"&&window.next),V$=class VO{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?hv||H$?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)==null?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)==null?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)==null?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)==null?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)==null?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)==null?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)==null?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)==null?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)==null?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)==null?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)==null?void 0:s.call(i,...r)},onDelete:(...r)=>{var i,s;return(s=(i=this.options.current).onDelete)==null?void 0:s.call(i,...r)}};return new u$(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,s)=>{var l;return i===((l=n.extensions)==null?void 0:l[s])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?VO.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function $$(t={},e=[]){const n=k.useRef(t);n.current=t;const[r]=k.useState(()=>new V$(n)),i=BO.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return k.useDebugValue(i),k.useEffect(r.onRender(e)),HO({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&s===0?0:s+1}),i}var $O=k.createContext({editor:null});$O.Consumer;var FO=()=>k.useContext($O),F$=k.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),q$=()=>k.useContext(F$);_t.forwardRef((t,e)=>{const{onDragStart:n}=q$(),r=t.as||"div";return b.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});_t.createContext({markViewContentRef:()=>{}});var rm=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},W$=/^\s*>\s$/,G$=Tn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return rm("blockquote",{...Ft(this.options.HTMLAttributes,t),children:rm("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Bc({find:W$,type:this.type})]}}),K$=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Y$=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,X$=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,J$=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Q$=$s.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return rm("strong",{...Ft(this.options.HTMLAttributes,t),children:rm("slot",{})})},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Uc({find:K$,type:this.type}),Uc({find:X$,type:this.type})]},addPasteRules(){return[pl({find:Y$,type:this.type}),pl({find:J$,type:this.type})]}}),Z$=/(^|[^`])`([^`]+)`(?!`)/,eF=/(^|[^`])`([^`]+)`(?!`)/g,tF=$s.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Ft(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Uc({find:Z$,type:this.type})]},addPasteRules(){return[pl({find:eF,type:this.type})]}}),nF=/^```([a-z]+)?[\s\n]$/,rF=/^~~~([a-z]+)?[\s\n]$/,iF=Tn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(l=>l.startsWith(n)).map(l=>l.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Ft(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,l=r.parent.textContent.endsWith(`

`);return!s||!l?!1:t.chain().command(({tr:c})=>(c.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const c=i.after();return c===void 0?!1:r.nodeAt(c)?t.commands.command(({tr:f})=>(f.setSelection(Be.near(r.resolve(c))),!0)):t.commands.exitCode()}}},addInputRules(){return[fv({find:nF,type:this.type,getAttributes:t=>({language:t[1]})}),fv({find:rF,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Lt({key:new Ut("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i?.mode;if(!n||!s)return!1;const{tr:l,schema:c}=t.state,d=c.text(n.replace(/\r\n?/g,`
`));return l.replaceSelectionWith(this.type.create({language:s},d)),l.selection.$from.parent.type!==this.type&&l.setSelection(Ve.near(l.doc.resolve(Math.max(0,l.selection.from-2)))),l.setMeta("paste",!0),t.dispatch(l),!0}}})]}}),sF=Tn.create({name:"doc",topNode:!0,content:"block+"}),oF=Tn.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Ft(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:l}=this.options,{splittableMarks:c}=r.extensionManager,d=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:f,dispatch:p})=>{if(p&&d&&l){const m=d.filter(v=>c.includes(v.type.name));f.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),aF=Tn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Ft(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>fv({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),lF=Tn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Ft(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!d$(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,i=t();return bO(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({tr:s,dispatch:l})=>{var c;if(l){const{$to:d}=s.selection,f=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?s.setSelection(Ve.create(s.doc,d.pos+1)):d.nodeAfter.isBlock?s.setSelection(Ie.create(s.doc,d.pos)):s.setSelection(Ve.create(s.doc,d.pos));else{const p=(c=d.parent.type.contentMatch.defaultType)==null?void 0:c.create();p&&(s.insert(f,p),s.setSelection(Ve.create(s.doc,f+1)))}s.scrollIntoView()}return!0}).run()}}},addInputRules(){return[PO({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),cF=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,uF=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,dF=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,fF=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,hF=$s.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Ft(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Uc({find:cF,type:this.type}),Uc({find:dF,type:this.type})]},addPasteRules(){return[pl({find:uF,type:this.type}),pl({find:fF,type:this.type})]}});const pF="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",mF="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",pv="numeric",mv="ascii",gv="alpha",bd="asciinumeric",ad="alphanumeric",yv="domain",qO="emoji",gF="scheme",yF="slashscheme",l1="whitespace";function vF(t,e){return t in e||(e[t]=[]),e[t]}function Xa(t,e,n){e[pv]&&(e[bd]=!0,e[ad]=!0),e[mv]&&(e[bd]=!0,e[gv]=!0),e[bd]&&(e[ad]=!0),e[gv]&&(e[ad]=!0),e[ad]&&(e[yv]=!0),e[qO]&&(e[yv]=!0);for(const r in e){const i=vF(r,n);i.indexOf(t)<0&&i.push(t)}}function bF(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function tr(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}tr.groups={};tr.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||tr.groups;let i;return e&&e.j?i=e:(i=new tr(e),n&&r&&Xa(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const s=t.length;if(!s)return i;for(let l=0;l<s-1;l++)i=i.tt(t[l]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||tr.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let l,c=i.go(t);if(c?(l=new tr,Object.assign(l.j,c.j),l.jr.push.apply(l.jr,c.jr),l.jd=c.jd,l.t=c.t):l=new tr,s){if(r)if(l.t&&typeof l.t=="string"){const d=Object.assign(bF(l.t,r),n);Xa(s,d,r)}else n&&Xa(s,n,r);l.t=s}return i.j[t]=l,l}};const Ge=(t,e,n,r,i)=>t.ta(e,n,r,i),Vt=(t,e,n,r,i)=>t.tr(e,n,r,i),jC=(t,e,n,r,i)=>t.ts(e,n,r,i),ge=(t,e,n,r,i)=>t.tt(e,n,r,i),Es="WORD",vv="UWORD",WO="ASCIINUMERICAL",GO="ALPHANUMERICAL",qd="LOCALHOST",bv="TLD",wv="UTLD",Cp="SCHEME",vc="SLASH_SCHEME",$b="NUM",Sv="WS",Fb="NL",wd="OPENBRACE",Sd="CLOSEBRACE",im="OPENBRACKET",sm="CLOSEBRACKET",om="OPENPAREN",am="CLOSEPAREN",lm="OPENANGLEBRACKET",cm="CLOSEANGLEBRACKET",um="FULLWIDTHLEFTPAREN",dm="FULLWIDTHRIGHTPAREN",fm="LEFTCORNERBRACKET",hm="RIGHTCORNERBRACKET",pm="LEFTWHITECORNERBRACKET",mm="RIGHTWHITECORNERBRACKET",gm="FULLWIDTHLESSTHAN",ym="FULLWIDTHGREATERTHAN",vm="AMPERSAND",bm="APOSTROPHE",wm="ASTERISK",Do="AT",Sm="BACKSLASH",xm="BACKTICK",Em="CARET",Ho="COLON",qb="COMMA",Tm="DOLLAR",_i="DOT",Cm="EQUALS",Wb="EXCLAMATION",Br="HYPHEN",xd="PERCENT",km="PIPE",Am="PLUS",Nm="POUND",Ed="QUERY",Gb="QUOTE",KO="FULLWIDTHMIDDLEDOT",Kb="SEMI",Ri="SLASH",Td="TILDE",Mm="UNDERSCORE",YO="EMOJI",Om="SYM";var XO=Object.freeze({__proto__:null,ALPHANUMERICAL:GO,AMPERSAND:vm,APOSTROPHE:bm,ASCIINUMERICAL:WO,ASTERISK:wm,AT:Do,BACKSLASH:Sm,BACKTICK:xm,CARET:Em,CLOSEANGLEBRACKET:cm,CLOSEBRACE:Sd,CLOSEBRACKET:sm,CLOSEPAREN:am,COLON:Ho,COMMA:qb,DOLLAR:Tm,DOT:_i,EMOJI:YO,EQUALS:Cm,EXCLAMATION:Wb,FULLWIDTHGREATERTHAN:ym,FULLWIDTHLEFTPAREN:um,FULLWIDTHLESSTHAN:gm,FULLWIDTHMIDDLEDOT:KO,FULLWIDTHRIGHTPAREN:dm,HYPHEN:Br,LEFTCORNERBRACKET:fm,LEFTWHITECORNERBRACKET:pm,LOCALHOST:qd,NL:Fb,NUM:$b,OPENANGLEBRACKET:lm,OPENBRACE:wd,OPENBRACKET:im,OPENPAREN:om,PERCENT:xd,PIPE:km,PLUS:Am,POUND:Nm,QUERY:Ed,QUOTE:Gb,RIGHTCORNERBRACKET:hm,RIGHTWHITECORNERBRACKET:mm,SCHEME:Cp,SEMI:Kb,SLASH:Ri,SLASH_SCHEME:vc,SYM:Om,TILDE:Td,TLD:bv,UNDERSCORE:Mm,UTLD:wv,UWORD:vv,WORD:Es,WS:Sv});const Ss=/[a-z]/,Zu=new RegExp("\\p{L}","u"),c1=new RegExp("\\p{Emoji}","u"),xs=/\d/,u1=/\s/,LC="\r",d1=`
`,wF="",SF="",f1="";let Qh=null,Zh=null;function xF(t=[]){const e={};tr.groups=e;const n=new tr;Qh==null&&(Qh=PC(pF)),Zh==null&&(Zh=PC(mF)),ge(n,"'",bm),ge(n,"{",wd),ge(n,"}",Sd),ge(n,"[",im),ge(n,"]",sm),ge(n,"(",om),ge(n,")",am),ge(n,"<",lm),ge(n,">",cm),ge(n,"",um),ge(n,"",dm),ge(n,"",fm),ge(n,"",hm),ge(n,"",pm),ge(n,"",mm),ge(n,"",gm),ge(n,"",ym),ge(n,"&",vm),ge(n,"*",wm),ge(n,"@",Do),ge(n,"`",xm),ge(n,"^",Em),ge(n,":",Ho),ge(n,",",qb),ge(n,"$",Tm),ge(n,".",_i),ge(n,"=",Cm),ge(n,"!",Wb),ge(n,"-",Br),ge(n,"%",xd),ge(n,"|",km),ge(n,"+",Am),ge(n,"#",Nm),ge(n,"?",Ed),ge(n,'"',Gb),ge(n,"/",Ri),ge(n,";",Kb),ge(n,"~",Td),ge(n,"_",Mm),ge(n,"\\",Sm),ge(n,"",KO);const r=Vt(n,xs,$b,{[pv]:!0});Vt(r,xs,r);const i=Vt(r,Ss,WO,{[bd]:!0}),s=Vt(r,Zu,GO,{[ad]:!0}),l=Vt(n,Ss,Es,{[mv]:!0});Vt(l,xs,i),Vt(l,Ss,l),Vt(i,xs,i),Vt(i,Ss,i);const c=Vt(n,Zu,vv,{[gv]:!0});Vt(c,Ss),Vt(c,xs,s),Vt(c,Zu,c),Vt(s,xs,s),Vt(s,Ss),Vt(s,Zu,s);const d=ge(n,d1,Fb,{[l1]:!0}),f=ge(n,LC,Sv,{[l1]:!0}),p=Vt(n,u1,Sv,{[l1]:!0});ge(n,f1,p),ge(f,d1,d),ge(f,f1,p),Vt(f,u1,p),ge(p,LC),ge(p,d1),Vt(p,u1,p),ge(p,f1,p);const m=Vt(n,c1,YO,{[qO]:!0});ge(m,"#"),Vt(m,c1,m),ge(m,wF,m);const v=ge(m,SF);ge(v,"#"),Vt(v,c1,m);const w=[[Ss,l],[xs,i]],x=[[Ss,null],[Zu,c],[xs,s]];for(let E=0;E<Qh.length;E++)No(n,Qh[E],bv,Es,w);for(let E=0;E<Zh.length;E++)No(n,Zh[E],wv,vv,x);Xa(bv,{tld:!0,ascii:!0},e),Xa(wv,{utld:!0,alpha:!0},e),No(n,"file",Cp,Es,w),No(n,"mailto",Cp,Es,w),No(n,"http",vc,Es,w),No(n,"https",vc,Es,w),No(n,"ftp",vc,Es,w),No(n,"ftps",vc,Es,w),Xa(Cp,{scheme:!0,ascii:!0},e),Xa(vc,{slashscheme:!0,ascii:!0},e),t=t.sort((E,C)=>E[0]>C[0]?1:-1);for(let E=0;E<t.length;E++){const C=t[E][0],I=t[E][1]?{[gF]:!0}:{[yF]:!0};C.indexOf("-")>=0?I[yv]=!0:Ss.test(C)?xs.test(C)?I[bd]=!0:I[mv]=!0:I[pv]=!0,jC(n,C,C,I)}return jC(n,"localhost",qd,{ascii:!0}),n.jd=new tr(Om),{start:n,tokens:Object.assign({groups:e},XO)}}function JO(t,e){const n=EF(e.replace(/[A-Z]/g,c=>c.toLowerCase())),r=n.length,i=[];let s=0,l=0;for(;l<r;){let c=t,d=null,f=0,p=null,m=-1,v=-1;for(;l<r&&(d=c.go(n[l]));)c=d,c.accepts()?(m=0,v=0,p=c):m>=0&&(m+=n[l].length,v++),f+=n[l].length,s+=n[l].length,l++;s-=m,l-=v,f-=m,i.push({t:p.t,v:e.slice(s-f,s),s:s-f,e:s})}return i}function EF(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),s,l=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(l),r+=l.length}return e}function No(t,e,n,r,i){let s;const l=e.length;for(let c=0;c<l-1;c++){const d=e[c];t.j[d]?s=t.j[d]:(s=new tr(r),s.jr=i.slice(),t.j[d]=s),t=s}return s=new tr(n),s.jr=i.slice(),t.j[e[l-1]]=s,s}function PC(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let l=parseInt(t.substring(r,r+s),10);l>0;l--)n.pop();r+=s}else n.push(t[r]),r++}return e}const Wd={defaultProtocol:"http",events:null,format:zC,formatHref:zC,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Yb(t,e=null){let n=Object.assign({},Wd);t&&(n=Object.assign(n,t instanceof Yb?t.o:t));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}Yb.prototype={o:Wd,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:Wd[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function zC(t){return t}function QO(t,e){this.t="token",this.v=t,this.tk=e}QO.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Wd.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),s=this.toFormattedString(t),l={},c=t.get("className",n,e),d=t.get("target",n,e),f=t.get("rel",n,e),p=t.getObj("attributes",n,e),m=t.getObj("events",n,e);return l.href=r,c&&(l.class=c),d&&(l.target=d),f&&(l.rel=f),p&&Object.assign(l,p),{tagName:i,attributes:l,content:s,eventListeners:m}}};function dg(t,e){class n extends QO{constructor(i,s){super(i,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const UC=dg("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),BC=dg("text"),TF=dg("nl"),ep=dg("url",{isLink:!0,toHref(t=Wd.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==qd&&t[1].t===Ho}}),Ur=t=>new tr(t);function CF({groups:t}){const e=t.domain.concat([vm,wm,Do,Sm,xm,Em,Tm,Cm,Br,$b,xd,km,Am,Nm,Ri,Om,Td,Mm]),n=[bm,Ho,qb,_i,Wb,xd,Ed,Gb,Kb,lm,cm,wd,Sd,sm,im,om,am,um,dm,fm,hm,pm,mm,gm,ym],r=[vm,bm,wm,Sm,xm,Em,Tm,Cm,Br,wd,Sd,xd,km,Am,Nm,Ed,Ri,Om,Td,Mm],i=Ur(),s=ge(i,Td);Ge(s,r,s),Ge(s,t.domain,s);const l=Ur(),c=Ur(),d=Ur();Ge(i,t.domain,l),Ge(i,t.scheme,c),Ge(i,t.slashscheme,d),Ge(l,r,s),Ge(l,t.domain,l);const f=ge(l,Do);ge(s,Do,f),ge(c,Do,f),ge(d,Do,f);const p=ge(s,_i);Ge(p,r,s),Ge(p,t.domain,s);const m=Ur();Ge(f,t.domain,m),Ge(m,t.domain,m);const v=ge(m,_i);Ge(v,t.domain,m);const w=Ur(UC);Ge(v,t.tld,w),Ge(v,t.utld,w),ge(f,qd,w);const x=ge(m,Br);ge(x,Br,x),Ge(x,t.domain,m),Ge(w,t.domain,m),ge(w,_i,v),ge(w,Br,x);const E=ge(w,Ho);Ge(E,t.numeric,UC);const C=ge(l,Br),_=ge(l,_i);ge(C,Br,C),Ge(C,t.domain,l),Ge(_,r,s),Ge(_,t.domain,l);const I=Ur(ep);Ge(_,t.tld,I),Ge(_,t.utld,I),Ge(I,t.domain,l),Ge(I,r,s),ge(I,_i,_),ge(I,Br,C),ge(I,Do,f);const L=ge(I,Ho),U=Ur(ep);Ge(L,t.numeric,U);const P=Ur(ep),j=Ur();Ge(P,e,P),Ge(P,n,j),Ge(j,e,P),Ge(j,n,j),ge(I,Ri,P),ge(U,Ri,P);const R=ge(c,Ho),O=ge(d,Ho),D=ge(O,Ri),M=ge(D,Ri);Ge(c,t.domain,l),ge(c,_i,_),ge(c,Br,C),Ge(d,t.domain,l),ge(d,_i,_),ge(d,Br,C),Ge(R,t.domain,P),ge(R,Ri,P),ge(R,Ed,P),Ge(M,t.domain,P),Ge(M,e,P),ge(M,Ri,P);const V=[[wd,Sd],[im,sm],[om,am],[lm,cm],[um,dm],[fm,hm],[pm,mm],[gm,ym]];for(let $=0;$<V.length;$++){const[B,ye]=V[$],me=ge(P,B);ge(j,B,me),ge(me,ye,P);const G=Ur(ep);Ge(me,e,G);const oe=Ur();Ge(me,n),Ge(G,e,G),Ge(G,n,oe),Ge(oe,e,G),Ge(oe,n,oe),ge(G,ye,P),ge(oe,ye,P)}return ge(i,qd,I),ge(i,Fb,TF),{start:i,tokens:XO}}function kF(t,e,n){let r=n.length,i=0,s=[],l=[];for(;i<r;){let c=t,d=null,f=null,p=0,m=null,v=-1;for(;i<r&&!(d=c.go(n[i].t));)l.push(n[i++]);for(;i<r&&(f=d||c.go(n[i].t));)d=null,c=f,c.accepts()?(v=0,m=c):v>=0&&v++,i++,p++;if(v<0)i-=p,i<r&&(l.push(n[i]),i++);else{l.length>0&&(s.push(h1(BC,e,l)),l=[]),i-=v,p-=v;const w=m.t,x=n.slice(i-p,i);s.push(h1(w,e,x))}}return l.length>0&&s.push(h1(BC,e,l)),s}function h1(t,e,n){const r=n[0].s,i=n[n.length-1].e,s=e.slice(r,i);return new t(s,n)}const AF=typeof console<"u"&&console&&console.warn||(()=>{}),NF="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Rt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function MF(){return tr.groups={},Rt.scanner=null,Rt.parser=null,Rt.tokenQueue=[],Rt.pluginQueue=[],Rt.customSchemes=[],Rt.initialized=!1,Rt}function HC(t,e=!1){if(Rt.initialized&&AF(`linkifyjs: already initialized - will not register custom scheme "${t}" ${NF}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Rt.customSchemes.push([t,e])}function OF(){Rt.scanner=xF(Rt.customSchemes);for(let t=0;t<Rt.tokenQueue.length;t++)Rt.tokenQueue[t][1]({scanner:Rt.scanner});Rt.parser=CF(Rt.scanner.tokens);for(let t=0;t<Rt.pluginQueue.length;t++)Rt.pluginQueue[t][1]({scanner:Rt.scanner,parser:Rt.parser});return Rt.initialized=!0,Rt}function Xb(t){return Rt.initialized||OF(),kF(Rt.parser.start,t,JO(Rt.scanner.start,t))}Xb.scan=JO;function ZO(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new Yb(n),i=Xb(t),s=[];for(let l=0;l<i.length;l++){const c=i[l];c.isLink&&(!e||c.t===e)&&r.check(c)&&s.push(c.toFormattedObject(r))}return s}var Jb="[\0- -\u2029]",_F=new RegExp(Jb),RF=new RegExp(`${Jb}$`),DF=new RegExp(Jb,"g");function IF(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function jF(t){return new Lt({key:new Ut("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(f=>f.docChanged)&&!n.doc.eq(r.doc),s=e.some(f=>f.getMeta("preventAutolink"));if(!i||s)return;const{tr:l}=r,c=lO(n.doc,[...e]);if(yO(c).forEach(({newRange:f})=>{const p=NH(r.doc,f,w=>w.isTextblock);let m,v;if(p.length>1)m=p[0],v=r.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(p.length){const w=r.doc.textBetween(f.from,f.to," "," ");if(!RF.test(w))return;m=p[0],v=r.doc.textBetween(m.pos,f.to,void 0," ")}if(m&&v){const w=v.split(_F).filter(Boolean);if(w.length<=0)return!1;const x=w[w.length-1],E=m.pos+v.lastIndexOf(x);if(!x)return!1;const C=Xb(x).map(_=>_.toObject(t.defaultProtocol));if(!IF(C))return!1;C.filter(_=>_.isLink).map(_=>({..._,from:E+_.start+1,to:E+_.end+1})).filter(_=>r.schema.marks.code?!r.doc.rangeHasMark(_.from,_.to,r.schema.marks.code):!0).filter(_=>t.validate(_.value)).filter(_=>t.shouldAutoLink(_.value)).forEach(_=>{Ub(_.from,_.to,r.doc).some(I=>I.mark.type===t.type)||l.addMark(_.from,_.to,t.type.create({href:_.href}))})}}),!!l.steps.length)return l}})}function LF(t){return new Lt({key:new Ut("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let l=null;if(r.target instanceof HTMLAnchorElement)l=r.target;else{let p=r.target;const m=[];for(;p.nodeName!=="DIV";)m.push(p),p=p.parentNode;l=m.find(v=>v.nodeName==="A")}if(!l)return!1;const c=gO(e.state,t.type.name),d=(i=l?.href)!=null?i:c.href,f=(s=l?.target)!=null?s:c.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),l&&d?(window.open(d,f),!0):!1}}})}function PF(t){return new Lt({key:new Ut("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:i}=e,{selection:s}=i,{empty:l}=s;if(l)return!1;let c="";r.content.forEach(f=>{c+=f.textContent});const d=ZO(c,{defaultProtocol:t.defaultProtocol}).find(f=>f.isLink&&f.value===c);return!c||!d?!1:t.editor.commands.setMark(t.type,{href:d.href})}}})}function Ba(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(DF,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var zF=$s.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){HC(t);return}HC(t.scheme,t.optionalSlashes)})},onDestroy(){MF()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Ba(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Ba(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Ba(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Ft(this.options.HTMLAttributes,t),0]:["a",Ft(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Ba(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Ba(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[pl({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=ZO(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:l=>!!Ba(l,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(s=>e.push({text:s.value,data:{href:s.href},index:s.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(jF({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Ba(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(LF({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(PF({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),UF=Object.defineProperty,BF=(t,e)=>{for(var n in e)UF(t,n,{get:e[n],enumerable:!0})},HF="listItem",VC="textStyle",$C=/^\s*([-+*])\s$/,e_=Tn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Ft(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(HF,this.editor.getAttributes(VC)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Bc({find:$C,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Bc({find:$C,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(VC),editor:this.editor})),[t]}}),t_=Tn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Ft(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),VF={};BF(VF,{findListItemPos:()=>hf,getNextListDepth:()=>Qb,handleBackspace:()=>xv,handleDelete:()=>Ev,hasListBefore:()=>n_,hasListItemAfter:()=>$F,hasListItemBefore:()=>r_,listItemHasSubList:()=>i_,nextListIsDeeper:()=>s_,nextListIsHigher:()=>o_});var hf=(t,e)=>{const{$from:n}=e.selection,r=tn(t,e.schema);let i=null,s=n.depth,l=n.pos,c=null;for(;s>0&&c===null;)i=n.node(s),i.type===r?c=s:(s-=1,l-=1);return c===null?null:{$pos:e.doc.resolve(l),depth:c}},Qb=(t,e)=>{const n=hf(t,e);if(!n)return!1;const[,r]=PH(e,t,n.$pos.pos+4);return r},n_=(t,e,n)=>{const{$anchor:r}=t.selection,i=Math.max(0,r.pos-2),s=t.doc.resolve(i).node();return!(!s||!n.includes(s.type.name))},r_=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},i_=(t,e,n)=>{if(!n)return!1;const r=tn(t,e.schema);let i=!1;return n.descendants(s=>{s.type===r&&(i=!0)}),i},xv=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!ra(t.state,e)&&n_(t.state,e,n)){const{$anchor:c}=t.state.selection,d=t.state.doc.resolve(c.before()-1),f=[];d.node().descendants((v,w)=>{v.type.name===e&&f.push({node:v,pos:w})});const p=f.at(-1);if(!p)return!1;const m=t.state.doc.resolve(d.start()+p.pos+1);return t.chain().cut({from:c.start()-1,to:c.end()+1},m.end()).joinForward().run()}if(!ra(t.state,e)||!HH(t.state))return!1;const r=hf(e,t.state);if(!r)return!1;const s=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),l=i_(e,t.state,s);return r_(e,t.state)&&!l?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},s_=(t,e)=>{const n=Qb(t,e),r=hf(t,e);return!r||!n?!1:n>r.depth},o_=(t,e)=>{const n=Qb(t,e),r=hf(t,e);return!r||!n?!1:n<r.depth},Ev=(t,e)=>{if(!ra(t.state,e)||!BH(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:s_(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():o_(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},$F=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},a_=wt.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Ev(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Ev(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&xv(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&xv(t,n,r)&&(e=!0)}),e}}}}),FF="listItem",FC="textStyle",qC=/^(\d+)\.\s$/,l_=Tn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Ft(this.options.HTMLAttributes,n),0]:["ol",Ft(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(FF,this.editor.getAttributes(FC)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Bc({find:qC,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Bc({find:qC,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(FC)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),qF=/^\s*(\[([( |x])?\])\s$/,WF=Tn.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Ft(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),l=document.createElement("span"),c=document.createElement("input"),d=document.createElement("div"),f=p=>{var m,v;c.ariaLabel=((v=(m=this.options.a11y)==null?void 0:m.checkboxLabel)==null?void 0:v.call(m,p,c.checked))||`Task item checkbox for ${p.textContent||"empty task item"}`};return f(t),s.contentEditable="false",c.type="checkbox",c.addEventListener("mousedown",p=>p.preventDefault()),c.addEventListener("change",p=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){c.checked=!c.checked;return}const{checked:m}=p.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:v})=>{const w=n();if(typeof w!="number")return!1;const x=v.doc.nodeAt(w);return v.setNodeMarkup(w,void 0,{...x?.attrs,checked:m}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,m)||(c.checked=!c.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([p,m])=>{i.setAttribute(p,m)}),i.dataset.checked=t.attrs.checked,c.checked=t.attrs.checked,s.append(c,l),i.append(s,d),Object.entries(e).forEach(([p,m])=>{i.setAttribute(p,m)}),{dom:i,contentDOM:d,update:p=>p.type!==this.type?!1:(i.dataset.checked=p.attrs.checked,c.checked=p.attrs.checked,f(p),!0)}}},addInputRules(){return[Bc({find:qF,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),GF=Tn.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Ft(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});wt.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(e_.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(t_.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(a_.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(l_.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(WF.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(GF.configure(this.options.taskList)),t}});var c_=Tn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Ft(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),KF=c_,YF=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,XF=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,JF=$s.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Ft(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Uc({find:YF,type:this.type})]},addPasteRules(){return[pl({find:XF,type:this.type})]}}),QF=Tn.create({name:"text",group:"inline"}),ZF=$s.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Ft(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function eq(t={}){return new Lt({view(e){return new tq(e,t)}})}class tq{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=l=>{this[i](l)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),l=s.width/i.offsetWidth,c=s.height/i.offsetHeight;if(n){let m=e.nodeBefore,v=e.nodeAfter;if(m||v){let w=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(w){let x=w.getBoundingClientRect(),E=m?x.bottom:x.top;m&&v&&(E=(E+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let C=this.width/2*c;r={left:x.left,right:x.right,top:E-C,bottom:E+C}}}}if(!r){let m=this.editorView.coordsAtPos(this.cursorPos),v=this.width/2*l;r={left:m.left-v,right:m.left+v,top:m.top,bottom:m.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let f,p;if(!d||d==document.body&&getComputedStyle(d).position=="static")f=-pageXOffset,p=-pageYOffset;else{let m=d.getBoundingClientRect(),v=m.width/d.offsetWidth,w=m.height/d.offsetHeight;f=m.left-d.scrollLeft*v,p=m.top-d.scrollTop*w}this.element.style.left=(r.left-f)/l+"px",this.element.style.top=(r.top-p)/c+"px",this.element.style.width=(r.right-r.left)/l+"px",this.element.style.height=(r.bottom-r.top)/c+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let l=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let c=oM(this.editorView.state.doc,l,this.editorView.dragging.slice);c!=null&&(l=c)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class $t extends Be{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return $t.valid(r)?new $t(r):Be.near(r)}content(){return be.empty}eq(e){return e instanceof $t&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new $t(e.resolve(n.pos))}getBookmark(){return new Zb(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!nq(e)||!rq(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&$t.valid(e))return e;let i=e.pos,s=null;for(let l=e.depth;;l--){let c=e.node(l);if(n>0?e.indexAfter(l)<c.childCount:e.index(l)>0){s=c.child(n>0?e.indexAfter(l):e.index(l)-1);break}else if(l==0)return null;i+=n;let d=e.doc.resolve(i);if($t.valid(d))return d}for(;;){let l=n>0?s.firstChild:s.lastChild;if(!l){if(s.isAtom&&!s.isText&&!Ie.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=l,i+=n;let c=e.doc.resolve(i);if($t.valid(c))return c}return null}}}$t.prototype.visible=!1;$t.findFrom=$t.findGapCursorFrom;Be.jsonID("gapcursor",$t);class Zb{constructor(e){this.pos=e}map(e){return new Zb(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return $t.valid(n)?new $t(n):Be.near(n)}}function nq(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function rq(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function iq(){return new Lt({props:{decorations:lq,createSelectionBetween(t,e,n){return e.pos==n.pos&&$t.valid(n)?new $t(n):null},handleClick:oq,handleKeyDown:sq,handleDOMEvents:{beforeinput:aq}}})}const sq=Ab({ArrowLeft:tp("horiz",-1),ArrowRight:tp("horiz",1),ArrowUp:tp("vert",-1),ArrowDown:tp("vert",1)});function tp(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let l=r.selection,c=e>0?l.$to:l.$from,d=l.empty;if(l instanceof Ve){if(!s.endOfTextblock(n)||c.depth==0)return!1;d=!1,c=r.doc.resolve(e>0?c.after():c.before())}let f=$t.findGapCursorFrom(c,e,d);return f?(i&&i(r.tr.setSelection(new $t(f))),!0):!1}}function oq(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!$t.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Ie.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new $t(r))),!0)}function aq(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof $t))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=fe.empty;for(let l=r.length-1;l>=0;l--)i=fe.from(r[l].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new be(i,0,0));return s.setSelection(Ve.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function lq(t){if(!(t.selection instanceof $t))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",zt.create(t.doc,[Un.widget(t.selection.head,e,{key:"gapcursor"})])}var _m=200,mn=function(){};mn.prototype.append=function(e){return e.length?(e=mn.from(e),!this.length&&e||e.length<_m&&this.leafAppend(e)||this.length<_m&&e.leafPrepend(this)||this.appendInner(e)):this};mn.prototype.prepend=function(e){return e.length?mn.from(e).append(this):this};mn.prototype.appendInner=function(e){return new cq(this,e)};mn.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?mn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};mn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};mn.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};mn.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,l){return i.push(e(s,l))},n,r),i};mn.from=function(e){return e instanceof mn?e:e&&e.length?new u_(e):mn.empty};var u_=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,l,c){for(var d=s;d<l;d++)if(i(this.values[d],c+d)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,l,c){for(var d=s-1;d>=l;d--)if(i(this.values[d],c+d)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=_m)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=_m)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(mn);mn.empty=new u_([]);var cq=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,l){var c=this.left.length;if(i<c&&this.left.forEachInner(r,i,Math.min(s,c),l)===!1||s>c&&this.right.forEachInner(r,Math.max(i-c,0),Math.min(this.length,s)-c,l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,l){var c=this.left.length;if(i>c&&this.right.forEachInvertedInner(r,i-c,Math.max(s,c)-c,l+c)===!1||s<c&&this.left.forEachInvertedInner(r,Math.min(i,c),s,l)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(mn);const uq=500;class ri{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let l=e.tr,c,d,f=[],p=[];return this.items.forEach((m,v)=>{if(!m.step){i||(i=this.remapping(r,v+1),s=i.maps.length),s--,p.push(m);return}if(i){p.push(new Di(m.map));let w=m.step.map(i.slice(s)),x;w&&l.maybeStep(w).doc&&(x=l.mapping.maps[l.mapping.maps.length-1],f.push(new Di(x,void 0,void 0,f.length+p.length))),s--,x&&i.appendMap(x,s)}else l.maybeStep(m.step);if(m.selection)return c=i?m.selection.map(i.slice(s)):m.selection,d=new ri(this.items.slice(0,r).append(p.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:l,selection:c}}addTransform(e,n,r,i){let s=[],l=this.eventCount,c=this.items,d=!i&&c.length?c.get(c.length-1):null;for(let p=0;p<e.steps.length;p++){let m=e.steps[p].invert(e.docs[p]),v=new Di(e.mapping.maps[p],m,n),w;(w=d&&d.merge(v))&&(v=w,p?s.pop():c=c.slice(0,c.length-1)),s.push(v),n&&(l++,n=void 0),i||(d=v)}let f=l-r.depth;return f>fq&&(c=dq(c,f),l-=f),new ri(c.append(s),l)}remapping(e,n){let r=new zd;return this.items.forEach((i,s)=>{let l=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,l)},e,n),r}addMaps(e){return this.eventCount==0?this:new ri(this.items.append(e.map(n=>new Di(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,l=e.steps.length,c=this.eventCount;this.items.forEach(v=>{v.selection&&c--},i);let d=n;this.items.forEach(v=>{let w=s.getMirror(--d);if(w==null)return;l=Math.min(l,w);let x=s.maps[w];if(v.step){let E=e.steps[w].invert(e.docs[w]),C=v.selection&&v.selection.map(s.slice(d+1,w));C&&c++,r.push(new Di(x,E,C))}else r.push(new Di(x))},i);let f=[];for(let v=n;v<l;v++)f.push(new Di(s.maps[v]));let p=this.items.slice(0,i).append(f).append(r),m=new ri(p,c);return m.emptyItemCount()>uq&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((l,c)=>{if(c>=e)i.push(l),l.selection&&s++;else if(l.step){let d=l.step.map(n.slice(r)),f=d&&d.getMap();if(r--,f&&n.appendMap(f,r),d){let p=l.selection&&l.selection.map(n.slice(r));p&&s++;let m=new Di(f.invert(),d,p),v,w=i.length-1;(v=i.length&&i[w].merge(m))?i[w]=v:i.push(m)}}else l.map&&r--},this.items.length,0),new ri(mn.from(i.reverse()),s)}}ri.empty=new ri(mn.empty,0);function dq(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class Di{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Di(n.getMap().invert(),n,this.selection)}}}class Io{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const fq=20;function hq(t,e,n,r){let i=n.getMeta(il),s;if(i)return i.historyState;n.getMeta(gq)&&(t=new Io(t.done,t.undone,null,0,-1));let l=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(l&&l.getMeta(il))return l.getMeta(il).redo?new Io(t.done.addTransform(n,void 0,r,kp(e)),t.undone,WC(n.mapping.maps),t.prevTime,t.prevComposition):new Io(t.done,t.undone.addTransform(n,void 0,r,kp(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let c=n.getMeta("composition"),d=t.prevTime==0||!l&&t.prevComposition!=c&&(t.prevTime<(n.time||0)-r.newGroupDelay||!pq(n,t.prevRanges)),f=l?p1(t.prevRanges,n.mapping):WC(n.mapping.maps);return new Io(t.done.addTransform(n,d?e.selection.getBookmark():void 0,r,kp(e)),ri.empty,f,n.time,c??t.prevComposition)}else return(s=n.getMeta("rebased"))?new Io(t.done.rebased(n,s),t.undone.rebased(n,s),p1(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Io(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),p1(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function pq(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function WC(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,l)=>e.push(s,l));return e}function p1(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function mq(t,e,n){let r=kp(e),i=il.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let l=s.selection.resolve(s.transform.doc),c=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),d=new Io(n?c:s.remaining,n?s.remaining:c,null,0,-1);return s.transform.setSelection(l).setMeta(il,{redo:n,historyState:d})}let m1=!1,GC=null;function kp(t){let e=t.plugins;if(GC!=e){m1=!1,GC=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){m1=!0;break}}return m1}const il=new Ut("history"),gq=new Ut("closeHistory");function yq(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Lt({key:il,state:{init(){return new Io(ri.empty,ri.empty,null,0,-1)},apply(e,n,r){return hq(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?f_:r=="historyRedo"?h_:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function d_(t,e){return(n,r)=>{let i=il.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=mq(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const f_=d_(!1,!0),h_=d_(!0,!0);wt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new Lt({key:new Ut("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const s=this.storage.characters({node:r.doc});if(s>i){const l=s-i,c=0,d=l;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const f=r.tr.deleteRange(c,d);return t=!0,f}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),s=this.storage.characters({node:e.doc});if(s<=r||i>r&&s>r&&s<=i)return!0;if(i>r&&s>r&&s>i||!e.getMeta("paste"))return!1;const c=e.selection.$head.pos,d=s-r,f=c-d,p=c;return e.deleteRange(f,p),!(this.storage.characters({node:e.doc})>r)}})]}});var vq=wt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[eq(this.options)]}});wt.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Lt({key:new Ut("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,s=[];if(!n||!r)return zt.create(t,[]);let l=0;this.options.mode==="deepest"&&t.descendants((d,f)=>{if(d.isText)return;if(!(i>=f&&i<=f+d.nodeSize-1))return!1;l+=1});let c=0;return t.descendants((d,f)=>{if(d.isText||!(i>=f&&i<=f+d.nodeSize-1))return!1;if(c+=1,this.options.mode==="deepest"&&l-c>0||this.options.mode==="shallowest"&&c>1)return this.options.mode==="deepest";s.push(Un.node(f,f+d.nodeSize,{class:this.options.className}))}),zt.create(t,s)}}})]}});var bq=wt.create({name:"gapCursor",addProseMirrorPlugins(){return[iq()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=bt(De(t,"allowGapCursor",n)))!=null?e:null}}});wt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Lt({key:new Ut("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((l,c)=>{const d=r>=c&&r<=c+l.nodeSize,f=!l.isLeaf&&lg(l);if((d||!this.options.showOnlyCurrent)&&f){const p=[this.options.emptyNodeClass];s&&p.push(this.options.emptyEditorClass);const m=Un.node(c,c+l.nodeSize,{class:p.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:l,pos:c,hasAnchor:d}):this.options.placeholder});i.push(m)}return this.options.includeChildren}),zt.create(t,i)}}})]}});wt.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Lt({key:new Ut("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||bO(n.selection)||t.view.dragging?null:zt.create(n.doc,[Un.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function KC({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var wq=wt.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const t=new Ut(this.name),e=Object.entries(this.editor.schema.nodes).map(([,n])=>n).filter(n=>(this.options.notAfter||[]).concat(this.options.node).includes(n.name));return[new Lt({key:t,appendTransaction:(n,r,i)=>{const{doc:s,tr:l,schema:c}=i,d=t.getState(i),f=s.content.size,p=c.nodes[this.options.node];if(d)return l.insert(f,p.create())},state:{init:(n,r)=>{const i=r.tr.doc.lastChild;return!KC({node:i,types:e})},apply:(n,r)=>{if(!n.docChanged)return r;const i=n.doc.lastChild;return!KC({node:i,types:e})}}})]}}),Sq=wt.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>f_(t,e),redo:()=>({state:t,dispatch:e})=>h_(t,e)}},addProseMirrorPlugins(){return[yq(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),xq=wt.create({name:"starterKit",addExtensions(){var t,e,n,r;const i=[];return this.options.bold!==!1&&i.push(Q$.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(G$.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(e_.configure(this.options.bulletList)),this.options.code!==!1&&i.push(tF.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(iF.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(sF.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(vq.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(bq.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(oF.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(aF.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(Sq.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(lF.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(hF.configure(this.options.italic)),this.options.listItem!==!1&&i.push(t_.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(a_.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(zF.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(l_.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(c_.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(JF.configure(this.options.strike)),this.options.text!==!1&&i.push(QF.configure(this.options.text)),this.options.underline!==!1&&i.push(ZF.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(wq.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),Eq=xq;const Tq=[{subset:"latin"},{capability:"WOFF2"}],Cq=async(t=Tq)=>{const e=t.reduce((r,i)=>(Object.entries(i).forEach(([s,l])=>r.push(`${s}=${l}`)),r),[]).join("&"),n=await fetch(`https://www.googleapis.com/webfonts/v1/webfonts?key=${S5}&${e}`);if(n.ok)return(await n.json())?.items},p_=t=>`https://fonts.googleapis.com/css2?family=${Nq(t).join("&family=")}`,kq=t=>t==="regular"?{wght:400,ital:0}:t==="italic"?{wght:400,ital:1}:t.endsWith("italic")?{wght:t==="italic"?Ds.FONT_DEF_WEIGHT:parseInt(t,10)||Ds.FONT_DEF_WEIGHT,ital:1}:{wght:parseInt(t,10)||Ds.FONT_DEF_WEIGHT,ital:0},Aq=(t,e)=>{const n=Array.from(e).map(kq);if(n.some(s=>s.ital===1)){const s=n.sort((l,c)=>l.ital-c.ital||l.wght-c.wght).map(l=>`${l.ital},${l.wght}`).join(";");return s==="1,400"?`${t.replace(/\s+/g,"+")}:ital@1`:`${t.replace(/\s+/g,"+")}:ital,wght@${s}`}const i=n.map(s=>s.wght).sort((s,l)=>s-l).join(";");return i==="400"?t.replace(/\s+/g,"+"):`${t.replace(/\s+/g,"+")}:wght@${i}`},Nq=t=>Object.entries(t).map(([e,n])=>Aq(e,n));function Mq({children:t}){const e=Oe(f=>f.domain),{js:n,css:r,fonts:i}=Oe(f=>f.config),s=k.useRef(null),[l,c]=k.useState(null),d=k.useRef(!1);return k.useEffect(()=>{const f=s.current;if(d.current||!f||!f.contentDocument)return;const p=f.contentDocument.createElement("base");if(p.href=`https://${e}/`,f.contentDocument.head.appendChild(p),r.length>0){const m=f.contentDocument.createElement("style");m.textContent=[...uA,r].join(`
`),f.contentDocument.head.appendChild(m)}if(Object.keys(i).length>0){const m=f.contentDocument.createElement("link");m.href=p_(i),m.rel="stylesheet",f.contentDocument.head.appendChild(m)}if(n.length>0){const m=f.contentDocument.createElement("script");m.textContent=n,f.contentDocument.head.appendChild(m)}c(f.contentDocument.body),f.contentDocument.body.focus(),f.contentWindow?.focus(),d.current=!0},[r,n,i,e]),b.jsxs(b.Fragment,{children:[b.jsx("iframe",{ref:s,className:"grow bg-base-200"}),l&&yl.createPortal(t,l)]})}const m_=["top","right","bottom","left"],YC=["start","end"],XC=m_.reduce((t,e)=>t.concat(e,e+"-"+YC[0],e+"-"+YC[1]),[]),fi=Math.min,Mn=Math.max,Rm=Math.round,np=Math.floor,Bi=t=>({x:t,y:t}),Oq={left:"right",right:"left",bottom:"top",top:"bottom"},_q={start:"end",end:"start"};function Tv(t,e,n){return Mn(t,fi(e,n))}function hi(t,e){return typeof t=="function"?t(e):t}function Sr(t){return t.split("-")[0]}function ui(t){return t.split("-")[1]}function ew(t){return t==="x"?"y":"x"}function tw(t){return t==="y"?"height":"width"}const Rq=new Set(["top","bottom"]);function ai(t){return Rq.has(Sr(t))?"y":"x"}function nw(t){return ew(ai(t))}function g_(t,e,n){n===void 0&&(n=!1);const r=ui(t),i=nw(t),s=tw(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(l=Im(l)),[l,Im(l)]}function Dq(t){const e=Im(t);return[Dm(t),e,Dm(e)]}function Dm(t){return t.replace(/start|end/g,e=>_q[e])}const JC=["left","right"],QC=["right","left"],Iq=["top","bottom"],jq=["bottom","top"];function Lq(t,e,n){switch(t){case"top":case"bottom":return n?e?QC:JC:e?JC:QC;case"left":case"right":return e?Iq:jq;default:return[]}}function Pq(t,e,n,r){const i=ui(t);let s=Lq(Sr(t),n==="start",r);return i&&(s=s.map(l=>l+"-"+i),e&&(s=s.concat(s.map(Dm)))),s}function Im(t){return t.replace(/left|right|bottom|top/g,e=>Oq[e])}function zq(t){return{top:0,right:0,bottom:0,left:0,...t}}function rw(t){return typeof t!="number"?zq(t):{top:t,right:t,bottom:t,left:t}}function Hc(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function ZC(t,e,n){let{reference:r,floating:i}=t;const s=ai(e),l=nw(e),c=tw(l),d=Sr(e),f=s==="y",p=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,v=r[c]/2-i[c]/2;let w;switch(d){case"top":w={x:p,y:r.y-i.height};break;case"bottom":w={x:p,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:m};break;case"left":w={x:r.x-i.width,y:m};break;default:w={x:r.x,y:r.y}}switch(ui(e)){case"start":w[l]-=v*(n&&f?-1:1);break;case"end":w[l]+=v*(n&&f?-1:1);break}return w}const Uq=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:l}=n,c=s.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let f=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:p,y:m}=ZC(f,r,d),v=r,w={},x=0;for(let E=0;E<c.length;E++){const{name:C,fn:_}=c[E],{x:I,y:L,data:U,reset:P}=await _({x:p,y:m,initialPlacement:r,placement:v,strategy:i,middlewareData:w,rects:f,platform:l,elements:{reference:t,floating:e}});p=I??p,m=L??m,w={...w,[C]:{...w[C],...U}},P&&x<=50&&(x++,typeof P=="object"&&(P.placement&&(v=P.placement),P.rects&&(f=P.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):P.rects),{x:p,y:m}=ZC(f,v,d)),E=-1)}return{x:p,y:m,placement:v,strategy:i,middlewareData:w}};async function Vc(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:l,elements:c,strategy:d}=t,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:v=!1,padding:w=0}=hi(e,t),x=rw(w),C=c[v?m==="floating"?"reference":"floating":m],_=Hc(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(C)))==null||n?C:C.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:f,rootBoundary:p,strategy:d})),I=m==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,L=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),U=await(s.isElement==null?void 0:s.isElement(L))?await(s.getScale==null?void 0:s.getScale(L))||{x:1,y:1}:{x:1,y:1},P=Hc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:I,offsetParent:L,strategy:d}):I);return{top:(_.top-P.top+x.top)/U.y,bottom:(P.bottom-_.bottom+x.bottom)/U.y,left:(_.left-P.left+x.left)/U.x,right:(P.right-_.right+x.right)/U.x}}const Bq=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:l,elements:c,middlewareData:d}=e,{element:f,padding:p=0}=hi(t,e)||{};if(f==null)return{};const m=rw(p),v={x:n,y:r},w=nw(i),x=tw(w),E=await l.getDimensions(f),C=w==="y",_=C?"top":"left",I=C?"bottom":"right",L=C?"clientHeight":"clientWidth",U=s.reference[x]+s.reference[w]-v[w]-s.floating[x],P=v[w]-s.reference[w],j=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let R=j?j[L]:0;(!R||!await(l.isElement==null?void 0:l.isElement(j)))&&(R=c.floating[L]||s.floating[x]);const O=U/2-P/2,D=R/2-E[x]/2-1,M=fi(m[_],D),V=fi(m[I],D),$=M,B=R-E[x]-V,ye=R/2-E[x]/2+O,me=Tv($,ye,B),G=!d.arrow&&ui(i)!=null&&ye!==me&&s.reference[x]/2-(ye<$?M:V)-E[x]/2<0,oe=G?ye<$?ye-$:ye-B:0;return{[w]:v[w]+oe,data:{[w]:me,centerOffset:ye-me-oe,...G&&{alignmentOffset:oe}},reset:G}}});function Hq(t,e,n){return(t?[...n.filter(i=>ui(i)===t),...n.filter(i=>ui(i)!==t)]:n.filter(i=>Sr(i)===i)).filter(i=>t?ui(i)===t||(e?Dm(i)!==i:!1):!0)}const Vq=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,r,i;const{rects:s,middlewareData:l,placement:c,platform:d,elements:f}=e,{crossAxis:p=!1,alignment:m,allowedPlacements:v=XC,autoAlignment:w=!0,...x}=hi(t,e),E=m!==void 0||v===XC?Hq(m||null,w,v):v,C=await Vc(e,x),_=((n=l.autoPlacement)==null?void 0:n.index)||0,I=E[_];if(I==null)return{};const L=g_(I,s,await(d.isRTL==null?void 0:d.isRTL(f.floating)));if(c!==I)return{reset:{placement:E[0]}};const U=[C[Sr(I)],C[L[0]],C[L[1]]],P=[...((r=l.autoPlacement)==null?void 0:r.overflows)||[],{placement:I,overflows:U}],j=E[_+1];if(j)return{data:{index:_+1,overflows:P},reset:{placement:j}};const R=P.map(M=>{const V=ui(M.placement);return[M.placement,V&&p?M.overflows.slice(0,2).reduce(($,B)=>$+B,0):M.overflows[0],M.overflows]}).sort((M,V)=>M[1]-V[1]),D=((i=R.filter(M=>M[2].slice(0,ui(M[0])?2:3).every(V=>V<=0))[0])==null?void 0:i[0])||R[0][0];return D!==c?{data:{index:_+1,overflows:P},reset:{placement:D}}:{}}}},$q=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:l,initialPlacement:c,platform:d,elements:f}=e,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:E=!0,...C}=hi(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const _=Sr(i),I=ai(c),L=Sr(c)===c,U=await(d.isRTL==null?void 0:d.isRTL(f.floating)),P=v||(L||!E?[Im(c)]:Dq(c)),j=x!=="none";!v&&j&&P.push(...Pq(c,E,x,U));const R=[c,...P],O=await Vc(e,C),D=[];let M=((r=s.flip)==null?void 0:r.overflows)||[];if(p&&D.push(O[_]),m){const ye=g_(i,l,U);D.push(O[ye[0]],O[ye[1]])}if(M=[...M,{placement:i,overflows:D}],!D.every(ye=>ye<=0)){var V,$;const ye=(((V=s.flip)==null?void 0:V.index)||0)+1,me=R[ye];if(me&&(!(m==="alignment"?I!==ai(me):!1)||M.every(ce=>ai(ce.placement)===I?ce.overflows[0]>0:!0)))return{data:{index:ye,overflows:M},reset:{placement:me}};let G=($=M.filter(oe=>oe.overflows[0]<=0).sort((oe,ce)=>oe.overflows[1]-ce.overflows[1])[0])==null?void 0:$.placement;if(!G)switch(w){case"bestFit":{var B;const oe=(B=M.filter(ce=>{if(j){const Ce=ai(ce.placement);return Ce===I||Ce==="y"}return!0}).map(ce=>[ce.placement,ce.overflows.filter(Ce=>Ce>0).reduce((Ce,q)=>Ce+q,0)]).sort((ce,Ce)=>ce[1]-Ce[1])[0])==null?void 0:B[0];oe&&(G=oe);break}case"initialPlacement":G=c;break}if(i!==G)return{reset:{placement:G}}}return{}}}};function ek(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function tk(t){return m_.some(e=>t[e]>=0)}const Fq=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=hi(t,e);switch(r){case"referenceHidden":{const s=await Vc(e,{...i,elementContext:"reference"}),l=ek(s,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:tk(l)}}}case"escaped":{const s=await Vc(e,{...i,altBoundary:!0}),l=ek(s,n.floating);return{data:{escapedOffsets:l,escaped:tk(l)}}}default:return{}}}}};function y_(t){const e=fi(...t.map(s=>s.left)),n=fi(...t.map(s=>s.top)),r=Mn(...t.map(s=>s.right)),i=Mn(...t.map(s=>s.bottom));return{x:e,y:n,width:r-e,height:i-n}}function qq(t){const e=t.slice().sort((i,s)=>i.y-s.y),n=[];let r=null;for(let i=0;i<e.length;i++){const s=e[i];!r||s.y-r.y>r.height/2?n.push([s]):n[n.length-1].push(s),r=s}return n.map(i=>Hc(y_(i)))}const Wq=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){const{placement:n,elements:r,rects:i,platform:s,strategy:l}=e,{padding:c=2,x:d,y:f}=hi(t,e),p=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(r.reference))||[]),m=qq(p),v=Hc(y_(p)),w=rw(c);function x(){if(m.length===2&&m[0].left>m[1].right&&d!=null&&f!=null)return m.find(C=>d>C.left-w.left&&d<C.right+w.right&&f>C.top-w.top&&f<C.bottom+w.bottom)||v;if(m.length>=2){if(ai(n)==="y"){const M=m[0],V=m[m.length-1],$=Sr(n)==="top",B=M.top,ye=V.bottom,me=$?M.left:V.left,G=$?M.right:V.right,oe=G-me,ce=ye-B;return{top:B,bottom:ye,left:me,right:G,width:oe,height:ce,x:me,y:B}}const C=Sr(n)==="left",_=Mn(...m.map(M=>M.right)),I=fi(...m.map(M=>M.left)),L=m.filter(M=>C?M.left===I:M.right===_),U=L[0].top,P=L[L.length-1].bottom,j=I,R=_,O=R-j,D=P-U;return{top:U,bottom:P,left:j,right:R,width:O,height:D,x:j,y:U}}return v}const E=await s.getElementRects({reference:{getBoundingClientRect:x},floating:r.floating,strategy:l});return i.reference.x!==E.reference.x||i.reference.y!==E.reference.y||i.reference.width!==E.reference.width||i.reference.height!==E.reference.height?{reset:{rects:E}}:{}}}},v_=new Set(["left","top"]);async function Gq(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Sr(n),c=ui(n),d=ai(n)==="y",f=v_.has(l)?-1:1,p=s&&d?-1:1,m=hi(e,t);let{mainAxis:v,crossAxis:w,alignmentAxis:x}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof x=="number"&&(w=c==="end"?x*-1:x),d?{x:w*p,y:v*f}:{x:v*f,y:w*p}}const Kq=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:l,middlewareData:c}=e,d=await Gq(e,t);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:s+d.y,data:{...d,placement:l}}}}},Yq=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:l=!1,limiter:c={fn:C=>{let{x:_,y:I}=C;return{x:_,y:I}}},...d}=hi(t,e),f={x:n,y:r},p=await Vc(e,d),m=ai(Sr(i)),v=ew(m);let w=f[v],x=f[m];if(s){const C=v==="y"?"top":"left",_=v==="y"?"bottom":"right",I=w+p[C],L=w-p[_];w=Tv(I,w,L)}if(l){const C=m==="y"?"top":"left",_=m==="y"?"bottom":"right",I=x+p[C],L=x-p[_];x=Tv(I,x,L)}const E=c.fn({...e,[v]:w,[m]:x});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[v]:s,[m]:l}}}}}},Xq=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:l}=e,{offset:c=0,mainAxis:d=!0,crossAxis:f=!0}=hi(t,e),p={x:n,y:r},m=ai(i),v=ew(m);let w=p[v],x=p[m];const E=hi(c,e),C=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(d){const L=v==="y"?"height":"width",U=s.reference[v]-s.floating[L]+C.mainAxis,P=s.reference[v]+s.reference[L]-C.mainAxis;w<U?w=U:w>P&&(w=P)}if(f){var _,I;const L=v==="y"?"width":"height",U=v_.has(Sr(i)),P=s.reference[m]-s.floating[L]+(U&&((_=l.offset)==null?void 0:_[m])||0)+(U?0:C.crossAxis),j=s.reference[m]+s.reference[L]+(U?0:((I=l.offset)==null?void 0:I[m])||0)-(U?C.crossAxis:0);x<P?x=P:x>j&&(x=j)}return{[v]:w,[m]:x}}}},Jq=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:l,elements:c}=e,{apply:d=()=>{},...f}=hi(t,e),p=await Vc(e,f),m=Sr(i),v=ui(i),w=ai(i)==="y",{width:x,height:E}=s.floating;let C,_;m==="top"||m==="bottom"?(C=m,_=v===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(_=m,C=v==="end"?"top":"bottom");const I=E-p.top-p.bottom,L=x-p.left-p.right,U=fi(E-p[C],I),P=fi(x-p[_],L),j=!e.middlewareData.shift;let R=U,O=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(O=L),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(R=I),j&&!v){const M=Mn(p.left,0),V=Mn(p.right,0),$=Mn(p.top,0),B=Mn(p.bottom,0);w?O=x-2*(M!==0||V!==0?M+V:Mn(p.left,p.right)):R=E-2*($!==0||B!==0?$+B:Mn(p.top,p.bottom))}await d({...e,availableWidth:O,availableHeight:R});const D=await l.getDimensions(c.floating);return x!==D.width||E!==D.height?{reset:{rects:!0}}:{}}}};function fg(){return typeof window<"u"}function Xc(t){return b_(t)?(t.nodeName||"").toLowerCase():"#document"}function wr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Gi(t){var e;return(e=(b_(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function b_(t){return fg()?t instanceof Node||t instanceof wr(t).Node:!1}function pi(t){return fg()?t instanceof Element||t instanceof wr(t).Element:!1}function Fi(t){return fg()?t instanceof HTMLElement||t instanceof wr(t).HTMLElement:!1}function nk(t){return!fg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof wr(t).ShadowRoot}const Qq=new Set(["inline","contents"]);function pf(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=mi(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Qq.has(i)}const Zq=new Set(["table","td","th"]);function eW(t){return Zq.has(Xc(t))}const tW=[":popover-open",":modal"];function hg(t){return tW.some(e=>{try{return t.matches(e)}catch{return!1}})}const nW=["transform","translate","scale","rotate","perspective"],rW=["transform","translate","scale","rotate","perspective","filter"],iW=["paint","layout","strict","content"];function iw(t){const e=sw(),n=pi(t)?mi(t):t;return nW.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||rW.some(r=>(n.willChange||"").includes(r))||iW.some(r=>(n.contain||"").includes(r))}function sW(t){let e=ia(t);for(;Fi(e)&&!$c(e);){if(iw(e))return e;if(hg(e))return null;e=ia(e)}return null}function sw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const oW=new Set(["html","body","#document"]);function $c(t){return oW.has(Xc(t))}function mi(t){return wr(t).getComputedStyle(t)}function pg(t){return pi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ia(t){if(Xc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||nk(t)&&t.host||Gi(t);return nk(e)?e.host:e}function w_(t){const e=ia(t);return $c(e)?t.ownerDocument?t.ownerDocument.body:t.body:Fi(e)&&pf(e)?e:w_(e)}function Gd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=w_(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),l=wr(i);if(s){const c=Cv(l);return e.concat(l,l.visualViewport||[],pf(i)?i:[],c&&n?Gd(c):[])}return e.concat(i,Gd(i,[],n))}function Cv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function S_(t){const e=mi(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Fi(t),s=i?t.offsetWidth:n,l=i?t.offsetHeight:r,c=Rm(n)!==s||Rm(r)!==l;return c&&(n=s,r=l),{width:n,height:r,$:c}}function ow(t){return pi(t)?t:t.contextElement}function Oc(t){const e=ow(t);if(!Fi(e))return Bi(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=S_(e);let l=(s?Rm(n.width):n.width)/r,c=(s?Rm(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const aW=Bi(0);function x_(t){const e=wr(t);return!sw()||!e.visualViewport?aW:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function lW(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==wr(t)?!1:e}function ml(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=ow(t);let l=Bi(1);e&&(r?pi(r)&&(l=Oc(r)):l=Oc(t));const c=lW(s,n,r)?x_(s):Bi(0);let d=(i.left+c.x)/l.x,f=(i.top+c.y)/l.y,p=i.width/l.x,m=i.height/l.y;if(s){const v=wr(s),w=r&&pi(r)?wr(r):r;let x=v,E=Cv(x);for(;E&&r&&w!==x;){const C=Oc(E),_=E.getBoundingClientRect(),I=mi(E),L=_.left+(E.clientLeft+parseFloat(I.paddingLeft))*C.x,U=_.top+(E.clientTop+parseFloat(I.paddingTop))*C.y;d*=C.x,f*=C.y,p*=C.x,m*=C.y,d+=L,f+=U,x=wr(E),E=Cv(x)}}return Hc({width:p,height:m,x:d,y:f})}function mg(t,e){const n=pg(t).scrollLeft;return e?e.left+n:ml(Gi(t)).left+n}function E_(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-mg(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function cW(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",l=Gi(r),c=e?hg(e.floating):!1;if(r===l||c&&s)return n;let d={scrollLeft:0,scrollTop:0},f=Bi(1);const p=Bi(0),m=Fi(r);if((m||!m&&!s)&&((Xc(r)!=="body"||pf(l))&&(d=pg(r)),Fi(r))){const w=ml(r);f=Oc(r),p.x=w.x+r.clientLeft,p.y=w.y+r.clientTop}const v=l&&!m&&!s?E_(l,d):Bi(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+p.x+v.x,y:n.y*f.y-d.scrollTop*f.y+p.y+v.y}}function uW(t){return Array.from(t.getClientRects())}function dW(t){const e=Gi(t),n=pg(t),r=t.ownerDocument.body,i=Mn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Mn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+mg(t);const c=-n.scrollTop;return mi(r).direction==="rtl"&&(l+=Mn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:l,y:c}}const rk=25;function fW(t,e){const n=wr(t),r=Gi(t),i=n.visualViewport;let s=r.clientWidth,l=r.clientHeight,c=0,d=0;if(i){s=i.width,l=i.height;const p=sw();(!p||p&&e==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}const f=mg(r);if(f<=0){const p=r.ownerDocument,m=p.body,v=getComputedStyle(m),w=p.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,x=Math.abs(r.clientWidth-m.clientWidth-w);x<=rk&&(s-=x)}else f<=rk&&(s+=f);return{width:s,height:l,x:c,y:d}}const hW=new Set(["absolute","fixed"]);function pW(t,e){const n=ml(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Fi(t)?Oc(t):Bi(1),l=t.clientWidth*s.x,c=t.clientHeight*s.y,d=i*s.x,f=r*s.y;return{width:l,height:c,x:d,y:f}}function ik(t,e,n){let r;if(e==="viewport")r=fW(t,n);else if(e==="document")r=dW(Gi(t));else if(pi(e))r=pW(e,n);else{const i=x_(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Hc(r)}function T_(t,e){const n=ia(t);return n===e||!pi(n)||$c(n)?!1:mi(n).position==="fixed"||T_(n,e)}function mW(t,e){const n=e.get(t);if(n)return n;let r=Gd(t,[],!1).filter(c=>pi(c)&&Xc(c)!=="body"),i=null;const s=mi(t).position==="fixed";let l=s?ia(t):t;for(;pi(l)&&!$c(l);){const c=mi(l),d=iw(l);!d&&c.position==="fixed"&&(i=null),(s?!d&&!i:!d&&c.position==="static"&&!!i&&hW.has(i.position)||pf(l)&&!d&&T_(t,l))?r=r.filter(p=>p!==l):i=c,l=ia(l)}return e.set(t,r),r}function gW(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const l=[...n==="clippingAncestors"?hg(e)?[]:mW(e,this._c):[].concat(n),r],c=l[0],d=l.reduce((f,p)=>{const m=ik(e,p,i);return f.top=Mn(m.top,f.top),f.right=fi(m.right,f.right),f.bottom=fi(m.bottom,f.bottom),f.left=Mn(m.left,f.left),f},ik(e,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function yW(t){const{width:e,height:n}=S_(t);return{width:e,height:n}}function vW(t,e,n){const r=Fi(e),i=Gi(e),s=n==="fixed",l=ml(t,!0,s,e);let c={scrollLeft:0,scrollTop:0};const d=Bi(0);function f(){d.x=mg(i)}if(r||!r&&!s)if((Xc(e)!=="body"||pf(i))&&(c=pg(e)),r){const w=ml(e,!0,s,e);d.x=w.x+e.clientLeft,d.y=w.y+e.clientTop}else i&&f();s&&!r&&i&&f();const p=i&&!r&&!s?E_(i,c):Bi(0),m=l.left+c.scrollLeft-d.x-p.x,v=l.top+c.scrollTop-d.y-p.y;return{x:m,y:v,width:l.width,height:l.height}}function g1(t){return mi(t).position==="static"}function sk(t,e){if(!Fi(t)||mi(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Gi(t)===n&&(n=n.ownerDocument.body),n}function C_(t,e){const n=wr(t);if(hg(t))return n;if(!Fi(t)){let i=ia(t);for(;i&&!$c(i);){if(pi(i)&&!g1(i))return i;i=ia(i)}return n}let r=sk(t,e);for(;r&&eW(r)&&g1(r);)r=sk(r,e);return r&&$c(r)&&g1(r)&&!iw(r)?n:r||sW(t)||n}const bW=async function(t){const e=this.getOffsetParent||C_,n=this.getDimensions,r=await n(t.floating);return{reference:vW(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function wW(t){return mi(t).direction==="rtl"}const SW={convertOffsetParentRelativeRectToViewportRelativeRect:cW,getDocumentElement:Gi,getClippingRect:gW,getOffsetParent:C_,getElementRects:bW,getClientRects:uW,getDimensions:yW,getScale:Oc,isElement:pi,isRTL:wW};function k_(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function xW(t,e){let n=null,r;const i=Gi(t);function s(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),s();const f=t.getBoundingClientRect(),{left:p,top:m,width:v,height:w}=f;if(c||e(),!v||!w)return;const x=np(m),E=np(i.clientWidth-(p+v)),C=np(i.clientHeight-(m+w)),_=np(p),L={rootMargin:-x+"px "+-E+"px "+-C+"px "+-_+"px",threshold:Mn(0,fi(1,d))||1};let U=!0;function P(j){const R=j[0].intersectionRatio;if(R!==d){if(!U)return l();R?l(!1,R):r=setTimeout(()=>{l(!1,1e-7)},1e3)}R===1&&!k_(f,t.getBoundingClientRect())&&l(),U=!1}try{n=new IntersectionObserver(P,{...L,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,L)}n.observe(t)}return l(!0),s}function EW(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=ow(t),p=i||s?[...f?Gd(f):[],...Gd(e)]:[];p.forEach(_=>{i&&_.addEventListener("scroll",n,{passive:!0}),s&&_.addEventListener("resize",n)});const m=f&&c?xW(f,n):null;let v=-1,w=null;l&&(w=new ResizeObserver(_=>{let[I]=_;I&&I.target===f&&w&&(w.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var L;(L=w)==null||L.observe(e)})),n()}),f&&!d&&w.observe(f),w.observe(e));let x,E=d?ml(t):null;d&&C();function C(){const _=ml(t);E&&!k_(E,_)&&n(),E=_,x=requestAnimationFrame(C)}return n(),()=>{var _;p.forEach(I=>{i&&I.removeEventListener("scroll",n),s&&I.removeEventListener("resize",n)}),m?.(),(_=w)==null||_.disconnect(),w=null,d&&cancelAnimationFrame(x)}}const aw=Kq,A_=Vq,lw=Yq,cw=$q,uw=Jq,dw=Fq,jm=Bq,N_=Wq,TW=Xq,fw=(t,e,n)=>{const r=new Map,i={platform:SW,...n},s={...i.platform,_c:r};return Uq(t,e,{...i,platform:s})};var kv,Av;if(typeof WeakMap<"u"){let t=new WeakMap;kv=e=>t.get(e),Av=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;kv=r=>{for(let i=0;i<t.length;i+=2)if(t[i]==r)return t[i+1]},Av=(r,i)=>(n==10&&(n=0),t[n++]=r,t[n++]=i)}var ks=class{constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,i=e/this.width|0;let s=r+1,l=i+1;for(let c=1;s<this.width&&this.map[e+c]==n;c++)s++;for(let c=1;l<this.height&&this.map[e+this.width*c]==n;c++)l++;return{left:r,top:i,right:s,bottom:l}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:i,top:s,bottom:l}=this.findCell(t);return e=="horiz"?(n<0?r==0:i==this.width)?null:this.map[s*this.width+(n<0?r-1:i)]:(n<0?s==0:l==this.height)?null:this.map[r+this.width*(n<0?s-1:l)]}rectBetween(t,e){const{left:n,right:r,top:i,bottom:s}=this.findCell(t),{left:l,right:c,top:d,bottom:f}=this.findCell(e);return{left:Math.min(n,l),top:Math.min(i,d),right:Math.max(r,c),bottom:Math.max(s,f)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let i=t.left;i<t.right;i++){const s=r*this.width+i,l=this.map[s];n[l]||(n[l]=!0,!(i==t.left&&i&&this.map[s-1]==l||r==t.top&&r&&this.map[s-this.width]==l)&&e.push(l))}return e}positionAt(t,e,n){for(let r=0,i=0;;r++){const s=i+n.child(r).nodeSize;if(r==t){let l=e+t*this.width;const c=(t+1)*this.width;for(;l<c&&this.map[l]<i;)l++;return l==c?s-1:this.map[l]}i=s}}static get(t){return kv(t)||Av(t,CW(t))}};function CW(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=kW(t),n=t.childCount,r=[];let i=0,s=null;const l=[];for(let f=0,p=e*n;f<p;f++)r[f]=0;for(let f=0,p=0;f<n;f++){const m=t.child(f);p++;for(let x=0;;x++){for(;i<r.length&&r[i]!=0;)i++;if(x==m.childCount)break;const E=m.child(x),{colspan:C,rowspan:_,colwidth:I}=E.attrs;for(let L=0;L<_;L++){if(L+f>=n){(s||(s=[])).push({type:"overlong_rowspan",pos:p,n:_-L});break}const U=i+L*e;for(let P=0;P<C;P++){r[U+P]==0?r[U+P]=p:(s||(s=[])).push({type:"collision",row:f,pos:p,n:C-P});const j=I&&I[P];if(j){const R=(U+P)%e*2,O=l[R];O==null||O!=j&&l[R+1]==1?(l[R]=j,l[R+1]=1):O==j&&l[R+1]++}}}i+=C,p+=E.nodeSize}const v=(f+1)*e;let w=0;for(;i<v;)r[i++]==0&&w++;w&&(s||(s=[])).push({type:"missing",row:f,n:w}),p++}(e===0||n===0)&&(s||(s=[])).push({type:"zero_sized"});const c=new ks(e,n,r,s);let d=!1;for(let f=0;!d&&f<l.length;f+=2)l[f]!=null&&l[f+1]<n&&(d=!0);return d&&AW(c,l,t),c}function kW(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const i=t.child(r);let s=0;if(n)for(let l=0;l<r;l++){const c=t.child(l);for(let d=0;d<c.childCount;d++){const f=c.child(d);l+f.attrs.rowspan>r&&(s+=f.attrs.colspan)}}for(let l=0;l<i.childCount;l++){const c=i.child(l);s+=c.attrs.colspan,c.attrs.rowspan>1&&(n=!0)}e==-1?e=s:e!=s&&(e=Math.max(e,s))}return e}function AW(t,e,n){t.problems||(t.problems=[]);const r={};for(let i=0;i<t.map.length;i++){const s=t.map[i];if(r[s])continue;r[s]=!0;const l=n.nodeAt(s);if(!l)throw new RangeError(`No cell with offset ${s} found`);let c=null;const d=l.attrs;for(let f=0;f<d.colspan;f++){const p=(i+f)%t.width,m=e[p*2];m!=null&&(!d.colwidth||d.colwidth[f]!=m)&&((c||(c=NW(d)))[f]=m)}c&&t.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:c})}}function NW(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function hw(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],i=r.spec.tableRole;i&&(e[i]=r)}}return e}new Ut("selectingCells");function MW(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function M_(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function OW(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=MW(e.$head)||_W(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function _W(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function ok(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function O_(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function __(t,e,n){const r=t.node(-1),i=ks.get(r),s=t.start(-1),l=i.nextCell(t.pos-s,e,n);return l==null?null:t.node(0).resolve(s+l)}function ak(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}var Hi=class Ts extends Be{constructor(e,n=e){const r=e.node(-1),i=ks.get(r),s=e.start(-1),l=i.rectBetween(e.pos-s,n.pos-s),c=e.node(0),d=i.cellsInRect(l).filter(p=>p!=n.pos-s);d.unshift(n.pos-s);const f=d.map(p=>{const m=r.nodeAt(p);if(!m)throw RangeError(`No cell with offset ${p} found`);const v=s+p+1;return new fM(c.resolve(v),c.resolve(v+m.content.size))});super(f[0].$from,f[0].$to,f),this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),i=e.resolve(n.map(this.$headCell.pos));if(ok(r)&&ok(i)&&O_(r,i)){const s=this.$anchorCell.node(-1)!=r.node(-1);return s&&this.isRowSelection()?Ts.rowSelection(r,i):s&&this.isColSelection()?Ts.colSelection(r,i):new Ts(r,i)}return Ve.between(r,i)}content(){const e=this.$anchorCell.node(-1),n=ks.get(e),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),s={},l=[];for(let d=i.top;d<i.bottom;d++){const f=[];for(let p=d*n.width+i.left,m=i.left;m<i.right;m++,p++){const v=n.map[p];if(s[v])continue;s[v]=!0;const w=n.findCell(v);let x=e.nodeAt(v);if(!x)throw RangeError(`No cell with offset ${v} found`);const E=i.left-w.left,C=w.right-i.right;if(E>0||C>0){let _=x.attrs;if(E>0&&(_=ak(_,0,E)),C>0&&(_=ak(_,_.colspan-C,C)),w.left<i.left){if(x=x.type.createAndFill(_),!x)throw RangeError(`Could not create cell with attrs ${JSON.stringify(_)}`)}else x=x.type.create(_,x.content)}if(w.top<i.top||w.bottom>i.bottom){const _={...x.attrs,rowspan:Math.min(w.bottom,i.bottom)-Math.max(w.top,i.top)};w.top<i.top?x=x.type.createAndFill(_):x=x.type.create(_,x.content)}f.push(x)}l.push(e.child(d).copy(fe.from(f)))}const c=this.isColSelection()&&this.isRowSelection()?e:l;return new be(fe.from(c),1,1)}replace(e,n=be.empty){const r=e.steps.length,i=this.ranges;for(let l=0;l<i.length;l++){const{$from:c,$to:d}=i[l],f=e.mapping.slice(r);e.replace(f.map(c.pos),f.map(d.pos),l?be.empty:n)}const s=Be.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);s&&e.setSelection(s)}replaceWith(e,n){this.replace(e,new be(fe.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=ks.get(n),i=this.$anchorCell.start(-1),s=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let l=0;l<s.length;l++)e(n.nodeAt(s[l]),i+s[l])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=e.node(-1),i=ks.get(r),s=e.start(-1),l=i.findCell(e.pos-s),c=i.findCell(n.pos-s),d=e.node(0);return l.top<=c.top?(l.top>0&&(e=d.resolve(s+i.map[l.left])),c.bottom<i.height&&(n=d.resolve(s+i.map[i.width*(i.height-1)+c.right-1]))):(c.top>0&&(n=d.resolve(s+i.map[c.left])),l.bottom<i.height&&(e=d.resolve(s+i.map[i.width*(i.height-1)+l.right-1]))),new Ts(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=ks.get(e),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),s=n.colCount(this.$headCell.pos-r);if(Math.min(i,s)>0)return!1;const l=i+this.$anchorCell.nodeAfter.attrs.colspan,c=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(l,c)==n.width}eq(e){return e instanceof Ts&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=e.node(-1),i=ks.get(r),s=e.start(-1),l=i.findCell(e.pos-s),c=i.findCell(n.pos-s),d=e.node(0);return l.left<=c.left?(l.left>0&&(e=d.resolve(s+i.map[l.top*i.width])),c.right<i.width&&(n=d.resolve(s+i.map[i.width*(c.top+1)-1]))):(c.left>0&&(n=d.resolve(s+i.map[c.top*i.width])),l.right<i.width&&(e=d.resolve(s+i.map[i.width*(l.top+1)-1]))),new Ts(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new Ts(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new Ts(e.resolve(n),e.resolve(r))}getBookmark(){return new RW(this.$anchorCell.pos,this.$headCell.pos)}};Hi.prototype.visible=!1;Be.jsonID("cell",Hi);var RW=class R_{constructor(e,n){this.anchor=e,this.head=n}map(e){return new R_(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&O_(n,r)?new Hi(n,r):Be.near(r,1)}};new Ut("fix-tables");function D_(t){const e=t.selection,n=OW(t),r=n.node(-1),i=n.start(-1),s=ks.get(r);return{...e instanceof Hi?s.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):s.findCell(n.pos-i),tableStart:i,map:s,table:r}}function DW(t){return function(e,n){if(!M_(e))return!1;if(n){const r=hw(e.schema),i=D_(e),s=e.tr,l=i.map.cellsInRect(t=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:t=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),c=l.map(d=>i.table.nodeAt(d));for(let d=0;d<l.length;d++)c[d].type==r.header_cell&&s.setNodeMarkup(i.tableStart+l[d],r.cell,c[d].attrs);if(s.steps.length==0)for(let d=0;d<l.length;d++)s.setNodeMarkup(i.tableStart+l[d],r.header_cell,c[d].attrs);n(s)}return!0}}function lk(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let i=0;i<r.length;i++){const s=e.table.nodeAt(r[i]);if(s&&s.type!==n.header_cell)return!1}return!0}function pw(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?DW(t):function(n,r){if(!M_(n))return!1;if(r){const i=hw(n.schema),s=D_(n),l=n.tr,c=lk("row",s,i),d=lk("column",s,i),p=(t==="column"?c:t==="row"?d:!1)?1:0,m=t=="column"?{left:0,top:p,right:1,bottom:s.map.height}:t=="row"?{left:p,top:0,right:s.map.width,bottom:1}:s,v=t=="column"?d?i.cell:i.header_cell:t=="row"?c?i.cell:i.header_cell:i.cell;s.map.cellsInRect(m).forEach(w=>{const x=w+s.tableStart,E=l.doc.nodeAt(x);E&&l.setNodeMarkup(x,v,E.attrs)}),r(l)}return!0}}pw("row",{useDeprecatedLogic:!0});pw("column",{useDeprecatedLogic:!0});pw("cell",{useDeprecatedLogic:!0});function rp(t,e){const n=t.selection;if(!(n instanceof Hi))return!1;if(e){const r=t.tr,i=hw(t.schema).cell.createAndFill().content;n.forEachCell((s,l)=>{s.content.eq(i)||r.replace(r.mapping.map(l+1),r.mapping.map(l+s.nodeSize-1),new be(i,0,0))}),r.docChanged&&e(r)}return!0}Ab({ArrowLeft:ip("horiz",-1),ArrowRight:ip("horiz",1),ArrowUp:ip("vert",-1),ArrowDown:ip("vert",1),"Shift-ArrowLeft":sp("horiz",-1),"Shift-ArrowRight":sp("horiz",1),"Shift-ArrowUp":sp("vert",-1),"Shift-ArrowDown":sp("vert",1),Backspace:rp,"Mod-Backspace":rp,Delete:rp,"Mod-Delete":rp});function Ap(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function ip(t,e){return(n,r,i)=>{if(!i)return!1;const s=n.selection;if(s instanceof Hi)return Ap(n,r,Be.near(s.$headCell,e));if(t!="horiz"&&!s.empty)return!1;const l=I_(i,t,e);if(l==null)return!1;if(t=="horiz")return Ap(n,r,Be.near(n.doc.resolve(s.head+e),e));{const c=n.doc.resolve(l),d=__(c,t,e);let f;return d?f=Be.near(d,1):e<0?f=Be.near(n.doc.resolve(c.before(-1)),-1):f=Be.near(n.doc.resolve(c.after(-1)),1),Ap(n,r,f)}}}function sp(t,e){return(n,r,i)=>{if(!i)return!1;const s=n.selection;let l;if(s instanceof Hi)l=s;else{const d=I_(i,t,e);if(d==null)return!1;l=new Hi(n.doc.resolve(d))}const c=__(l.$headCell,t,e);return c?Ap(n,r,new Hi(l.$anchorCell,c)):!1}}function I_(t,e,n){if(!(t.state.selection instanceof Ve))return null;const{$head:r}=t.state.selection;for(let i=r.depth-1;i>=0;i--){const s=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const c=r.before(i),d=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(d)?c:null}}return null}new Ut("tableColumnResizing");function IW(t,e){const n=Math.min(t.top,e.top),r=Math.max(t.bottom,e.bottom),i=Math.min(t.left,e.left),l=Math.max(t.right,e.right)-i,c=r-n,d=i,f=n;return new DOMRect(d,f,l,c)}var jW=class{constructor({editor:t,element:e,view:n,updateDelay:r=250,resizeDelay:i=60,shouldShow:s,appendTo:l,options:c}){this.preventHide=!1,this.isVisible=!1,this.floatingUIOptions={strategy:"absolute",placement:"top",offset:8,flip:{},shift:{},arrow:!1,size:!1,autoPlacement:!1,hide:!1,inline:!1,onShow:void 0,onHide:void 0,onUpdate:void 0,onDestroy:void 0},this.shouldShow=({view:d,state:f,from:p,to:m})=>{const{doc:v,selection:w}=f,{empty:x}=w,E=!v.textBetween(p,m).length&&Bb(f.selection),C=this.element.contains(document.activeElement);return!(!(d.hasFocus()||C)||x||E||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.resizeHandler=()=>{this.resizeDebounceTimer&&clearTimeout(this.resizeDebounceTimer),this.resizeDebounceTimer=window.setTimeout(()=>{this.updatePosition()},this.resizeDelay)},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:d})=>{var f;if(this.preventHide){this.preventHide=!1;return}d?.relatedTarget&&((f=this.element.parentNode)!=null&&f.contains(d.relatedTarget))||d?.relatedTarget!==this.editor.view.dom&&this.hide()},this.handleDebouncedUpdate=(d,f)=>{const p=!f?.selection.eq(d.state.selection),m=!f?.doc.eq(d.state.doc);!p&&!m||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(d,p,m,f)},this.updateDelay))},this.updateHandler=(d,f,p,m)=>{const{composing:v}=d;if(v||!f&&!p)return;if(!this.getShouldShow(m)){this.hide();return}this.updatePosition(),this.show()},this.editor=t,this.element=e,this.view=n,this.updateDelay=r,this.resizeDelay=i,this.appendTo=l,this.floatingUIOptions={...this.floatingUIOptions,...c},this.element.tabIndex=0,s&&(this.shouldShow=s),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),window.addEventListener("resize",this.resizeHandler),this.update(n,n.state),this.getShouldShow()&&this.show()}get middlewares(){const t=[];return this.floatingUIOptions.flip&&t.push(cw(typeof this.floatingUIOptions.flip!="boolean"?this.floatingUIOptions.flip:void 0)),this.floatingUIOptions.shift&&t.push(lw(typeof this.floatingUIOptions.shift!="boolean"?this.floatingUIOptions.shift:void 0)),this.floatingUIOptions.offset&&t.push(aw(typeof this.floatingUIOptions.offset!="boolean"?this.floatingUIOptions.offset:void 0)),this.floatingUIOptions.arrow&&t.push(jm(this.floatingUIOptions.arrow)),this.floatingUIOptions.size&&t.push(uw(typeof this.floatingUIOptions.size!="boolean"?this.floatingUIOptions.size:void 0)),this.floatingUIOptions.autoPlacement&&t.push(A_(typeof this.floatingUIOptions.autoPlacement!="boolean"?this.floatingUIOptions.autoPlacement:void 0)),this.floatingUIOptions.hide&&t.push(dw(typeof this.floatingUIOptions.hide!="boolean"?this.floatingUIOptions.hide:void 0)),this.floatingUIOptions.inline&&t.push(N_(typeof this.floatingUIOptions.inline!="boolean"?this.floatingUIOptions.inline:void 0)),t}updatePosition(){const{selection:t}=this.editor.state,e=wO(this.view,t.from,t.to);let n={getBoundingClientRect:()=>e,getClientRects:()=>[e]};if(t instanceof Ie){let r=this.view.nodeDOM(t.from);const i=r.dataset.nodeViewWrapper?r:r.querySelector("[data-node-view-wrapper]");i&&(r=i),r&&(n={getBoundingClientRect:()=>r.getBoundingClientRect(),getClientRects:()=>[r.getBoundingClientRect()]})}if(t instanceof Hi){const{$anchorCell:r,$headCell:i}=t,s=r?r.pos:i.pos,l=i?i.pos:r.pos,c=this.view.nodeDOM(s),d=this.view.nodeDOM(l);if(!c||!d)return;const f=c===d?c.getBoundingClientRect():IW(c.getBoundingClientRect(),d.getBoundingClientRect());n={getBoundingClientRect:()=>f,getClientRects:()=>[f]}}fw(n,this.element,{placement:this.floatingUIOptions.placement,strategy:this.floatingUIOptions.strategy,middleware:this.middlewares}).then(({x:r,y:i,strategy:s})=>{this.element.style.width="max-content",this.element.style.position=s,this.element.style.left=`${r}px`,this.element.style.top=`${i}px`,this.isVisible&&this.floatingUIOptions.onUpdate&&this.floatingUIOptions.onUpdate()})}update(t,e){const{state:n}=t,r=n.selection.from!==n.selection.to;if(this.updateDelay>0&&r){this.handleDebouncedUpdate(t,e);return}const i=!e?.selection.eq(t.state.selection),s=!e?.doc.eq(t.state.doc);this.updateHandler(t,i,s,e)}getShouldShow(t){var e;const{state:n}=this.view,{selection:r}=n,{ranges:i}=r,s=Math.min(...i.map(d=>d.$from.pos)),l=Math.max(...i.map(d=>d.$to.pos));return(e=this.shouldShow)==null?void 0:e.call(this,{editor:this.editor,element:this.element,view:this.view,state:n,oldState:t,from:s,to:l})}show(){var t,e;this.isVisible||(this.element.style.visibility="visible",this.element.style.opacity="1",(e=(t=this.appendTo)!=null?t:this.view.dom.parentElement)==null||e.appendChild(this.element),this.floatingUIOptions.onShow&&this.floatingUIOptions.onShow(),this.isVisible=!0)}hide(){this.isVisible&&(this.element.style.visibility="hidden",this.element.style.opacity="0",this.element.remove(),this.floatingUIOptions.onHide&&this.floatingUIOptions.onHide(),this.isVisible=!1)}destroy(){this.hide(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),window.removeEventListener("resize",this.resizeHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.floatingUIOptions.onDestroy&&this.floatingUIOptions.onDestroy()}},j_=t=>new Lt({key:typeof t.pluginKey=="string"?new Ut(t.pluginKey):t.pluginKey,view:e=>new jW({view:e,...t})});wt.create({name:"bubbleMenu",addOptions(){return{element:null,pluginKey:"bubbleMenu",updateDelay:void 0,appendTo:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[j_({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,updateDelay:this.options.updateDelay,options:this.options.options,appendTo:this.options.appendTo,shouldShow:this.options.shouldShow})]:[]}});var LW=class{constructor({editor:t,element:e,view:n,options:r,shouldShow:i}){this.preventHide=!1,this.isVisible=!1,this.shouldShow=({view:s,state:l})=>{const{selection:c}=l,{$anchor:d,empty:f}=c,p=d.depth===1,m=d.parent.isTextblock&&!d.parent.type.spec.code&&!d.parent.textContent&&d.parent.childCount===0&&!this.getTextContent(d.parent);return!(!s.hasFocus()||!f||!p||!m||!this.editor.isEditable)},this.floatingUIOptions={strategy:"absolute",placement:"right",offset:8,flip:{},shift:{},arrow:!1,size:!1,autoPlacement:!1,hide:!1,inline:!1},this.updateHandler=(s,l,c,d)=>{const{composing:f}=s;if(f||!l&&!c)return;if(!this.getShouldShow(d)){this.hide();return}this.updatePosition(),this.show()},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:s})=>{var l;if(this.preventHide){this.preventHide=!1;return}s?.relatedTarget&&((l=this.element.parentNode)!=null&&l.contains(s.relatedTarget))||s?.relatedTarget!==this.editor.view.dom&&this.hide()},this.editor=t,this.element=e,this.view=n,this.floatingUIOptions={...this.floatingUIOptions,...r},this.element.tabIndex=0,i&&(this.shouldShow=i),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.update(n,n.state),this.getShouldShow()&&this.show()}getTextContent(t){return pO(t,{textSerializers:Lb(this.editor.schema)})}get middlewares(){const t=[];return this.floatingUIOptions.flip&&t.push(cw(typeof this.floatingUIOptions.flip!="boolean"?this.floatingUIOptions.flip:void 0)),this.floatingUIOptions.shift&&t.push(lw(typeof this.floatingUIOptions.shift!="boolean"?this.floatingUIOptions.shift:void 0)),this.floatingUIOptions.offset&&t.push(aw(typeof this.floatingUIOptions.offset!="boolean"?this.floatingUIOptions.offset:void 0)),this.floatingUIOptions.arrow&&t.push(jm(this.floatingUIOptions.arrow)),this.floatingUIOptions.size&&t.push(uw(typeof this.floatingUIOptions.size!="boolean"?this.floatingUIOptions.size:void 0)),this.floatingUIOptions.autoPlacement&&t.push(A_(typeof this.floatingUIOptions.autoPlacement!="boolean"?this.floatingUIOptions.autoPlacement:void 0)),this.floatingUIOptions.hide&&t.push(dw(typeof this.floatingUIOptions.hide!="boolean"?this.floatingUIOptions.hide:void 0)),this.floatingUIOptions.inline&&t.push(N_(typeof this.floatingUIOptions.inline!="boolean"?this.floatingUIOptions.inline:void 0)),t}getShouldShow(t){var e;const{state:n}=this.view,{selection:r}=n,{ranges:i}=r,s=Math.min(...i.map(d=>d.$from.pos)),l=Math.max(...i.map(d=>d.$to.pos));return(e=this.shouldShow)==null?void 0:e.call(this,{editor:this.editor,view:this.view,state:n,oldState:t,from:s,to:l})}updatePosition(){const{selection:t}=this.editor.state,e=wO(this.view,t.from,t.to);fw({getBoundingClientRect:()=>e,getClientRects:()=>[e]},this.element,{placement:this.floatingUIOptions.placement,strategy:this.floatingUIOptions.strategy,middleware:this.middlewares}).then(({x:r,y:i,strategy:s})=>{this.element.style.width="max-content",this.element.style.position=s,this.element.style.left=`${r}px`,this.element.style.top=`${i}px`,this.isVisible&&this.floatingUIOptions.onUpdate&&this.floatingUIOptions.onUpdate()})}update(t,e){const n=!e?.selection.eq(t.state.selection),r=!e?.doc.eq(t.state.doc);this.updateHandler(t,n,r,e)}show(){var t;this.isVisible||(this.element.style.visibility="visible",this.element.style.opacity="1",(t=this.view.dom.parentElement)==null||t.appendChild(this.element),this.floatingUIOptions.onShow&&this.floatingUIOptions.onShow(),this.isVisible=!0)}hide(){this.isVisible&&(this.element.style.visibility="hidden",this.element.style.opacity="0",this.element.remove(),this.floatingUIOptions.onHide&&this.floatingUIOptions.onHide(),this.isVisible=!1)}destroy(){this.hide(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.floatingUIOptions.onDestroy&&this.floatingUIOptions.onDestroy()}},L_=t=>new Lt({key:typeof t.pluginKey=="string"?new Ut(t.pluginKey):t.pluginKey,view:e=>new LW({view:e,...t})});wt.create({name:"floatingMenu",addOptions(){return{element:null,options:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[L_({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,options:this.options.options,shouldShow:this.options.shouldShow})]:[]}});_t.forwardRef(({pluginKey:t="bubbleMenu",editor:e,updateDelay:n,resizeDelay:r,shouldShow:i=null,options:s,children:l,...c},d)=>{const f=k.useRef(document.createElement("div"));typeof d=="function"?d(f.current):d&&(d.current=f.current);const{editor:p}=FO();return k.useEffect(()=>{const m=f.current;if(m.style.visibility="hidden",m.style.position="absolute",e?.isDestroyed||p?.isDestroyed)return;const v=e||p;if(!v){console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");return}const w=j_({updateDelay:n,resizeDelay:r,editor:v,element:m,pluginKey:t,shouldShow:i,options:s});return v.registerPlugin(w),()=>{v.unregisterPlugin(t),window.requestAnimationFrame(()=>{m.parentNode&&m.parentNode.removeChild(m)})}},[e,p]),yl.createPortal(b.jsx("div",{...c,children:l}),f.current)});var PW=_t.forwardRef(({pluginKey:t="floatingMenu",editor:e,shouldShow:n=null,options:r,children:i,...s},l)=>{const c=k.useRef(document.createElement("div"));typeof l=="function"?l(c.current):l&&(l.current=c.current);const{editor:d}=FO();return k.useEffect(()=>{const f=c.current;if(f.style.visibility="hidden",f.style.position="absolute",e?.isDestroyed||d?.isDestroyed)return;const p=e||d;if(!p){console.warn("FloatingMenu component is not rendered inside of an editor component or does not have editor prop.");return}const m=L_({editor:p,element:f,pluginKey:t,shouldShow:n,options:r});return p.registerPlugin(m),()=>{p.unregisterPlugin(t),window.requestAnimationFrame(()=>{f.parentNode&&f.parentNode.removeChild(f)})}},[e,d]),yl.createPortal(b.jsx("div",{...s,children:i}),c.current)});function zW({editor:t}){return b.jsx(PW,{editor:t,children:b.jsxs("div",{className:"floating-menu","data-testid":"floating-menu",children:[b.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:t.isActive("heading",{level:1})?"is-active":"",children:"H1"}),b.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:t.isActive("heading",{level:2})?"is-active":"",children:"H2"}),b.jsx("button",{onClick:()=>t.chain().focus().toggleBulletList().run(),className:t.isActive("bulletList")?"is-active":"",children:"Bullet list"})]})})}function ea(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function ck(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function P_(...t){return e=>{let n=!1;const r=t.map(i=>{const s=ck(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():ck(t[i],null)}}}}function ua(...t){return k.useCallback(P_(...t),t)}function z_(t,e=[]){let n=[];function r(s,l){const c=k.createContext(l),d=n.length;n=[...n,l];const f=m=>{const{scope:v,children:w,...x}=m,E=v?.[t]?.[d]||c,C=k.useMemo(()=>x,Object.values(x));return b.jsx(E.Provider,{value:C,children:w})};f.displayName=s+"Provider";function p(m,v){const w=v?.[t]?.[d]||c,x=k.useContext(w);if(x)return x;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[f,p]}const i=()=>{const s=n.map(l=>k.createContext(l));return function(c){const d=c?.[t]||s;return k.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[r,UW(i,...e)]}function UW(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const l=r.reduce((c,{useScope:d,scopeName:f})=>{const m=d(s)[`__scope${f}`];return{...c,...m}},{});return k.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function U_(t){const e=BW(t),n=k.forwardRef((r,i)=>{const{children:s,...l}=r,c=k.Children.toArray(s),d=c.find(VW);if(d){const f=d.props.children,p=c.map(m=>m===d?k.Children.count(f)>1?k.Children.only(null):k.isValidElement(f)?f.props.children:null:m);return b.jsx(e,{...l,ref:i,children:k.isValidElement(f)?k.cloneElement(f,void 0,p):null})}return b.jsx(e,{...l,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function BW(t){const e=k.forwardRef((n,r)=>{const{children:i,...s}=n;if(k.isValidElement(i)){const l=FW(i),c=$W(s,i.props);return i.type!==k.Fragment&&(c.ref=r?P_(r,l):l),k.cloneElement(i,c)}return k.Children.count(i)>1?k.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var HW=Symbol("radix.slottable");function VW(t){return k.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===HW}function $W(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...c)=>{const d=s(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function FW(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var qW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Fs=qW.reduce((t,e)=>{const n=U_(`Primitive.${e}`),r=k.forwardRef((i,s)=>{const{asChild:l,...c}=i,d=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),b.jsx(d,{...c,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function WW(t,e){t&&yl.flushSync(()=>t.dispatchEvent(e))}function Fc(t){const e=k.useRef(t);return k.useEffect(()=>{e.current=t}),k.useMemo(()=>(...n)=>e.current?.(...n),[])}function GW(t,e=globalThis?.document){const n=Fc(t);k.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var KW="DismissableLayer",Nv="dismissableLayer.update",YW="dismissableLayer.pointerDownOutside",XW="dismissableLayer.focusOutside",uk,B_=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),H_=k.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:l,onDismiss:c,...d}=t,f=k.useContext(B_),[p,m]=k.useState(null),v=p?.ownerDocument??globalThis?.document,[,w]=k.useState({}),x=ua(e,R=>m(R)),E=Array.from(f.layers),[C]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),_=E.indexOf(C),I=p?E.indexOf(p):-1,L=f.layersWithOutsidePointerEventsDisabled.size>0,U=I>=_,P=ZW(R=>{const O=R.target,D=[...f.branches].some(M=>M.contains(O));!U||D||(i?.(R),l?.(R),R.defaultPrevented||c?.())},v),j=eG(R=>{const O=R.target;[...f.branches].some(M=>M.contains(O))||(s?.(R),l?.(R),R.defaultPrevented||c?.())},v);return GW(R=>{I===f.layers.size-1&&(r?.(R),!R.defaultPrevented&&c&&(R.preventDefault(),c()))},v),k.useEffect(()=>{if(p)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(uk=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),dk(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=uk)}},[p,v,n,f]),k.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),dk())},[p,f]),k.useEffect(()=>{const R=()=>w({});return document.addEventListener(Nv,R),()=>document.removeEventListener(Nv,R)},[]),b.jsx(Fs.div,{...d,ref:x,style:{pointerEvents:L?U?"auto":"none":void 0,...t.style},onFocusCapture:ea(t.onFocusCapture,j.onFocusCapture),onBlurCapture:ea(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:ea(t.onPointerDownCapture,P.onPointerDownCapture)})});H_.displayName=KW;var JW="DismissableLayerBranch",QW=k.forwardRef((t,e)=>{const n=k.useContext(B_),r=k.useRef(null),i=ua(e,r);return k.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),b.jsx(Fs.div,{...t,ref:i})});QW.displayName=JW;function ZW(t,e=globalThis?.document){const n=Fc(t),r=k.useRef(!1),i=k.useRef(()=>{});return k.useEffect(()=>{const s=c=>{if(c.target&&!r.current){let d=function(){V_(YW,n,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=d,e.addEventListener("click",i.current,{once:!0})):d()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function eG(t,e=globalThis?.document){const n=Fc(t),r=k.useRef(!1);return k.useEffect(()=>{const i=s=>{s.target&&!r.current&&V_(XW,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function dk(){const t=new CustomEvent(Nv);document.dispatchEvent(t)}function V_(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?WW(i,s):i.dispatchEvent(s)}var y1=0;function tG(){k.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??fk()),document.body.insertAdjacentElement("beforeend",t[1]??fk()),y1++,()=>{y1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),y1--}},[])}function fk(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var v1="focusScope.autoFocusOnMount",b1="focusScope.autoFocusOnUnmount",hk={bubbles:!1,cancelable:!0},nG="FocusScope",$_=k.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...l}=t,[c,d]=k.useState(null),f=Fc(i),p=Fc(s),m=k.useRef(null),v=ua(e,E=>d(E)),w=k.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;k.useEffect(()=>{if(r){let E=function(L){if(w.paused||!c)return;const U=L.target;c.contains(U)?m.current=U:_o(m.current,{select:!0})},C=function(L){if(w.paused||!c)return;const U=L.relatedTarget;U!==null&&(c.contains(U)||_o(m.current,{select:!0}))},_=function(L){if(document.activeElement===document.body)for(const P of L)P.removedNodes.length>0&&_o(c)};document.addEventListener("focusin",E),document.addEventListener("focusout",C);const I=new MutationObserver(_);return c&&I.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",C),I.disconnect()}}},[r,c,w.paused]),k.useEffect(()=>{if(c){mk.add(w);const E=document.activeElement;if(!c.contains(E)){const _=new CustomEvent(v1,hk);c.addEventListener(v1,f),c.dispatchEvent(_),_.defaultPrevented||(rG(lG(F_(c)),{select:!0}),document.activeElement===E&&_o(c))}return()=>{c.removeEventListener(v1,f),setTimeout(()=>{const _=new CustomEvent(b1,hk);c.addEventListener(b1,p),c.dispatchEvent(_),_.defaultPrevented||_o(E??document.body,{select:!0}),c.removeEventListener(b1,p),mk.remove(w)},0)}}},[c,f,p,w]);const x=k.useCallback(E=>{if(!n&&!r||w.paused)return;const C=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,_=document.activeElement;if(C&&_){const I=E.currentTarget,[L,U]=iG(I);L&&U?!E.shiftKey&&_===U?(E.preventDefault(),n&&_o(L,{select:!0})):E.shiftKey&&_===L&&(E.preventDefault(),n&&_o(U,{select:!0})):_===I&&E.preventDefault()}},[n,r,w.paused]);return b.jsx(Fs.div,{tabIndex:-1,...l,ref:v,onKeyDown:x})});$_.displayName=nG;function rG(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(_o(r,{select:e}),document.activeElement!==n)return}function iG(t){const e=F_(t),n=pk(e,t),r=pk(e.reverse(),t);return[n,r]}function F_(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function pk(t,e){for(const n of t)if(!sG(n,{upTo:e}))return n}function sG(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function oG(t){return t instanceof HTMLInputElement&&"select"in t}function _o(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&oG(t)&&e&&t.select()}}var mk=aG();function aG(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=gk(t,e),t.unshift(e)},remove(e){t=gk(t,e),t[0]?.resume()}}}function gk(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function lG(t){return t.filter(e=>e.tagName!=="A")}var sa=globalThis?.document?k.useLayoutEffect:()=>{},cG=Ok[" useId ".trim().toString()]||(()=>{}),uG=0;function dG(t){const[e,n]=k.useState(cG());return sa(()=>{n(r=>r??String(uG++))},[t]),t||(e?`radix-${e}`:"")}var fG=typeof document<"u",hG=function(){},Np=fG?k.useLayoutEffect:hG;function Lm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Lm(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Lm(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function q_(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function yk(t,e){const n=q_(t);return Math.round(e*n)/n}function w1(t){const e=k.useRef(t);return Np(()=>{e.current=t}),e}function pG(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:l}={},transform:c=!0,whileElementsMounted:d,open:f}=t,[p,m]=k.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,w]=k.useState(r);Lm(v,r)||w(r);const[x,E]=k.useState(null),[C,_]=k.useState(null),I=k.useCallback(ce=>{ce!==j.current&&(j.current=ce,E(ce))},[]),L=k.useCallback(ce=>{ce!==R.current&&(R.current=ce,_(ce))},[]),U=s||x,P=l||C,j=k.useRef(null),R=k.useRef(null),O=k.useRef(p),D=d!=null,M=w1(d),V=w1(i),$=w1(f),B=k.useCallback(()=>{if(!j.current||!R.current)return;const ce={placement:e,strategy:n,middleware:v};V.current&&(ce.platform=V.current),fw(j.current,R.current,ce).then(Ce=>{const q={...Ce,isPositioned:$.current!==!1};ye.current&&!Lm(O.current,q)&&(O.current=q,yl.flushSync(()=>{m(q)}))})},[v,e,n,V,$]);Np(()=>{f===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,m(ce=>({...ce,isPositioned:!1})))},[f]);const ye=k.useRef(!1);Np(()=>(ye.current=!0,()=>{ye.current=!1}),[]),Np(()=>{if(U&&(j.current=U),P&&(R.current=P),U&&P){if(M.current)return M.current(U,P,B);B()}},[U,P,B,M,D]);const me=k.useMemo(()=>({reference:j,floating:R,setReference:I,setFloating:L}),[I,L]),G=k.useMemo(()=>({reference:U,floating:P}),[U,P]),oe=k.useMemo(()=>{const ce={position:n,left:0,top:0};if(!G.floating)return ce;const Ce=yk(G.floating,p.x),q=yk(G.floating,p.y);return c?{...ce,transform:"translate("+Ce+"px, "+q+"px)",...q_(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Ce,top:q}},[n,c,G.floating,p.x,p.y]);return k.useMemo(()=>({...p,update:B,refs:me,elements:G,floatingStyles:oe}),[p,B,me,G,oe])}const mG=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?jm({element:r.current,padding:i}).fn(n):{}:r?jm({element:r,padding:i}).fn(n):{}}}},gG=(t,e)=>({...aw(t),options:[t,e]}),yG=(t,e)=>({...lw(t),options:[t,e]}),vG=(t,e)=>({...TW(t),options:[t,e]}),bG=(t,e)=>({...cw(t),options:[t,e]}),wG=(t,e)=>({...uw(t),options:[t,e]}),SG=(t,e)=>({...dw(t),options:[t,e]}),xG=(t,e)=>({...mG(t),options:[t,e]});var EG="Arrow",W_=k.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return b.jsx(Fs.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:b.jsx("polygon",{points:"0,0 30,0 15,10"})})});W_.displayName=EG;var TG=W_;function CG(t){const[e,n]=k.useState(void 0);return sa(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let l,c;if("borderBoxSize"in s){const d=s.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,c=f.blockSize}else l=t.offsetWidth,c=t.offsetHeight;n({width:l,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var mw="Popper",[G_,K_]=z_(mw),[kG,Y_]=G_(mw),X_=t=>{const{__scopePopper:e,children:n}=t,[r,i]=k.useState(null);return b.jsx(kG,{scope:e,anchor:r,onAnchorChange:i,children:n})};X_.displayName=mw;var J_="PopperAnchor",Q_=k.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=Y_(J_,n),l=k.useRef(null),c=ua(e,l),d=k.useRef(null);return k.useEffect(()=>{const f=d.current;d.current=r?.current||l.current,f!==d.current&&s.onAnchorChange(d.current)}),r?null:b.jsx(Fs.div,{...i,ref:c})});Q_.displayName=J_;var gw="PopperContent",[AG,NG]=G_(gw),Z_=k.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:v=!1,updatePositionStrategy:w="optimized",onPlaced:x,...E}=t,C=Y_(gw,n),[_,I]=k.useState(null),L=ua(e,Nt=>I(Nt)),[U,P]=k.useState(null),j=CG(U),R=j?.width??0,O=j?.height??0,D=r+(s!=="center"?"-"+s:""),M=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},V=Array.isArray(f)?f:[f],$=V.length>0,B={padding:M,boundary:V.filter(OG),altBoundary:$},{refs:ye,floatingStyles:me,placement:G,isPositioned:oe,middlewareData:ce}=pG({strategy:"fixed",placement:D,whileElementsMounted:(...Nt)=>EW(...Nt,{animationFrame:w==="always"}),elements:{reference:C.anchor},middleware:[gG({mainAxis:i+O,alignmentAxis:l}),d&&yG({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?vG():void 0,...B}),d&&bG({...B}),wG({...B,apply:({elements:Nt,rects:lt,availableWidth:Fn,availableHeight:Ct})=>{const{width:sn,height:xr}=lt.reference,qn=Nt.floating.style;qn.setProperty("--radix-popper-available-width",`${Fn}px`),qn.setProperty("--radix-popper-available-height",`${Ct}px`),qn.setProperty("--radix-popper-anchor-width",`${sn}px`),qn.setProperty("--radix-popper-anchor-height",`${xr}px`)}}),U&&xG({element:U,padding:c}),_G({arrowWidth:R,arrowHeight:O}),v&&SG({strategy:"referenceHidden",...B})]}),[Ce,q]=nR(G),ie=Fc(x);sa(()=>{oe&&ie?.()},[oe,ie]);const he=ce.arrow?.x,de=ce.arrow?.y,xe=ce.arrow?.centerOffset!==0,[$e,je]=k.useState();return sa(()=>{_&&je(window.getComputedStyle(_).zIndex)},[_]),b.jsx("div",{ref:ye.setFloating,"data-radix-popper-content-wrapper":"",style:{...me,transform:oe?me.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:$e,"--radix-popper-transform-origin":[ce.transformOrigin?.x,ce.transformOrigin?.y].join(" "),...ce.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:b.jsx(AG,{scope:n,placedSide:Ce,onArrowChange:P,arrowX:he,arrowY:de,shouldHideArrow:xe,children:b.jsx(Fs.div,{"data-side":Ce,"data-align":q,...E,ref:L,style:{...E.style,animation:oe?void 0:"none"}})})})});Z_.displayName=gw;var eR="PopperArrow",MG={top:"bottom",right:"left",bottom:"top",left:"right"},tR=k.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=NG(eR,r),l=MG[s.placedSide];return b.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:b.jsx(TG,{...i,ref:n,style:{...i.style,display:"block"}})})});tR.displayName=eR;function OG(t){return t!==null}var _G=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,l=i.arrow?.centerOffset!==0,c=l?0:t.arrowWidth,d=l?0:t.arrowHeight,[f,p]=nR(n),m={start:"0%",center:"50%",end:"100%"}[p],v=(i.arrow?.x??0)+c/2,w=(i.arrow?.y??0)+d/2;let x="",E="";return f==="bottom"?(x=l?m:`${v}px`,E=`${-d}px`):f==="top"?(x=l?m:`${v}px`,E=`${r.floating.height+d}px`):f==="right"?(x=`${-d}px`,E=l?m:`${w}px`):f==="left"&&(x=`${r.floating.width+d}px`,E=l?m:`${w}px`),{data:{x,y:E}}}});function nR(t){const[e,n="center"]=t.split("-");return[e,n]}var RG=X_,rR=Q_,DG=Z_,IG=tR,jG="Portal",iR=k.forwardRef((t,e)=>{const{container:n,...r}=t,[i,s]=k.useState(!1);sa(()=>s(!0),[]);const l=n||i&&globalThis?.document?.body;return l?lA.createPortal(b.jsx(Fs.div,{...r,ref:e}),l):null});iR.displayName=jG;function LG(t,e){return k.useReducer((n,r)=>e[n][r]??n,t)}var yw=t=>{const{present:e,children:n}=t,r=PG(e),i=typeof n=="function"?n({present:r.isPresent}):k.Children.only(n),s=ua(r.ref,zG(i));return typeof n=="function"||r.isPresent?k.cloneElement(i,{ref:s}):null};yw.displayName="Presence";function PG(t){const[e,n]=k.useState(),r=k.useRef(null),i=k.useRef(t),s=k.useRef("none"),l=t?"mounted":"unmounted",[c,d]=LG(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const f=op(r.current);s.current=c==="mounted"?f:"none"},[c]),sa(()=>{const f=r.current,p=i.current;if(p!==t){const v=s.current,w=op(f);t?d("MOUNT"):w==="none"||f?.display==="none"?d("UNMOUNT"):d(p&&v!==w?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,d]),sa(()=>{if(e){let f;const p=e.ownerDocument.defaultView??window,m=w=>{const E=op(r.current).includes(CSS.escape(w.animationName));if(w.target===e&&E&&(d("ANIMATION_END"),!i.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",f=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},v=w=>{w.target===e&&(s.current=op(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{p.clearTimeout(f),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:k.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function op(t){return t?.animationName||"none"}function zG(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var UG=Ok[" useInsertionEffect ".trim().toString()]||sa;function BG({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,l]=HG({defaultProp:e,onChange:n}),c=t!==void 0,d=c?t:i;{const p=k.useRef(t!==void 0);k.useEffect(()=>{const m=p.current;m!==c&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,r])}const f=k.useCallback(p=>{if(c){const m=VG(p)?p(t):p;m!==t&&l.current?.(m)}else s(p)},[c,t,s,l]);return[d,f]}function HG({defaultProp:t,onChange:e}){const[n,r]=k.useState(t),i=k.useRef(n),s=k.useRef(e);return UG(()=>{s.current=e},[e]),k.useEffect(()=>{i.current!==n&&(s.current?.(n),i.current=n)},[n,i]),[n,r,s]}function VG(t){return typeof t=="function"}var $G=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},cc=new WeakMap,ap=new WeakMap,lp={},S1=0,sR=function(t){return t&&(t.host||sR(t.parentNode))},FG=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=sR(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},qG=function(t,e,n,r){var i=FG(e,Array.isArray(t)?t:[t]);lp[n]||(lp[n]=new WeakMap);var s=lp[n],l=[],c=new Set,d=new Set(i),f=function(m){!m||c.has(m)||(c.add(m),f(m.parentNode))};i.forEach(f);var p=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(v){if(c.has(v))p(v);else try{var w=v.getAttribute(r),x=w!==null&&w!=="false",E=(cc.get(v)||0)+1,C=(s.get(v)||0)+1;cc.set(v,E),s.set(v,C),l.push(v),E===1&&x&&ap.set(v,!0),C===1&&v.setAttribute(n,"true"),x||v.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",v,_)}})};return p(e),c.clear(),S1++,function(){l.forEach(function(m){var v=cc.get(m)-1,w=s.get(m)-1;cc.set(m,v),s.set(m,w),v||(ap.has(m)||m.removeAttribute(r),ap.delete(m)),w||m.removeAttribute(n)}),S1--,S1||(cc=new WeakMap,cc=new WeakMap,ap=new WeakMap,lp={})}},WG=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=$G(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),qG(r,i,n,"aria-hidden")):function(){return null}},Mp="right-scroll-bar-position",Op="width-before-scroll-bar",GG="with-scroll-bars-hidden",KG="--removed-body-scroll-bar-size";function x1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function YG(t,e){var n=k.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var XG=typeof window<"u"?k.useLayoutEffect:k.useEffect,vk=new WeakMap;function JG(t,e){var n=YG(null,function(r){return t.forEach(function(i){return x1(i,r)})});return XG(function(){var r=vk.get(n);if(r){var i=new Set(r),s=new Set(t),l=n.current;i.forEach(function(c){s.has(c)||x1(c,null)}),s.forEach(function(c){i.has(c)||x1(c,l)})}vk.set(n,t)},[t]),n}function QG(t){return t}function ZG(t,e){e===void 0&&(e=QG);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var l=e(s,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(s){for(r=!0;n.length;){var l=n;n=[],l.forEach(s)}n={push:function(c){return s(c)},filter:function(){return n}}},assignMedium:function(s){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(s),l=n}var d=function(){var p=l;l=[],p.forEach(s)},f=function(){return Promise.resolve().then(d)};f(),n={push:function(p){l.push(p),f()},filter:function(p){return l=l.filter(p),n}}}};return i}function eK(t){t===void 0&&(t={});var e=ZG(null);return e.options=Li({async:!0,ssr:!1},t),e}var oR=function(t){var e=t.sideCar,n=tf(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return k.createElement(r,Li({},n))};oR.isSideCarExport=!0;function tK(t,e){return t.useMedium(e),oR}var aR=eK(),E1=function(){},gg=k.forwardRef(function(t,e){var n=k.useRef(null),r=k.useState({onScrollCapture:E1,onWheelCapture:E1,onTouchMoveCapture:E1}),i=r[0],s=r[1],l=t.forwardProps,c=t.children,d=t.className,f=t.removeScrollBar,p=t.enabled,m=t.shards,v=t.sideCar,w=t.noRelative,x=t.noIsolation,E=t.inert,C=t.allowPinchZoom,_=t.as,I=_===void 0?"div":_,L=t.gapMode,U=tf(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=v,j=JG([n,e]),R=Li(Li({},U),i);return k.createElement(k.Fragment,null,p&&k.createElement(P,{sideCar:aR,removeScrollBar:f,shards:m,noRelative:w,noIsolation:x,inert:E,setCallbacks:s,allowPinchZoom:!!C,lockRef:n,gapMode:L}),l?k.cloneElement(k.Children.only(c),Li(Li({},R),{ref:j})):k.createElement(I,Li({},R,{className:d,ref:j}),c))});gg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gg.classNames={fullWidth:Op,zeroRight:Mp};var nK=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function rK(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=nK();return e&&t.setAttribute("nonce",e),t}function iK(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function sK(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var oK=function(){var t=0,e=null;return{add:function(n){t==0&&(e=rK())&&(iK(e,n),sK(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},aK=function(){var t=oK();return function(e,n){k.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},lR=function(){var t=aK(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},lK={left:0,top:0,right:0,gap:0},T1=function(t){return parseInt(t||"",10)||0},cK=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[T1(n),T1(r),T1(i)]},uK=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return lK;var e=cK(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},dK=lR(),_c="data-scroll-locked",fK=function(t,e,n,r){var i=t.left,s=t.top,l=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(GG,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(_c,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Mp,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Op,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Mp," .").concat(Mp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Op," .").concat(Op,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(_c,`] {
    `).concat(KG,": ").concat(c,`px;
  }
`)},bk=function(){var t=parseInt(document.body.getAttribute(_c)||"0",10);return isFinite(t)?t:0},hK=function(){k.useEffect(function(){return document.body.setAttribute(_c,(bk()+1).toString()),function(){var t=bk()-1;t<=0?document.body.removeAttribute(_c):document.body.setAttribute(_c,t.toString())}},[])},pK=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;hK();var s=k.useMemo(function(){return uK(i)},[i]);return k.createElement(dK,{styles:fK(s,!e,i,n?"":"!important")})},Mv=!1;if(typeof window<"u")try{var cp=Object.defineProperty({},"passive",{get:function(){return Mv=!0,!0}});window.addEventListener("test",cp,cp),window.removeEventListener("test",cp,cp)}catch{Mv=!1}var uc=Mv?{passive:!1}:!1,mK=function(t){return t.tagName==="TEXTAREA"},cR=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!mK(t)&&n[e]==="visible")},gK=function(t){return cR(t,"overflowY")},yK=function(t){return cR(t,"overflowX")},wk=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=uR(t,r);if(i){var s=dR(t,r),l=s[1],c=s[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},vK=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},bK=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},uR=function(t,e){return t==="v"?gK(e):yK(e)},dR=function(t,e){return t==="v"?vK(e):bK(e)},wK=function(t,e){return t==="h"&&e==="rtl"?-1:1},SK=function(t,e,n,r,i){var s=wK(t,window.getComputedStyle(e).direction),l=s*r,c=n.target,d=e.contains(c),f=!1,p=l>0,m=0,v=0;do{if(!c)break;var w=dR(t,c),x=w[0],E=w[1],C=w[2],_=E-C-s*x;(x||_)&&uR(t,c)&&(m+=_,v+=x);var I=c.parentNode;c=I&&I.nodeType===Node.DOCUMENT_FRAGMENT_NODE?I.host:I}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(p&&Math.abs(m)<1||!p&&Math.abs(v)<1)&&(f=!0),f},up=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Sk=function(t){return[t.deltaX,t.deltaY]},xk=function(t){return t&&"current"in t?t.current:t},xK=function(t,e){return t[0]===e[0]&&t[1]===e[1]},EK=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},TK=0,dc=[];function CK(t){var e=k.useRef([]),n=k.useRef([0,0]),r=k.useRef(),i=k.useState(TK++)[0],s=k.useState(lR)[0],l=k.useRef(t);k.useEffect(function(){l.current=t},[t]),k.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var E=lj([t.lockRef.current],(t.shards||[]).map(xk),!0).filter(Boolean);return E.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),E.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var c=k.useCallback(function(E,C){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!l.current.allowPinchZoom;var _=up(E),I=n.current,L="deltaX"in E?E.deltaX:I[0]-_[0],U="deltaY"in E?E.deltaY:I[1]-_[1],P,j=E.target,R=Math.abs(L)>Math.abs(U)?"h":"v";if("touches"in E&&R==="h"&&j.type==="range")return!1;var O=wk(R,j);if(!O)return!0;if(O?P=R:(P=R==="v"?"h":"v",O=wk(R,j)),!O)return!1;if(!r.current&&"changedTouches"in E&&(L||U)&&(r.current=P),!P)return!0;var D=r.current||P;return SK(D,C,E,D==="h"?L:U)},[]),d=k.useCallback(function(E){var C=E;if(!(!dc.length||dc[dc.length-1]!==s)){var _="deltaY"in C?Sk(C):up(C),I=e.current.filter(function(P){return P.name===C.type&&(P.target===C.target||C.target===P.shadowParent)&&xK(P.delta,_)})[0];if(I&&I.should){C.cancelable&&C.preventDefault();return}if(!I){var L=(l.current.shards||[]).map(xk).filter(Boolean).filter(function(P){return P.contains(C.target)}),U=L.length>0?c(C,L[0]):!l.current.noIsolation;U&&C.cancelable&&C.preventDefault()}}},[]),f=k.useCallback(function(E,C,_,I){var L={name:E,delta:C,target:_,should:I,shadowParent:kK(_)};e.current.push(L),setTimeout(function(){e.current=e.current.filter(function(U){return U!==L})},1)},[]),p=k.useCallback(function(E){n.current=up(E),r.current=void 0},[]),m=k.useCallback(function(E){f(E.type,Sk(E),E.target,c(E,t.lockRef.current))},[]),v=k.useCallback(function(E){f(E.type,up(E),E.target,c(E,t.lockRef.current))},[]);k.useEffect(function(){return dc.push(s),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:v}),document.addEventListener("wheel",d,uc),document.addEventListener("touchmove",d,uc),document.addEventListener("touchstart",p,uc),function(){dc=dc.filter(function(E){return E!==s}),document.removeEventListener("wheel",d,uc),document.removeEventListener("touchmove",d,uc),document.removeEventListener("touchstart",p,uc)}},[]);var w=t.removeScrollBar,x=t.inert;return k.createElement(k.Fragment,null,x?k.createElement(s,{styles:EK(i)}):null,w?k.createElement(pK,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function kK(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const AK=tK(aR,CK);var fR=k.forwardRef(function(t,e){return k.createElement(gg,Li({},t,{ref:e,sideCar:AK}))});fR.classNames=gg.classNames;var yg="Popover",[hR,eX]=z_(yg,[K_]),mf=K_(),[NK,da]=hR(yg),pR=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:l=!1}=t,c=mf(e),d=k.useRef(null),[f,p]=k.useState(!1),[m,v]=BG({prop:r,defaultProp:i??!1,onChange:s,caller:yg});return b.jsx(RG,{...c,children:b.jsx(NK,{scope:e,contentId:dG(),triggerRef:d,open:m,onOpenChange:v,onOpenToggle:k.useCallback(()=>v(w=>!w),[v]),hasCustomAnchor:f,onCustomAnchorAdd:k.useCallback(()=>p(!0),[]),onCustomAnchorRemove:k.useCallback(()=>p(!1),[]),modal:l,children:n})})};pR.displayName=yg;var mR="PopoverAnchor",MK=k.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=da(mR,n),s=mf(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=i;return k.useEffect(()=>(l(),()=>c()),[l,c]),b.jsx(rR,{...s,...r,ref:e})});MK.displayName=mR;var gR="PopoverTrigger",yR=k.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=da(gR,n),s=mf(n),l=ua(e,i.triggerRef),c=b.jsx(Fs.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":xR(i.open),...r,ref:l,onClick:ea(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?c:b.jsx(rR,{asChild:!0,...s,children:c})});yR.displayName=gR;var vw="PopoverPortal",[OK,_K]=hR(vw,{forceMount:void 0}),vR=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,s=da(vw,e);return b.jsx(OK,{scope:e,forceMount:n,children:b.jsx(yw,{present:n||s.open,children:b.jsx(iR,{asChild:!0,container:i,children:r})})})};vR.displayName=vw;var qc="PopoverContent",bR=k.forwardRef((t,e)=>{const n=_K(qc,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,s=da(qc,t.__scopePopover);return b.jsx(yw,{present:r||s.open,children:s.modal?b.jsx(DK,{...i,ref:e}):b.jsx(IK,{...i,ref:e})})});bR.displayName=qc;var RK=U_("PopoverContent.RemoveScroll"),DK=k.forwardRef((t,e)=>{const n=da(qc,t.__scopePopover),r=k.useRef(null),i=ua(e,r),s=k.useRef(!1);return k.useEffect(()=>{const l=r.current;if(l)return WG(l)},[]),b.jsx(fR,{as:RK,allowPinchZoom:!0,children:b.jsx(wR,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ea(t.onCloseAutoFocus,l=>{l.preventDefault(),s.current||n.triggerRef.current?.focus()}),onPointerDownOutside:ea(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,f=c.button===2||d;s.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:ea(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),IK=k.forwardRef((t,e)=>{const n=da(qc,t.__scopePopover),r=k.useRef(!1),i=k.useRef(!1);return b.jsx(wR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=s.target;n.triggerRef.current?.contains(l)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),wR=k.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,...m}=t,v=da(qc,n),w=mf(n);return tG(),b.jsx($_,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:b.jsx(H_,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:p,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onDismiss:()=>v.onOpenChange(!1),children:b.jsx(DG,{"data-state":xR(v.open),role:"dialog",id:v.contentId,...w,...m,ref:e,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),SR="PopoverClose",jK=k.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=da(SR,n);return b.jsx(Fs.button,{type:"button",...r,ref:e,onClick:ea(t.onClick,()=>i.onOpenChange(!1))})});jK.displayName=SR;var LK="PopoverArrow",PK=k.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=mf(n);return b.jsx(IG,{...i,...r,ref:e})});PK.displayName=LK;function xR(t){return t?"open":"closed"}var zK=pR,UK=yR,BK=vR,HK=bR;function VK({...t}){return b.jsx(zK,{...t})}function $K({...t}){return b.jsx(UK,{...t})}function FK({className:t,align:e="center",sideOffset:n=4,...r}){return b.jsx(BK,{children:b.jsx(HK,{align:e,sideOffset:n,className:"z-50 rounded-box bg-base-200 shadow",...r})})}const qK=(t,e)=>e?.schema?e.schema.spec.marks.get(t)!==void 0:!1,WK=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function GK(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return!t||t.replace(WK,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}function KK(t,e,n){try{const r=new URL(t,e);if(GK(r.href,n))return r.href}catch{}return"#"}const ER=t=>({default:null,parseHTML:e=>e.getAttribute(t),renderHTML:e=>e[t]?{[t]:e[t]}:{}}),vg=(t,e,n,r={group:"block",content:"block*"},i=!0)=>n.create({name:t,...r,parseHTML:()=>[{tag:t}],renderHTML:({HTMLAttributes:s})=>i?[t,s,0]:[t,s],addAttributes(){return{...this.parent?.(),...e.reduce((s,l)=>(s[l]=ER(l),s),{})}}}),YK=KF.extend({addAttributes(){return{...this.parent?.(),class:ER("class")}}}),XK=vg("div",["class"],Tn),JK=vg("section",["class"],Tn),QK=vg("small",["class"],$s,{inclusive:!0}),ZK=vg("area",["class"],Tn,{group:"block",selectable:!0,isolating:!0},!1);function TR(t){return t?.isEditable?t.can().setMark("link"):!1}function CR(t){return t?.isEditable?t.isActive("link"):!1}function eY(t){const{editor:e,hideWhenUnavailable:n}=t;return qK("link",e)&&e?n&&!e.isActive("code")?TR(e):!0:!1}function tY(t){const{editor:e,onSetLink:n}=t,[r,i]=k.useState(null);k.useEffect(()=>{if(!e)return;const{href:d}=e.getAttributes("link");CR(e)&&r===null&&i(d||"")},[e,r]),k.useEffect(()=>{if(!e)return;const d=()=>{const{href:f}=e.getAttributes("link");i(f||"")};return e.on("selectionUpdate",d),()=>{e.off("selectionUpdate",d)}},[e]);const s=k.useCallback(()=>{if(!(r&&e))return;const{selection:d}=e.state,f=d.empty;let p=e.chain().focus();p=p.extendMarkRange("link").setLink({href:r}),f&&(p=p.insertContent({type:"text",text:r})),p.run(),i(null),n?.()},[e,n,r]),l=k.useCallback(()=>{e&&(e.chain().focus().extendMarkRange("link").unsetLink().setMeta("preventAutolink",!0).run(),i(""))},[e]),c=k.useCallback((d="_blank",f="noopener,noreferrer")=>{if(!r)return;const p=KK(r,window.location.href);p!=="#"&&window.open(p,d,f)},[r]);return{url:r||"",setUrl:i,setLink:s,removeLink:l,openLink:c}}function nY(t){const{editor:e,hideWhenUnavailable:n=!1}=t,r=TR(e),i=CR(e),[s,l]=k.useState(!1);return k.useEffect(()=>{if(!e)return;const c=()=>{l(eY({editor:e,hideWhenUnavailable:n}))};return c(),e.on("selectionUpdate",c),()=>{e.off("selectionUpdate",c)}},[e,n]),{isVisible:s,canSet:r,isActive:i}}function rY(t){const{editor:e=null,hideWhenUnavailable:n=!1,onSetLink:r}=t||{},{isVisible:i,canSet:s,isActive:l}=nY({editor:e,hideWhenUnavailable:n}),c=tY({editor:e,onSetLink:r});return{isVisible:i,canSet:s,isActive:l,label:"Link",Icon:mN,...c}}const iY=({url:t,setUrl:e,setLink:n,removeLink:r,openLink:i,isActive:s})=>{const l=c=>{c.key==="Enter"&&(c.preventDefault(),n())};return b.jsxs("div",{className:"button-group p-1",children:[b.jsx("input",{type:"url",placeholder:"Paste a link...",value:t,className:"tiptap-input",onChange:c=>e(c.target.value),onKeyDown:l,autoFocus:!0,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off"}),b.jsx("button",{type:"button",onClick:n,title:"Apply link",disabled:!(t||s),className:"btn btnbtn btn-square btn-ghost btn-sm",children:b.jsx(G9,{})}),b.jsx("div",{className:"group-separator"}),b.jsx("button",{type:"button",onClick:i,title:"Open in new window",disabled:!(t||s),className:"btn btnbtn btn-square btn-ghost btn-sm",children:b.jsx(R7,{})}),b.jsx("button",{type:"button",onClick:r,title:"Remove link",disabled:!(t||s),className:"btn btnbtn btn-square btn-ghost btn-sm",children:b.jsx(q9,{})})]})},sY=_t.forwardRef(({editor:t,hideWhenUnavailable:e=!1,onSetLink:n,onOpenChange:r,autoOpenOnLinkActive:i=!0,onClick:s,children:l,...c},d)=>{const[f,p]=_t.useState(!1),{isVisible:m,canSet:v,isActive:w,url:x,setUrl:E,setLink:C,removeLink:_,openLink:I,label:L}=rY({editor:t,hideWhenUnavailable:e,onSetLink:n}),U=_t.useCallback(R=>{p(R),r?.(R)},[r]),P=_t.useCallback(()=>{C(),p(!1)},[C]),j=_t.useCallback(R=>{s?.(R),!R.defaultPrevented&&p(!f)},[s,f]);return _t.useEffect(()=>{i&&w&&p(!0),t?.isActive("link")||p(!1)},[i,w,t?.isActive]),m?b.jsxs(VK,{open:f,onOpenChange:U,children:[b.jsx($K,{asChild:!0,children:b.jsx("button",{disabled:!v,onClick:j,"aria-label":L,className:`btn btn-square btn-ghost btn-sm ${w?"btn-soft":""}`,ref:d,...c,children:b.jsx(mN,{})})}),b.jsx(FK,{onCloseAutoFocus:R=>R.preventDefault(),children:b.jsx(iY,{url:x,setUrl:E,setLink:P,removeLink:_,openLink:I,isActive:w})})]}):null});function oY({editor:t,showTree:e,handleTree:n}){const r=HO({editor:t,selector:i=>({isBold:i.editor.isActive("bold")??!1,canBold:i.editor.can().chain().toggleBold().run()??!1,isItalic:i.editor.isActive("italic")??!1,canItalic:i.editor.can().chain().toggleItalic().run()??!1,isStrike:i.editor.isActive("strike")??!1,canStrike:i.editor.can().chain().toggleStrike().run()??!1,isCode:i.editor.isActive("code")??!1,canCode:i.editor.can().chain().toggleCode().run()??!1,canClearMarks:i.editor.can().chain().unsetAllMarks().run()??!1,isParagraph:i.editor.isActive("paragraph")??!1,isHeading1:i.editor.isActive("heading",{level:1})??!1,isHeading2:i.editor.isActive("heading",{level:2})??!1,isHeading3:i.editor.isActive("heading",{level:3})??!1,isHeading4:i.editor.isActive("heading",{level:4})??!1,isHeading5:i.editor.isActive("heading",{level:5})??!1,isHeading6:i.editor.isActive("heading",{level:6})??!1,isBulletList:i.editor.isActive("bulletList")??!1,isOrderedList:i.editor.isActive("orderedList")??!1,isCodeBlock:i.editor.isActive("codeBlock")??!1,isBlockquote:i.editor.isActive("blockquote")??!1,canUndo:i.editor.can().chain().undo().run()??!1,canRedo:i.editor.can().chain().redo().run()??!1})});return b.jsxs("div",{className:"control-group flex items-center justify-between bg-base-200",children:[b.jsx("div",{className:"flex-grow",children:b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:n,children:e?b.jsx(s7,{}):b.jsx(a7,{})})}),b.jsxs("div",{className:"flex overflow-hidden",children:[b.jsxs("div",{className:"button-group",children:[b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:()=>t.chain().focus().undo().run(),disabled:!r.canUndo,children:b.jsx(hb,{})}),b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:()=>t.chain().focus().redo().run(),disabled:!r.canRedo,children:b.jsx(yN,{})})]}),b.jsx("div",{className:"group-separator"}),b.jsxs("div",{className:"button-group",children:[b.jsx("button",{onClick:()=>t.chain().focus().toggleBold().run(),disabled:!r.canBold,className:`btn btn-square btn-ghost btn-sm ${r.isBold?"btn-soft":""}`,children:b.jsx(GP,{})}),b.jsx("button",{onClick:()=>t.chain().focus().toggleItalic().run(),disabled:!r.canItalic,className:`btn btn-square btn-ghost btn-sm ${r.isItalic?"btn-soft":""}`,children:b.jsx($9,{})}),b.jsx("button",{onClick:()=>t.chain().focus().toggleStrike().run(),disabled:!r.canStrike,className:`btn btn-square btn-ghost btn-sm ${r.isStrike?"btn-soft":""}`,children:b.jsx(V7,{})}),b.jsx("button",{onClick:()=>t.chain().focus().toggleCode().run(),disabled:!r.canCode,className:`btn btn-square btn-ghost btn-sm ${r.isCode?"btn-soft":""}`,children:b.jsx(hT,{})}),b.jsx(sY,{editor:t,hideWhenUnavailable:!0,autoOpenOnLinkActive:!0}),b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:()=>t.chain().focus().unsetAllMarks().run(),children:b.jsx(z7,{})}),b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:()=>t.chain().focus().clearNodes().run(),children:b.jsx(YP,{})}),b.jsx("button",{onClick:()=>t.chain().focus().setParagraph().run(),className:`btn btn-square btn-ghost btn-sm ${r.isParagraph?"btn-soft":""}`,children:""}),b.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:`btn btn-square btn-ghost btn-sm ${r.isHeading1?"btn-soft":""}`,children:"H1"}),b.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:`btn btn-square btn-ghost btn-sm ${r.isHeading2?"btn-soft":""}`,children:"H2"}),b.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:`btn btn-square btn-ghost btn-sm ${r.isHeading3?"btn-soft":""}`,children:"H3"}),b.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:4}).run(),className:`btn btn-square btn-ghost btn-sm ${r.isHeading4?"btn-soft":""}`,children:"H4"}),b.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:5}).run(),className:`btn btn-square btn-ghost btn-sm ${r.isHeading5?"btn-soft":""}`,children:"H5"}),b.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:6}).run(),className:`btn btn-square btn-ghost btn-sm ${r.isHeading6?"btn-soft":""}`,children:"H6"}),b.jsx("button",{onClick:()=>t.chain().focus().toggleBulletList().run(),className:`btn btn-square btn-ghost btn-sm ${r.isBulletList?"btn-soft":""}`,children:""}),b.jsx("button",{onClick:()=>t.chain().focus().toggleOrderedList().run(),className:`btn btn-square btn-ghost btn-sm ${r.isOrderedList?"btn-soft":""}`,children:"1"}),b.jsx("button",{onClick:()=>t.chain().focus().toggleCodeBlock().run(),className:`btn btn-square btn-ghost btn-sm ${r.isCodeBlock?"btn-soft":""}`,children:b.jsx(hT,{})}),b.jsx("button",{onClick:()=>t.chain().focus().toggleBlockquote().run(),className:`btn btn-square btn-ghost btn-sm ${r.isBlockquote?"btn-soft":""}`,children:b.jsx(f7,{})}),b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:()=>t.chain().focus().setHorizontalRule().run(),children:b.jsx(E7,{})}),b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:()=>t.chain().focus().setHardBreak().run(),children:b.jsx(O7,{})})]})]}),b.jsx("div",{className:"flex-grow text-right",children:b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:()=>t.chain().focus().undo().run(),children:b.jsx(y9,{})})})]})}const kR=t=>{let e=0n;for(let n=0;n<t.length;n++)e=e*131n+BigInt(t.charCodeAt(n))&0x1fffffffffffffn;return e.toString(36)},aY=[C$,Eq.configure({link:{autolink:!1,openOnClick:!1,enableClickSelection:!0,defaultProtocol:"https",shouldAutoLink:t=>t.startsWith("https://"),protocols:["http","https","ftp","app",{scheme:"mailto",optionalSlashes:!0},{scheme:"tel",optionalSlashes:!0}]},paragraph:!1}),m$,y$,YK,JK,QK,ZK,XK],AR=k.forwardRef(({children:t,content:e,page:n,className:r=""},i)=>{const[s,l]=k.useState(!0),c=()=>l(x=>!x),d=$$({extensions:aY,content:e,autofocus:!1},[e]),f=Oe(x=>x.setUpdatingPage),p=Oe(x=>x.setConfigPage),m=Oe(x=>x.setFeedItem),v=k.useCallback(()=>{typeof n=="number"?m({time:n,text:d.getHTML()}):(f(""),p({path:n,content:d.getHTML()}))},[n,d,f,p,m]),w=Ym(v,Jt.DEBOUNCE,()=>typeof n=="string"&&f(n));return d.on("update",w),k.useImperativeHandle(i,()=>({flush:()=>w.flush()})),b.jsx("div",{className:"shine",children:b.jsxs("div",{className:"editor shadow",children:[b.jsx(oY,{editor:d,showTree:s,handleTree:c}),b.jsxs("div",{className:"flex flex-row",children:[s?t:null,b.jsxs(Mq,{children:[b.jsx(zW,{editor:d}),r==="feed"?b.jsx("section",{className:r,children:b.jsx(IC,{editor:d})}):b.jsx(IC,{editor:d,className:typeof n=="string"?`_${kR(n)}`:r})]})]})]})})}),lY=(t,e,n,r)=>{const i=`${n}${r}/`;return e?.length&&e===i?!0:!t.some(l=>l.path===i)},Ek=(t="/")=>{const e=t.split("/"),n=e.splice(e.length-2,1)[0];return{prevSegment:e.join("/"),lastSegment:n}},NR=t=>{if(t&&"current"in t&&t.current instanceof HTMLDialogElement){t.current.close();const e=t.current.querySelector("form");e&&e instanceof HTMLFormElement&&setTimeout(()=>e.reset(),Jt.BLUR)}},cY=(t,e)=>t.reduce((n,r)=>{if(r.path.startsWith(e)&&r.path!==e){const i=r.path.replace(e,"").split("/")[0];i&&!n.includes(i)&&n.push(i)}return n},[]),uY=({ref:t,edit:e,pages:n,setEdit:r})=>{const i=Oe(M=>M.setConfigPage),s=()=>{NR(t),setTimeout(()=>{L("/"),w(""),E(""),_(""),r(void 0)},Jt.BLUR)},[l,c]=k.useState(e==="/"),[d,f]=k.useState(e||"/"),[p,m]=k.useState(""),[v,w]=k.useState(""),[x,E]=k.useState(""),[C,_]=k.useState(""),I=k.useMemo(()=>e==="/"?x.length:v.length&&x.length&&lY(n,e,d,v),[n,e,d,v,x]),L=k.useCallback(M=>{const{lastSegment:V}=Ek(e),$=typeof M=="string"?M:M?.currentTarget.value,B=cY(n,$).filter(ye=>ye!==V);m(B.reduce((ye,me)=>`${ye}(?!${me}$)`,"")),f($)},[n,e]),U=k.useRef(null);k.useEffect(()=>c(e==="/"),[e]),k.useEffect(()=>{if(typeof e=="string"){if(e===""&&L("/"),e.length){const{prevSegment:M,lastSegment:V}=Ek(e);L(M||"/"),w(V);const $=n.find(B=>B.path===e);$&&(E($.title),_($.description||""))}setTimeout(()=>U.current instanceof HTMLInputElement?U.current.focus():void 0,Jt.FOCUS)}},[L,e,n]);const P=M=>w(M.currentTarget.value.toLocaleLowerCase()),j=M=>E(M.currentTarget.value),R=M=>_(M.currentTarget.value),O=M=>{M.preventDefault(),setTimeout((V=>()=>i(V))({path:`${d}${v}/`,title:x,description:C,oldPath:e}),Jt.BLUR),s()},D=M=>{M.preventDefault(),M.stopPropagation(),setTimeout((V=>()=>i(V))({path:"",oldPath:e}),Jt.BLUR),s()};return b.jsxs("dialog",{ref:t,className:"modal",children:[b.jsxs("form",{className:"modal-box",onSubmit:O,children:[b.jsx("button",{type:"button",className:"btn btn-sm btn-circle btn-ghost absolute top-2 right-2",onClick:s,children:""}),b.jsx("h3",{className:"font-bold text-lg",children:e?.length?"Page edit":"New page creation"}),b.jsxs("fieldset",{className:"fieldset",children:[b.jsx("legend",{className:"fieldset-legend",children:"Do you need a page or a chronological collection of articles?"}),b.jsxs("label",{className:"select",children:[b.jsx("span",{className:"label",children:"Type"}),b.jsxs("select",{children:[b.jsx("option",{children:"Single Page"}),b.jsx("option",{disabled:!0,children:"Blog (collection of articles)"}),b.jsx("option",{disabled:!0,children:"Microblog (page with dynamic content)"})]})]})]}),b.jsxs("fieldset",{className:"fieldset",children:[b.jsxs("div",{className:"flex w-full",children:[b.jsx("div",{className:"w-1/2",children:b.jsx("legend",{className:"fieldset-legend",children:"URL section relative to other pages"})}),b.jsx("div",{className:"w-1/2 pl-1",children:b.jsx("legend",{className:"fieldset-legend",children:"Page URL"})})]}),b.jsxs("div",{className:"join validator w-full",children:[b.jsx("select",{className:"select join-item",value:d,onChange:L,disabled:l,children:n.map(M=>b.jsx("option",{disabled:e===M.path,children:M.path},M.path))}),b.jsxs("label",{className:"input join-item validator",children:[b.jsx("input",{type:"text",placeholder:l?"(website root page)":"hello-world",required:!0,minLength:1,ref:U,disabled:l,autoComplete:"off",autoCapitalize:"off",pattern:`^${p}[\\w\\-]+$`,value:v,onChange:P}),b.jsx("span",{className:"label",children:"/"})]})]}),b.jsx("span",{className:"validator-hint mt-0",children:"Page URL must be unique and contain only letters, digits, minus and underscore"})]}),b.jsxs("fieldset",{className:"fieldset",children:[b.jsx("legend",{className:"fieldset-legend",children:"Page title"}),b.jsxs("label",{className:"input validator w-full",children:[b.jsx("input",{type:"text",placeholder:"Hello World!",required:!0,value:x,onChange:j}),b.jsxs("span",{className:"label",children:[x.length," characters"]})]})]}),b.jsxs("fieldset",{className:"fieldset",children:[b.jsx("legend",{className:"fieldset-legend optional",children:"Page description"}),b.jsxs("div",{className:"relative",children:[b.jsx("textarea",{className:"textarea w-full",placeholder:"Enter a brief description of your webpage (max 160 characters). This description will appear in search engine results and should summarize the content effectively.",value:C,onChange:R}),b.jsxs("span",{className:"label absolute right-3 bottom-1",children:[C.length," characters"]})]})]}),b.jsxs("div",{className:"mt-4 flex justify-evenly",children:[b.jsx("button",{type:"submit",className:"btn btn-neutral w-1/3",disabled:!I,children:e?.length?"Update Page":"Create Page"}),b.jsxs("button",{type:"button",className:"btn btn-error btn-outline w-1/3",disabled:!e||e.length<2,onClick:D,children:[b.jsx(fb,{})," Delete Page"]})]})]}),b.jsx("form",{method:"dialog",className:"modal-backdrop",children:b.jsx("button",{onClick:s,children:"close"})})]})},dY=t=>t.reduce((e,n)=>(n.path.replace(/^[^\w-]+|[^\w-]+$/g,"").split("/").reduce((r,i)=>(r[i]||(r[i]={}),r[i]),e),e),{}),MR=({node:t,prefix:e,active:n,setActive:r,updatingPage:i,pageDiff:s,handleEdit:l,activeRef:c})=>b.jsx("ul",{children:Object.entries(t).map(([d,f])=>{const p=`${e}/${d}`,m=p==="/"?"/":`${p}/`,v=n===m?"grad30":void 0,w=i===m?b.jsx(b9,{}):s.indexOf(m)<0?b.jsx(M9,{}):b.jsx(m9,{});return b.jsxs("li",{children:[b.jsxs("button",{ref:c,className:v,onClick:()=>r(m),children:[w,m,b.jsx(db,{className:"float-right opacity-0",onClick:x=>(x.preventDefault(),l(m))})]}),Object.keys(f).length>0&&MR({node:f,prefix:p,active:n,setActive:r,updatingPage:i,pageDiff:s,handleEdit:l,activeRef:c})]},m)})});function fY({pages:t,active:e,setActive:n}){const r=k.useMemo(()=>t?dY(t):{},[t]),[i,s]=k.useState(void 0),l=k.useRef(null),c=k.useRef(null),d=x=>(s(x),n(x),c?.current?.showModal()),f=()=>d(""),p=Oe(x=>x.config),m=Oe(x=>x.pageDiff),v=Oe(x=>x.updatingPage),w=Oe(x=>x.setUpdatingPage);return k.useEffect(()=>{t&&t.findIndex(x=>x.path===e)===-1&&(n(t.findIndex(x=>x.path===v)!==-1?v:"/"),w(""),setTimeout(()=>l.current instanceof HTMLButtonElement&&l.current.focus(),Jt.FOCUS))},[t,e,v,n,w]),b.jsxs("div",{className:"menu menu-xs bg-base-300/90",children:[b.jsx("ul",{children:b.jsx("li",{children:b.jsxs("button",{onClick:f,children:[b.jsx(gN,{}),"Create a new page"]})})}),b.jsx("hr",{}),MR({node:r,prefix:"",active:e,setActive:n,updatingPage:v,pageDiff:m,handleEdit:d,activeRef:l}),b.jsx(uY,{pages:p.pages,edit:i,setEdit:s,ref:c})]})}function hY(){const t=Oe(s=>s.config),e=k.useRef(null),[n,r]=k.useState("/"),i=k.useMemo(()=>(e.current?.flush(),t.pages.find(s=>s.path===n)?.content||""),[n]);return b.jsx(AR,{ref:e,content:i,page:n,children:b.jsx(fY,{pages:t.pages,active:n,setActive:r})})}const pY=({ref:t,edit:e,setAct:n})=>{const[r,i]=k.useState(null);k.useEffect(()=>i(new Date(e*qr.TRIM)),[e]);const[s,l]=k.useMemo(()=>[r?.toJSON().slice(...qr.DATE),r?.toJSON().slice(...qr.TIME)],[r]),c=Oe(w=>w.setFeedItem),d=()=>NR(t),f=w=>{const x=w.target.value.split("-").map(E=>Number(E));if(r&&x.every(E=>Number.isInteger(E))){const E=new Date(Date.UTC(x[0],x[1]-1,x[2]));E.setUTCHours(r.getUTCHours(),r.getUTCMinutes()),i(E)}},p=w=>{const x=w.target.value.split(":").map(E=>Number(E));if(r&&x.every(E=>Number.isInteger(E))){const E=new Date(r);E.setUTCHours(x[0],x[1]),i(E)}},m=w=>{if(w.preventDefault(),r){const x=Math.ceil(r.getTime()/qr.TRIM);setTimeout((E=>()=>c(E)??n(E.newTime))({time:e,newTime:x}),Jt.BLUR)}d()},v=w=>{r&&(w.preventDefault(),w.stopPropagation(),setTimeout((x=>()=>c(x)??n(0))({time:e}),Jt.BLUR)),d()};return b.jsxs("dialog",{ref:t,className:"modal",children:[b.jsxs("form",{className:"modal-box",onSubmit:m,children:[b.jsx("button",{type:"button",className:"btn btn-sm btn-circle btn-ghost absolute top-2 right-2",onClick:d,children:""}),b.jsx("h3",{className:"font-bold text-lg",children:"Edit Post"}),b.jsxs("fieldset",{className:"fieldset",children:[b.jsx("legend",{className:"fieldset-legend",children:"Set the date for this post. Posts in the feed are sorted chronologically."}),b.jsxs("div",{className:"flex flex-row gap-2",children:[b.jsxs("label",{className:"input validator w-3/5",children:[b.jsx("span",{className:"label",children:"Date"}),b.jsx("input",{type:"date",className:"validate",required:!0,max:"9999-12-31",defaultValue:s,onChange:f})]}),b.jsxs("label",{className:"input w-2/5",children:[b.jsx("span",{className:"label",children:"Time"}),b.jsx("input",{type:"time",defaultValue:l,onChange:p})]})]})]}),b.jsxs("div",{className:"mt-4 flex justify-evenly",children:[b.jsx("button",{type:"submit",className:"btn btn-neutral w-1/3",children:"Update Post"}),b.jsxs("button",{type:"button",className:"btn btn-error btn-outline w-1/3",onClick:v,children:[b.jsx(fb,{})," Delete Post"]})]})]}),b.jsx("form",{method:"dialog",className:"modal-backdrop",children:b.jsx("button",{onClick:d,children:"close"})})]})},mY=({feat:t,onClick:e})=>t?b.jsx(J9,{onClick:e}):b.jsx(Z9,{onClick:e}),gY=({feed:t,active:e,setActive:n})=>{const r=Oe(m=>m.setFeedItem),i=Oe(m=>m.setFeedFeat),s=k.useRef(null),[l,c]=k.useState(0),d=m=>{c(m),s?.current?.showModal()},f=()=>{const m=Math.ceil((Date.now()-new Date().getTimezoneOffset()*qr.ZONE_OFFSET_MS)/qr.TRIM);r({time:m,text:""}),n(m)},p=(m,v)=>{if(m.preventDefault(),m.stopPropagation(),m.currentTarget instanceof SVGSVGElement){const w=m.currentTarget.closest("li");w&&(w.classList.add("move"),setTimeout(()=>(i({time:v}),w.classList.remove("move")),Jt.BLUR))}};return t===void 0?null:b.jsxs("div",{className:"menu menu-xs flex-nowrap bg-base-300/90",children:[b.jsx("ul",{children:b.jsx("li",{children:b.jsxs("button",{onClick:f,children:[b.jsx(gN,{}),"Create a new post"]})})}),b.jsx("hr",{}),b.jsx("ul",{children:t.list.map(m=>b.jsx("li",{children:b.jsxs("button",{className:m.time===e?"grad30":"",onClick:()=>n(m.time),children:[b.jsx(mY,{feat:Number.isInteger(m.feat),onClick:v=>p(v,m.time)}),b.jsx("time",{children:new Date(m.time*qr.TRIM).toLocaleString(t?.locale,t?.format)}),b.jsx(db,{className:"float-right opacity-0",onClick:v=>(v.preventDefault(),d(m.time))}),b.jsx("span",{children:SP(m.text)})]})},m.time))}),b.jsx(pY,{edit:l,ref:s,setAct:n})]})};function yY(){const t=Oe(s=>s.config.feed),e=k.useRef(null),[n,r]=k.useState(t?.list[0].time||0),i=k.useMemo(()=>{if(e.current?.flush(),n===0){const s=t?.list[0];if(s)return r(s.time),s.text}return t?.list.find(s=>s.time===n)?.text||""},[n]);return b.jsx(AR,{ref:e,content:i,page:n,className:"feed",children:b.jsx(gY,{feed:t,active:n,setActive:r})})}const vY=async()=>{const t=Gm();if(t)try{const e=await t.getIdToken(),n=await fetch(`${vl}/file/`,{headers:new Headers({Authorization:`Bearer ${e}`}),method:"GET"});if(!n.ok)throw new Error("Loading files failed");return await n.json()}catch(e){console.error(e)}return[]},bY=(t,e)=>e[t]?`${e[t]}.${t.split(".").pop()}`:t,wY=async(t,e,n)=>{const r=Gm();if(r)try{const i=await r.getIdToken(),s={...e},l=t.reduce((d,f)=>{const p=bY(f.name,s);return d.append("files",f,p),p!==f.name&&delete s[f.name],d},new FormData);Object.entries(s).forEach(([d,f])=>l.append(d,`${f}.${d.split(".").pop()}`)),n.forEach(d=>l.append(d,""));const c=await fetch(`${vl}/file/`,{headers:new Headers({Authorization:`Bearer ${i}`}),method:"POST",body:l});if(!c.ok)throw new Error("Upload failed");return c.json()}catch(i){console.error(i)}return""};function SY(){const t=k.useRef(null),e=k.useRef(null),[n,r]=k.useState(!1),[i,s]=k.useState([]),[l,c]=k.useState(null),[d,f]=k.useState([]),[p,m]=k.useState({}),[v,w]=k.useMemo(()=>bP(i,d,p),[i,d,p]);k.useEffect(()=>{vY().then(L=>c(L)).catch(L=>console.error(L))},[]);const x=L=>{L.preventDefault(),s(U=>[...L.dataTransfer.items].reduce((P,j)=>{const R=j.getAsFile();return R?.lastModified&&P.push(R),P},[...U]))};k.useEffect(()=>{window.addEventListener("dragover",L=>L.preventDefault()),window.addEventListener("drop",L=>L.preventDefault())},[]);const E=(L,U)=>{L.target.setCustomValidity(""),m(P=>{if(L.target.value===U.split(".").slice(0,-1).join(".")){delete P[U];const j=L.target.parentNode?.parentNode;j instanceof HTMLFormElement&&j.reset()}else P[U]=L.target.value;return{...P}})},C=L=>m(U=>(delete U[L],{...U})),_=async()=>{const L=e.current?.querySelectorAll("form input");if(L){const U=L.values().find(P=>!P.reportValidity());if(U)U.setCustomValidity("Please use only lowercase letters, digits, dashes, underscores, or dots.");else{r(!0);const P=await wY(i,p,d);if(P&&!Array.isArray(P)){const j=i.every(D=>P[D.name]===!0),R=Object.entries(p).every(([D,M])=>P[D]===!1&&P[`${M}.${D.split(".").pop()?.toLowerCase()}`]===!0),O=d.every(D=>P[D]===!1);if(j&&R&&O){c(M=>{if(M!==null){const V=M.map(B=>({...B,name:p[B.name]?`${p[B.name]}.${B.name.split(".").pop()?.toLowerCase()}`:B.name})),$=i.map(({name:B,type:ye,size:me,lastModified:G})=>({name:p[B]?`${p[B]}.${B.split(".").pop()?.toLowerCase()}`:B,type:ye,size:me,lastModified:G,webkitRelativePath:void 0}));return[...V,...$]}return M}),s([]),f([]),m({});const D=e.current?.querySelectorAll("form");D&&(D.forEach(M=>M.reset()),r(!1))}}}}},I=L=>{i.find(U=>U.name===L)?s(U=>U.filter(P=>P.name!==L)):(f(U=>[...U,L]),c(U=>U.filter(P=>P.name!==L))),m(U=>U[L]?(delete U[L],{...U}):U)};return b.jsxs("div",{className:"flex flex-row gap-6",children:[b.jsxs("div",{className:"flex w-1/3 flex-col gap-6",children:[b.jsxs("div",{className:"card justify-center border border-base-300 bg-base-100",ref:t,onDrop:x,children:[b.jsx(D9,{className:"mx-auto my-8 block size-20 opacity-20"}),b.jsx("span",{className:"mx-auto mb-8 font-extralight text-2xl opacity-40",children:"Drag new files here"})]}),b.jsxs("div",{className:"card",children:[b.jsx("div",{className:"p-1 text-center text-xs opacity-60",children:"Plan Limits"}),b.jsxs("div",{className:"stats border border-base-300 bg-base-100",children:[b.jsxs("div",{className:"stat place-items-center",children:[b.jsx("div",{className:"stat-title",children:"Max Files"}),b.jsx("div",{className:"stat-value",children:"5"}),b.jsx("div",{className:"stat-desc opacity-50",children:"any format"})]}),b.jsxs("div",{className:"stat place-items-center",children:[b.jsx("div",{className:"stat-title",children:"File Size"}),b.jsx("div",{className:"stat-value",children:"5"}),b.jsx("div",{className:"stat-desc opacity-50",children:"Mb"})]}),b.jsxs("div",{className:"stat place-items-center",children:[b.jsx("div",{className:"stat-title",children:"Total Size"}),b.jsx("div",{className:"stat-value",children:"5"}),b.jsx("div",{className:"stat-desc opacity-50",children:"Mb"})]})]})]})]}),b.jsx("div",{className:"h-fit w-2/3 rounded-box border border-base-300 bg-base-100",children:b.jsxs("table",{className:"table-xs table whitespace-nowrap",ref:e,children:[b.jsx("thead",{children:b.jsxs("tr",{className:"py-2",children:[b.jsx("th",{}),b.jsx("th",{children:b.jsx(fT,{})}),b.jsx("th",{className:"w-full",children:"Name"}),b.jsx("th",{children:"Type"}),b.jsx("th",{children:"Size"}),b.jsx("th",{})]})}),b.jsx("tbody",{children:l?[...l,...i].map((L,U)=>{const P=L.webkitRelativePath!==void 0,j=p[L.name]!==void 0,R=j?p[L.name]:L.name.split(".").slice(0,-1).join(".");return b.jsxs("tr",{children:[b.jsx("th",{children:U+1}),b.jsx("td",{children:P?b.jsx(S9,{}):b.jsx(fT,{className:"opacity-30"})}),b.jsx("td",{children:b.jsxs("form",{className:"join w-full",onReset:()=>C(L.name),children:[b.jsxs("label",{className:"input input-sm validator join-item w-full",children:[b.jsx("input",{type:"text",required:!0,pattern:"^[a-z0-9\\-\\\\_\\.]+$",placeholder:"filename",value:R,disabled:n,onChange:O=>E(O,L.name)}),".",L.name.split(".").pop()?.toLowerCase()]}),b.jsx("button",{type:"reset",className:"btn btn-sm btn-square join-item",disabled:!j||n,children:b.jsx(hb,{})})]})}),b.jsx("td",{children:L.type.split(";")[0]}),b.jsx("td",{children:q1(L.size)}),b.jsx("td",{className:"flex gap-2",children:b.jsx("button",{className:"btn btn-sm btn-square",onClick:()=>I(L.name),disabled:n,children:b.jsx(fb,{})})})]},L.name)}):b.jsx("tr",{children:b.jsx("td",{colSpan:6,className:"text-center",children:b.jsx("span",{className:"loading loading-spinner loading-md my-8"})})})}),b.jsx("tfoot",{children:b.jsxs("tr",{className:"py-2",children:[b.jsx("td",{}),b.jsx("td",{}),b.jsx("td",{children:b.jsx("button",{className:"btn btn-sm w-full",onClick:_,disabled:w||n,children:n?b.jsx("span",{className:"loading loading-spinner"}):v})}),b.jsx("td",{}),b.jsx("td",{children:l?q1([...l,...i].reduce((L,U)=>L+U.size,0)):null})]})})]})})]})}const Tk=t=>`font-${t.replace(/\s+/g,"-").toLowerCase()}`;function xY(t,e){k.useEffect(()=>{const n=new Set(t.map(r=>Tk(r.family)));t.forEach(r=>{const i=Tk(r.family);if(!document.getElementById(i)){const s=document.createElement("style");let l=r.menu;if(e[r.family].length===1&&e[r.family][0]!=="regular"){const c=r.files[e[r.family][0]];c&&(l=c)}s.id=i,s.textContent=`@font-face {font-family:'${r.family.replace(/\s+/g,"-")}';src:url('${l}') format('truetype')}`,document.head.appendChild(s)}}),document.querySelectorAll("style[id^='font-']").forEach(r=>{n.has(r.id)||r.remove()})},[t,e])}function EY(){const{fonts:t}=Oe(I=>I.config),e=Oe(I=>I.setConfigKey),n=k.useRef([]),r=k.useRef([]),[i,s]=k.useState([]),[l,c]=k.useState([]);k.useEffect(()=>{Cq().then(I=>{I&&(n.current=I,r.current=I.map(L=>L.family),s(I.filter(L=>t[L.family])))})},[]),xY(i,t);const[d,f]=k.useState(""),[p,m]=k.useState([]),v=k.useRef(null);k.useEffect(()=>v.current?.scrollIntoView(),[p]);const w=I=>{const L=I.target.value.toLowerCase();f(L),m(vP(r.current,L,Object.keys(t)))},x=I=>{const L=n.current.find(U=>U.family===I);if(L){const U=L?.variants.includes("regular")?"regular":L?.variants[0];s(P=>[...P,L]),e({key:"fonts",value:Object.assign(t,{[I]:[U]})}),f(""),m([])}},E=I=>{const L={...t};delete L[I],e({key:"fonts",value:L})},C=I=>c(L=>L.includes(I)?L.filter(U=>U!==I):[...L,I]),_=(I,L)=>{const U=i.find(P=>P.family===I)?.variants;if(U&&U.length>1){const P=U.includes("regular")?"regular":U[0],j=t[I],O=j.includes(L)?j.filter(D=>D!==L):[...j,L].sort();e({key:"fonts",value:{...t,[I]:O.length?O:[P]}})}};return b.jsxs("ul",{className:"list",children:[b.jsx("li",{className:"p-4 pb-2 text-xs tracking-wide opacity-60",children:"Google Fonts are free fonts that you can use for personal and commercial projects. Fonts added to your website:"}),Object.entries(t).map(([I,L],U)=>{const{category:P,variants:j,subsets:R}=i.find(O=>O.family===I)||{};return b.jsxs("li",{className:"list-row",children:[b.jsx("div",{className:"font-thin text-4xl tabular-nums opacity-30",children:String(U+1).padStart(2,"0")}),b.jsxs("div",{className:"min-w-32",children:[b.jsx("div",{children:I}),b.jsx("div",{className:"font-semibold text-xs uppercase opacity-60",children:P})]}),b.jsxs("div",{className:"flex flex-col justify-around",children:[b.jsxs("button",{className:`btn btn-xs size-5 w-full ${l.includes(I)?"btn-neutral":"btn-ghost"}`,onClick:()=>C(I),children:["Variants: ",L.length," of ",j?.length]}),b.jsxs("button",{className:"btn btn-xs btn-ghost size-5 w-full",children:["Subsets: ",R?.length]})]}),b.jsx("div",{className:"list-col-grow text-center",children:b.jsx("span",{style:{fontFamily:I.replace(/\s+/g,"-")},children:I})}),b.jsx("button",{className:"btn btn-square btn-ghost",onClick:()=>E(I),children:b.jsx(X7,{})}),l.includes(I)?b.jsx("div",{className:"flex list-col-wrap list-new-row flex-wrap gap-1",children:j?.map(O=>b.jsx("button",{className:`btn btn-xs ${L?.includes(O)?"btn-neutral":""}`,onClick:()=>_(I,O),children:O},O))}):null]},I)}),b.jsxs("li",{className:"list-row",children:[b.jsx("div",{children:b.jsx(n9,{className:"m-1 size-8"})}),b.jsxs("div",{children:[b.jsxs("label",{className:"input",children:[b.jsx(vN,{className:"opacity-50"}),b.jsx("input",{type:"text",value:d,onChange:w,onKeyDown:aT,tabIndex:0,placeholder:"Enter a font name: e.g. Roboto"})]}),p.length?b.jsx("ul",{className:"menu absolute w-56 rounded-box border border-base-300 bg-base-200",ref:v,children:p.map(I=>b.jsx("li",{children:b.jsx("button",{onClick:()=>x(I),onKeyDown:aT,tabIndex:0,children:I})},I))}):null]})]})]})}function TY(){const t=Oe(M=>M.config),e=Oe(M=>M.setConfigKey),n=k.useRef(null),r=k.useRef(null),i=k.useRef(null),[s,l]=k.useState(0),[c,d]=k.useState(0),f=M=>{n.current=M,i.current=M,M.onDidFocusEditorWidget(()=>i.current=M),l(wc(M.getValue()))},p=M=>{r.current=M,M.onDidFocusEditorWidget(()=>i.current=M),d(wc(M.getValue()))},[m,v]=k.useState(!0),[w,x]=k.useState(!0),[E,C]=k.useState(!1),[_,I]=k.useState(!1),[L,U]=k.useMemo(()=>[t.header.content,t.footer.content],[t]),P=k.useCallback(()=>{const M=n.current?.getValue(),V=r.current?.getValue();typeof M!="string"||typeof V!="string"||(M!==L&&e({key:"header",value:M}),V!==U&&e({key:"footer",value:V}),l(wc(M)),d(wc(V)),v(!0))},[e,L,U]),j=Ym(P,Jt.DEBOUNCE,()=>v(!1)),R=k.useCallback(()=>j(),[j]),O=k.useRef(null),{dismissModal:D}=RN({isBlocked:!m,ref:O,stop:j.cancel});return b.jsxs("div",{className:"shine",children:[b.jsxs("div",{className:"editor shadow",children:[b.jsx(ON,{codeRef:i,bytes:s+c,handleSync:P,isSync:m,isDark:w,setIsDark:x,isWrap:E,setIsWrap:C,showMap:_,setShowMap:I}),b.jsx(W1,{height:"calc(50vh - 43px)",className:"my-0.5",theme:w?"vs-dark":"light",language:"html",loading:b.jsx("span",{className:"loading loading-spinner loading-xl"}),value:L,onMount:f,onChange:R,options:{tabSize:2,minimap:{enabled:_},wordWrap:E?"on":"off",scrollBeyondLastLine:!1,wrappingIndent:"same"}}),b.jsx(W1,{height:"calc(50vh - 43px)",theme:w?"vs-dark":"light",language:"html",loading:b.jsx("span",{className:"loading loading-spinner loading-xl"}),value:U,onMount:p,onChange:R,options:{tabSize:2,minimap:{enabled:_},wordWrap:E?"on":"off",scrollBeyondLastLine:!1,wrappingIndent:"same"}})]}),b.jsx(_N,{ref:O,dismissModal:D})]})}function CY({login:t,setLogin:e}){const[n,r]=k.useState(""),i=l=>r(l.target.value),s=l=>{l.preventDefault(),e(1),aP(n,window.location.href).then(()=>window.localStorage.setItem(I1.EMAIL,n)).catch(c=>{console.error(c),e(0)}).finally(()=>e(2))};return b.jsxs("form",{onSubmit:s,className:"fieldset gap-2 p-0",children:[b.jsxs("label",{className:"floating-label",children:[b.jsx("span",{children:"Your Email"}),b.jsx("input",{type:"email",name:"email",value:n,required:!0,disabled:t>0,onChange:i,autoComplete:"email",placeholder:"m.curie@proton.me",className:"input input-md validator w-full"})]}),b.jsx("button",{type:"submit",className:"btn btn-neutral",disabled:t>0,children:t>0?"Logging in...":"Login"})]})}function kY(){const t=Oe(c=>c.user),[e,n]=k.useState(0),[r,i]=k.useState(!1),s=()=>i(c=>!c);eA(t!==!0);const l=async()=>{await lP(),window.location.pathname="/app/"};return e===2?b.jsx("center",{children:"Check your email"}):b.jsx("div",{className:"hero",children:b.jsxs("div",{className:"hero-content flex-col gap-16 lg:flex-row",children:[b.jsxs("div",{className:"w-full max-w-sm shrink-0",children:[b.jsx("h2",{className:"mb-6 text-center font-bold text-3xl",children:"Log in to get started"}),b.jsx("div",{className:"card bg-base-100 shadow-2xs",children:b.jsx("div",{className:"shine",children:b.jsxs("div",{className:"card-body",children:[b.jsx("fieldset",{className:"fieldset mb-3 rounded-box border border-base-300 bg-base-200 p-4",children:b.jsxs("label",{className:"label gap-4",children:[b.jsx("input",{type:"checkbox",className:"checkbox validator bg-base-100",required:!0,title:"Required",checked:r,onChange:s}),b.jsxs("p",{className:"whitespace-normal",children:["To proceed confirm you have read and agree to the"," ",b.jsx("a",{href:"/terms/",target:"_blank",rel:"noopener",className:"link",children:"Terms of Service"})," ","and"," ",b.jsx("a",{href:"/privacy/",target:"_blank",rel:"noopener",className:"link",children:"Privacy Policy"}),"."]})]})}),b.jsxs("fieldset",{className:"fieldset gap-2",disabled:!r,children:[b.jsx("legend",{className:"fieldset-legend mb-0.5 p-0 text-center",children:"Login with a confirmation link"}),b.jsx(CY,{login:e,setLogin:n}),b.jsx("div",{className:"divider",children:"OR"}),b.jsxs("button",{type:"button",onClick:l,className:`btn btn-neutral ${e===2?"disabled":""}`,children:[b.jsxs("svg",{"aria-label":"Google logo",width:"16",height:"16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"logo",children:[b.jsx("path",{fill:"#34a853",d:"M153 292c30 82 118 95 171 60h62v48A192 192 0 0190 341"}),b.jsx("path",{fill:"#4285f4",d:"m386 400a140 175 0 0053-179H260v74h102q-7 37-38 57"}),b.jsx("path",{fill:"#fbbc02",d:"m90 341a208 200 0 010-171l63 49q-12 37 0 73"}),b.jsx("path",{fill:"#ea4335",d:"m153 219c22-69 116-109 179-50l55-54c-78-75-230-72-297 55"})]}),"Login with Google"]})]})]})})})]}),b.jsxs("div",{className:"max-w-xl lg:w-full lg:pt-12",children:[b.jsx("p",{className:"my-4",children:"You've poured your heart and soul into building something special..."}),b.jsx("p",{className:"my-4",children:"Now, it's time to take that passion beyond your neighborhood and give it the spotlight it deserves. Imagine a professional online storefront that's always open: an online presence that adds scale & power to your vision."}),b.jsxs("ul",{className:"steps steps-vertical login-steps",children:[b.jsx("li",{className:"step step-neutral step-primary",children:"Register in 6 clicks, no credit card needed"}),b.jsx("li",{className:"step step-neutral",children:b.jsxs("span",{children:["Choose a plan ",b.jsx("span",{className:"badge badge-sm badge-outline font-medium",children:"from 0/year"})]})}),b.jsx("li",{className:"step step-neutral",children:"Select a domain name or bring yours for free"}),b.jsx("li",{className:"step step-neutral",children:"Start editing you own website"})]})]})]})})}const Ha=b.jsx(B7,{}),fc=b.jsx(I7,{}),C1=b.jsx(Km,{className:"animate-spin"}),AY=()=>{const t=Oe(c=>c.pid),e=Oe(c=>c.sid),n=Oe(c=>c.config),r=Oe(c=>c.status),i=Oe(c=>c.pageDiff),s=Oe(c=>c.updatingPage),l=k.useMemo(()=>n.pages.length>1||n.pages[0].content!=="",[n]);return b.jsxs("ul",{className:"menu menu-md justify-evenly rounded-box border border-base-300 bg-base-100",children:[b.jsx("li",{children:b.jsxs("button",{type:"button",children:[r?fc:Ha," Domain name is configured"]})}),b.jsx("li",{children:b.jsxs("button",{type:"button",children:[r>=et.NS_DONE?fc:r?C1:Ha," Domain records are propagated"]})}),b.jsx("li",{children:b.jsxs("button",{type:"button",children:[r>=et.PID_OLD?fc:r>=et.DOMAIN_POLL?C1:Ha," Domain is active & publicly available"]})}),b.jsx("li",{children:b.jsxs("button",{type:"button",children:[l?s===""?fc:C1:Ha," All changes are saved locally"]})}),b.jsx("li",{children:b.jsxs("button",{type:"button",children:[l&&!i.length&&e?fc:Ha," All changes are uploaded to cloud"]})}),b.jsx("li",{children:b.jsxs("button",{type:"button",children:[t===er.INIT||i.length?Ha:fc," All changes are published"]})})]})};let OR=null;class _R{}_R.render=function(t,e){OR(t,e)};self.QrCreator=_R;(function(t){function e(c,d,f,p){var m={},v=t(f,d);v.u(c),v.J(),p=p||0;var w=v.h(),x=v.h()+2*p;return m.text=c,m.level=d,m.version=f,m.O=x,m.a=function(E,C){return E-=p,C-=p,0>E||E>=w||0>C||C>=w?!1:v.a(E,C)},m}function n(c,d,f,p,m,v,w,x,E,C){function _(I,L,U,P,j,R,O){I?(c.lineTo(L+R,U+O),c.arcTo(L,U,P,j,v)):c.lineTo(L,U)}w?c.moveTo(d+v,f):c.moveTo(d,f),_(x,p,f,p,m,-v,0),_(E,p,m,d,m,0,-v),_(C,d,m,d,f,v,0),_(w,d,f,p,f,0,v)}function r(c,d,f,p,m,v,w,x,E,C){function _(I,L,U,P){c.moveTo(I+U,L),c.lineTo(I,L),c.lineTo(I,L+P),c.arcTo(I,L,I+U,L,v)}w&&_(d,f,v,v),x&&_(p,f,-v,v),E&&_(p,m,-v,-v),C&&_(d,m,v,-v)}function i(c,d){var f=d.fill;if(typeof f=="string")c.fillStyle=f;else{var p=f.type,m=f.colorStops;if(f=f.position.map(w=>Math.round(w*d.size)),p==="linear-gradient")var v=c.createLinearGradient.apply(c,f);else if(p==="radial-gradient")v=c.createRadialGradient.apply(c,f);else throw Error("Unsupported fill");m.forEach(([w,x])=>{v.addColorStop(w,x)}),c.fillStyle=v}}function s(c,d){e:{var f=d.text,p=d.v,m=d.N,v=d.K,w=d.P;for(m=Math.max(1,m||1),v=Math.min(40,v||40);m<=v;m+=1)try{var x=e(f,p,m,w);break e}catch{}x=void 0}if(!x)return null;for(f=c.getContext("2d"),d.background&&(f.fillStyle=d.background,f.fillRect(d.left,d.top,d.size,d.size)),p=x.O,v=d.size/p,f.beginPath(),w=0;w<p;w+=1)for(m=0;m<p;m+=1){var E=f,C=d.left+m*v,_=d.top+w*v,I=w,L=m,U=x.a,P=C+v,j=_+v,R=I-1,O=I+1,D=L-1,M=L+1,V=Math.floor(Math.min(.5,Math.max(0,d.R))*v),$=U(I,L),B=U(R,D),ye=U(R,L);R=U(R,M);var me=U(I,M);M=U(O,M),L=U(O,L),O=U(O,D),I=U(I,D),C=Math.round(C),_=Math.round(_),P=Math.round(P),j=Math.round(j),$?n(E,C,_,P,j,V,!ye&&!I,!ye&&!me,!L&&!me,!L&&!I):r(E,C,_,P,j,V,ye&&I&&B,ye&&me&&R,L&&me&&M,L&&I&&O)}return i(f,d),f.fill(),c}var l={minVersion:1,maxVersion:40,ecLevel:"L",left:0,top:0,size:200,fill:"#000",background:null,text:"no text",radius:.5,quiet:0};OR=function(c,d){var f={};Object.assign(f,l,c),f.N=f.minVersion,f.K=f.maxVersion,f.v=f.ecLevel,f.left=f.left,f.top=f.top,f.size=f.size,f.fill=f.fill,f.background=f.background,f.text=f.text,f.R=f.radius,f.P=f.quiet,d instanceof HTMLCanvasElement?((d.width!==f.size||d.height!==f.size)&&(d.width=f.size,d.height=f.size),d.getContext("2d").clearRect(0,0,d.width,d.height),s(d,f)):(c=document.createElement("canvas"),c.width=f.size,c.height=f.size,f=s(c,f),d.appendChild(f))}})((function(){function t(d){var f=n.s(d);return{S:function(){return 4},b:function(){return f.length},write:function(p){for(var m=0;m<f.length;m+=1)p.put(f[m],8)}}}function e(){var d=[],f=0,p={B:function(){return d},c:function(m){return(d[Math.floor(m/8)]>>>7-m%8&1)==1},put:function(m,v){for(var w=0;w<v;w+=1)p.m((m>>>v-w-1&1)==1)},f:function(){return f},m:function(m){var v=Math.floor(f/8);d.length<=v&&d.push(0),m&&(d[v]|=128>>>f%8),f+=1}};return p}function n(d,f){function p(I,L){for(var U=-1;7>=U;U+=1)if(!(-1>=I+U||x<=I+U))for(var P=-1;7>=P;P+=1)-1>=L+P||x<=L+P||(w[I+U][L+P]=0<=U&&6>=U&&(P==0||P==6)||0<=P&&6>=P&&(U==0||U==6)||2<=U&&4>=U&&2<=P&&4>=P)}function m(I,L){for(var U=x=4*d+17,P=Array(U),j=0;j<U;j+=1){P[j]=Array(U);for(var R=0;R<U;R+=1)P[j][R]=null}for(w=P,p(0,0),p(x-7,0),p(0,x-7),U=s.G(d),P=0;P<U.length;P+=1)for(j=0;j<U.length;j+=1){R=U[P];var O=U[j];if(w[R][O]==null)for(var D=-2;2>=D;D+=1)for(var M=-2;2>=M;M+=1)w[R+D][O+M]=D==-2||D==2||M==-2||M==2||D==0&&M==0}for(U=8;U<x-8;U+=1)w[U][6]==null&&(w[U][6]=U%2==0);for(U=8;U<x-8;U+=1)w[6][U]==null&&(w[6][U]=U%2==0);for(U=s.w(v<<3|L),P=0;15>P;P+=1)j=!I&&(U>>P&1)==1,w[6>P?P:8>P?P+1:x-15+P][8]=j,w[8][8>P?x-P-1:9>P?15-P:14-P]=j;if(w[x-8][8]=!I,7<=d){for(U=s.A(d),P=0;18>P;P+=1)j=!I&&(U>>P&1)==1,w[Math.floor(P/3)][P%3+x-8-3]=j;for(P=0;18>P;P+=1)j=!I&&(U>>P&1)==1,w[P%3+x-8-3][Math.floor(P/3)]=j}if(E==null){for(I=c.I(d,v),U=e(),P=0;P<C.length;P+=1)j=C[P],U.put(4,4),U.put(j.b(),s.f(4,d)),j.write(U);for(P=j=0;P<I.length;P+=1)j+=I[P].j;if(U.f()>8*j)throw Error("code length overflow. ("+U.f()+">"+8*j+")");for(U.f()+4<=8*j&&U.put(0,4);U.f()%8!=0;)U.m(!1);for(;!(U.f()>=8*j)&&(U.put(236,8),!(U.f()>=8*j));)U.put(17,8);var V=0;for(j=P=0,R=Array(I.length),O=Array(I.length),D=0;D<I.length;D+=1){var $=I[D].j,B=I[D].o-$;for(P=Math.max(P,$),j=Math.max(j,B),R[D]=Array($),M=0;M<R[D].length;M+=1)R[D][M]=255&U.B()[M+V];for(V+=$,M=s.C(B),$=r(R[D],M.b()-1).l(M),O[D]=Array(M.b()-1),M=0;M<O[D].length;M+=1)B=M+$.b()-O[D].length,O[D][M]=0<=B?$.c(B):0}for(M=U=0;M<I.length;M+=1)U+=I[M].o;for(U=Array(U),M=V=0;M<P;M+=1)for(D=0;D<I.length;D+=1)M<R[D].length&&(U[V]=R[D][M],V+=1);for(M=0;M<j;M+=1)for(D=0;D<I.length;D+=1)M<O[D].length&&(U[V]=O[D][M],V+=1);E=U}for(I=E,U=-1,P=x-1,j=7,R=0,L=s.F(L),O=x-1;0<O;O-=2)for(O==6&&--O;;){for(D=0;2>D;D+=1)w[P][O-D]==null&&(M=!1,R<I.length&&(M=(I[R]>>>j&1)==1),L(P,O-D)&&(M=!M),w[P][O-D]=M,--j,j==-1&&(R+=1,j=7));if(P+=U,0>P||x<=P){P-=U,U=-U;break}}}var v=i[f],w=null,x=0,E=null,C=[],_={u:function(I){I=t(I),C.push(I),E=null},a:function(I,L){if(0>I||x<=I||0>L||x<=L)throw Error(I+","+L);return w[I][L]},h:function(){return x},J:function(){for(var I=0,L=0,U=0;8>U;U+=1){m(!0,U);var P=s.D(_);(U==0||I>P)&&(I=P,L=U)}m(!1,L)}};return _}function r(d,f){if(typeof d.length>"u")throw Error(d.length+"/"+f);var p=(function(){for(var v=0;v<d.length&&d[v]==0;)v+=1;for(var w=Array(d.length-v+f),x=0;x<d.length-v;x+=1)w[x]=d[x+v];return w})(),m={c:function(v){return p[v]},b:function(){return p.length},multiply:function(v){for(var w=Array(m.b()+v.b()-1),x=0;x<m.b();x+=1)for(var E=0;E<v.b();E+=1)w[x+E]^=l.i(l.g(m.c(x))+l.g(v.c(E)));return r(w,0)},l:function(v){if(0>m.b()-v.b())return m;for(var w=l.g(m.c(0))-l.g(v.c(0)),x=Array(m.b()),E=0;E<m.b();E+=1)x[E]=m.c(E);for(E=0;E<v.b();E+=1)x[E]^=l.i(l.g(v.c(E))+w);return r(x,0).l(v)}};return m}n.s=function(d){for(var f=[],p=0;p<d.length;p++){var m=d.charCodeAt(p);128>m?f.push(m):2048>m?f.push(192|m>>6,128|m&63):55296>m||57344<=m?f.push(224|m>>12,128|m>>6&63,128|m&63):(p++,m=65536+((m&1023)<<10|d.charCodeAt(p)&1023),f.push(240|m>>18,128|m>>12&63,128|m>>6&63,128|m&63))}return f};var i={L:1,M:0,Q:3,H:2},s=(function(){function d(m){for(var v=0;m!=0;)v+=1,m>>>=1;return v}var f=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],p={w:function(m){for(var v=m<<10;0<=d(v)-d(1335);)v^=1335<<d(v)-d(1335);return(m<<10|v)^21522},A:function(m){for(var v=m<<12;0<=d(v)-d(7973);)v^=7973<<d(v)-d(7973);return m<<12|v},G:function(m){return f[m-1]},F:function(m){switch(m){case 0:return function(v,w){return(v+w)%2==0};case 1:return function(v){return v%2==0};case 2:return function(v,w){return w%3==0};case 3:return function(v,w){return(v+w)%3==0};case 4:return function(v,w){return(Math.floor(v/2)+Math.floor(w/3))%2==0};case 5:return function(v,w){return v*w%2+v*w%3==0};case 6:return function(v,w){return(v*w%2+v*w%3)%2==0};case 7:return function(v,w){return(v*w%3+(v+w)%2)%2==0};default:throw Error("bad maskPattern:"+m)}},C:function(m){for(var v=r([1],0),w=0;w<m;w+=1)v=v.multiply(r([1,l.i(w)],0));return v},f:function(m,v){if(m!=4||1>v||40<v)throw Error("mode: "+m+"; type: "+v);return 10>v?8:16},D:function(m){for(var v=m.h(),w=0,x=0;x<v;x+=1)for(var E=0;E<v;E+=1){for(var C=0,_=m.a(x,E),I=-1;1>=I;I+=1)if(!(0>x+I||v<=x+I))for(var L=-1;1>=L;L+=1)0>E+L||v<=E+L||(I!=0||L!=0)&&_==m.a(x+I,E+L)&&(C+=1);5<C&&(w+=3+C-5)}for(x=0;x<v-1;x+=1)for(E=0;E<v-1;E+=1)C=0,m.a(x,E)&&(C+=1),m.a(x+1,E)&&(C+=1),m.a(x,E+1)&&(C+=1),m.a(x+1,E+1)&&(C+=1),(C==0||C==4)&&(w+=3);for(x=0;x<v;x+=1)for(E=0;E<v-6;E+=1)m.a(x,E)&&!m.a(x,E+1)&&m.a(x,E+2)&&m.a(x,E+3)&&m.a(x,E+4)&&!m.a(x,E+5)&&m.a(x,E+6)&&(w+=40);for(E=0;E<v;E+=1)for(x=0;x<v-6;x+=1)m.a(x,E)&&!m.a(x+1,E)&&m.a(x+2,E)&&m.a(x+3,E)&&m.a(x+4,E)&&!m.a(x+5,E)&&m.a(x+6,E)&&(w+=40);for(E=C=0;E<v;E+=1)for(x=0;x<v;x+=1)m.a(x,E)&&(C+=1);return w+=Math.abs(100*C/v/v-50)/5*10}};return p})(),l=(function(){for(var d=Array(256),f=Array(256),p=0;8>p;p+=1)d[p]=1<<p;for(p=8;256>p;p+=1)d[p]=d[p-4]^d[p-5]^d[p-6]^d[p-8];for(p=0;255>p;p+=1)f[d[p]]=p;return{g:function(m){if(1>m)throw Error("glog("+m+")");return f[m]},i:function(m){for(;0>m;)m+=255;for(;256<=m;)m-=255;return d[m]}}})(),c=(function(){function d(m,v){switch(v){case i.L:return f[4*(m-1)];case i.M:return f[4*(m-1)+1];case i.Q:return f[4*(m-1)+2];case i.H:return f[4*(m-1)+3]}}var f=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],p={I:function(m,v){var w=d(m,v);if(typeof w>"u")throw Error("bad rs block @ typeNumber:"+m+"/errorCorrectLevel:"+v);m=w.length/3,v=[];for(var x=0;x<m;x+=1)for(var E=w[3*x],C=w[3*x+1],_=w[3*x+2],I=0;I<E;I+=1){var L=_,U={};U.o=C,U.j=L,v.push(U)}return v}};return p})();return n})());const NY=QrCreator,MY=(t,e)=>{t.length&&e&&e.childElementCount===0&&NY.render({text:t,radius:0,ecLevel:"M",fill:"#ffffff",background:null,size:200},e)},OY=()=>{const t=k.useRef(null),e=Oe(s=>s.sid),n=Oe(s=>s.pid),r=Oe(s=>s.domain),i=Oe(s=>s.config);return k.useEffect(()=>MY(r,t.current),[r]),b.jsxs("div",{className:"gap flex flex-col",children:[b.jsxs("div",{className:"gap flex flex-row",children:[b.jsxs("div",{className:"gap flex grow flex-col",children:[b.jsxs("div",{className:"gap flex flex-row",children:[b.jsx("div",{className:"card grow rounded-box border border-base-300 bg-base-100 p-6",children:r?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"mx-auto font-bold text-2xl",children:"Your domain is set:"}),b.jsx("a",{href:`https://${r}/`,target:"_blank",className:"example link mx-auto w-fit font-semibold text-xl",children:`https://${r}/`})]}):b.jsx("div",{className:"mx-auto font-bold text-2xl",children:"Set up your domain"})}),r?b.jsx("output",{ref:t,className:"rounded-box border border-base-300 p-1.5"}):null]}),b.jsxs("div",{className:"gap flex flex-row",children:[b.jsxs("div",{className:"card grow rounded-box border border-base-300 bg-base-100 px-8 py-4 text-center",children:[b.jsx("div",{className:"stat-title",children:"Last sync with cloud"}),b.jsx("div",{className:"stat-value",children:cT(bc(e))||"Not yet"}),b.jsx("div",{className:"stat-desc",children:lT(bc(e))||""})]}),b.jsxs("div",{className:"card grow rounded-box border border-base-300 bg-base-100 px-8 py-4 text-center",children:[b.jsx("div",{className:"stat-title",children:"Last website publication"}),b.jsx("div",{className:"stat-value",children:cT(bc(n))||"Not yet"}),b.jsx("div",{className:"stat-desc",children:lT(bc(n))||""})]})]})]}),b.jsx(AY,{})]}),b.jsxs("div",{className:"stats w-full border border-base-300 bg-base-100",children:[b.jsxs("div",{className:"stat",children:[b.jsx("div",{className:"stat-figure text-primary",children:b.jsx(C9,{className:"size-10"})}),b.jsx("div",{className:"stat-title",children:"Created Pages"}),b.jsx("div",{className:"stat-value text-primary",children:i.pages.length}),b.jsx("div",{className:"stat-actions",children:b.jsx("a",{href:"/app/edit/",className:"btn btn-xs",children:"Add or edit pages"})})]}),b.jsxs("div",{className:"stat",children:[b.jsx("div",{className:"stat-figure",children:b.jsx(hN,{className:"size-10"})}),b.jsx("div",{className:"stat-title",children:"Uploaded Images"}),b.jsx("div",{className:"stat-value",children:3}),b.jsx("div",{className:"stat-desc",children:"Overview is coming soon"})]}),b.jsxs("div",{className:"stat",children:[b.jsx("div",{className:"stat-figure",children:b.jsx(E9,{className:"size-10"})}),b.jsx("div",{className:"stat-title",children:"Uploaded Files"}),b.jsx("div",{className:"stat-value",children:0}),b.jsx("div",{className:"stat-desc",children:"Overview is coming soon"})]}),b.jsxs("div",{className:"stat",children:[b.jsx("div",{className:"stat-figure",children:b.jsx(wN,{className:"size-10"})}),b.jsx("div",{className:"stat-title",children:"Selected Fonts"}),b.jsx("div",{className:"stat-value",children:Object.keys(i.fonts).length}),b.jsx("div",{className:"stat-actions",children:b.jsx("a",{href:"/app/fonts/",className:"btn btn-xs",children:"Edit selected fonts"})})]})]})]})};function _Y(){return Oe(e=>e.user)?b.jsx(OY,{}):b.jsx(kY,{})}const RY=async()=>{const e=await(await Wm())?.getIdToken();if(typeof e!="string"||!e.length)throw new Error("User auth failed");const n=await fetch(`${vl}/billing/`,{method:"GET",headers:new Headers({Authorization:`Bearer ${e}`,"Content-Type":"application/json"})});if(!n.ok)throw new Error("Fetching billing url failed");const{url:r}=await n.json();if(typeof r!="string"||r.length<10)throw new Error("Billing URL is corrupted");window.location.href=r},DY=async(t,e)=>{const r=await(await Wm())?.getIdToken();if(typeof r!="string"||!r.length)throw new Error("User auth failed");const i=await fetch(`${vl}/checkout/${t}`,{method:"POST",headers:new Headers({Authorization:`Bearer ${r}`,"Content-Type":"application/json"})});if(!i.ok)throw new Error("Checkout session initialization failed");const{url:s}=await i.json();if(typeof s!="string"||s.length<10)throw new Error("Getting checkout session details failed");window.location.href=s,e()},IY=async t=>{const n=await(await Wm())?.getIdToken();if(typeof n!="string"||!n.length)throw new Error("User auth failed");const r=await fetch(`${vl}/checkout/${t}`,{method:"GET",headers:new Headers({Authorization:`Bearer ${n}`,"Content-Type":"application/json"})});if(!r.ok)throw new Error("Checkout confirmaton session failed");const i=await r.json(),{setPlan:s}=Oe.getState();s(i)},k1=[{"3 pages":!0,"3 files (total size 3 MB)":!0,"3 publications per hour":!0,"News feed (up to 300 entries)":!0,"Blog (within page limits)":!1,"Paid custom add-ons":!1,"Support line":!1},{"20 pages":!0,"20 files (total size 20 MB)":!0,"20 publications per hour":!0,"News feed (up to 2000 entries)":!0,"Blog (within page limits)":!0,"Paid custom add-ons":!0,"Email assistance (weekdays)":!0},{"Unlimited pages":!0,"1000 files (total size 1 GB)":!0,"Unlimited publications":!0,"News feed (unlimited entries)":!0,"Blog (unlimited pages)":!0,"Paid custom add-ons":!0,"Priority support":!0,"Cookie-less analytics":!0,"Multi-language content":!0,"Scheduled publications":!0,"Custom feature requests":!0}],Ov=[{id:"stan",name:"Standard",price:[499,4999]},{id:"page",name:"Standard + Pages",price:[999,9999],checkbox:"1000 pages"},{id:"file",name:"Standard + Files",price:[1299,12999],checkbox:"1000 files (total size 1 GB)"},{id:"both",name:"Standard Max",price:[1799,17999]}],A1=[{id:"free",name:"Basic",price:[0,0],badge:["Start Testing"],features:k1[0]},{id:"stan",name:"Standard",price:[499,4999],main:!0,badge:["Most Popular"],features:k1[1],addons:Ov},{id:"prem",name:"Premium",price:[2499,24999],badge:["All Inclusive"],features:k1[2]}],N1=[["Monthly","per month"],["Annual","per year"]],jY=({text:t,idx:e,checked:n,onChange:r})=>{const i=s=>r(e,s.target.checked);return b.jsxs("label",{className:"label text-xs",children:[b.jsx("input",{type:"checkbox",className:"checkbox checkbox-sm",checked:n,onChange:i}),t]})},LY=100,Ck=t=>(t/LY).toLocaleString(void 0,{style:"currency",currency:"EUR",notation:t===0?"compact":"standard"}),M1=()=>{const t=Oe(M=>M.plan),{planKey:e,planAddOn:n,planDetails:r,planInterval:i,showInvoice:s,showEndPlan:l}=k.useMemo(()=>{const M=t.id||"freeM",V=M.slice(0,4),$=[...A1,...Ov].find(B=>B.id===V)??A1[0];return{planAddOn:Math.max(Ov.findIndex(B=>B.id===V),0),planKey:M,planDetails:$,planInterval:M.slice(4)==="M"?0:1,showInvoice:t.status!==0,showEndPlan:V!=="free"}},[t.id,t.status]),[c,d]=k.useState(n);k.useEffect(()=>d(Math.max(0,Math.min(3,c))),[c]);const[f,p]=k.useState(i),[m,v]=k.useState(""),[w,x]=k.useTransition(),[E,C]=k.useTransition(),_=()=>p(M=>M===0?1:0),I=Dp("/app/plan/blip/"),L=Dp("/app/plan/paid/:id"),U=k.useRef(!0);k.useEffect(()=>{if(typeof L?.params.id=="string"&&!E&&U.current){U.current=!1;const M=L.params.id;console.log("sessionId",M),C(async()=>{await Promise.all([IY(M),new Promise(V=>setTimeout(()=>V(0),Jt.UI_FLASH))]),window.location.replace("/app/plan/")})}},[L,E]);const P=M=>M===0?1:2,j=M=>(c&P(M))!==0,R=(M,V)=>{const $=P(M);d(B=>V?B+$:B-$)},O=()=>void RY(),D=M=>{if(l)return O();v(M),x(async()=>{await DY(M,()=>v(""))})};return b.jsxs(b.Fragment,{children:[I&&b.jsx(r8,{text:"Transaction aborted"}),E&&b.jsx(n8,{text:"Upadating your plan",info:"Payment confirmation might take a few seconds"}),b.jsxs("div",{className:"alert mb-6 border-base-300 bg-base-100 shadow-none",children:[t.status===lE.unpaid?b.jsxs(b.Fragment,{children:[b.jsx(bN,{className:"text-error"}),b.jsxs("span",{className:"text-error",children:[b.jsx("strong",{children:"Payment failed"}),". Paid features are limited until billing is updated."]})]}):b.jsxs(b.Fragment,{children:[b.jsx(pN,{}),b.jsxs("span",{children:["You're on ",b.jsx("strong",{children:r.name})," plan with cost"," ",b.jsxs("strong",{children:[Ck(r.price[i])," ",N1[i][1]]}),"."]})]}),l?t.status===lE.unpaid?b.jsxs("button",{className:"btn btn-sm btn-error",onClick:O,children:[b.jsx(b7,{})," Retry Payment"]}):b.jsxs("button",{className:"btn btn-sm",onClick:O,children:[b.jsx(y7,{})," End Subscription"]}):null,b.jsxs("button",{className:`btn btn-sm ${s?"":"btn-disabled"}`,onClick:O,children:[b.jsx(p7,{})," Manage Billing"]})]}),b.jsxs("div",{className:"mb-6 flex justify-center",children:[b.jsx("div",{className:"join",children:N1.map(([M],V)=>b.jsx("input",{className:"join-item btn",type:"radio",name:"options",checked:f===V,onChange:_,"aria-label":M},M))}),b.jsx("span",{className:"flex w-0 items-center",children:b.jsx("span",{className:"absolute ml-4 text-nowrap text-xs opacity-40",children:"Save ~16% by paying annually"})})]}),b.jsx("div",{className:"flex flex-row justify-center gap-6",children:A1.map(M=>{const V=M.addons&&c>=0?M.addons[c]:M,$=Ck(V.price[f]),B=`${V.id}${f===0?"M":"Y"}`,ye=e===B||B==="freeY"&&e==="freeM";return b.jsx("div",{className:`card w-72 flex-col border bg-base-100 border-${ye?"primary":"base-300"}`,children:b.jsxs("div",{className:"card-body",children:[b.jsx("span",{className:`badge badge-xs ${M.main?"badge-warning":"badge-outline opacity-30"}`,children:M.badge}),b.jsx("span",{className:"text-xl",children:V.name}),b.jsxs("div",{className:"flex flex-row",children:[b.jsx("h2",{className:"font-bold text-3xl",children:$}),b.jsx("span",{className:"ml-2 text-xs opacity-40",children:N1[f][1]})]}),b.jsx("ul",{className:"my-4 flex flex-col gap-2 text-xs",children:b.jsx(Sp,{list:M.features})}),M.addons?b.jsxs("div",{className:"mb-4",children:[b.jsx("h3",{className:"mb-2 text-xs",children:"Boost your visibility with extra features:"}),M.addons.map((me,G)=>me.checkbox?b.jsx(jY,{idx:G-1,text:me.checkbox,checked:j(G-1),onChange:R},me.checkbox):null)]}):null,b.jsx("button",{className:"btn btn-block btn-neutral mt-auto",disabled:ye||w,onClick:()=>D(B),children:w&&m===B?b.jsx(Km,{className:"m-1 size-8 animate-spin"}):ye?"Current plan":l?`Switch to ${V.name}`:`Subscribe for ${$}`})]})},M.id)})}),b.jsx("div",{className:"mt-6 flex justify-center",children:b.jsxs("span",{className:"text-xs opacity-40",children:["Payments and invoices are handled on"," ",b.jsx("a",{href:"https://stripe.com/",target:"_blank",rel:"noopener",className:"underline",children:"Stripe"}),"s secure site when you checkout. OFFgap does not see or store your payment details."]})})]})};function PY(t,e,n){const r=Oe(p=>p.config.js),i=Oe(p=>p.config.css),s=Oe(p=>p.config.fonts),l=Oe(p=>p.domain),[c,d]=k.useState(null),f=k.useRef(!1);return k.useEffect(()=>{const p=t.current;if(f.current||!p||!p.contentDocument)return;const m=p.contentDocument.createElement("base");if(m.href=`https://${l}/`,p.contentDocument.head.appendChild(m),i.length>0){const v=p.contentDocument.createElement("style");v.textContent=e.length?i:[...uA,i].join(`
`),p.contentDocument.head.appendChild(v)}if(Object.keys(s).length>0){const v=p.contentDocument.createElement("link");v.href=p_(s),v.rel="stylesheet",p.contentDocument.head.appendChild(v)}if(r.length>0){const v=p.contentDocument.createElement("script");v.textContent=r,p.contentDocument.head.appendChild(v)}e.length?(d(p.contentDocument.body),p.contentDocument?.body.addEventListener("click",v=>{const w=v.target.closest("a");if(w!==null){const x=w.getAttribute("href");if(x?.startsWith(m.href)||x?.startsWith("/")){v.preventDefault(),v.stopPropagation();const E=x.startsWith("/")?x:x.split(l)[1]||"/";n(E)}else if(!x?.startsWith("mailto:")){const E=w.getAttribute("target"),C=[`This is an external link (${x}), youre leaving the preview of your website.`];E==="_blank"&&C.push("Note: This link will be opened in a new window, but in the preview mode it opens as a popup. Popup windows might be blocked by your browser. If you wont see a new window, please check your browsers address bar or this page settngs to enable popups on this page. Visitors of your website will see the page in a new window or tab without any iterruptions."),alert(C.join(`

`))}}}),f.current=!0):(d(p.contentDocument.body),p.contentDocument.body.focus(),p.contentWindow?.focus(),f.current=!0)},[i,r,s,l,t,e,n]),[c]}const zY=(t,e)=>e.path.split("/").length<x5.SHOW_LEVEL?`${t}${`<a href="${e.path}">${e.title}</a>`}`:t,UY=(t,e)=>t.replaceAll("<nav></nav>",`<nav>${e}</nav>`),BY=t=>t.toISOString().slice(qr.DATE[0],qr.TIME[1]),HY=(t,e,n)=>t.toLocaleString(e,n),VY=(t,e)=>t.map((n,r)=>{const i=r===0?"header":"footer";return n?`<${i}>${UY(n,e)}</${i}>`:""}),$Y=(t,e,n=qr.LOCALE,r=qr.FORMAT)=>`<div class="feed"><time datetime="${BY(t)}">${HY(t,n,r)}</time><hgroup>${e}</hgroup></div>`,FY=t=>t?.list?.reduce((e,n)=>{const r=new Date(n.time*qr.TRIM);return r instanceof Date&&Number.isFinite(r.getTime())&&n.text?`${e}${$Y(r,n.text,t.locale,t.format)}`:e},"")??"";function qY(){const t=k.useRef(null),[e,n]=k.useState("/"),[r]=PY(t,e,n),i=Oe(x=>x.config.feed),s=Oe(x=>x.config.pages),l=Oe(x=>x.config.header),c=Oe(x=>x.config.footer),d=k.useMemo(()=>s.reduce(zY,""),[s]),f=k.useMemo(()=>`_${kR(e)}`,[e]),p=k.useMemo(()=>FY(i),[i]),[m,v]=k.useMemo(()=>VY([l?.content,c?.content],d),[l,c,d]),w=k.useMemo(()=>{const x=s.find(C=>C.path===e)?.content||"",E=x?`<main>${x.replaceAll("<area>",p)}</main>`:"";return`${m}${E}${v}`},[s,m,v,p,e]);return b.jsxs("div",{className:"preview",children:[b.jsx("iframe",{ref:t,className:"h-full w-full"}),r&&yl.createPortal(b.jsx("body",{className:f,dangerouslySetInnerHTML:{__html:w}}),r)]})}const Ja=()=>b.jsx("div",{className:"rounded-box border border-base-300 bg-base-100 p-6",children:"Coming soon"}),kk=[{path:"select",Component:p8,index:!0},{path:"config",Component:l8},{path:"check",Component:o8},{path:"done",Component:c8}],Ak=[{root:"fonts",name:"Google Fonts",Component:EY,icon:wN,index:!0},{path:"custom",name:"Custom Fonts",Component:Ja,icon:A9}],Nk=[{root:"styles",name:"Styles",Component:Ja,icon:r7,index:!0},{path:"colors",name:"Colors",Component:Ja,icon:W7},{path:"css",name:"CSS Code",Component:DN,icon:c9}],WY=[{path:"app",lazy:{loader:async()=>(await Uh(async()=>{const{init:t}=await import("./initApplication-CUqRcdaL.js");return{init:t}},[])).init,Component:async()=>(await Uh(async()=>{const{App:t}=await import("./App-CYDjIP5Q.js");return{App:t}},[])).App},shouldRevalidate:t=>{const{user:e}=Oe.getState();return e!==!0||t.defaultShouldRevalidate},HydrateFallback:cA,children:[{index:!0,Component:_Y},{path:"domain",lazy:{loader:async()=>(await Uh(async()=>{const{domainStep:t}=await import("./domainSteps-zBbhIhUL.js");return{domainStep:t}},[])).domainStep(kk),Component:async()=>(await Uh(async()=>{const{Domain:t}=await import("./Domain-B0H2Zn_P.js");return{Domain:t}},__vite__mapDeps([0,1]))).Domain},shouldRevalidate:t=>t.defaultShouldRevalidate,action:async()=>(await new Promise(t=>t),!0),children:kk},{path:"templates",Component:Ja},{path:"layout",Component:TY},{path:"menu",Component:Ja},{path:"edit",Component:hY},{path:"feed",Component:yY},{path:"blog",Component:Ja},{path:"fonts",Component:xT,children:Ak,loader:()=>Ak},{path:"styles",Component:xT,children:Nk,loader:()=>Nk},{path:"script",Component:DN},{path:"files",Component:SY},{path:"seo",Component:Ja},{path:"preview",Component:qY},{path:"plan",Component:M1,children:[{path:"paid/:id",Component:M1,loader:({params:t})=>{console.log(t,t[":id"],t["*"])}},{path:"blip",Component:M1}]}]},{path:"*",loader:()=>BD("/app/")}],Mk=document.body.firstElementChild;Mk&&fD.createRoot(Mk).render(b.jsx(k.StrictMode,{children:b.jsx(k.Suspense,{fallback:b.jsx(SN,{}),children:b.jsx(UP,{children:b.jsx(z3,{router:d5(WY)})})})}));export{vl as A,E9 as F,Hv as H,mp as N,H3 as O,er as P,_t as R,et as S,Jt as T,k as _,Wm as a,wN as b,Se as c,QY as d,r7 as e,p7 as f,Gm as g,GY as h,SN as i,b as j,KY as k,JY as l,_3 as m,Qk as n,eA as o,BD as r,XY as s,Oe as u};
