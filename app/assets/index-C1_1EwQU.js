const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Domain-CjNkK8-j.js","assets/domainSteps-wtfT_rEc.js"])))=>i.map(i=>d[i]);
function D4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function b1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var c0={exports:{}},Gu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function I4(){if(vE)return Gu;vE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return Gu.Fragment=e,Gu.jsx=n,Gu.jsxs=n,Gu}var bE;function L4(){return bE||(bE=1,c0.exports=I4()),c0.exports}var b=L4(),u0={exports:{}},We={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function j4(){if(wE)return We;wE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function v(F){return F===null||typeof F!="object"?null:(F=m&&F[m]||F["@@iterator"],typeof F=="function"?F:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,E={};function C(F,ie,he){this.props=F,this.context=ie,this.refs=E,this.updater=he||w}C.prototype.isReactComponent={},C.prototype.setState=function(F,ie){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ie,"setState")},C.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function O(){}O.prototype=C.prototype;function I(F,ie,he){this.props=F,this.context=ie,this.refs=E,this.updater=he||w}var j=I.prototype=new O;j.constructor=I,x(j,C.prototype),j.isPureReactComponent=!0;var U=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function _(F,ie,he,de,Se,$e){return he=$e.ref,{$$typeof:t,type:F,key:ie,ref:he!==void 0?he:null,props:$e}}function M(F,ie){return _(F.type,ie,void 0,void 0,void 0,F.props)}function D(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function R(F){var ie={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(he){return ie[he]})}var V=/\/+/g;function q(F,ie){return typeof F=="object"&&F!==null&&F.key!=null?R(""+F.key):ie.toString(36)}function H(){}function ye(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(H,H):(F.status="pending",F.then(function(ie){F.status==="pending"&&(F.status="fulfilled",F.value=ie)},function(ie){F.status==="pending"&&(F.status="rejected",F.reason=ie)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function ge(F,ie,he,de,Se){var $e=typeof F;($e==="undefined"||$e==="boolean")&&(F=null);var Ie=!1;if(F===null)Ie=!0;else switch($e){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(F.$$typeof){case t:case e:Ie=!0;break;case p:return Ie=F._init,ge(Ie(F._payload),ie,he,de,Se)}}if(Ie)return Se=Se(F),Ie=de===""?"."+q(F,0):de,U(Se)?(he="",Ie!=null&&(he=Ie.replace(V,"$&/")+"/"),ge(Se,ie,he,"",function(Fn){return Fn})):Se!=null&&(D(Se)&&(Se=M(Se,he+(Se.key==null||F&&F.key===Se.key?"":(""+Se.key).replace(V,"$&/")+"/")+Ie)),ie.push(Se)),1;Ie=0;var Nt=de===""?".":de+":";if(U(F))for(var lt=0;lt<F.length;lt++)de=F[lt],$e=Nt+q(de,lt),Ie+=ge(de,ie,he,$e,Se);else if(lt=v(F),typeof lt=="function")for(F=lt.call(F),lt=0;!(de=F.next()).done;)de=de.value,$e=Nt+q(de,lt++),Ie+=ge(de,ie,he,$e,Se);else if($e==="object"){if(typeof F.then=="function")return ge(ye(F),ie,he,de,Se);throw ie=String(F),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function G(F,ie,he){if(F==null)return F;var de=[],Se=0;return ge(F,de,"","",function($e){return ie.call(he,$e,Se++)}),de}function oe(F){if(F._status===-1){var ie=F._result;ie=ie(),ie.then(function(he){(F._status===0||F._status===-1)&&(F._status=1,F._result=he)},function(he){(F._status===0||F._status===-1)&&(F._status=2,F._result=he)}),F._status===-1&&(F._status=0,F._result=ie)}if(F._status===1)return F._result.default;throw F._result}var ce=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function Te(){}return We.Children={map:G,forEach:function(F,ie,he){G(F,function(){ie.apply(this,arguments)},he)},count:function(F){var ie=0;return G(F,function(){ie++}),ie},toArray:function(F){return G(F,function(ie){return ie})||[]},only:function(F){if(!D(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},We.Component=C,We.Fragment=n,We.Profiler=i,We.PureComponent=I,We.StrictMode=r,We.Suspense=d,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,We.__COMPILER_RUNTIME={__proto__:null,c:function(F){return P.H.useMemoCache(F)}},We.cache=function(F){return function(){return F.apply(null,arguments)}},We.cloneElement=function(F,ie,he){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var de=x({},F.props),Se=F.key,$e=void 0;if(ie!=null)for(Ie in ie.ref!==void 0&&($e=void 0),ie.key!==void 0&&(Se=""+ie.key),ie)!L.call(ie,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ie.ref===void 0||(de[Ie]=ie[Ie]);var Ie=arguments.length-2;if(Ie===1)de.children=he;else if(1<Ie){for(var Nt=Array(Ie),lt=0;lt<Ie;lt++)Nt[lt]=arguments[lt+2];de.children=Nt}return _(F.type,Se,void 0,void 0,$e,de)},We.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:s,_context:F},F},We.createElement=function(F,ie,he){var de,Se={},$e=null;if(ie!=null)for(de in ie.key!==void 0&&($e=""+ie.key),ie)L.call(ie,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Se[de]=ie[de]);var Ie=arguments.length-2;if(Ie===1)Se.children=he;else if(1<Ie){for(var Nt=Array(Ie),lt=0;lt<Ie;lt++)Nt[lt]=arguments[lt+2];Se.children=Nt}if(F&&F.defaultProps)for(de in Ie=F.defaultProps,Ie)Se[de]===void 0&&(Se[de]=Ie[de]);return _(F,$e,void 0,void 0,null,Se)},We.createRef=function(){return{current:null}},We.forwardRef=function(F){return{$$typeof:c,render:F}},We.isValidElement=D,We.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:oe}},We.memo=function(F,ie){return{$$typeof:f,type:F,compare:ie===void 0?null:ie}},We.startTransition=function(F){var ie=P.T,he={};P.T=he;try{var de=F(),Se=P.S;Se!==null&&Se(he,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(Te,ce)}catch($e){ce($e)}finally{P.T=ie}},We.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},We.use=function(F){return P.H.use(F)},We.useActionState=function(F,ie,he){return P.H.useActionState(F,ie,he)},We.useCallback=function(F,ie){return P.H.useCallback(F,ie)},We.useContext=function(F){return P.H.useContext(F)},We.useDebugValue=function(){},We.useDeferredValue=function(F,ie){return P.H.useDeferredValue(F,ie)},We.useEffect=function(F,ie,he){var de=P.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return de.useEffect(F,ie)},We.useId=function(){return P.H.useId()},We.useImperativeHandle=function(F,ie,he){return P.H.useImperativeHandle(F,ie,he)},We.useInsertionEffect=function(F,ie){return P.H.useInsertionEffect(F,ie)},We.useLayoutEffect=function(F,ie){return P.H.useLayoutEffect(F,ie)},We.useMemo=function(F,ie){return P.H.useMemo(F,ie)},We.useOptimistic=function(F,ie){return P.H.useOptimistic(F,ie)},We.useReducer=function(F,ie,he){return P.H.useReducer(F,ie,he)},We.useRef=function(F){return P.H.useRef(F)},We.useState=function(F){return P.H.useState(F)},We.useSyncExternalStore=function(F,ie,he){return P.H.useSyncExternalStore(F,ie,he)},We.useTransition=function(){return P.H.useTransition()},We.version="19.1.1",We}var SE;function Wd(){return SE||(SE=1,u0.exports=j4()),u0.exports}var A=Wd();const _t=b1(A),gA=D4({__proto__:null,default:_t},[A]);var d0={exports:{}},Ku={},f0={exports:{}},h0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function P4(){return xE||(xE=1,(function(t){function e(G,oe){var ce=G.length;G.push(oe);e:for(;0<ce;){var Te=ce-1>>>1,F=G[Te];if(0<i(F,oe))G[Te]=oe,G[ce]=F,ce=Te;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var oe=G[0],ce=G.pop();if(ce!==oe){G[0]=ce;e:for(var Te=0,F=G.length,ie=F>>>1;Te<ie;){var he=2*(Te+1)-1,de=G[he],Se=he+1,$e=G[Se];if(0>i(de,ce))Se<F&&0>i($e,de)?(G[Te]=$e,G[Se]=ce,Te=Se):(G[Te]=de,G[he]=ce,Te=he);else if(Se<F&&0>i($e,ce))G[Te]=$e,G[Se]=ce,Te=Se;else break e}}return oe}function i(G,oe){var ce=G.sortIndex-oe.sortIndex;return ce!==0?ce:G.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],f=[],p=1,m=null,v=3,w=!1,x=!1,E=!1,C=!1,O=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function U(G){for(var oe=n(f);oe!==null;){if(oe.callback===null)r(f);else if(oe.startTime<=G)r(f),oe.sortIndex=oe.expirationTime,e(d,oe);else break;oe=n(f)}}function P(G){if(E=!1,U(G),!x)if(n(d)!==null)x=!0,L||(L=!0,q());else{var oe=n(f);oe!==null&&ge(P,oe.startTime-G)}}var L=!1,_=-1,M=5,D=-1;function R(){return C?!0:!(t.unstable_now()-D<M)}function V(){if(C=!1,L){var G=t.unstable_now();D=G;var oe=!0;try{e:{x=!1,E&&(E=!1,I(_),_=-1),w=!0;var ce=v;try{t:{for(U(G),m=n(d);m!==null&&!(m.expirationTime>G&&R());){var Te=m.callback;if(typeof Te=="function"){m.callback=null,v=m.priorityLevel;var F=Te(m.expirationTime<=G);if(G=t.unstable_now(),typeof F=="function"){m.callback=F,U(G),oe=!0;break t}m===n(d)&&r(d),U(G)}else r(d);m=n(d)}if(m!==null)oe=!0;else{var ie=n(f);ie!==null&&ge(P,ie.startTime-G),oe=!1}}break e}finally{m=null,v=ce,w=!1}oe=void 0}}finally{oe?q():L=!1}}}var q;if(typeof j=="function")q=function(){j(V)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ye=H.port2;H.port1.onmessage=V,q=function(){ye.postMessage(null)}}else q=function(){O(V,0)};function ge(G,oe){_=O(function(){G(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(G){switch(v){case 1:case 2:case 3:var oe=3;break;default:oe=v}var ce=v;v=oe;try{return G()}finally{v=ce}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(G,oe){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ce=v;v=G;try{return oe()}finally{v=ce}},t.unstable_scheduleCallback=function(G,oe,ce){var Te=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Te+ce:Te):ce=Te,G){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ce+F,G={id:p++,callback:oe,priorityLevel:G,startTime:ce,expirationTime:F,sortIndex:-1},ce>Te?(G.sortIndex=ce,e(f,G),n(d)===null&&G===n(f)&&(E?(I(_),_=-1):E=!0,ge(P,ce-Te))):(G.sortIndex=F,e(d,G),x||w||(x=!0,L||(L=!0,q()))),G},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(G){var oe=v;return function(){var ce=v;v=oe;try{return G.apply(this,arguments)}finally{v=ce}}}})(h0)),h0}var EE;function z4(){return EE||(EE=1,f0.exports=P4()),f0.exports}var p0={exports:{}},An={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE;function U4(){if(TE)return An;TE=1;var t=Wd();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:d,containerInfo:f,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,An.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(d,f,null,p)},An.flushSync=function(d){var f=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=p,r.d.f()}},An.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},An.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},An.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,m=c(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:w}):p==="script"&&r.d.X(d,{crossOrigin:m,integrity:v,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},An.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},An.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=c(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},An.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},An.requestFormReset=function(d){r.d.r(d)},An.unstable_batchedUpdates=function(d,f){return d(f)},An.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},An.useFormStatus=function(){return l.H.useHostTransitionStatus()},An.version="19.1.1",An}var CE;function yA(){if(CE)return p0.exports;CE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),p0.exports=U4(),p0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function B4(){if(AE)return Ku;AE=1;var t=z4(),e=Wd(),n=yA();function r(o){var a="https://react.dev/errors/"+o;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var a=o,u=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(u=a.return),o=a.return;while(o)}return a.tag===3?u:null}function l(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function c(o){if(s(o)!==o)throw Error(r(188))}function d(o){var a=o.alternate;if(!a){if(a=s(o),a===null)throw Error(r(188));return a!==o?null:o}for(var u=o,h=a;;){var y=u.return;if(y===null)break;var S=y.alternate;if(S===null){if(h=y.return,h!==null){u=h;continue}break}if(y.child===S.child){for(S=y.child;S;){if(S===u)return c(y),o;if(S===h)return c(y),a;S=S.sibling}throw Error(r(188))}if(u.return!==h.return)u=y,h=S;else{for(var N=!1,z=y.child;z;){if(z===u){N=!0,u=y,h=S;break}if(z===h){N=!0,h=y,u=S;break}z=z.sibling}if(!N){for(z=S.child;z;){if(z===u){N=!0,u=S,h=y;break}if(z===h){N=!0,h=S,u=y;break}z=z.sibling}if(!N)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?o:a}function f(o){var a=o.tag;if(a===5||a===26||a===27||a===6)return o;for(o=o.child;o!==null;){if(a=f(o),a!==null)return a;o=o.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),j=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function q(o){return o===null||typeof o!="object"?null:(o=V&&o[V]||o["@@iterator"],typeof o=="function"?o:null)}var H=Symbol.for("react.client.reference");function ye(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===H?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case x:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case P:return"Suspense";case L:return"SuspenseList";case D:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case w:return"Portal";case j:return(o.displayName||"Context")+".Provider";case I:return(o._context.displayName||"Context")+".Consumer";case U:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case _:return a=o.displayName||null,a!==null?a:ye(o.type)||"Memo";case M:a=o._payload,o=o._init;try{return ye(o(a))}catch{}}return null}var ge=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Te=[],F=-1;function ie(o){return{current:o}}function he(o){0>F||(o.current=Te[F],Te[F]=null,F--)}function de(o,a){F++,Te[F]=o.current,o.current=a}var Se=ie(null),$e=ie(null),Ie=ie(null),Nt=ie(null);function lt(o,a){switch(de(Ie,a),de($e,o),de(Se,null),a.nodeType){case 9:case 11:o=(o=a.documentElement)&&(o=o.namespaceURI)?Wx(o):0;break;default:if(o=a.tagName,a=a.namespaceURI)a=Wx(a),o=Gx(a,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}he(Se),de(Se,o)}function Fn(){he(Se),he($e),he(Ie)}function Ct(o){o.memoizedState!==null&&de(Nt,o);var a=Se.current,u=Gx(a,o.type);a!==u&&(de($e,o),de(Se,u))}function rn(o){$e.current===o&&(he(Se),he($e)),Nt.current===o&&(he(Nt),Vu._currentValue=ce)}var xr=Object.prototype.hasOwnProperty,qn=t.unstable_scheduleCallback,_n=t.unstable_cancelCallback,da=t.unstable_shouldYield,bl=t.unstable_requestPaint,Rn=t.unstable_now,Xc=t.unstable_getCurrentPriorityLevel,fa=t.unstable_ImmediatePriority,Vs=t.unstable_UserBlockingPriority,Gi=t.unstable_NormalPriority,Gr=t.unstable_LowPriority,Er=t.unstable_IdlePriority,$s=t.log,Fs=t.unstable_setDisableYieldValue,ct=null,Ke=null;function Tn(o){if(typeof $s=="function"&&Fs(o),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(ct,o)}catch{}}var Gt=Math.clz32?Math.clz32:mi,wl=Math.log,Tr=Math.LN2;function mi(o){return o>>>=0,o===0?32:31-(wl(o)/Tr|0)|0}var gi=256,yi=4194304;function ir(o){var a=o&42;if(a!==0)return a;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Ki(o,a,u){var h=o.pendingLanes;if(h===0)return 0;var y=0,S=o.suspendedLanes,N=o.pingedLanes;o=o.warmLanes;var z=h&134217727;return z!==0?(h=z&~S,h!==0?y=ir(h):(N&=z,N!==0?y=ir(N):u||(u=z&~o,u!==0&&(y=ir(u))))):(z=h&~S,z!==0?y=ir(z):N!==0?y=ir(N):u||(u=h&~o,u!==0&&(y=ir(u)))),y===0?0:a!==0&&a!==y&&(a&S)===0&&(S=y&-y,u=a&-a,S>=u||S===32&&(u&4194048)!==0)?a:y}function Cr(o,a){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&a)===0}function qs(o,a){switch(o){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yi(){var o=gi;return gi<<=1,(gi&4194048)===0&&(gi=256),o}function Sl(){var o=yi;return yi<<=1,(yi&62914560)===0&&(yi=4194304),o}function Ar(o){for(var a=[],u=0;31>u;u++)a.push(o);return a}function Kr(o,a){o.pendingLanes|=a,a!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Ws(o,a,u,h,y,S){var N=o.pendingLanes;o.pendingLanes=u,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=u,o.entangledLanes&=u,o.errorRecoveryDisabledLanes&=u,o.shellSuspendCounter=0;var z=o.entanglements,$=o.expirationTimes,Z=o.hiddenUpdates;for(u=N&~u;0<u;){var se=31-Gt(u),le=1<<se;z[se]=0,$[se]=-1;var te=Z[se];if(te!==null)for(Z[se]=null,se=0;se<te.length;se++){var ne=te[se];ne!==null&&(ne.lane&=-536870913)}u&=~le}h!==0&&Wn(o,h,0),S!==0&&y===0&&o.tag!==0&&(o.suspendedLanes|=S&~(N&~a))}function Wn(o,a,u){o.pendingLanes|=a,o.suspendedLanes&=~a;var h=31-Gt(a);o.entangledLanes|=a,o.entanglements[h]=o.entanglements[h]|1073741824|u&4194090}function vi(o,a){var u=o.entangledLanes|=a;for(o=o.entanglements;u;){var h=31-Gt(u),y=1<<h;y&a|o[h]&a&&(o[h]|=a),u&=~y}}function Xi(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Gs(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function W(){var o=oe.p;return o!==0?o:(o=window.event,o===void 0?32:fE(o.type))}function X(o,a){var u=oe.p;try{return oe.p=o,a()}finally{oe.p=u}}var ee=Math.random().toString(36).slice(2),ue="__reactFiber$"+ee,pe="__reactProps$"+ee,we="__reactContainer$"+ee,Ne="__reactEvents$"+ee,Ce="__reactListeners$"+ee,Ae="__reactHandles$"+ee,Le="__reactResources$"+ee,ke="__reactMarker$"+ee;function xe(o){delete o[ue],delete o[pe],delete o[Ne],delete o[Ce],delete o[Ae]}function qe(o){var a=o[ue];if(a)return a;for(var u=o.parentNode;u;){if(a=u[we]||u[ue]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(o=Jx(o);o!==null;){if(u=o[ue])return u;o=Jx(o)}return a}o=u,u=o.parentNode}return null}function tt(o){if(o=o[ue]||o[we]){var a=o.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return o}return null}function mt(o){var a=o.tag;if(a===5||a===26||a===27||a===6)return o.stateNode;throw Error(r(33))}function ut(o){var a=o[Le];return a||(a=o[Le]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Fe(o){o[ke]=!0}var dt=new Set,Gn={};function mn(o,a){sn(o,a),sn(o+"Capture",a)}function sn(o,a){for(Gn[o]=a,o=0;o<a.length;o++)dt.add(a[o])}var Dn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ks={},sr={};function kr(o){return xr.call(sr,o)?!0:xr.call(Ks,o)?!1:Dn.test(o)?sr[o]=!0:(Ks[o]=!0,!1)}function or(o,a,u){if(kr(a))if(u===null)o.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":o.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){o.removeAttribute(a);return}}o.setAttribute(a,""+u)}}function In(o,a,u){if(u===null)o.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(a);return}o.setAttribute(a,""+u)}}function Pe(o,a,u,h){if(h===null)o.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttributeNS(a,u,""+h)}}var Dt,Yr;function gn(o){if(Dt===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);Dt=a&&a[1]||"",Yr=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dt+o+Yr}var Mt=!1;function Xr(o,a){if(!o||Mt)return"";Mt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(ne){var te=ne}Reflect.construct(o,[],le)}else{try{le.call()}catch(ne){te=ne}o.call(le.prototype)}}else{try{throw Error()}catch(ne){te=ne}(le=o())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=h.DetermineComponentFrameRoot(),N=S[0],z=S[1];if(N&&z){var $=N.split(`
`),Z=z.split(`
`);for(y=h=0;h<$.length&&!$[h].includes("DetermineComponentFrameRoot");)h++;for(;y<Z.length&&!Z[y].includes("DetermineComponentFrameRoot");)y++;if(h===$.length||y===Z.length)for(h=$.length-1,y=Z.length-1;1<=h&&0<=y&&$[h]!==Z[y];)y--;for(;1<=h&&0<=y;h--,y--)if($[h]!==Z[y]){if(h!==1||y!==1)do if(h--,y--,0>y||$[h]!==Z[y]){var se=`
`+$[h].replace(" at new "," at ");return o.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",o.displayName)),se}while(1<=h&&0<=y);break}}}finally{Mt=!1,Error.prepareStackTrace=u}return(u=o?o.displayName||o.name:"")?gn(u):""}function Ys(o){switch(o.tag){case 26:case 27:case 5:return gn(o.type);case 16:return gn("Lazy");case 13:return gn("Suspense");case 19:return gn("SuspenseList");case 0:case 15:return Xr(o.type,!1);case 11:return Xr(o.type.render,!1);case 1:return Xr(o.type,!0);case 31:return gn("Activity");default:return""}}function Xs(o){try{var a="";do a+=Ys(o),o=o.return;while(o);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Ln(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Jc(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function hg(o){var a=Jc(o)?"checked":"value",u=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),h=""+o[a];if(!o.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,S=u.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return y.call(this)},set:function(N){h=""+N,S.call(this,N)}}),Object.defineProperty(o,a,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(N){h=""+N},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function xl(o){o._valueTracker||(o._valueTracker=hg(o))}function Qc(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var u=a.getValue(),h="";return o&&(h=Jc(o)?o.checked?"true":"false":o.value),o=h,o!==u?(a.setValue(o),!0):!1}function ha(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var pg=/[\n"\\]/g;function Kt(o){return o.replace(pg,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ar(o,a,u,h,y,S,N,z){o.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?o.type=N:o.removeAttribute("type"),a!=null?N==="number"?(a===0&&o.value===""||o.value!=a)&&(o.value=""+Ln(a)):o.value!==""+Ln(a)&&(o.value=""+Ln(a)):N!=="submit"&&N!=="reset"||o.removeAttribute("value"),a!=null?Js(o,N,Ln(a)):u!=null?Js(o,N,Ln(u)):h!=null&&o.removeAttribute("value"),y==null&&S!=null&&(o.defaultChecked=!!S),y!=null&&(o.checked=y&&typeof y!="function"&&typeof y!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?o.name=""+Ln(z):o.removeAttribute("name")}function pa(o,a,u,h,y,S,N,z){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(o.type=S),a!=null||u!=null){if(!(S!=="submit"&&S!=="reset"||a!=null))return;u=u!=null?""+Ln(u):"",a=a!=null?""+Ln(a):u,z||a===o.value||(o.value=a),o.defaultValue=a}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,o.checked=z?o.checked:!!h,o.defaultChecked=!!h,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(o.name=N)}function Js(o,a,u){a==="number"&&ha(o.ownerDocument)===o||o.defaultValue===""+u||(o.defaultValue=""+u)}function Ji(o,a,u,h){if(o=o.options,a){a={};for(var y=0;y<u.length;y++)a["$"+u[y]]=!0;for(u=0;u<o.length;u++)y=a.hasOwnProperty("$"+o[u].value),o[u].selected!==y&&(o[u].selected=y),y&&h&&(o[u].defaultSelected=!0)}else{for(u=""+Ln(u),a=null,y=0;y<o.length;y++){if(o[y].value===u){o[y].selected=!0,h&&(o[y].defaultSelected=!0);return}a!==null||o[y].disabled||(a=o[y])}a!==null&&(a.selected=!0)}}function St(o,a,u){if(a!=null&&(a=""+Ln(a),a!==o.value&&(o.value=a),u==null)){o.defaultValue!==a&&(o.defaultValue=a);return}o.defaultValue=u!=null?""+Ln(u):""}function ma(o,a,u,h){if(a==null){if(h!=null){if(u!=null)throw Error(r(92));if(ge(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),a=u}u=Ln(a),o.defaultValue=u,h=o.textContent,h===u&&h!==""&&h!==null&&(o.value=h)}function Nr(o,a){if(a){var u=o.firstChild;if(u&&u===o.lastChild&&u.nodeType===3){u.nodeValue=a;return}}o.textContent=a}var ga=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pf(o,a,u){var h=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?o.setProperty(a,""):a==="float"?o.cssFloat="":o[a]="":h?o.setProperty(a,u):typeof u!="number"||u===0||ga.has(a)?a==="float"?o.cssFloat=u:o[a]=(""+u).trim():o[a]=u+"px"}function Zc(o,a,u){if(a!=null&&typeof a!="object")throw Error(r(62));if(o=o.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?o.setProperty(h,""):h==="float"?o.cssFloat="":o[h]="");for(var y in a)h=a[y],a.hasOwnProperty(y)&&u[y]!==h&&pf(o,y,h)}else for(var S in a)a.hasOwnProperty(S)&&pf(o,S,a[S])}function eu(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function El(o){return gg.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Qi=null;function Mr(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Zi=null,es=null;function tu(o){var a=tt(o);if(a&&(o=a.stateNode)){var u=o[pe]||null;e:switch(o=a.stateNode,a.type){case"input":if(ar(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=o;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Kt(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var h=u[a];if(h!==o&&h.form===o.form){var y=h[pe]||null;if(!y)throw Error(r(90));ar(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<u.length;a++)h=u[a],h.form===o.form&&Qc(h)}break e;case"textarea":St(o,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&Ji(o,!!u.multiple,a,!1)}}}var bi=!1;function mf(o,a,u){if(bi)return o(a,u);bi=!0;try{var h=o(a);return h}finally{if(bi=!1,(Zi!==null||es!==null)&&(lh(),Zi&&(a=Zi,o=es,es=Zi=null,tu(a),o)))for(a=0;a<o.length;a++)tu(o[a])}}function ya(o,a){var u=o.stateNode;if(u===null)return null;var h=u[pe]||null;if(h===null)return null;u=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(o=o.type,h=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!h;break e;default:o=!1}if(o)return null;if(u&&typeof u!="function")throw Error(r(231,a,typeof u));return u}var Jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Or=!1;if(Jr)try{var va={};Object.defineProperty(va,"passive",{get:function(){Or=!0}}),window.addEventListener("test",va,va),window.removeEventListener("test",va,va)}catch{Or=!1}var wi=null,Qs=null,ts=null;function nu(){if(ts)return ts;var o,a=Qs,u=a.length,h,y="value"in wi?wi.value:wi.textContent,S=y.length;for(o=0;o<u&&a[o]===y[o];o++);var N=u-o;for(h=1;h<=N&&a[u-h]===y[S-h];h++);return ts=y.slice(o,1<h?1-h:void 0)}function Si(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function xi(){return!0}function ru(){return!1}function on(o){function a(u,h,y,S,N){this._reactName=u,this._targetInst=y,this.type=h,this.nativeEvent=S,this.target=N,this.currentTarget=null;for(var z in o)o.hasOwnProperty(z)&&(u=o[z],this[z]=u?u(S):S[z]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?xi:ru,this.isPropagationStopped=ru,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),a}var gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tl=on(gt),ba=p({},gt,{view:0,detail:0}),gf=on(ba),Cl,Al,Ei,wa=p({},ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ea,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ei&&(Ei&&o.type==="mousemove"?(Cl=o.screenX-Ei.screenX,Al=o.screenY-Ei.screenY):Al=Cl=0,Ei=o),Cl)},movementY:function(o){return"movementY"in o?o.movementY:Al}}),_r=on(wa),yf=p({},wa,{dataTransfer:0}),yg=on(yf),Sa=p({},ba,{relatedTarget:0}),kl=on(Sa),iu=p({},gt,{animationName:0,elapsedTime:0,pseudoElement:0}),Nl=on(iu),vf=p({},gt,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Ml=on(vf),vg=p({},gt,{data:0}),su=on(vg),xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ou(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=wf[o])?!!a[o]:!1}function Ea(){return ou}var Sf=p({},ba,{key:function(o){if(o.key){var a=xa[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=Si(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?bf[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ea,charCode:function(o){return o.type==="keypress"?Si(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Si(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Ol=on(Sf),xf=p({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),au=on(xf),ns=p({},ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ea}),Ef=on(ns),Tf=p({},gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cf=on(Tf),Af=p({},wa,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Kn=on(Af),kf=p({},gt,{newState:0,oldState:0}),Nf=on(kf),Zs=[9,13,27,32],g=Jr&&"CompositionEvent"in window,T=null;Jr&&"documentMode"in document&&(T=document.documentMode);var k=Jr&&"TextEvent"in window&&!T,B=Jr&&(!g||T&&8<T&&11>=T),J=" ",re=!1;function ve(o,a){switch(o){case"keyup":return Zs.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ht(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var It=!1;function nt(o,a){switch(o){case"compositionend":return ht(a);case"keypress":return a.which!==32?null:(re=!0,J);case"textInput":return o=a.data,o===J&&re?null:o;default:return null}}function an(o,a){if(It)return o==="compositionend"||!g&&ve(o,a)?(o=nu(),ts=Qs=wi=null,It=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return B&&a.locale!=="ko"?null:a.data;default:return null}}var ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rs(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!ln[o.type]:a==="textarea"}function Yn(o,a,u,h){Zi?es?es.push(h):es=[h]:Zi=h,a=ph(a,"onChange"),0<a.length&&(u=new Tl("onChange","change",null,u,h),o.push({event:u,listeners:a}))}var Ti=null,is=null;function lR(o){Hx(o,0)}function Mf(o){var a=mt(o);if(Qc(a))return o}function lw(o,a){if(o==="change")return a}var cw=!1;if(Jr){var bg;if(Jr){var wg="oninput"in document;if(!wg){var uw=document.createElement("div");uw.setAttribute("oninput","return;"),wg=typeof uw.oninput=="function"}bg=wg}else bg=!1;cw=bg&&(!document.documentMode||9<document.documentMode)}function dw(){Ti&&(Ti.detachEvent("onpropertychange",fw),is=Ti=null)}function fw(o){if(o.propertyName==="value"&&Mf(is)){var a=[];Yn(a,is,o,Mr(o)),mf(lR,a)}}function cR(o,a,u){o==="focusin"?(dw(),Ti=a,is=u,Ti.attachEvent("onpropertychange",fw)):o==="focusout"&&dw()}function uR(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Mf(is)}function dR(o,a){if(o==="click")return Mf(a)}function fR(o,a){if(o==="input"||o==="change")return Mf(a)}function hR(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var lr=typeof Object.is=="function"?Object.is:hR;function lu(o,a){if(lr(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var u=Object.keys(o),h=Object.keys(a);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var y=u[h];if(!xr.call(a,y)||!lr(o[y],a[y]))return!1}return!0}function hw(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function pw(o,a){var u=hw(o);o=0;for(var h;u;){if(u.nodeType===3){if(h=o+u.textContent.length,o<=a&&h>=a)return{node:u,offset:a-o};o=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=hw(u)}}function mw(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?mw(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function gw(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var a=ha(o.document);a instanceof o.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)o=a.contentWindow;else break;a=ha(o.document)}return a}function Sg(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}var pR=Jr&&"documentMode"in document&&11>=document.documentMode,_l=null,xg=null,cu=null,Eg=!1;function yw(o,a,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Eg||_l==null||_l!==ha(h)||(h=_l,"selectionStart"in h&&Sg(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),cu&&lu(cu,h)||(cu=h,h=ph(xg,"onSelect"),0<h.length&&(a=new Tl("onSelect","select",null,a,u),o.push({event:a,listeners:h}),a.target=_l)))}function Ta(o,a){var u={};return u[o.toLowerCase()]=a.toLowerCase(),u["Webkit"+o]="webkit"+a,u["Moz"+o]="moz"+a,u}var Rl={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionrun:Ta("Transition","TransitionRun"),transitionstart:Ta("Transition","TransitionStart"),transitioncancel:Ta("Transition","TransitionCancel"),transitionend:Ta("Transition","TransitionEnd")},Tg={},vw={};Jr&&(vw=document.createElement("div").style,"AnimationEvent"in window||(delete Rl.animationend.animation,delete Rl.animationiteration.animation,delete Rl.animationstart.animation),"TransitionEvent"in window||delete Rl.transitionend.transition);function Ca(o){if(Tg[o])return Tg[o];if(!Rl[o])return o;var a=Rl[o],u;for(u in a)if(a.hasOwnProperty(u)&&u in vw)return Tg[o]=a[u];return o}var bw=Ca("animationend"),ww=Ca("animationiteration"),Sw=Ca("animationstart"),mR=Ca("transitionrun"),gR=Ca("transitionstart"),yR=Ca("transitioncancel"),xw=Ca("transitionend"),Ew=new Map,Cg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cg.push("scrollEnd");function Qr(o,a){Ew.set(o,a),mn(a,[o])}var Tw=new WeakMap;function Rr(o,a){if(typeof o=="object"&&o!==null){var u=Tw.get(o);return u!==void 0?u:(a={value:o,source:a,stack:Xs(a)},Tw.set(o,a),a)}return{value:o,source:a,stack:Xs(a)}}var Dr=[],Dl=0,Ag=0;function Of(){for(var o=Dl,a=Ag=Dl=0;a<o;){var u=Dr[a];Dr[a++]=null;var h=Dr[a];Dr[a++]=null;var y=Dr[a];Dr[a++]=null;var S=Dr[a];if(Dr[a++]=null,h!==null&&y!==null){var N=h.pending;N===null?y.next=y:(y.next=N.next,N.next=y),h.pending=y}S!==0&&Cw(u,y,S)}}function _f(o,a,u,h){Dr[Dl++]=o,Dr[Dl++]=a,Dr[Dl++]=u,Dr[Dl++]=h,Ag|=h,o.lanes|=h,o=o.alternate,o!==null&&(o.lanes|=h)}function kg(o,a,u,h){return _f(o,a,u,h),Rf(o)}function Il(o,a){return _f(o,null,null,a),Rf(o)}function Cw(o,a,u){o.lanes|=u;var h=o.alternate;h!==null&&(h.lanes|=u);for(var y=!1,S=o.return;S!==null;)S.childLanes|=u,h=S.alternate,h!==null&&(h.childLanes|=u),S.tag===22&&(o=S.stateNode,o===null||o._visibility&1||(y=!0)),o=S,S=S.return;return o.tag===3?(S=o.stateNode,y&&a!==null&&(y=31-Gt(u),o=S.hiddenUpdates,h=o[y],h===null?o[y]=[a]:h.push(a),a.lane=u|536870912),S):null}function Rf(o){if(50<Iu)throw Iu=0,Dy=null,Error(r(185));for(var a=o.return;a!==null;)o=a,a=o.return;return o.tag===3?o.stateNode:null}var Ll={};function vR(o,a,u,h){this.tag=o,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(o,a,u,h){return new vR(o,a,u,h)}function Ng(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ss(o,a){var u=o.alternate;return u===null?(u=cr(o.tag,a,o.key,o.mode),u.elementType=o.elementType,u.type=o.type,u.stateNode=o.stateNode,u.alternate=o,o.alternate=u):(u.pendingProps=a,u.type=o.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=o.flags&65011712,u.childLanes=o.childLanes,u.lanes=o.lanes,u.child=o.child,u.memoizedProps=o.memoizedProps,u.memoizedState=o.memoizedState,u.updateQueue=o.updateQueue,a=o.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=o.sibling,u.index=o.index,u.ref=o.ref,u.refCleanup=o.refCleanup,u}function Aw(o,a){o.flags&=65011714;var u=o.alternate;return u===null?(o.childLanes=0,o.lanes=a,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,a=u.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),o}function Df(o,a,u,h,y,S){var N=0;if(h=o,typeof o=="function")Ng(o)&&(N=1);else if(typeof o=="string")N=w4(o,u,Se.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case D:return o=cr(31,u,a,y),o.elementType=D,o.lanes=S,o;case x:return Aa(u.children,y,S,a);case E:N=8,y|=24;break;case C:return o=cr(12,u,a,y|2),o.elementType=C,o.lanes=S,o;case P:return o=cr(13,u,a,y),o.elementType=P,o.lanes=S,o;case L:return o=cr(19,u,a,y),o.elementType=L,o.lanes=S,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case O:case j:N=10;break e;case I:N=9;break e;case U:N=11;break e;case _:N=14;break e;case M:N=16,h=null;break e}N=29,u=Error(r(130,o===null?"null":typeof o,"")),h=null}return a=cr(N,u,a,y),a.elementType=o,a.type=h,a.lanes=S,a}function Aa(o,a,u,h){return o=cr(7,o,h,a),o.lanes=u,o}function Mg(o,a,u){return o=cr(6,o,null,a),o.lanes=u,o}function Og(o,a,u){return a=cr(4,o.children!==null?o.children:[],o.key,a),a.lanes=u,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}var jl=[],Pl=0,If=null,Lf=0,Ir=[],Lr=0,ka=null,as=1,ls="";function Na(o,a){jl[Pl++]=Lf,jl[Pl++]=If,If=o,Lf=a}function kw(o,a,u){Ir[Lr++]=as,Ir[Lr++]=ls,Ir[Lr++]=ka,ka=o;var h=as;o=ls;var y=32-Gt(h)-1;h&=~(1<<y),u+=1;var S=32-Gt(a)+y;if(30<S){var N=y-y%5;S=(h&(1<<N)-1).toString(32),h>>=N,y-=N,as=1<<32-Gt(a)+y|u<<y|h,ls=S+o}else as=1<<S|u<<y|h,ls=o}function _g(o){o.return!==null&&(Na(o,1),kw(o,1,0))}function Rg(o){for(;o===If;)If=jl[--Pl],jl[Pl]=null,Lf=jl[--Pl],jl[Pl]=null;for(;o===ka;)ka=Ir[--Lr],Ir[Lr]=null,ls=Ir[--Lr],Ir[Lr]=null,as=Ir[--Lr],Ir[Lr]=null}var jn=null,Bt=null,ft=!1,Ma=null,Ci=!1,Dg=Error(r(519));function Oa(o){var a=Error(r(418,""));throw fu(Rr(a,o)),Dg}function Nw(o){var a=o.stateNode,u=o.type,h=o.memoizedProps;switch(a[ue]=o,a[pe]=h,u){case"dialog":Ze("cancel",a),Ze("close",a);break;case"iframe":case"object":case"embed":Ze("load",a);break;case"video":case"audio":for(u=0;u<ju.length;u++)Ze(ju[u],a);break;case"source":Ze("error",a);break;case"img":case"image":case"link":Ze("error",a),Ze("load",a);break;case"details":Ze("toggle",a);break;case"input":Ze("invalid",a),pa(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),xl(a);break;case"select":Ze("invalid",a);break;case"textarea":Ze("invalid",a),ma(a,h.value,h.defaultValue,h.children),xl(a)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||h.suppressHydrationWarning===!0||qx(a.textContent,u)?(h.popover!=null&&(Ze("beforetoggle",a),Ze("toggle",a)),h.onScroll!=null&&Ze("scroll",a),h.onScrollEnd!=null&&Ze("scrollend",a),h.onClick!=null&&(a.onclick=mh),a=!0):a=!1,a||Oa(o)}function Mw(o){for(jn=o.return;jn;)switch(jn.tag){case 5:case 13:Ci=!1;return;case 27:case 3:Ci=!0;return;default:jn=jn.return}}function uu(o){if(o!==jn)return!1;if(!ft)return Mw(o),ft=!0,!1;var a=o.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=o.type,u=!(u!=="form"&&u!=="button")||Yy(o.type,o.memoizedProps)),u=!u),u&&Bt&&Oa(o),Mw(o),a===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8)if(u=o.data,u==="/$"){if(a===0){Bt=ei(o.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++;o=o.nextSibling}Bt=null}}else a===27?(a=Bt,go(o.type)?(o=Zy,Zy=null,Bt=o):Bt=a):Bt=jn?ei(o.stateNode.nextSibling):null;return!0}function du(){Bt=jn=null,ft=!1}function Ow(){var o=Ma;return o!==null&&(Qn===null?Qn=o:Qn.push.apply(Qn,o),Ma=null),o}function fu(o){Ma===null?Ma=[o]:Ma.push(o)}var Ig=ie(null),_a=null,cs=null;function eo(o,a,u){de(Ig,a._currentValue),a._currentValue=u}function us(o){o._currentValue=Ig.current,he(Ig)}function Lg(o,a,u){for(;o!==null;){var h=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),o===u)break;o=o.return}}function jg(o,a,u,h){var y=o.child;for(y!==null&&(y.return=o);y!==null;){var S=y.dependencies;if(S!==null){var N=y.child;S=S.firstContext;e:for(;S!==null;){var z=S;S=y;for(var $=0;$<a.length;$++)if(z.context===a[$]){S.lanes|=u,z=S.alternate,z!==null&&(z.lanes|=u),Lg(S.return,u,o),h||(N=null);break e}S=z.next}}else if(y.tag===18){if(N=y.return,N===null)throw Error(r(341));N.lanes|=u,S=N.alternate,S!==null&&(S.lanes|=u),Lg(N,u,o),N=null}else N=y.child;if(N!==null)N.return=y;else for(N=y;N!==null;){if(N===o){N=null;break}if(y=N.sibling,y!==null){y.return=N.return,N=y;break}N=N.return}y=N}}function hu(o,a,u,h){o=null;for(var y=a,S=!1;y!==null;){if(!S){if((y.flags&524288)!==0)S=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var N=y.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var z=y.type;lr(y.pendingProps.value,N.value)||(o!==null?o.push(z):o=[z])}}else if(y===Nt.current){if(N=y.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(o!==null?o.push(Vu):o=[Vu])}y=y.return}o!==null&&jg(a,o,u,h),a.flags|=262144}function jf(o){for(o=o.firstContext;o!==null;){if(!lr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Ra(o){_a=o,cs=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Cn(o){return _w(_a,o)}function Pf(o,a){return _a===null&&Ra(o),_w(o,a)}function _w(o,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},cs===null){if(o===null)throw Error(r(308));cs=a,o.dependencies={lanes:0,firstContext:a},o.flags|=524288}else cs=cs.next=a;return u}var bR=typeof AbortController<"u"?AbortController:function(){var o=[],a=this.signal={aborted:!1,addEventListener:function(u,h){o.push(h)}};this.abort=function(){a.aborted=!0,o.forEach(function(u){return u()})}},wR=t.unstable_scheduleCallback,SR=t.unstable_NormalPriority,tn={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pg(){return{controller:new bR,data:new Map,refCount:0}}function pu(o){o.refCount--,o.refCount===0&&wR(SR,function(){o.controller.abort()})}var mu=null,zg=0,zl=0,Ul=null;function xR(o,a){if(mu===null){var u=mu=[];zg=0,zl=By(),Ul={status:"pending",value:void 0,then:function(h){u.push(h)}}}return zg++,a.then(Rw,Rw),a}function Rw(){if(--zg===0&&mu!==null){Ul!==null&&(Ul.status="fulfilled");var o=mu;mu=null,zl=0,Ul=null;for(var a=0;a<o.length;a++)(0,o[a])()}}function ER(o,a){var u=[],h={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return o.then(function(){h.status="fulfilled",h.value=a;for(var y=0;y<u.length;y++)(0,u[y])(a)},function(y){for(h.status="rejected",h.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),h}var Dw=G.S;G.S=function(o,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&xR(o,a),Dw!==null&&Dw(o,a)};var Da=ie(null);function Ug(){var o=Da.current;return o!==null?o:Ot.pooledCache}function zf(o,a){a===null?de(Da,Da.current):de(Da,a.pool)}function Iw(){var o=Ug();return o===null?null:{parent:tn._currentValue,pool:o}}var gu=Error(r(460)),Lw=Error(r(474)),Uf=Error(r(542)),Bg={then:function(){}};function jw(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Bf(){}function Pw(o,a,u){switch(u=o[u],u===void 0?o.push(a):u!==a&&(a.then(Bf,Bf),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw o=a.reason,Uw(o),o;default:if(typeof a.status=="string")a.then(Bf,Bf);else{if(o=Ot,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=a,o.status="pending",o.then(function(h){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=h}},function(h){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw o=a.reason,Uw(o),o}throw yu=a,gu}}var yu=null;function zw(){if(yu===null)throw Error(r(459));var o=yu;return yu=null,o}function Uw(o){if(o===gu||o===Uf)throw Error(r(483))}var to=!1;function Hg(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vg(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function no(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function ro(o,a,u){var h=o.updateQueue;if(h===null)return null;if(h=h.shared,(yt&2)!==0){var y=h.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),h.pending=a,a=Rf(o),Cw(o,null,u),a}return _f(o,h,a,u),Rf(o)}function vu(o,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var h=a.lanes;h&=o.pendingLanes,u|=h,a.lanes=u,vi(o,u)}}function $g(o,a){var u=o.updateQueue,h=o.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var y=null,S=null;if(u=u.firstBaseUpdate,u!==null){do{var N={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};S===null?y=S=N:S=S.next=N,u=u.next}while(u!==null);S===null?y=S=a:S=S.next=a}else y=S=a;u={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:S,shared:h.shared,callbacks:h.callbacks},o.updateQueue=u;return}o=u.lastBaseUpdate,o===null?u.firstBaseUpdate=a:o.next=a,u.lastBaseUpdate=a}var Fg=!1;function bu(){if(Fg){var o=Ul;if(o!==null)throw o}}function wu(o,a,u,h){Fg=!1;var y=o.updateQueue;to=!1;var S=y.firstBaseUpdate,N=y.lastBaseUpdate,z=y.shared.pending;if(z!==null){y.shared.pending=null;var $=z,Z=$.next;$.next=null,N===null?S=Z:N.next=Z,N=$;var se=o.alternate;se!==null&&(se=se.updateQueue,z=se.lastBaseUpdate,z!==N&&(z===null?se.firstBaseUpdate=Z:z.next=Z,se.lastBaseUpdate=$))}if(S!==null){var le=y.baseState;N=0,se=Z=$=null,z=S;do{var te=z.lane&-536870913,ne=te!==z.lane;if(ne?(rt&te)===te:(h&te)===te){te!==0&&te===zl&&(Fg=!0),se!==null&&(se=se.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var He=o,je=z;te=a;var Tt=u;switch(je.tag){case 1:if(He=je.payload,typeof He=="function"){le=He.call(Tt,le,te);break e}le=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=je.payload,te=typeof He=="function"?He.call(Tt,le,te):He,te==null)break e;le=p({},le,te);break e;case 2:to=!0}}te=z.callback,te!==null&&(o.flags|=64,ne&&(o.flags|=8192),ne=y.callbacks,ne===null?y.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:z.tag,payload:z.payload,callback:z.callback,next:null},se===null?(Z=se=ne,$=le):se=se.next=ne,N|=te;if(z=z.next,z===null){if(z=y.shared.pending,z===null)break;ne=z,z=ne.next,ne.next=null,y.lastBaseUpdate=ne,y.shared.pending=null}}while(!0);se===null&&($=le),y.baseState=$,y.firstBaseUpdate=Z,y.lastBaseUpdate=se,S===null&&(y.shared.lanes=0),fo|=N,o.lanes=N,o.memoizedState=le}}function Bw(o,a){if(typeof o!="function")throw Error(r(191,o));o.call(a)}function Hw(o,a){var u=o.callbacks;if(u!==null)for(o.callbacks=null,o=0;o<u.length;o++)Bw(u[o],a)}var Bl=ie(null),Hf=ie(0);function Vw(o,a){o=ys,de(Hf,o),de(Bl,a),ys=o|a.baseLanes}function qg(){de(Hf,ys),de(Bl,Bl.current)}function Wg(){ys=Hf.current,he(Bl),he(Hf)}var io=0,Ye=null,xt=null,Yt=null,Vf=!1,Hl=!1,Ia=!1,$f=0,Su=0,Vl=null,TR=0;function qt(){throw Error(r(321))}function Gg(o,a){if(a===null)return!1;for(var u=0;u<a.length&&u<o.length;u++)if(!lr(o[u],a[u]))return!1;return!0}function Kg(o,a,u,h,y,S){return io=S,Ye=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,G.H=o===null||o.memoizedState===null?CS:AS,Ia=!1,S=u(h,y),Ia=!1,Hl&&(S=Fw(a,u,h,y)),$w(o),S}function $w(o){G.H=Yf;var a=xt!==null&&xt.next!==null;if(io=0,Yt=xt=Ye=null,Vf=!1,Su=0,Vl=null,a)throw Error(r(300));o===null||cn||(o=o.dependencies,o!==null&&jf(o)&&(cn=!0))}function Fw(o,a,u,h){Ye=o;var y=0;do{if(Hl&&(Vl=null),Su=0,Hl=!1,25<=y)throw Error(r(301));if(y+=1,Yt=xt=null,o.updateQueue!=null){var S=o.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}G.H=_R,S=a(u,h)}while(Hl);return S}function CR(){var o=G.H,a=o.useState()[0];return a=typeof a.then=="function"?xu(a):a,o=o.useState()[0],(xt!==null?xt.memoizedState:null)!==o&&(Ye.flags|=1024),a}function Yg(){var o=$f!==0;return $f=0,o}function Xg(o,a,u){a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~u}function Jg(o){if(Vf){for(o=o.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}Vf=!1}io=0,Yt=xt=Ye=null,Hl=!1,Su=$f=0,Vl=null}function Xn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Ye.memoizedState=Yt=o:Yt=Yt.next=o,Yt}function Xt(){if(xt===null){var o=Ye.alternate;o=o!==null?o.memoizedState:null}else o=xt.next;var a=Yt===null?Ye.memoizedState:Yt.next;if(a!==null)Yt=a,xt=o;else{if(o===null)throw Ye.alternate===null?Error(r(467)):Error(r(310));xt=o,o={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Yt===null?Ye.memoizedState=Yt=o:Yt=Yt.next=o}return Yt}function Qg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xu(o){var a=Su;return Su+=1,Vl===null&&(Vl=[]),o=Pw(Vl,o,a),a=Ye,(Yt===null?a.memoizedState:Yt.next)===null&&(a=a.alternate,G.H=a===null||a.memoizedState===null?CS:AS),o}function Ff(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return xu(o);if(o.$$typeof===j)return Cn(o)}throw Error(r(438,String(o)))}function Zg(o){var a=null,u=Ye.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var h=Ye.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=Qg(),Ye.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(o),h=0;h<o;h++)u[h]=R;return a.index++,u}function ds(o,a){return typeof a=="function"?a(o):a}function qf(o){var a=Xt();return ey(a,xt,o)}function ey(o,a,u){var h=o.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var y=o.baseQueue,S=h.pending;if(S!==null){if(y!==null){var N=y.next;y.next=S.next,S.next=N}a.baseQueue=y=S,h.pending=null}if(S=o.baseState,y===null)o.memoizedState=S;else{a=y.next;var z=N=null,$=null,Z=a,se=!1;do{var le=Z.lane&-536870913;if(le!==Z.lane?(rt&le)===le:(io&le)===le){var te=Z.revertLane;if(te===0)$!==null&&($=$.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),le===zl&&(se=!0);else if((io&te)===te){Z=Z.next,te===zl&&(se=!0);continue}else le={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},$===null?(z=$=le,N=S):$=$.next=le,Ye.lanes|=te,fo|=te;le=Z.action,Ia&&u(S,le),S=Z.hasEagerState?Z.eagerState:u(S,le)}else te={lane:le,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},$===null?(z=$=te,N=S):$=$.next=te,Ye.lanes|=le,fo|=le;Z=Z.next}while(Z!==null&&Z!==a);if($===null?N=S:$.next=z,!lr(S,o.memoizedState)&&(cn=!0,se&&(u=Ul,u!==null)))throw u;o.memoizedState=S,o.baseState=N,o.baseQueue=$,h.lastRenderedState=S}return y===null&&(h.lanes=0),[o.memoizedState,h.dispatch]}function ty(o){var a=Xt(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var h=u.dispatch,y=u.pending,S=a.memoizedState;if(y!==null){u.pending=null;var N=y=y.next;do S=o(S,N.action),N=N.next;while(N!==y);lr(S,a.memoizedState)||(cn=!0),a.memoizedState=S,a.baseQueue===null&&(a.baseState=S),u.lastRenderedState=S}return[S,h]}function qw(o,a,u){var h=Ye,y=Xt(),S=ft;if(S){if(u===void 0)throw Error(r(407));u=u()}else u=a();var N=!lr((xt||y).memoizedState,u);N&&(y.memoizedState=u,cn=!0),y=y.queue;var z=Kw.bind(null,h,y,o);if(Eu(2048,8,z,[o]),y.getSnapshot!==a||N||Yt!==null&&Yt.memoizedState.tag&1){if(h.flags|=2048,$l(9,Wf(),Gw.bind(null,h,y,u,a),null),Ot===null)throw Error(r(349));S||(io&124)!==0||Ww(h,a,u)}return u}function Ww(o,a,u){o.flags|=16384,o={getSnapshot:a,value:u},a=Ye.updateQueue,a===null?(a=Qg(),Ye.updateQueue=a,a.stores=[o]):(u=a.stores,u===null?a.stores=[o]:u.push(o))}function Gw(o,a,u,h){a.value=u,a.getSnapshot=h,Yw(a)&&Xw(o)}function Kw(o,a,u){return u(function(){Yw(a)&&Xw(o)})}function Yw(o){var a=o.getSnapshot;o=o.value;try{var u=a();return!lr(o,u)}catch{return!0}}function Xw(o){var a=Il(o,2);a!==null&&pr(a,o,2)}function ny(o){var a=Xn();if(typeof o=="function"){var u=o;if(o=u(),Ia){Tn(!0);try{u()}finally{Tn(!1)}}}return a.memoizedState=a.baseState=o,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:o},a}function Jw(o,a,u,h){return o.baseState=u,ey(o,xt,typeof h=="function"?h:ds)}function AR(o,a,u,h,y){if(Kf(o))throw Error(r(485));if(o=a.action,o!==null){var S={payload:y,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){S.listeners.push(N)}};G.T!==null?u(!0):S.isTransition=!1,h(S),u=a.pending,u===null?(S.next=a.pending=S,Qw(a,S)):(S.next=u.next,a.pending=u.next=S)}}function Qw(o,a){var u=a.action,h=a.payload,y=o.state;if(a.isTransition){var S=G.T,N={};G.T=N;try{var z=u(y,h),$=G.S;$!==null&&$(N,z),Zw(o,a,z)}catch(Z){ry(o,a,Z)}finally{G.T=S}}else try{S=u(y,h),Zw(o,a,S)}catch(Z){ry(o,a,Z)}}function Zw(o,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){eS(o,a,h)},function(h){return ry(o,a,h)}):eS(o,a,u)}function eS(o,a,u){a.status="fulfilled",a.value=u,tS(a),o.state=u,a=o.pending,a!==null&&(u=a.next,u===a?o.pending=null:(u=u.next,a.next=u,Qw(o,u)))}function ry(o,a,u){var h=o.pending;if(o.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=u,tS(a),a=a.next;while(a!==h)}o.action=null}function tS(o){o=o.listeners;for(var a=0;a<o.length;a++)(0,o[a])()}function nS(o,a){return a}function rS(o,a){if(ft){var u=Ot.formState;if(u!==null){e:{var h=Ye;if(ft){if(Bt){t:{for(var y=Bt,S=Ci;y.nodeType!==8;){if(!S){y=null;break t}if(y=ei(y.nextSibling),y===null){y=null;break t}}S=y.data,y=S==="F!"||S==="F"?y:null}if(y){Bt=ei(y.nextSibling),h=y.data==="F!";break e}}Oa(h)}h=!1}h&&(a=u[0])}}return u=Xn(),u.memoizedState=u.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nS,lastRenderedState:a},u.queue=h,u=xS.bind(null,Ye,h),h.dispatch=u,h=ny(!1),S=ly.bind(null,Ye,!1,h.queue),h=Xn(),y={state:a,dispatch:null,action:o,pending:null},h.queue=y,u=AR.bind(null,Ye,y,S,u),y.dispatch=u,h.memoizedState=o,[a,u,!1]}function iS(o){var a=Xt();return sS(a,xt,o)}function sS(o,a,u){if(a=ey(o,a,nS)[0],o=qf(ds)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=xu(a)}catch(N){throw N===gu?Uf:N}else h=a;a=Xt();var y=a.queue,S=y.dispatch;return u!==a.memoizedState&&(Ye.flags|=2048,$l(9,Wf(),kR.bind(null,y,u),null)),[h,S,o]}function kR(o,a){o.action=a}function oS(o){var a=Xt(),u=xt;if(u!==null)return sS(a,u,o);Xt(),a=a.memoizedState,u=Xt();var h=u.queue.dispatch;return u.memoizedState=o,[a,h,!1]}function $l(o,a,u,h){return o={tag:o,create:u,deps:h,inst:a,next:null},a=Ye.updateQueue,a===null&&(a=Qg(),Ye.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=o.next=o:(h=u.next,u.next=o,o.next=h,a.lastEffect=o),o}function Wf(){return{destroy:void 0,resource:void 0}}function aS(){return Xt().memoizedState}function Gf(o,a,u,h){var y=Xn();h=h===void 0?null:h,Ye.flags|=o,y.memoizedState=$l(1|a,Wf(),u,h)}function Eu(o,a,u,h){var y=Xt();h=h===void 0?null:h;var S=y.memoizedState.inst;xt!==null&&h!==null&&Gg(h,xt.memoizedState.deps)?y.memoizedState=$l(a,S,u,h):(Ye.flags|=o,y.memoizedState=$l(1|a,S,u,h))}function lS(o,a){Gf(8390656,8,o,a)}function cS(o,a){Eu(2048,8,o,a)}function uS(o,a){return Eu(4,2,o,a)}function dS(o,a){return Eu(4,4,o,a)}function fS(o,a){if(typeof a=="function"){o=o();var u=a(o);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function hS(o,a,u){u=u!=null?u.concat([o]):null,Eu(4,4,fS.bind(null,a,o),u)}function iy(){}function pS(o,a){var u=Xt();a=a===void 0?null:a;var h=u.memoizedState;return a!==null&&Gg(a,h[1])?h[0]:(u.memoizedState=[o,a],o)}function mS(o,a){var u=Xt();a=a===void 0?null:a;var h=u.memoizedState;if(a!==null&&Gg(a,h[1]))return h[0];if(h=o(),Ia){Tn(!0);try{o()}finally{Tn(!1)}}return u.memoizedState=[h,a],h}function sy(o,a,u){return u===void 0||(io&1073741824)!==0?o.memoizedState=a:(o.memoizedState=u,o=vx(),Ye.lanes|=o,fo|=o,u)}function gS(o,a,u,h){return lr(u,a)?u:Bl.current!==null?(o=sy(o,u,h),lr(o,a)||(cn=!0),o):(io&42)===0?(cn=!0,o.memoizedState=u):(o=vx(),Ye.lanes|=o,fo|=o,a)}function yS(o,a,u,h,y){var S=oe.p;oe.p=S!==0&&8>S?S:8;var N=G.T,z={};G.T=z,ly(o,!1,a,u);try{var $=y(),Z=G.S;if(Z!==null&&Z(z,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var se=ER($,h);Tu(o,a,se,hr(o))}else Tu(o,a,h,hr(o))}catch(le){Tu(o,a,{then:function(){},status:"rejected",reason:le},hr())}finally{oe.p=S,G.T=N}}function NR(){}function oy(o,a,u,h){if(o.tag!==5)throw Error(r(476));var y=vS(o).queue;yS(o,y,a,ce,u===null?NR:function(){return bS(o),u(h)})}function vS(o){var a=o.memoizedState;if(a!==null)return a;a={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:ce},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:u},next:null},o.memoizedState=a,o=o.alternate,o!==null&&(o.memoizedState=a),a}function bS(o){var a=vS(o).next.queue;Tu(o,a,{},hr())}function ay(){return Cn(Vu)}function wS(){return Xt().memoizedState}function SS(){return Xt().memoizedState}function MR(o){for(var a=o.return;a!==null;){switch(a.tag){case 24:case 3:var u=hr();o=no(u);var h=ro(a,o,u);h!==null&&(pr(h,a,u),vu(h,a,u)),a={cache:Pg()},o.payload=a;return}a=a.return}}function OR(o,a,u){var h=hr();u={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Kf(o)?ES(a,u):(u=kg(o,a,u,h),u!==null&&(pr(u,o,h),TS(u,a,h)))}function xS(o,a,u){var h=hr();Tu(o,a,u,h)}function Tu(o,a,u,h){var y={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Kf(o))ES(a,y);else{var S=o.alternate;if(o.lanes===0&&(S===null||S.lanes===0)&&(S=a.lastRenderedReducer,S!==null))try{var N=a.lastRenderedState,z=S(N,u);if(y.hasEagerState=!0,y.eagerState=z,lr(z,N))return _f(o,a,y,0),Ot===null&&Of(),!1}catch{}finally{}if(u=kg(o,a,y,h),u!==null)return pr(u,o,h),TS(u,a,h),!0}return!1}function ly(o,a,u,h){if(h={lane:2,revertLane:By(),action:h,hasEagerState:!1,eagerState:null,next:null},Kf(o)){if(a)throw Error(r(479))}else a=kg(o,u,h,2),a!==null&&pr(a,o,2)}function Kf(o){var a=o.alternate;return o===Ye||a!==null&&a===Ye}function ES(o,a){Hl=Vf=!0;var u=o.pending;u===null?a.next=a:(a.next=u.next,u.next=a),o.pending=a}function TS(o,a,u){if((u&4194048)!==0){var h=a.lanes;h&=o.pendingLanes,u|=h,a.lanes=u,vi(o,u)}}var Yf={readContext:Cn,use:Ff,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useLayoutEffect:qt,useInsertionEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useSyncExternalStore:qt,useId:qt,useHostTransitionStatus:qt,useFormState:qt,useActionState:qt,useOptimistic:qt,useMemoCache:qt,useCacheRefresh:qt},CS={readContext:Cn,use:Ff,useCallback:function(o,a){return Xn().memoizedState=[o,a===void 0?null:a],o},useContext:Cn,useEffect:lS,useImperativeHandle:function(o,a,u){u=u!=null?u.concat([o]):null,Gf(4194308,4,fS.bind(null,a,o),u)},useLayoutEffect:function(o,a){return Gf(4194308,4,o,a)},useInsertionEffect:function(o,a){Gf(4,2,o,a)},useMemo:function(o,a){var u=Xn();a=a===void 0?null:a;var h=o();if(Ia){Tn(!0);try{o()}finally{Tn(!1)}}return u.memoizedState=[h,a],h},useReducer:function(o,a,u){var h=Xn();if(u!==void 0){var y=u(a);if(Ia){Tn(!0);try{u(a)}finally{Tn(!1)}}}else y=a;return h.memoizedState=h.baseState=y,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:y},h.queue=o,o=o.dispatch=OR.bind(null,Ye,o),[h.memoizedState,o]},useRef:function(o){var a=Xn();return o={current:o},a.memoizedState=o},useState:function(o){o=ny(o);var a=o.queue,u=xS.bind(null,Ye,a);return a.dispatch=u,[o.memoizedState,u]},useDebugValue:iy,useDeferredValue:function(o,a){var u=Xn();return sy(u,o,a)},useTransition:function(){var o=ny(!1);return o=yS.bind(null,Ye,o.queue,!0,!1),Xn().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,a,u){var h=Ye,y=Xn();if(ft){if(u===void 0)throw Error(r(407));u=u()}else{if(u=a(),Ot===null)throw Error(r(349));(rt&124)!==0||Ww(h,a,u)}y.memoizedState=u;var S={value:u,getSnapshot:a};return y.queue=S,lS(Kw.bind(null,h,S,o),[o]),h.flags|=2048,$l(9,Wf(),Gw.bind(null,h,S,u,a),null),u},useId:function(){var o=Xn(),a=Ot.identifierPrefix;if(ft){var u=ls,h=as;u=(h&~(1<<32-Gt(h)-1)).toString(32)+u,a=""+a+"R"+u,u=$f++,0<u&&(a+="H"+u.toString(32)),a+=""}else u=TR++,a=""+a+"r"+u.toString(32)+"";return o.memoizedState=a},useHostTransitionStatus:ay,useFormState:rS,useActionState:rS,useOptimistic:function(o){var a=Xn();a.memoizedState=a.baseState=o;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=ly.bind(null,Ye,!0,u),u.dispatch=a,[o,a]},useMemoCache:Zg,useCacheRefresh:function(){return Xn().memoizedState=MR.bind(null,Ye)}},AS={readContext:Cn,use:Ff,useCallback:pS,useContext:Cn,useEffect:cS,useImperativeHandle:hS,useInsertionEffect:uS,useLayoutEffect:dS,useMemo:mS,useReducer:qf,useRef:aS,useState:function(){return qf(ds)},useDebugValue:iy,useDeferredValue:function(o,a){var u=Xt();return gS(u,xt.memoizedState,o,a)},useTransition:function(){var o=qf(ds)[0],a=Xt().memoizedState;return[typeof o=="boolean"?o:xu(o),a]},useSyncExternalStore:qw,useId:wS,useHostTransitionStatus:ay,useFormState:iS,useActionState:iS,useOptimistic:function(o,a){var u=Xt();return Jw(u,xt,o,a)},useMemoCache:Zg,useCacheRefresh:SS},_R={readContext:Cn,use:Ff,useCallback:pS,useContext:Cn,useEffect:cS,useImperativeHandle:hS,useInsertionEffect:uS,useLayoutEffect:dS,useMemo:mS,useReducer:ty,useRef:aS,useState:function(){return ty(ds)},useDebugValue:iy,useDeferredValue:function(o,a){var u=Xt();return xt===null?sy(u,o,a):gS(u,xt.memoizedState,o,a)},useTransition:function(){var o=ty(ds)[0],a=Xt().memoizedState;return[typeof o=="boolean"?o:xu(o),a]},useSyncExternalStore:qw,useId:wS,useHostTransitionStatus:ay,useFormState:oS,useActionState:oS,useOptimistic:function(o,a){var u=Xt();return xt!==null?Jw(u,xt,o,a):(u.baseState=o,[o,u.queue.dispatch])},useMemoCache:Zg,useCacheRefresh:SS},Fl=null,Cu=0;function Xf(o){var a=Cu;return Cu+=1,Fl===null&&(Fl=[]),Pw(Fl,o,a)}function Au(o,a){a=a.props.ref,o.ref=a!==void 0?a:null}function Jf(o,a){throw a.$$typeof===m?Error(r(525)):(o=Object.prototype.toString.call(a),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o)))}function kS(o){var a=o._init;return a(o._payload)}function NS(o){function a(Y,K){if(o){var Q=Y.deletions;Q===null?(Y.deletions=[K],Y.flags|=16):Q.push(K)}}function u(Y,K){if(!o)return null;for(;K!==null;)a(Y,K),K=K.sibling;return null}function h(Y){for(var K=new Map;Y!==null;)Y.key!==null?K.set(Y.key,Y):K.set(Y.index,Y),Y=Y.sibling;return K}function y(Y,K){return Y=ss(Y,K),Y.index=0,Y.sibling=null,Y}function S(Y,K,Q){return Y.index=Q,o?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<K?(Y.flags|=67108866,K):Q):(Y.flags|=67108866,K)):(Y.flags|=1048576,K)}function N(Y){return o&&Y.alternate===null&&(Y.flags|=67108866),Y}function z(Y,K,Q,ae){return K===null||K.tag!==6?(K=Mg(Q,Y.mode,ae),K.return=Y,K):(K=y(K,Q),K.return=Y,K)}function $(Y,K,Q,ae){var Ee=Q.type;return Ee===x?se(Y,K,Q.props.children,ae,Q.key):K!==null&&(K.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===M&&kS(Ee)===K.type)?(K=y(K,Q.props),Au(K,Q),K.return=Y,K):(K=Df(Q.type,Q.key,Q.props,null,Y.mode,ae),Au(K,Q),K.return=Y,K)}function Z(Y,K,Q,ae){return K===null||K.tag!==4||K.stateNode.containerInfo!==Q.containerInfo||K.stateNode.implementation!==Q.implementation?(K=Og(Q,Y.mode,ae),K.return=Y,K):(K=y(K,Q.children||[]),K.return=Y,K)}function se(Y,K,Q,ae,Ee){return K===null||K.tag!==7?(K=Aa(Q,Y.mode,ae,Ee),K.return=Y,K):(K=y(K,Q),K.return=Y,K)}function le(Y,K,Q){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Mg(""+K,Y.mode,Q),K.return=Y,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case v:return Q=Df(K.type,K.key,K.props,null,Y.mode,Q),Au(Q,K),Q.return=Y,Q;case w:return K=Og(K,Y.mode,Q),K.return=Y,K;case M:var ae=K._init;return K=ae(K._payload),le(Y,K,Q)}if(ge(K)||q(K))return K=Aa(K,Y.mode,Q,null),K.return=Y,K;if(typeof K.then=="function")return le(Y,Xf(K),Q);if(K.$$typeof===j)return le(Y,Pf(Y,K),Q);Jf(Y,K)}return null}function te(Y,K,Q,ae){var Ee=K!==null?K.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ee!==null?null:z(Y,K,""+Q,ae);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:return Q.key===Ee?$(Y,K,Q,ae):null;case w:return Q.key===Ee?Z(Y,K,Q,ae):null;case M:return Ee=Q._init,Q=Ee(Q._payload),te(Y,K,Q,ae)}if(ge(Q)||q(Q))return Ee!==null?null:se(Y,K,Q,ae,null);if(typeof Q.then=="function")return te(Y,K,Xf(Q),ae);if(Q.$$typeof===j)return te(Y,K,Pf(Y,Q),ae);Jf(Y,Q)}return null}function ne(Y,K,Q,ae,Ee){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Y=Y.get(Q)||null,z(K,Y,""+ae,Ee);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case v:return Y=Y.get(ae.key===null?Q:ae.key)||null,$(K,Y,ae,Ee);case w:return Y=Y.get(ae.key===null?Q:ae.key)||null,Z(K,Y,ae,Ee);case M:var Xe=ae._init;return ae=Xe(ae._payload),ne(Y,K,Q,ae,Ee)}if(ge(ae)||q(ae))return Y=Y.get(Q)||null,se(K,Y,ae,Ee,null);if(typeof ae.then=="function")return ne(Y,K,Q,Xf(ae),Ee);if(ae.$$typeof===j)return ne(Y,K,Q,Pf(K,ae),Ee);Jf(K,ae)}return null}function He(Y,K,Q,ae){for(var Ee=null,Xe=null,Oe=K,ze=K=0,dn=null;Oe!==null&&ze<Q.length;ze++){Oe.index>ze?(dn=Oe,Oe=null):dn=Oe.sibling;var at=te(Y,Oe,Q[ze],ae);if(at===null){Oe===null&&(Oe=dn);break}o&&Oe&&at.alternate===null&&a(Y,Oe),K=S(at,K,ze),Xe===null?Ee=at:Xe.sibling=at,Xe=at,Oe=dn}if(ze===Q.length)return u(Y,Oe),ft&&Na(Y,ze),Ee;if(Oe===null){for(;ze<Q.length;ze++)Oe=le(Y,Q[ze],ae),Oe!==null&&(K=S(Oe,K,ze),Xe===null?Ee=Oe:Xe.sibling=Oe,Xe=Oe);return ft&&Na(Y,ze),Ee}for(Oe=h(Oe);ze<Q.length;ze++)dn=ne(Oe,Y,ze,Q[ze],ae),dn!==null&&(o&&dn.alternate!==null&&Oe.delete(dn.key===null?ze:dn.key),K=S(dn,K,ze),Xe===null?Ee=dn:Xe.sibling=dn,Xe=dn);return o&&Oe.forEach(function(So){return a(Y,So)}),ft&&Na(Y,ze),Ee}function je(Y,K,Q,ae){if(Q==null)throw Error(r(151));for(var Ee=null,Xe=null,Oe=K,ze=K=0,dn=null,at=Q.next();Oe!==null&&!at.done;ze++,at=Q.next()){Oe.index>ze?(dn=Oe,Oe=null):dn=Oe.sibling;var So=te(Y,Oe,at.value,ae);if(So===null){Oe===null&&(Oe=dn);break}o&&Oe&&So.alternate===null&&a(Y,Oe),K=S(So,K,ze),Xe===null?Ee=So:Xe.sibling=So,Xe=So,Oe=dn}if(at.done)return u(Y,Oe),ft&&Na(Y,ze),Ee;if(Oe===null){for(;!at.done;ze++,at=Q.next())at=le(Y,at.value,ae),at!==null&&(K=S(at,K,ze),Xe===null?Ee=at:Xe.sibling=at,Xe=at);return ft&&Na(Y,ze),Ee}for(Oe=h(Oe);!at.done;ze++,at=Q.next())at=ne(Oe,Y,ze,at.value,ae),at!==null&&(o&&at.alternate!==null&&Oe.delete(at.key===null?ze:at.key),K=S(at,K,ze),Xe===null?Ee=at:Xe.sibling=at,Xe=at);return o&&Oe.forEach(function(R4){return a(Y,R4)}),ft&&Na(Y,ze),Ee}function Tt(Y,K,Q,ae){if(typeof Q=="object"&&Q!==null&&Q.type===x&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:e:{for(var Ee=Q.key;K!==null;){if(K.key===Ee){if(Ee=Q.type,Ee===x){if(K.tag===7){u(Y,K.sibling),ae=y(K,Q.props.children),ae.return=Y,Y=ae;break e}}else if(K.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===M&&kS(Ee)===K.type){u(Y,K.sibling),ae=y(K,Q.props),Au(ae,Q),ae.return=Y,Y=ae;break e}u(Y,K);break}else a(Y,K);K=K.sibling}Q.type===x?(ae=Aa(Q.props.children,Y.mode,ae,Q.key),ae.return=Y,Y=ae):(ae=Df(Q.type,Q.key,Q.props,null,Y.mode,ae),Au(ae,Q),ae.return=Y,Y=ae)}return N(Y);case w:e:{for(Ee=Q.key;K!==null;){if(K.key===Ee)if(K.tag===4&&K.stateNode.containerInfo===Q.containerInfo&&K.stateNode.implementation===Q.implementation){u(Y,K.sibling),ae=y(K,Q.children||[]),ae.return=Y,Y=ae;break e}else{u(Y,K);break}else a(Y,K);K=K.sibling}ae=Og(Q,Y.mode,ae),ae.return=Y,Y=ae}return N(Y);case M:return Ee=Q._init,Q=Ee(Q._payload),Tt(Y,K,Q,ae)}if(ge(Q))return He(Y,K,Q,ae);if(q(Q)){if(Ee=q(Q),typeof Ee!="function")throw Error(r(150));return Q=Ee.call(Q),je(Y,K,Q,ae)}if(typeof Q.then=="function")return Tt(Y,K,Xf(Q),ae);if(Q.$$typeof===j)return Tt(Y,K,Pf(Y,Q),ae);Jf(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,K!==null&&K.tag===6?(u(Y,K.sibling),ae=y(K,Q),ae.return=Y,Y=ae):(u(Y,K),ae=Mg(Q,Y.mode,ae),ae.return=Y,Y=ae),N(Y)):u(Y,K)}return function(Y,K,Q,ae){try{Cu=0;var Ee=Tt(Y,K,Q,ae);return Fl=null,Ee}catch(Oe){if(Oe===gu||Oe===Uf)throw Oe;var Xe=cr(29,Oe,null,Y.mode);return Xe.lanes=ae,Xe.return=Y,Xe}finally{}}}var ql=NS(!0),MS=NS(!1),jr=ie(null),Ai=null;function so(o){var a=o.alternate;de(nn,nn.current&1),de(jr,o),Ai===null&&(a===null||Bl.current!==null||a.memoizedState!==null)&&(Ai=o)}function OS(o){if(o.tag===22){if(de(nn,nn.current),de(jr,o),Ai===null){var a=o.alternate;a!==null&&a.memoizedState!==null&&(Ai=o)}}else oo()}function oo(){de(nn,nn.current),de(jr,jr.current)}function fs(o){he(jr),Ai===o&&(Ai=null),he(nn)}var nn=ie(0);function Qf(o){for(var a=o;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Qy(u)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function cy(o,a,u,h){a=o.memoizedState,u=u(h,a),u=u==null?a:p({},a,u),o.memoizedState=u,o.lanes===0&&(o.updateQueue.baseState=u)}var uy={enqueueSetState:function(o,a,u){o=o._reactInternals;var h=hr(),y=no(h);y.payload=a,u!=null&&(y.callback=u),a=ro(o,y,h),a!==null&&(pr(a,o,h),vu(a,o,h))},enqueueReplaceState:function(o,a,u){o=o._reactInternals;var h=hr(),y=no(h);y.tag=1,y.payload=a,u!=null&&(y.callback=u),a=ro(o,y,h),a!==null&&(pr(a,o,h),vu(a,o,h))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var u=hr(),h=no(u);h.tag=2,a!=null&&(h.callback=a),a=ro(o,h,u),a!==null&&(pr(a,o,u),vu(a,o,u))}};function _S(o,a,u,h,y,S,N){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(h,S,N):a.prototype&&a.prototype.isPureReactComponent?!lu(u,h)||!lu(y,S):!0}function RS(o,a,u,h){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,h),a.state!==o&&uy.enqueueReplaceState(a,a.state,null)}function La(o,a){var u=a;if("ref"in a){u={};for(var h in a)h!=="ref"&&(u[h]=a[h])}if(o=o.defaultProps){u===a&&(u=p({},u));for(var y in o)u[y]===void 0&&(u[y]=o[y])}return u}var Zf=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function DS(o){Zf(o)}function IS(o){console.error(o)}function LS(o){Zf(o)}function eh(o,a){try{var u=o.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function jS(o,a,u){try{var h=o.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function dy(o,a,u){return u=no(u),u.tag=3,u.payload={element:null},u.callback=function(){eh(o,a)},u}function PS(o){return o=no(o),o.tag=3,o}function zS(o,a,u,h){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var S=h.value;o.payload=function(){return y(S)},o.callback=function(){jS(a,u,h)}}var N=u.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(o.callback=function(){jS(a,u,h),typeof y!="function"&&(ho===null?ho=new Set([this]):ho.add(this));var z=h.stack;this.componentDidCatch(h.value,{componentStack:z!==null?z:""})})}function RR(o,a,u,h,y){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=u.alternate,a!==null&&hu(a,u,y,!0),u=jr.current,u!==null){switch(u.tag){case 13:return Ai===null?Ly():u.alternate===null&&Ht===0&&(Ht=3),u.flags&=-257,u.flags|=65536,u.lanes=y,h===Bg?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([h]):a.add(h),Py(o,h,y)),!1;case 22:return u.flags|=65536,h===Bg?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([h]):u.add(h)),Py(o,h,y)),!1}throw Error(r(435,u.tag))}return Py(o,h,y),Ly(),!1}if(ft)return a=jr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,h!==Dg&&(o=Error(r(422),{cause:h}),fu(Rr(o,u)))):(h!==Dg&&(a=Error(r(423),{cause:h}),fu(Rr(a,u))),o=o.current.alternate,o.flags|=65536,y&=-y,o.lanes|=y,h=Rr(h,u),y=dy(o.stateNode,h,y),$g(o,y),Ht!==4&&(Ht=2)),!1;var S=Error(r(520),{cause:h});if(S=Rr(S,u),Du===null?Du=[S]:Du.push(S),Ht!==4&&(Ht=2),a===null)return!0;h=Rr(h,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,o=y&-y,u.lanes|=o,o=dy(u.stateNode,h,o),$g(u,o),!1;case 1:if(a=u.type,S=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ho===null||!ho.has(S))))return u.flags|=65536,y&=-y,u.lanes|=y,y=PS(y),zS(y,o,u,h),$g(u,y),!1}u=u.return}while(u!==null);return!1}var US=Error(r(461)),cn=!1;function yn(o,a,u,h){a.child=o===null?MS(a,null,u,h):ql(a,o.child,u,h)}function BS(o,a,u,h,y){u=u.render;var S=a.ref;if("ref"in h){var N={};for(var z in h)z!=="ref"&&(N[z]=h[z])}else N=h;return Ra(a),h=Kg(o,a,u,N,S,y),z=Yg(),o!==null&&!cn?(Xg(o,a,y),hs(o,a,y)):(ft&&z&&_g(a),a.flags|=1,yn(o,a,h,y),a.child)}function HS(o,a,u,h,y){if(o===null){var S=u.type;return typeof S=="function"&&!Ng(S)&&S.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=S,VS(o,a,S,h,y)):(o=Df(u.type,null,h,a,a.mode,y),o.ref=a.ref,o.return=a,a.child=o)}if(S=o.child,!by(o,y)){var N=S.memoizedProps;if(u=u.compare,u=u!==null?u:lu,u(N,h)&&o.ref===a.ref)return hs(o,a,y)}return a.flags|=1,o=ss(S,h),o.ref=a.ref,o.return=a,a.child=o}function VS(o,a,u,h,y){if(o!==null){var S=o.memoizedProps;if(lu(S,h)&&o.ref===a.ref)if(cn=!1,a.pendingProps=h=S,by(o,y))(o.flags&131072)!==0&&(cn=!0);else return a.lanes=o.lanes,hs(o,a,y)}return fy(o,a,u,h,y)}function $S(o,a,u){var h=a.pendingProps,y=h.children,S=o!==null?o.memoizedState:null;if(h.mode==="hidden"){if((a.flags&128)!==0){if(h=S!==null?S.baseLanes|u:u,o!==null){for(y=a.child=o.child,S=0;y!==null;)S=S|y.lanes|y.childLanes,y=y.sibling;a.childLanes=S&~h}else a.childLanes=0,a.child=null;return FS(o,a,h,u)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},o!==null&&zf(a,S!==null?S.cachePool:null),S!==null?Vw(a,S):qg(),OS(a);else return a.lanes=a.childLanes=536870912,FS(o,a,S!==null?S.baseLanes|u:u,u)}else S!==null?(zf(a,S.cachePool),Vw(a,S),oo(),a.memoizedState=null):(o!==null&&zf(a,null),qg(),oo());return yn(o,a,y,u),a.child}function FS(o,a,u,h){var y=Ug();return y=y===null?null:{parent:tn._currentValue,pool:y},a.memoizedState={baseLanes:u,cachePool:y},o!==null&&zf(a,null),qg(),OS(a),o!==null&&hu(o,a,h,!0),null}function th(o,a){var u=a.ref;if(u===null)o!==null&&o.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(o===null||o.ref!==u)&&(a.flags|=4194816)}}function fy(o,a,u,h,y){return Ra(a),u=Kg(o,a,u,h,void 0,y),h=Yg(),o!==null&&!cn?(Xg(o,a,y),hs(o,a,y)):(ft&&h&&_g(a),a.flags|=1,yn(o,a,u,y),a.child)}function qS(o,a,u,h,y,S){return Ra(a),a.updateQueue=null,u=Fw(a,h,u,y),$w(o),h=Yg(),o!==null&&!cn?(Xg(o,a,S),hs(o,a,S)):(ft&&h&&_g(a),a.flags|=1,yn(o,a,u,S),a.child)}function WS(o,a,u,h,y){if(Ra(a),a.stateNode===null){var S=Ll,N=u.contextType;typeof N=="object"&&N!==null&&(S=Cn(N)),S=new u(h,S),a.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=uy,a.stateNode=S,S._reactInternals=a,S=a.stateNode,S.props=h,S.state=a.memoizedState,S.refs={},Hg(a),N=u.contextType,S.context=typeof N=="object"&&N!==null?Cn(N):Ll,S.state=a.memoizedState,N=u.getDerivedStateFromProps,typeof N=="function"&&(cy(a,u,N,h),S.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(N=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),N!==S.state&&uy.enqueueReplaceState(S,S.state,null),wu(a,h,S,y),bu(),S.state=a.memoizedState),typeof S.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(o===null){S=a.stateNode;var z=a.memoizedProps,$=La(u,z);S.props=$;var Z=S.context,se=u.contextType;N=Ll,typeof se=="object"&&se!==null&&(N=Cn(se));var le=u.getDerivedStateFromProps;se=typeof le=="function"||typeof S.getSnapshotBeforeUpdate=="function",z=a.pendingProps!==z,se||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(z||Z!==N)&&RS(a,S,h,N),to=!1;var te=a.memoizedState;S.state=te,wu(a,h,S,y),bu(),Z=a.memoizedState,z||te!==Z||to?(typeof le=="function"&&(cy(a,u,le,h),Z=a.memoizedState),($=to||_S(a,u,$,h,te,Z,N))?(se||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(a.flags|=4194308)):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=Z),S.props=h,S.state=Z,S.context=N,h=$):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{S=a.stateNode,Vg(o,a),N=a.memoizedProps,se=La(u,N),S.props=se,le=a.pendingProps,te=S.context,Z=u.contextType,$=Ll,typeof Z=="object"&&Z!==null&&($=Cn(Z)),z=u.getDerivedStateFromProps,(Z=typeof z=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(N!==le||te!==$)&&RS(a,S,h,$),to=!1,te=a.memoizedState,S.state=te,wu(a,h,S,y),bu();var ne=a.memoizedState;N!==le||te!==ne||to||o!==null&&o.dependencies!==null&&jf(o.dependencies)?(typeof z=="function"&&(cy(a,u,z,h),ne=a.memoizedState),(se=to||_S(a,u,se,h,te,ne,$)||o!==null&&o.dependencies!==null&&jf(o.dependencies))?(Z||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,ne,$),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,ne,$)),typeof S.componentDidUpdate=="function"&&(a.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof S.componentDidUpdate!="function"||N===o.memoizedProps&&te===o.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===o.memoizedProps&&te===o.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=ne),S.props=h,S.state=ne,S.context=$,h=se):(typeof S.componentDidUpdate!="function"||N===o.memoizedProps&&te===o.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===o.memoizedProps&&te===o.memoizedState||(a.flags|=1024),h=!1)}return S=h,th(o,a),h=(a.flags&128)!==0,S||h?(S=a.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:S.render(),a.flags|=1,o!==null&&h?(a.child=ql(a,o.child,null,y),a.child=ql(a,null,u,y)):yn(o,a,u,y),a.memoizedState=S.state,o=a.child):o=hs(o,a,y),o}function GS(o,a,u,h){return du(),a.flags|=256,yn(o,a,u,h),a.child}var hy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function py(o){return{baseLanes:o,cachePool:Iw()}}function my(o,a,u){return o=o!==null?o.childLanes&~u:0,a&&(o|=Pr),o}function KS(o,a,u){var h=a.pendingProps,y=!1,S=(a.flags&128)!==0,N;if((N=S)||(N=o!==null&&o.memoizedState===null?!1:(nn.current&2)!==0),N&&(y=!0,a.flags&=-129),N=(a.flags&32)!==0,a.flags&=-33,o===null){if(ft){if(y?so(a):oo(),ft){var z=Bt,$;if($=z){e:{for($=z,z=Ci;$.nodeType!==8;){if(!z){z=null;break e}if($=ei($.nextSibling),$===null){z=null;break e}}z=$}z!==null?(a.memoizedState={dehydrated:z,treeContext:ka!==null?{id:as,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},$=cr(18,null,null,0),$.stateNode=z,$.return=a,a.child=$,jn=a,Bt=null,$=!0):$=!1}$||Oa(a)}if(z=a.memoizedState,z!==null&&(z=z.dehydrated,z!==null))return Qy(z)?a.lanes=32:a.lanes=536870912,null;fs(a)}return z=h.children,h=h.fallback,y?(oo(),y=a.mode,z=nh({mode:"hidden",children:z},y),h=Aa(h,y,u,null),z.return=a,h.return=a,z.sibling=h,a.child=z,y=a.child,y.memoizedState=py(u),y.childLanes=my(o,N,u),a.memoizedState=hy,h):(so(a),gy(a,z))}if($=o.memoizedState,$!==null&&(z=$.dehydrated,z!==null)){if(S)a.flags&256?(so(a),a.flags&=-257,a=yy(o,a,u)):a.memoizedState!==null?(oo(),a.child=o.child,a.flags|=128,a=null):(oo(),y=h.fallback,z=a.mode,h=nh({mode:"visible",children:h.children},z),y=Aa(y,z,u,null),y.flags|=2,h.return=a,y.return=a,h.sibling=y,a.child=h,ql(a,o.child,null,u),h=a.child,h.memoizedState=py(u),h.childLanes=my(o,N,u),a.memoizedState=hy,a=y);else if(so(a),Qy(z)){if(N=z.nextSibling&&z.nextSibling.dataset,N)var Z=N.dgst;N=Z,h=Error(r(419)),h.stack="",h.digest=N,fu({value:h,source:null,stack:null}),a=yy(o,a,u)}else if(cn||hu(o,a,u,!1),N=(u&o.childLanes)!==0,cn||N){if(N=Ot,N!==null&&(h=u&-u,h=(h&42)!==0?1:Xi(h),h=(h&(N.suspendedLanes|u))!==0?0:h,h!==0&&h!==$.retryLane))throw $.retryLane=h,Il(o,h),pr(N,o,h),US;z.data==="$?"||Ly(),a=yy(o,a,u)}else z.data==="$?"?(a.flags|=192,a.child=o.child,a=null):(o=$.treeContext,Bt=ei(z.nextSibling),jn=a,ft=!0,Ma=null,Ci=!1,o!==null&&(Ir[Lr++]=as,Ir[Lr++]=ls,Ir[Lr++]=ka,as=o.id,ls=o.overflow,ka=a),a=gy(a,h.children),a.flags|=4096);return a}return y?(oo(),y=h.fallback,z=a.mode,$=o.child,Z=$.sibling,h=ss($,{mode:"hidden",children:h.children}),h.subtreeFlags=$.subtreeFlags&65011712,Z!==null?y=ss(Z,y):(y=Aa(y,z,u,null),y.flags|=2),y.return=a,h.return=a,h.sibling=y,a.child=h,h=y,y=a.child,z=o.child.memoizedState,z===null?z=py(u):($=z.cachePool,$!==null?(Z=tn._currentValue,$=$.parent!==Z?{parent:Z,pool:Z}:$):$=Iw(),z={baseLanes:z.baseLanes|u,cachePool:$}),y.memoizedState=z,y.childLanes=my(o,N,u),a.memoizedState=hy,h):(so(a),u=o.child,o=u.sibling,u=ss(u,{mode:"visible",children:h.children}),u.return=a,u.sibling=null,o!==null&&(N=a.deletions,N===null?(a.deletions=[o],a.flags|=16):N.push(o)),a.child=u,a.memoizedState=null,u)}function gy(o,a){return a=nh({mode:"visible",children:a},o.mode),a.return=o,o.child=a}function nh(o,a){return o=cr(22,o,null,a),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function yy(o,a,u){return ql(a,o.child,null,u),o=gy(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function YS(o,a,u){o.lanes|=a;var h=o.alternate;h!==null&&(h.lanes|=a),Lg(o.return,a,u)}function vy(o,a,u,h,y){var S=o.memoizedState;S===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:y}:(S.isBackwards=a,S.rendering=null,S.renderingStartTime=0,S.last=h,S.tail=u,S.tailMode=y)}function XS(o,a,u){var h=a.pendingProps,y=h.revealOrder,S=h.tail;if(yn(o,a,h.children,u),h=nn.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&YS(o,u,a);else if(o.tag===19)YS(o,u,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}h&=1}switch(de(nn,h),y){case"forwards":for(u=a.child,y=null;u!==null;)o=u.alternate,o!==null&&Qf(o)===null&&(y=u),u=u.sibling;u=y,u===null?(y=a.child,a.child=null):(y=u.sibling,u.sibling=null),vy(a,!1,y,u,S);break;case"backwards":for(u=null,y=a.child,a.child=null;y!==null;){if(o=y.alternate,o!==null&&Qf(o)===null){a.child=y;break}o=y.sibling,y.sibling=u,u=y,y=o}vy(a,!0,u,null,S);break;case"together":vy(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function hs(o,a,u){if(o!==null&&(a.dependencies=o.dependencies),fo|=a.lanes,(u&a.childLanes)===0)if(o!==null){if(hu(o,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(o!==null&&a.child!==o.child)throw Error(r(153));if(a.child!==null){for(o=a.child,u=ss(o,o.pendingProps),a.child=u,u.return=a;o.sibling!==null;)o=o.sibling,u=u.sibling=ss(o,o.pendingProps),u.return=a;u.sibling=null}return a.child}function by(o,a){return(o.lanes&a)!==0?!0:(o=o.dependencies,!!(o!==null&&jf(o)))}function DR(o,a,u){switch(a.tag){case 3:lt(a,a.stateNode.containerInfo),eo(a,tn,o.memoizedState.cache),du();break;case 27:case 5:Ct(a);break;case 4:lt(a,a.stateNode.containerInfo);break;case 10:eo(a,a.type,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(so(a),a.flags|=128,null):(u&a.child.childLanes)!==0?KS(o,a,u):(so(a),o=hs(o,a,u),o!==null?o.sibling:null);so(a);break;case 19:var y=(o.flags&128)!==0;if(h=(u&a.childLanes)!==0,h||(hu(o,a,u,!1),h=(u&a.childLanes)!==0),y){if(h)return XS(o,a,u);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),de(nn,nn.current),h)break;return null;case 22:case 23:return a.lanes=0,$S(o,a,u);case 24:eo(a,tn,o.memoizedState.cache)}return hs(o,a,u)}function JS(o,a,u){if(o!==null)if(o.memoizedProps!==a.pendingProps)cn=!0;else{if(!by(o,u)&&(a.flags&128)===0)return cn=!1,DR(o,a,u);cn=(o.flags&131072)!==0}else cn=!1,ft&&(a.flags&1048576)!==0&&kw(a,Lf,a.index);switch(a.lanes=0,a.tag){case 16:e:{o=a.pendingProps;var h=a.elementType,y=h._init;if(h=y(h._payload),a.type=h,typeof h=="function")Ng(h)?(o=La(h,o),a.tag=1,a=WS(null,a,h,o,u)):(a.tag=0,a=fy(null,a,h,o,u));else{if(h!=null){if(y=h.$$typeof,y===U){a.tag=11,a=BS(null,a,h,o,u);break e}else if(y===_){a.tag=14,a=HS(null,a,h,o,u);break e}}throw a=ye(h)||h,Error(r(306,a,""))}}return a;case 0:return fy(o,a,a.type,a.pendingProps,u);case 1:return h=a.type,y=La(h,a.pendingProps),WS(o,a,h,y,u);case 3:e:{if(lt(a,a.stateNode.containerInfo),o===null)throw Error(r(387));h=a.pendingProps;var S=a.memoizedState;y=S.element,Vg(o,a),wu(a,h,null,u);var N=a.memoizedState;if(h=N.cache,eo(a,tn,h),h!==S.cache&&jg(a,[tn],u,!0),bu(),h=N.element,S.isDehydrated)if(S={element:h,isDehydrated:!1,cache:N.cache},a.updateQueue.baseState=S,a.memoizedState=S,a.flags&256){a=GS(o,a,h,u);break e}else if(h!==y){y=Rr(Error(r(424)),a),fu(y),a=GS(o,a,h,u);break e}else{switch(o=a.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Bt=ei(o.firstChild),jn=a,ft=!0,Ma=null,Ci=!0,u=MS(a,null,h,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(du(),h===y){a=hs(o,a,u);break e}yn(o,a,h,u)}a=a.child}return a;case 26:return th(o,a),o===null?(u=tE(a.type,null,a.pendingProps,null))?a.memoizedState=u:ft||(u=a.type,o=a.pendingProps,h=gh(Ie.current).createElement(u),h[ue]=a,h[pe]=o,bn(h,u,o),Fe(h),a.stateNode=h):a.memoizedState=tE(a.type,o.memoizedProps,a.pendingProps,o.memoizedState),null;case 27:return Ct(a),o===null&&ft&&(h=a.stateNode=Qx(a.type,a.pendingProps,Ie.current),jn=a,Ci=!0,y=Bt,go(a.type)?(Zy=y,Bt=ei(h.firstChild)):Bt=y),yn(o,a,a.pendingProps.children,u),th(o,a),o===null&&(a.flags|=4194304),a.child;case 5:return o===null&&ft&&((y=h=Bt)&&(h=a4(h,a.type,a.pendingProps,Ci),h!==null?(a.stateNode=h,jn=a,Bt=ei(h.firstChild),Ci=!1,y=!0):y=!1),y||Oa(a)),Ct(a),y=a.type,S=a.pendingProps,N=o!==null?o.memoizedProps:null,h=S.children,Yy(y,S)?h=null:N!==null&&Yy(y,N)&&(a.flags|=32),a.memoizedState!==null&&(y=Kg(o,a,CR,null,null,u),Vu._currentValue=y),th(o,a),yn(o,a,h,u),a.child;case 6:return o===null&&ft&&((o=u=Bt)&&(u=l4(u,a.pendingProps,Ci),u!==null?(a.stateNode=u,jn=a,Bt=null,o=!0):o=!1),o||Oa(a)),null;case 13:return KS(o,a,u);case 4:return lt(a,a.stateNode.containerInfo),h=a.pendingProps,o===null?a.child=ql(a,null,h,u):yn(o,a,h,u),a.child;case 11:return BS(o,a,a.type,a.pendingProps,u);case 7:return yn(o,a,a.pendingProps,u),a.child;case 8:return yn(o,a,a.pendingProps.children,u),a.child;case 12:return yn(o,a,a.pendingProps.children,u),a.child;case 10:return h=a.pendingProps,eo(a,a.type,h.value),yn(o,a,h.children,u),a.child;case 9:return y=a.type._context,h=a.pendingProps.children,Ra(a),y=Cn(y),h=h(y),a.flags|=1,yn(o,a,h,u),a.child;case 14:return HS(o,a,a.type,a.pendingProps,u);case 15:return VS(o,a,a.type,a.pendingProps,u);case 19:return XS(o,a,u);case 31:return h=a.pendingProps,u=a.mode,h={mode:h.mode,children:h.children},o===null?(u=nh(h,u),u.ref=a.ref,a.child=u,u.return=a,a=u):(u=ss(o.child,h),u.ref=a.ref,a.child=u,u.return=a,a=u),a;case 22:return $S(o,a,u);case 24:return Ra(a),h=Cn(tn),o===null?(y=Ug(),y===null&&(y=Ot,S=Pg(),y.pooledCache=S,S.refCount++,S!==null&&(y.pooledCacheLanes|=u),y=S),a.memoizedState={parent:h,cache:y},Hg(a),eo(a,tn,y)):((o.lanes&u)!==0&&(Vg(o,a),wu(a,null,null,u),bu()),y=o.memoizedState,S=a.memoizedState,y.parent!==h?(y={parent:h,cache:h},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),eo(a,tn,h)):(h=S.cache,eo(a,tn,h),h!==y.cache&&jg(a,[tn],u,!0))),yn(o,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function ps(o){o.flags|=4}function QS(o,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!oE(a)){if(a=jr.current,a!==null&&((rt&4194048)===rt?Ai!==null:(rt&62914560)!==rt&&(rt&536870912)===0||a!==Ai))throw yu=Bg,Lw;o.flags|=8192}}function rh(o,a){a!==null&&(o.flags|=4),o.flags&16384&&(a=o.tag!==22?Sl():536870912,o.lanes|=a,Yl|=a)}function ku(o,a){if(!ft)switch(o.tailMode){case"hidden":a=o.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?o.tail=null:u.sibling=null;break;case"collapsed":u=o.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:h.sibling=null}}function Pt(o){var a=o.alternate!==null&&o.alternate.child===o.child,u=0,h=0;if(a)for(var y=o.child;y!==null;)u|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)u|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=h,o.childLanes=u,a}function IR(o,a,u){var h=a.pendingProps;switch(Rg(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(a),null;case 1:return Pt(a),null;case 3:return u=a.stateNode,h=null,o!==null&&(h=o.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),us(tn),Fn(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(o===null||o.child===null)&&(uu(a)?ps(a):o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ow())),Pt(a),null;case 26:return u=a.memoizedState,o===null?(ps(a),u!==null?(Pt(a),QS(a,u)):(Pt(a),a.flags&=-16777217)):u?u!==o.memoizedState?(ps(a),Pt(a),QS(a,u)):(Pt(a),a.flags&=-16777217):(o.memoizedProps!==h&&ps(a),Pt(a),a.flags&=-16777217),null;case 27:rn(a),u=Ie.current;var y=a.type;if(o!==null&&a.stateNode!=null)o.memoizedProps!==h&&ps(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return Pt(a),null}o=Se.current,uu(a)?Nw(a):(o=Qx(y,h,u),a.stateNode=o,ps(a))}return Pt(a),null;case 5:if(rn(a),u=a.type,o!==null&&a.stateNode!=null)o.memoizedProps!==h&&ps(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return Pt(a),null}if(o=Se.current,uu(a))Nw(a);else{switch(y=gh(Ie.current),o){case 1:o=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:o=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":o=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":o=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":o=y.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof h.is=="string"?y.createElement("select",{is:h.is}):y.createElement("select"),h.multiple?o.multiple=!0:h.size&&(o.size=h.size);break;default:o=typeof h.is=="string"?y.createElement(u,{is:h.is}):y.createElement(u)}}o[ue]=a,o[pe]=h;e:for(y=a.child;y!==null;){if(y.tag===5||y.tag===6)o.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===a)break e;for(;y.sibling===null;){if(y.return===null||y.return===a)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}a.stateNode=o;e:switch(bn(o,u,h),u){case"button":case"input":case"select":case"textarea":o=!!h.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ps(a)}}return Pt(a),a.flags&=-16777217,null;case 6:if(o&&a.stateNode!=null)o.memoizedProps!==h&&ps(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(r(166));if(o=Ie.current,uu(a)){if(o=a.stateNode,u=a.memoizedProps,h=null,y=jn,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}o[ue]=a,o=!!(o.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||qx(o.nodeValue,u)),o||Oa(a)}else o=gh(o).createTextNode(h),o[ue]=a,a.stateNode=o}return Pt(a),null;case 13:if(h=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(y=uu(a),h!==null&&h.dehydrated!==null){if(o===null){if(!y)throw Error(r(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[ue]=a}else du(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Pt(a),y=!1}else y=Ow(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(fs(a),a):(fs(a),null)}if(fs(a),(a.flags&128)!==0)return a.lanes=u,a;if(u=h!==null,o=o!==null&&o.memoizedState!==null,u){h=a.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool);var S=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(S=h.memoizedState.cachePool.pool),S!==y&&(h.flags|=2048)}return u!==o&&u&&(a.child.flags|=8192),rh(a,a.updateQueue),Pt(a),null;case 4:return Fn(),o===null&&Fy(a.stateNode.containerInfo),Pt(a),null;case 10:return us(a.type),Pt(a),null;case 19:if(he(nn),y=a.memoizedState,y===null)return Pt(a),null;if(h=(a.flags&128)!==0,S=y.rendering,S===null)if(h)ku(y,!1);else{if(Ht!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(S=Qf(o),S!==null){for(a.flags|=128,ku(y,!1),o=S.updateQueue,a.updateQueue=o,rh(a,o),a.subtreeFlags=0,o=u,u=a.child;u!==null;)Aw(u,o),u=u.sibling;return de(nn,nn.current&1|2),a.child}o=o.sibling}y.tail!==null&&Rn()>oh&&(a.flags|=128,h=!0,ku(y,!1),a.lanes=4194304)}else{if(!h)if(o=Qf(S),o!==null){if(a.flags|=128,h=!0,o=o.updateQueue,a.updateQueue=o,rh(a,o),ku(y,!0),y.tail===null&&y.tailMode==="hidden"&&!S.alternate&&!ft)return Pt(a),null}else 2*Rn()-y.renderingStartTime>oh&&u!==536870912&&(a.flags|=128,h=!0,ku(y,!1),a.lanes=4194304);y.isBackwards?(S.sibling=a.child,a.child=S):(o=y.last,o!==null?o.sibling=S:a.child=S,y.last=S)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=Rn(),a.sibling=null,o=nn.current,de(nn,h?o&1|2:o&1),a):(Pt(a),null);case 22:case 23:return fs(a),Wg(),h=a.memoizedState!==null,o!==null?o.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(u&536870912)!==0&&(a.flags&128)===0&&(Pt(a),a.subtreeFlags&6&&(a.flags|=8192)):Pt(a),u=a.updateQueue,u!==null&&rh(a,u.retryQueue),u=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==u&&(a.flags|=2048),o!==null&&he(Da),null;case 24:return u=null,o!==null&&(u=o.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),us(tn),Pt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function LR(o,a){switch(Rg(a),a.tag){case 1:return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return us(tn),Fn(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 26:case 27:case 5:return rn(a),null;case 13:if(fs(a),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(r(340));du()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return he(nn),null;case 4:return Fn(),null;case 10:return us(a.type),null;case 22:case 23:return fs(a),Wg(),o!==null&&he(Da),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 24:return us(tn),null;case 25:return null;default:return null}}function ZS(o,a){switch(Rg(a),a.tag){case 3:us(tn),Fn();break;case 26:case 27:case 5:rn(a);break;case 4:Fn();break;case 13:fs(a);break;case 19:he(nn);break;case 10:us(a.type);break;case 22:case 23:fs(a),Wg(),o!==null&&he(Da);break;case 24:us(tn)}}function Nu(o,a){try{var u=a.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var y=h.next;u=y;do{if((u.tag&o)===o){h=void 0;var S=u.create,N=u.inst;h=S(),N.destroy=h}u=u.next}while(u!==y)}}catch(z){At(a,a.return,z)}}function ao(o,a,u){try{var h=a.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var S=y.next;h=S;do{if((h.tag&o)===o){var N=h.inst,z=N.destroy;if(z!==void 0){N.destroy=void 0,y=a;var $=u,Z=z;try{Z()}catch(se){At(y,$,se)}}}h=h.next}while(h!==S)}}catch(se){At(a,a.return,se)}}function ex(o){var a=o.updateQueue;if(a!==null){var u=o.stateNode;try{Hw(a,u)}catch(h){At(o,o.return,h)}}}function tx(o,a,u){u.props=La(o.type,o.memoizedProps),u.state=o.memoizedState;try{u.componentWillUnmount()}catch(h){At(o,a,h)}}function Mu(o,a){try{var u=o.ref;if(u!==null){switch(o.tag){case 26:case 27:case 5:var h=o.stateNode;break;case 30:h=o.stateNode;break;default:h=o.stateNode}typeof u=="function"?o.refCleanup=u(h):u.current=h}}catch(y){At(o,a,y)}}function ki(o,a){var u=o.ref,h=o.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(y){At(o,a,y)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){At(o,a,y)}else u.current=null}function nx(o){var a=o.type,u=o.memoizedProps,h=o.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(y){At(o,o.return,y)}}function wy(o,a,u){try{var h=o.stateNode;n4(h,o.type,u,a),h[pe]=a}catch(y){At(o,o.return,y)}}function rx(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&go(o.type)||o.tag===4}function Sy(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||rx(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&go(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function xy(o,a,u){var h=o.tag;if(h===5||h===6)o=o.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(o,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(o),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=mh));else if(h!==4&&(h===27&&go(o.type)&&(u=o.stateNode,a=null),o=o.child,o!==null))for(xy(o,a,u),o=o.sibling;o!==null;)xy(o,a,u),o=o.sibling}function ih(o,a,u){var h=o.tag;if(h===5||h===6)o=o.stateNode,a?u.insertBefore(o,a):u.appendChild(o);else if(h!==4&&(h===27&&go(o.type)&&(u=o.stateNode),o=o.child,o!==null))for(ih(o,a,u),o=o.sibling;o!==null;)ih(o,a,u),o=o.sibling}function ix(o){var a=o.stateNode,u=o.memoizedProps;try{for(var h=o.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);bn(a,h,u),a[ue]=o,a[pe]=u}catch(S){At(o,o.return,S)}}var ms=!1,Wt=!1,Ey=!1,sx=typeof WeakSet=="function"?WeakSet:Set,un=null;function jR(o,a){if(o=o.containerInfo,Gy=xh,o=gw(o),Sg(o)){if("selectionStart"in o)var u={start:o.selectionStart,end:o.selectionEnd};else e:{u=(u=o.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var y=h.anchorOffset,S=h.focusNode;h=h.focusOffset;try{u.nodeType,S.nodeType}catch{u=null;break e}var N=0,z=-1,$=-1,Z=0,se=0,le=o,te=null;t:for(;;){for(var ne;le!==u||y!==0&&le.nodeType!==3||(z=N+y),le!==S||h!==0&&le.nodeType!==3||($=N+h),le.nodeType===3&&(N+=le.nodeValue.length),(ne=le.firstChild)!==null;)te=le,le=ne;for(;;){if(le===o)break t;if(te===u&&++Z===y&&(z=N),te===S&&++se===h&&($=N),(ne=le.nextSibling)!==null)break;le=te,te=le.parentNode}le=ne}u=z===-1||$===-1?null:{start:z,end:$}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ky={focusedElem:o,selectionRange:u},xh=!1,un=a;un!==null;)if(a=un,o=a.child,(a.subtreeFlags&1024)!==0&&o!==null)o.return=a,un=o;else for(;un!==null;){switch(a=un,S=a.alternate,o=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&S!==null){o=void 0,u=a,y=S.memoizedProps,S=S.memoizedState,h=u.stateNode;try{var He=La(u.type,y,u.elementType===u.type);o=h.getSnapshotBeforeUpdate(He,S),h.__reactInternalSnapshotBeforeUpdate=o}catch(je){At(u,u.return,je)}}break;case 3:if((o&1024)!==0){if(o=a.stateNode.containerInfo,u=o.nodeType,u===9)Jy(o);else if(u===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Jy(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=a.sibling,o!==null){o.return=a.return,un=o;break}un=a.return}}function ox(o,a,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:lo(o,u),h&4&&Nu(5,u);break;case 1:if(lo(o,u),h&4)if(o=u.stateNode,a===null)try{o.componentDidMount()}catch(N){At(u,u.return,N)}else{var y=La(u.type,a.memoizedProps);a=a.memoizedState;try{o.componentDidUpdate(y,a,o.__reactInternalSnapshotBeforeUpdate)}catch(N){At(u,u.return,N)}}h&64&&ex(u),h&512&&Mu(u,u.return);break;case 3:if(lo(o,u),h&64&&(o=u.updateQueue,o!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{Hw(o,a)}catch(N){At(u,u.return,N)}}break;case 27:a===null&&h&4&&ix(u);case 26:case 5:lo(o,u),a===null&&h&4&&nx(u),h&512&&Mu(u,u.return);break;case 12:lo(o,u);break;case 13:lo(o,u),h&4&&cx(o,u),h&64&&(o=u.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(u=qR.bind(null,u),c4(o,u))));break;case 22:if(h=u.memoizedState!==null||ms,!h){a=a!==null&&a.memoizedState!==null||Wt,y=ms;var S=Wt;ms=h,(Wt=a)&&!S?co(o,u,(u.subtreeFlags&8772)!==0):lo(o,u),ms=y,Wt=S}break;case 30:break;default:lo(o,u)}}function ax(o){var a=o.alternate;a!==null&&(o.alternate=null,ax(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&xe(a)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Lt=null,Jn=!1;function gs(o,a,u){for(u=u.child;u!==null;)lx(o,a,u),u=u.sibling}function lx(o,a,u){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(ct,u)}catch{}switch(u.tag){case 26:Wt||ki(u,a),gs(o,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Wt||ki(u,a);var h=Lt,y=Jn;go(u.type)&&(Lt=u.stateNode,Jn=!1),gs(o,a,u),zu(u.stateNode),Lt=h,Jn=y;break;case 5:Wt||ki(u,a);case 6:if(h=Lt,y=Jn,Lt=null,gs(o,a,u),Lt=h,Jn=y,Lt!==null)if(Jn)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(u.stateNode)}catch(S){At(u,a,S)}else try{Lt.removeChild(u.stateNode)}catch(S){At(u,a,S)}break;case 18:Lt!==null&&(Jn?(o=Lt,Xx(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,u.stateNode),Wu(o)):Xx(Lt,u.stateNode));break;case 4:h=Lt,y=Jn,Lt=u.stateNode.containerInfo,Jn=!0,gs(o,a,u),Lt=h,Jn=y;break;case 0:case 11:case 14:case 15:Wt||ao(2,u,a),Wt||ao(4,u,a),gs(o,a,u);break;case 1:Wt||(ki(u,a),h=u.stateNode,typeof h.componentWillUnmount=="function"&&tx(u,a,h)),gs(o,a,u);break;case 21:gs(o,a,u);break;case 22:Wt=(h=Wt)||u.memoizedState!==null,gs(o,a,u),Wt=h;break;default:gs(o,a,u)}}function cx(o,a){if(a.memoizedState===null&&(o=a.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Wu(o)}catch(u){At(a,a.return,u)}}function PR(o){switch(o.tag){case 13:case 19:var a=o.stateNode;return a===null&&(a=o.stateNode=new sx),a;case 22:return o=o.stateNode,a=o._retryCache,a===null&&(a=o._retryCache=new sx),a;default:throw Error(r(435,o.tag))}}function Ty(o,a){var u=PR(o);a.forEach(function(h){var y=WR.bind(null,o,h);u.has(h)||(u.add(h),h.then(y,y))})}function ur(o,a){var u=a.deletions;if(u!==null)for(var h=0;h<u.length;h++){var y=u[h],S=o,N=a,z=N;e:for(;z!==null;){switch(z.tag){case 27:if(go(z.type)){Lt=z.stateNode,Jn=!1;break e}break;case 5:Lt=z.stateNode,Jn=!1;break e;case 3:case 4:Lt=z.stateNode.containerInfo,Jn=!0;break e}z=z.return}if(Lt===null)throw Error(r(160));lx(S,N,y),Lt=null,Jn=!1,S=y.alternate,S!==null&&(S.return=null),y.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)ux(a,o),a=a.sibling}var Zr=null;function ux(o,a){var u=o.alternate,h=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:ur(a,o),dr(o),h&4&&(ao(3,o,o.return),Nu(3,o),ao(5,o,o.return));break;case 1:ur(a,o),dr(o),h&512&&(Wt||u===null||ki(u,u.return)),h&64&&ms&&(o=o.updateQueue,o!==null&&(h=o.callbacks,h!==null&&(u=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var y=Zr;if(ur(a,o),dr(o),h&512&&(Wt||u===null||ki(u,u.return)),h&4){var S=u!==null?u.memoizedState:null;if(h=o.memoizedState,u===null)if(h===null)if(o.stateNode===null){e:{h=o.type,u=o.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":S=y.getElementsByTagName("title")[0],(!S||S[ke]||S[ue]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=y.createElement(h),y.head.insertBefore(S,y.querySelector("head > title"))),bn(S,h,u),S[ue]=o,Fe(S),h=S;break e;case"link":var N=iE("link","href",y).get(h+(u.href||""));if(N){for(var z=0;z<N.length;z++)if(S=N[z],S.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&S.getAttribute("rel")===(u.rel==null?null:u.rel)&&S.getAttribute("title")===(u.title==null?null:u.title)&&S.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){N.splice(z,1);break t}}S=y.createElement(h),bn(S,h,u),y.head.appendChild(S);break;case"meta":if(N=iE("meta","content",y).get(h+(u.content||""))){for(z=0;z<N.length;z++)if(S=N[z],S.getAttribute("content")===(u.content==null?null:""+u.content)&&S.getAttribute("name")===(u.name==null?null:u.name)&&S.getAttribute("property")===(u.property==null?null:u.property)&&S.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&S.getAttribute("charset")===(u.charSet==null?null:u.charSet)){N.splice(z,1);break t}}S=y.createElement(h),bn(S,h,u),y.head.appendChild(S);break;default:throw Error(r(468,h))}S[ue]=o,Fe(S),h=S}o.stateNode=h}else sE(y,o.type,o.stateNode);else o.stateNode=rE(y,h,o.memoizedProps);else S!==h?(S===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):S.count--,h===null?sE(y,o.type,o.stateNode):rE(y,h,o.memoizedProps)):h===null&&o.stateNode!==null&&wy(o,o.memoizedProps,u.memoizedProps)}break;case 27:ur(a,o),dr(o),h&512&&(Wt||u===null||ki(u,u.return)),u!==null&&h&4&&wy(o,o.memoizedProps,u.memoizedProps);break;case 5:if(ur(a,o),dr(o),h&512&&(Wt||u===null||ki(u,u.return)),o.flags&32){y=o.stateNode;try{Nr(y,"")}catch(ne){At(o,o.return,ne)}}h&4&&o.stateNode!=null&&(y=o.memoizedProps,wy(o,y,u!==null?u.memoizedProps:y)),h&1024&&(Ey=!0);break;case 6:if(ur(a,o),dr(o),h&4){if(o.stateNode===null)throw Error(r(162));h=o.memoizedProps,u=o.stateNode;try{u.nodeValue=h}catch(ne){At(o,o.return,ne)}}break;case 3:if(bh=null,y=Zr,Zr=yh(a.containerInfo),ur(a,o),Zr=y,dr(o),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Wu(a.containerInfo)}catch(ne){At(o,o.return,ne)}Ey&&(Ey=!1,dx(o));break;case 4:h=Zr,Zr=yh(o.stateNode.containerInfo),ur(a,o),dr(o),Zr=h;break;case 12:ur(a,o),dr(o);break;case 13:ur(a,o),dr(o),o.child.flags&8192&&o.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Oy=Rn()),h&4&&(h=o.updateQueue,h!==null&&(o.updateQueue=null,Ty(o,h)));break;case 22:y=o.memoizedState!==null;var $=u!==null&&u.memoizedState!==null,Z=ms,se=Wt;if(ms=Z||y,Wt=se||$,ur(a,o),Wt=se,ms=Z,dr(o),h&8192)e:for(a=o.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(u===null||$||ms||Wt||ja(o)),u=null,a=o;;){if(a.tag===5||a.tag===26){if(u===null){$=u=a;try{if(S=$.stateNode,y)N=S.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{z=$.stateNode;var le=$.memoizedProps.style,te=le!=null&&le.hasOwnProperty("display")?le.display:null;z.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){At($,$.return,ne)}}}else if(a.tag===6){if(u===null){$=a;try{$.stateNode.nodeValue=y?"":$.memoizedProps}catch(ne){At($,$.return,ne)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===o)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=o.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,Ty(o,u))));break;case 19:ur(a,o),dr(o),h&4&&(h=o.updateQueue,h!==null&&(o.updateQueue=null,Ty(o,h)));break;case 30:break;case 21:break;default:ur(a,o),dr(o)}}function dr(o){var a=o.flags;if(a&2){try{for(var u,h=o.return;h!==null;){if(rx(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var y=u.stateNode,S=Sy(o);ih(o,S,y);break;case 5:var N=u.stateNode;u.flags&32&&(Nr(N,""),u.flags&=-33);var z=Sy(o);ih(o,z,N);break;case 3:case 4:var $=u.stateNode.containerInfo,Z=Sy(o);xy(o,Z,$);break;default:throw Error(r(161))}}catch(se){At(o,o.return,se)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function dx(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var a=o;dx(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),o=o.sibling}}function lo(o,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)ox(o,a.alternate,a),a=a.sibling}function ja(o){for(o=o.child;o!==null;){var a=o;switch(a.tag){case 0:case 11:case 14:case 15:ao(4,a,a.return),ja(a);break;case 1:ki(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&tx(a,a.return,u),ja(a);break;case 27:zu(a.stateNode);case 26:case 5:ki(a,a.return),ja(a);break;case 22:a.memoizedState===null&&ja(a);break;case 30:ja(a);break;default:ja(a)}o=o.sibling}}function co(o,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,y=o,S=a,N=S.flags;switch(S.tag){case 0:case 11:case 15:co(y,S,u),Nu(4,S);break;case 1:if(co(y,S,u),h=S,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Z){At(h,h.return,Z)}if(h=S,y=h.updateQueue,y!==null){var z=h.stateNode;try{var $=y.shared.hiddenCallbacks;if($!==null)for(y.shared.hiddenCallbacks=null,y=0;y<$.length;y++)Bw($[y],z)}catch(Z){At(h,h.return,Z)}}u&&N&64&&ex(S),Mu(S,S.return);break;case 27:ix(S);case 26:case 5:co(y,S,u),u&&h===null&&N&4&&nx(S),Mu(S,S.return);break;case 12:co(y,S,u);break;case 13:co(y,S,u),u&&N&4&&cx(y,S);break;case 22:S.memoizedState===null&&co(y,S,u),Mu(S,S.return);break;case 30:break;default:co(y,S,u)}a=a.sibling}}function Cy(o,a){var u=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==u&&(o!=null&&o.refCount++,u!=null&&pu(u))}function Ay(o,a){o=null,a.alternate!==null&&(o=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==o&&(a.refCount++,o!=null&&pu(o))}function Ni(o,a,u,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)fx(o,a,u,h),a=a.sibling}function fx(o,a,u,h){var y=a.flags;switch(a.tag){case 0:case 11:case 15:Ni(o,a,u,h),y&2048&&Nu(9,a);break;case 1:Ni(o,a,u,h);break;case 3:Ni(o,a,u,h),y&2048&&(o=null,a.alternate!==null&&(o=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==o&&(a.refCount++,o!=null&&pu(o)));break;case 12:if(y&2048){Ni(o,a,u,h),o=a.stateNode;try{var S=a.memoizedProps,N=S.id,z=S.onPostCommit;typeof z=="function"&&z(N,a.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch($){At(a,a.return,$)}}else Ni(o,a,u,h);break;case 13:Ni(o,a,u,h);break;case 23:break;case 22:S=a.stateNode,N=a.alternate,a.memoizedState!==null?S._visibility&2?Ni(o,a,u,h):Ou(o,a):S._visibility&2?Ni(o,a,u,h):(S._visibility|=2,Wl(o,a,u,h,(a.subtreeFlags&10256)!==0)),y&2048&&Cy(N,a);break;case 24:Ni(o,a,u,h),y&2048&&Ay(a.alternate,a);break;default:Ni(o,a,u,h)}}function Wl(o,a,u,h,y){for(y=y&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var S=o,N=a,z=u,$=h,Z=N.flags;switch(N.tag){case 0:case 11:case 15:Wl(S,N,z,$,y),Nu(8,N);break;case 23:break;case 22:var se=N.stateNode;N.memoizedState!==null?se._visibility&2?Wl(S,N,z,$,y):Ou(S,N):(se._visibility|=2,Wl(S,N,z,$,y)),y&&Z&2048&&Cy(N.alternate,N);break;case 24:Wl(S,N,z,$,y),y&&Z&2048&&Ay(N.alternate,N);break;default:Wl(S,N,z,$,y)}a=a.sibling}}function Ou(o,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=o,h=a,y=h.flags;switch(h.tag){case 22:Ou(u,h),y&2048&&Cy(h.alternate,h);break;case 24:Ou(u,h),y&2048&&Ay(h.alternate,h);break;default:Ou(u,h)}a=a.sibling}}var _u=8192;function Gl(o){if(o.subtreeFlags&_u)for(o=o.child;o!==null;)hx(o),o=o.sibling}function hx(o){switch(o.tag){case 26:Gl(o),o.flags&_u&&o.memoizedState!==null&&x4(Zr,o.memoizedState,o.memoizedProps);break;case 5:Gl(o);break;case 3:case 4:var a=Zr;Zr=yh(o.stateNode.containerInfo),Gl(o),Zr=a;break;case 22:o.memoizedState===null&&(a=o.alternate,a!==null&&a.memoizedState!==null?(a=_u,_u=16777216,Gl(o),_u=a):Gl(o));break;default:Gl(o)}}function px(o){var a=o.alternate;if(a!==null&&(o=a.child,o!==null)){a.child=null;do a=o.sibling,o.sibling=null,o=a;while(o!==null)}}function Ru(o){var a=o.deletions;if((o.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var h=a[u];un=h,gx(h,o)}px(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)mx(o),o=o.sibling}function mx(o){switch(o.tag){case 0:case 11:case 15:Ru(o),o.flags&2048&&ao(9,o,o.return);break;case 3:Ru(o);break;case 12:Ru(o);break;case 22:var a=o.stateNode;o.memoizedState!==null&&a._visibility&2&&(o.return===null||o.return.tag!==13)?(a._visibility&=-3,sh(o)):Ru(o);break;default:Ru(o)}}function sh(o){var a=o.deletions;if((o.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var h=a[u];un=h,gx(h,o)}px(o)}for(o=o.child;o!==null;){switch(a=o,a.tag){case 0:case 11:case 15:ao(8,a,a.return),sh(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,sh(a));break;default:sh(a)}o=o.sibling}}function gx(o,a){for(;un!==null;){var u=un;switch(u.tag){case 0:case 11:case 15:ao(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:pu(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,un=h;else e:for(u=o;un!==null;){h=un;var y=h.sibling,S=h.return;if(ax(h),h===u){un=null;break e}if(y!==null){y.return=S,un=y;break e}un=S}}}var zR={getCacheForType:function(o){var a=Cn(tn),u=a.data.get(o);return u===void 0&&(u=o(),a.data.set(o,u)),u}},UR=typeof WeakMap=="function"?WeakMap:Map,yt=0,Ot=null,Qe=null,rt=0,vt=0,fr=null,uo=!1,Kl=!1,ky=!1,ys=0,Ht=0,fo=0,Pa=0,Ny=0,Pr=0,Yl=0,Du=null,Qn=null,My=!1,Oy=0,oh=1/0,ah=null,ho=null,vn=0,po=null,Xl=null,Jl=0,_y=0,Ry=null,yx=null,Iu=0,Dy=null;function hr(){if((yt&2)!==0&&rt!==0)return rt&-rt;if(G.T!==null){var o=zl;return o!==0?o:By()}return W()}function vx(){Pr===0&&(Pr=(rt&536870912)===0||ft?Yi():536870912);var o=jr.current;return o!==null&&(o.flags|=32),Pr}function pr(o,a,u){(o===Ot&&(vt===2||vt===9)||o.cancelPendingCommit!==null)&&(Ql(o,0),mo(o,rt,Pr,!1)),Kr(o,u),((yt&2)===0||o!==Ot)&&(o===Ot&&((yt&2)===0&&(Pa|=u),Ht===4&&mo(o,rt,Pr,!1)),Mi(o))}function bx(o,a,u){if((yt&6)!==0)throw Error(r(327));var h=!u&&(a&124)===0&&(a&o.expiredLanes)===0||Cr(o,a),y=h?VR(o,a):jy(o,a,!0),S=h;do{if(y===0){Kl&&!h&&mo(o,a,0,!1);break}else{if(u=o.current.alternate,S&&!BR(u)){y=jy(o,a,!1),S=!1;continue}if(y===2){if(S=a,o.errorRecoveryDisabledLanes&S)var N=0;else N=o.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){a=N;e:{var z=o;y=Du;var $=z.current.memoizedState.isDehydrated;if($&&(Ql(z,N).flags|=256),N=jy(z,N,!1),N!==2){if(ky&&!$){z.errorRecoveryDisabledLanes|=S,Pa|=S,y=4;break e}S=Qn,Qn=y,S!==null&&(Qn===null?Qn=S:Qn.push.apply(Qn,S))}y=N}if(S=!1,y!==2)continue}}if(y===1){Ql(o,0),mo(o,a,0,!0);break}e:{switch(h=o,S=y,S){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:mo(h,a,Pr,!uo);break e;case 2:Qn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(y=Oy+300-Rn(),10<y)){if(mo(h,a,Pr,!uo),Ki(h,0,!0)!==0)break e;h.timeoutHandle=Kx(wx.bind(null,h,u,Qn,ah,My,a,Pr,Pa,Yl,uo,S,2,-0,0),y);break e}wx(h,u,Qn,ah,My,a,Pr,Pa,Yl,uo,S,0,-0,0)}}break}while(!0);Mi(o)}function wx(o,a,u,h,y,S,N,z,$,Z,se,le,te,ne){if(o.timeoutHandle=-1,le=a.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(Hu={stylesheets:null,count:0,unsuspend:S4},hx(a),le=E4(),le!==null)){o.cancelPendingCommit=le(kx.bind(null,o,a,S,u,h,y,N,z,$,se,1,te,ne)),mo(o,S,N,!Z);return}kx(o,a,S,u,h,y,N,z,$)}function BR(o){for(var a=o;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var y=u[h],S=y.getSnapshot;y=y.value;try{if(!lr(S(),y))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function mo(o,a,u,h){a&=~Ny,a&=~Pa,o.suspendedLanes|=a,o.pingedLanes&=~a,h&&(o.warmLanes|=a),h=o.expirationTimes;for(var y=a;0<y;){var S=31-Gt(y),N=1<<S;h[S]=-1,y&=~N}u!==0&&Wn(o,u,a)}function lh(){return(yt&6)===0?(Lu(0),!1):!0}function Iy(){if(Qe!==null){if(vt===0)var o=Qe.return;else o=Qe,cs=_a=null,Jg(o),Fl=null,Cu=0,o=Qe;for(;o!==null;)ZS(o.alternate,o),o=o.return;Qe=null}}function Ql(o,a){var u=o.timeoutHandle;u!==-1&&(o.timeoutHandle=-1,i4(u)),u=o.cancelPendingCommit,u!==null&&(o.cancelPendingCommit=null,u()),Iy(),Ot=o,Qe=u=ss(o.current,null),rt=a,vt=0,fr=null,uo=!1,Kl=Cr(o,a),ky=!1,Yl=Pr=Ny=Pa=fo=Ht=0,Qn=Du=null,My=!1,(a&8)!==0&&(a|=a&32);var h=o.entangledLanes;if(h!==0)for(o=o.entanglements,h&=a;0<h;){var y=31-Gt(h),S=1<<y;a|=o[y],h&=~S}return ys=a,Of(),u}function Sx(o,a){Ye=null,G.H=Yf,a===gu||a===Uf?(a=zw(),vt=3):a===Lw?(a=zw(),vt=4):vt=a===US?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,fr=a,Qe===null&&(Ht=1,eh(o,Rr(a,o.current)))}function xx(){var o=G.H;return G.H=Yf,o===null?Yf:o}function Ex(){var o=G.A;return G.A=zR,o}function Ly(){Ht=4,uo||(rt&4194048)!==rt&&jr.current!==null||(Kl=!0),(fo&134217727)===0&&(Pa&134217727)===0||Ot===null||mo(Ot,rt,Pr,!1)}function jy(o,a,u){var h=yt;yt|=2;var y=xx(),S=Ex();(Ot!==o||rt!==a)&&(ah=null,Ql(o,a)),a=!1;var N=Ht;e:do try{if(vt!==0&&Qe!==null){var z=Qe,$=fr;switch(vt){case 8:Iy(),N=6;break e;case 3:case 2:case 9:case 6:jr.current===null&&(a=!0);var Z=vt;if(vt=0,fr=null,Zl(o,z,$,Z),u&&Kl){N=0;break e}break;default:Z=vt,vt=0,fr=null,Zl(o,z,$,Z)}}HR(),N=Ht;break}catch(se){Sx(o,se)}while(!0);return a&&o.shellSuspendCounter++,cs=_a=null,yt=h,G.H=y,G.A=S,Qe===null&&(Ot=null,rt=0,Of()),N}function HR(){for(;Qe!==null;)Tx(Qe)}function VR(o,a){var u=yt;yt|=2;var h=xx(),y=Ex();Ot!==o||rt!==a?(ah=null,oh=Rn()+500,Ql(o,a)):Kl=Cr(o,a);e:do try{if(vt!==0&&Qe!==null){a=Qe;var S=fr;t:switch(vt){case 1:vt=0,fr=null,Zl(o,a,S,1);break;case 2:case 9:if(jw(S)){vt=0,fr=null,Cx(a);break}a=function(){vt!==2&&vt!==9||Ot!==o||(vt=7),Mi(o)},S.then(a,a);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:jw(S)?(vt=0,fr=null,Cx(a)):(vt=0,fr=null,Zl(o,a,S,7));break;case 5:var N=null;switch(Qe.tag){case 26:N=Qe.memoizedState;case 5:case 27:var z=Qe;if(!N||oE(N)){vt=0,fr=null;var $=z.sibling;if($!==null)Qe=$;else{var Z=z.return;Z!==null?(Qe=Z,ch(Z)):Qe=null}break t}}vt=0,fr=null,Zl(o,a,S,5);break;case 6:vt=0,fr=null,Zl(o,a,S,6);break;case 8:Iy(),Ht=6;break e;default:throw Error(r(462))}}$R();break}catch(se){Sx(o,se)}while(!0);return cs=_a=null,G.H=h,G.A=y,yt=u,Qe!==null?0:(Ot=null,rt=0,Of(),Ht)}function $R(){for(;Qe!==null&&!da();)Tx(Qe)}function Tx(o){var a=JS(o.alternate,o,ys);o.memoizedProps=o.pendingProps,a===null?ch(o):Qe=a}function Cx(o){var a=o,u=a.alternate;switch(a.tag){case 15:case 0:a=qS(u,a,a.pendingProps,a.type,void 0,rt);break;case 11:a=qS(u,a,a.pendingProps,a.type.render,a.ref,rt);break;case 5:Jg(a);default:ZS(u,a),a=Qe=Aw(a,ys),a=JS(u,a,ys)}o.memoizedProps=o.pendingProps,a===null?ch(o):Qe=a}function Zl(o,a,u,h){cs=_a=null,Jg(a),Fl=null,Cu=0;var y=a.return;try{if(RR(o,y,a,u,rt)){Ht=1,eh(o,Rr(u,o.current)),Qe=null;return}}catch(S){if(y!==null)throw Qe=y,S;Ht=1,eh(o,Rr(u,o.current)),Qe=null;return}a.flags&32768?(ft||h===1?o=!0:Kl||(rt&536870912)!==0?o=!1:(uo=o=!0,(h===2||h===9||h===3||h===6)&&(h=jr.current,h!==null&&h.tag===13&&(h.flags|=16384))),Ax(a,o)):ch(a)}function ch(o){var a=o;do{if((a.flags&32768)!==0){Ax(a,uo);return}o=a.return;var u=IR(a.alternate,a,ys);if(u!==null){Qe=u;return}if(a=a.sibling,a!==null){Qe=a;return}Qe=a=o}while(a!==null);Ht===0&&(Ht=5)}function Ax(o,a){do{var u=LR(o.alternate,o);if(u!==null){u.flags&=32767,Qe=u;return}if(u=o.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(o=o.sibling,o!==null)){Qe=o;return}Qe=o=u}while(o!==null);Ht=6,Qe=null}function kx(o,a,u,h,y,S,N,z,$){o.cancelPendingCommit=null;do uh();while(vn!==0);if((yt&6)!==0)throw Error(r(327));if(a!==null){if(a===o.current)throw Error(r(177));if(S=a.lanes|a.childLanes,S|=Ag,Ws(o,u,S,N,z,$),o===Ot&&(Qe=Ot=null,rt=0),Xl=a,po=o,Jl=u,_y=S,Ry=y,yx=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,GR(Gi,function(){return Rx(),null})):(o.callbackNode=null,o.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=G.T,G.T=null,y=oe.p,oe.p=2,N=yt,yt|=4;try{jR(o,a,u)}finally{yt=N,oe.p=y,G.T=h}}vn=1,Nx(),Mx(),Ox()}}function Nx(){if(vn===1){vn=0;var o=po,a=Xl,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=G.T,G.T=null;var h=oe.p;oe.p=2;var y=yt;yt|=4;try{ux(a,o);var S=Ky,N=gw(o.containerInfo),z=S.focusedElem,$=S.selectionRange;if(N!==z&&z&&z.ownerDocument&&mw(z.ownerDocument.documentElement,z)){if($!==null&&Sg(z)){var Z=$.start,se=$.end;if(se===void 0&&(se=Z),"selectionStart"in z)z.selectionStart=Z,z.selectionEnd=Math.min(se,z.value.length);else{var le=z.ownerDocument||document,te=le&&le.defaultView||window;if(te.getSelection){var ne=te.getSelection(),He=z.textContent.length,je=Math.min($.start,He),Tt=$.end===void 0?je:Math.min($.end,He);!ne.extend&&je>Tt&&(N=Tt,Tt=je,je=N);var Y=pw(z,je),K=pw(z,Tt);if(Y&&K&&(ne.rangeCount!==1||ne.anchorNode!==Y.node||ne.anchorOffset!==Y.offset||ne.focusNode!==K.node||ne.focusOffset!==K.offset)){var Q=le.createRange();Q.setStart(Y.node,Y.offset),ne.removeAllRanges(),je>Tt?(ne.addRange(Q),ne.extend(K.node,K.offset)):(Q.setEnd(K.node,K.offset),ne.addRange(Q))}}}}for(le=[],ne=z;ne=ne.parentNode;)ne.nodeType===1&&le.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<le.length;z++){var ae=le[z];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}xh=!!Gy,Ky=Gy=null}finally{yt=y,oe.p=h,G.T=u}}o.current=a,vn=2}}function Mx(){if(vn===2){vn=0;var o=po,a=Xl,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=G.T,G.T=null;var h=oe.p;oe.p=2;var y=yt;yt|=4;try{ox(o,a.alternate,a)}finally{yt=y,oe.p=h,G.T=u}}vn=3}}function Ox(){if(vn===4||vn===3){vn=0,bl();var o=po,a=Xl,u=Jl,h=yx;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?vn=5:(vn=0,Xl=po=null,_x(o,o.pendingLanes));var y=o.pendingLanes;if(y===0&&(ho=null),Gs(u),a=a.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(ct,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=G.T,y=oe.p,oe.p=2,G.T=null;try{for(var S=o.onRecoverableError,N=0;N<h.length;N++){var z=h[N];S(z.value,{componentStack:z.stack})}}finally{G.T=a,oe.p=y}}(Jl&3)!==0&&uh(),Mi(o),y=o.pendingLanes,(u&4194090)!==0&&(y&42)!==0?o===Dy?Iu++:(Iu=0,Dy=o):Iu=0,Lu(0)}}function _x(o,a){(o.pooledCacheLanes&=a)===0&&(a=o.pooledCache,a!=null&&(o.pooledCache=null,pu(a)))}function uh(o){return Nx(),Mx(),Ox(),Rx()}function Rx(){if(vn!==5)return!1;var o=po,a=_y;_y=0;var u=Gs(Jl),h=G.T,y=oe.p;try{oe.p=32>u?32:u,G.T=null,u=Ry,Ry=null;var S=po,N=Jl;if(vn=0,Xl=po=null,Jl=0,(yt&6)!==0)throw Error(r(331));var z=yt;if(yt|=4,mx(S.current),fx(S,S.current,N,u),yt=z,Lu(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(ct,S)}catch{}return!0}finally{oe.p=y,G.T=h,_x(o,a)}}function Dx(o,a,u){a=Rr(u,a),a=dy(o.stateNode,a,2),o=ro(o,a,2),o!==null&&(Kr(o,2),Mi(o))}function At(o,a,u){if(o.tag===3)Dx(o,o,u);else for(;a!==null;){if(a.tag===3){Dx(a,o,u);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ho===null||!ho.has(h))){o=Rr(u,o),u=PS(2),h=ro(a,u,2),h!==null&&(zS(u,h,a,o),Kr(h,2),Mi(h));break}}a=a.return}}function Py(o,a,u){var h=o.pingCache;if(h===null){h=o.pingCache=new UR;var y=new Set;h.set(a,y)}else y=h.get(a),y===void 0&&(y=new Set,h.set(a,y));y.has(u)||(ky=!0,y.add(u),o=FR.bind(null,o,a,u),a.then(o,o))}function FR(o,a,u){var h=o.pingCache;h!==null&&h.delete(a),o.pingedLanes|=o.suspendedLanes&u,o.warmLanes&=~u,Ot===o&&(rt&u)===u&&(Ht===4||Ht===3&&(rt&62914560)===rt&&300>Rn()-Oy?(yt&2)===0&&Ql(o,0):Ny|=u,Yl===rt&&(Yl=0)),Mi(o)}function Ix(o,a){a===0&&(a=Sl()),o=Il(o,a),o!==null&&(Kr(o,a),Mi(o))}function qR(o){var a=o.memoizedState,u=0;a!==null&&(u=a.retryLane),Ix(o,u)}function WR(o,a){var u=0;switch(o.tag){case 13:var h=o.stateNode,y=o.memoizedState;y!==null&&(u=y.retryLane);break;case 19:h=o.stateNode;break;case 22:h=o.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(a),Ix(o,u)}function GR(o,a){return qn(o,a)}var dh=null,ec=null,zy=!1,fh=!1,Uy=!1,za=0;function Mi(o){o!==ec&&o.next===null&&(ec===null?dh=ec=o:ec=ec.next=o),fh=!0,zy||(zy=!0,YR())}function Lu(o,a){if(!Uy&&fh){Uy=!0;do for(var u=!1,h=dh;h!==null;){if(o!==0){var y=h.pendingLanes;if(y===0)var S=0;else{var N=h.suspendedLanes,z=h.pingedLanes;S=(1<<31-Gt(42|o)+1)-1,S&=y&~(N&~z),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(u=!0,zx(h,S))}else S=rt,S=Ki(h,h===Ot?S:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(S&3)===0||Cr(h,S)||(u=!0,zx(h,S));h=h.next}while(u);Uy=!1}}function KR(){Lx()}function Lx(){fh=zy=!1;var o=0;za!==0&&(r4()&&(o=za),za=0);for(var a=Rn(),u=null,h=dh;h!==null;){var y=h.next,S=jx(h,a);S===0?(h.next=null,u===null?dh=y:u.next=y,y===null&&(ec=u)):(u=h,(o!==0||(S&3)!==0)&&(fh=!0)),h=y}Lu(o)}function jx(o,a){for(var u=o.suspendedLanes,h=o.pingedLanes,y=o.expirationTimes,S=o.pendingLanes&-62914561;0<S;){var N=31-Gt(S),z=1<<N,$=y[N];$===-1?((z&u)===0||(z&h)!==0)&&(y[N]=qs(z,a)):$<=a&&(o.expiredLanes|=z),S&=~z}if(a=Ot,u=rt,u=Ki(o,o===a?u:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),h=o.callbackNode,u===0||o===a&&(vt===2||vt===9)||o.cancelPendingCommit!==null)return h!==null&&h!==null&&_n(h),o.callbackNode=null,o.callbackPriority=0;if((u&3)===0||Cr(o,u)){if(a=u&-u,a===o.callbackPriority)return a;switch(h!==null&&_n(h),Gs(u)){case 2:case 8:u=Vs;break;case 32:u=Gi;break;case 268435456:u=Er;break;default:u=Gi}return h=Px.bind(null,o),u=qn(u,h),o.callbackPriority=a,o.callbackNode=u,a}return h!==null&&h!==null&&_n(h),o.callbackPriority=2,o.callbackNode=null,2}function Px(o,a){if(vn!==0&&vn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var u=o.callbackNode;if(uh()&&o.callbackNode!==u)return null;var h=rt;return h=Ki(o,o===Ot?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),h===0?null:(bx(o,h,a),jx(o,Rn()),o.callbackNode!=null&&o.callbackNode===u?Px.bind(null,o):null)}function zx(o,a){if(uh())return null;bx(o,a,!0)}function YR(){s4(function(){(yt&6)!==0?qn(fa,KR):Lx()})}function By(){return za===0&&(za=Yi()),za}function Ux(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:El(""+o)}function Bx(o,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,o.id&&u.setAttribute("form",o.id),a.parentNode.insertBefore(u,a),o=new FormData(o),u.parentNode.removeChild(u),o}function XR(o,a,u,h,y){if(a==="submit"&&u&&u.stateNode===y){var S=Ux((y[pe]||null).action),N=h.submitter;N&&(a=(a=N[pe]||null)?Ux(a.formAction):N.getAttribute("formAction"),a!==null&&(S=a,N=null));var z=new Tl("action","action",null,h,y);o.push({event:z,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(za!==0){var $=N?Bx(y,N):new FormData(y);oy(u,{pending:!0,data:$,method:y.method,action:S},null,$)}}else typeof S=="function"&&(z.preventDefault(),$=N?Bx(y,N):new FormData(y),oy(u,{pending:!0,data:$,method:y.method,action:S},S,$))},currentTarget:y}]})}}for(var Hy=0;Hy<Cg.length;Hy++){var Vy=Cg[Hy],JR=Vy.toLowerCase(),QR=Vy[0].toUpperCase()+Vy.slice(1);Qr(JR,"on"+QR)}Qr(bw,"onAnimationEnd"),Qr(ww,"onAnimationIteration"),Qr(Sw,"onAnimationStart"),Qr("dblclick","onDoubleClick"),Qr("focusin","onFocus"),Qr("focusout","onBlur"),Qr(mR,"onTransitionRun"),Qr(gR,"onTransitionStart"),Qr(yR,"onTransitionCancel"),Qr(xw,"onTransitionEnd"),sn("onMouseEnter",["mouseout","mouseover"]),sn("onMouseLeave",["mouseout","mouseover"]),sn("onPointerEnter",["pointerout","pointerover"]),sn("onPointerLeave",["pointerout","pointerover"]),mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ju));function Hx(o,a){a=(a&4)!==0;for(var u=0;u<o.length;u++){var h=o[u],y=h.event;h=h.listeners;e:{var S=void 0;if(a)for(var N=h.length-1;0<=N;N--){var z=h[N],$=z.instance,Z=z.currentTarget;if(z=z.listener,$!==S&&y.isPropagationStopped())break e;S=z,y.currentTarget=Z;try{S(y)}catch(se){Zf(se)}y.currentTarget=null,S=$}else for(N=0;N<h.length;N++){if(z=h[N],$=z.instance,Z=z.currentTarget,z=z.listener,$!==S&&y.isPropagationStopped())break e;S=z,y.currentTarget=Z;try{S(y)}catch(se){Zf(se)}y.currentTarget=null,S=$}}}}function Ze(o,a){var u=a[Ne];u===void 0&&(u=a[Ne]=new Set);var h=o+"__bubble";u.has(h)||(Vx(a,o,2,!1),u.add(h))}function $y(o,a,u){var h=0;a&&(h|=4),Vx(u,o,h,a)}var hh="_reactListening"+Math.random().toString(36).slice(2);function Fy(o){if(!o[hh]){o[hh]=!0,dt.forEach(function(u){u!=="selectionchange"&&(ZR.has(u)||$y(u,!1,o),$y(u,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[hh]||(a[hh]=!0,$y("selectionchange",!1,a))}}function Vx(o,a,u,h){switch(fE(a)){case 2:var y=A4;break;case 8:y=k4;break;default:y=i0}u=y.bind(null,a,u,o),y=void 0,!Or||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),h?y!==void 0?o.addEventListener(a,u,{capture:!0,passive:y}):o.addEventListener(a,u,!0):y!==void 0?o.addEventListener(a,u,{passive:y}):o.addEventListener(a,u,!1)}function qy(o,a,u,h,y){var S=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var N=h.tag;if(N===3||N===4){var z=h.stateNode.containerInfo;if(z===y)break;if(N===4)for(N=h.return;N!==null;){var $=N.tag;if(($===3||$===4)&&N.stateNode.containerInfo===y)return;N=N.return}for(;z!==null;){if(N=qe(z),N===null)return;if($=N.tag,$===5||$===6||$===26||$===27){h=S=N;continue e}z=z.parentNode}}h=h.return}mf(function(){var Z=S,se=Mr(u),le=[];e:{var te=Ew.get(o);if(te!==void 0){var ne=Tl,He=o;switch(o){case"keypress":if(Si(u)===0)break e;case"keydown":case"keyup":ne=Ol;break;case"focusin":He="focus",ne=kl;break;case"focusout":He="blur",ne=kl;break;case"beforeblur":case"afterblur":ne=kl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=_r;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=yg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=Ef;break;case bw:case ww:case Sw:ne=Nl;break;case xw:ne=Cf;break;case"scroll":case"scrollend":ne=gf;break;case"wheel":ne=Kn;break;case"copy":case"cut":case"paste":ne=Ml;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=au;break;case"toggle":case"beforetoggle":ne=Nf}var je=(a&4)!==0,Tt=!je&&(o==="scroll"||o==="scrollend"),Y=je?te!==null?te+"Capture":null:te;je=[];for(var K=Z,Q;K!==null;){var ae=K;if(Q=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||Q===null||Y===null||(ae=ya(K,Y),ae!=null&&je.push(Pu(K,ae,Q))),Tt)break;K=K.return}0<je.length&&(te=new ne(te,He,null,u,se),le.push({event:te,listeners:je}))}}if((a&7)===0){e:{if(te=o==="mouseover"||o==="pointerover",ne=o==="mouseout"||o==="pointerout",te&&u!==Qi&&(He=u.relatedTarget||u.fromElement)&&(qe(He)||He[we]))break e;if((ne||te)&&(te=se.window===se?se:(te=se.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(He=u.relatedTarget||u.toElement,ne=Z,He=He?qe(He):null,He!==null&&(Tt=s(He),je=He.tag,He!==Tt||je!==5&&je!==27&&je!==6)&&(He=null)):(ne=null,He=Z),ne!==He)){if(je=_r,ae="onMouseLeave",Y="onMouseEnter",K="mouse",(o==="pointerout"||o==="pointerover")&&(je=au,ae="onPointerLeave",Y="onPointerEnter",K="pointer"),Tt=ne==null?te:mt(ne),Q=He==null?te:mt(He),te=new je(ae,K+"leave",ne,u,se),te.target=Tt,te.relatedTarget=Q,ae=null,qe(se)===Z&&(je=new je(Y,K+"enter",He,u,se),je.target=Q,je.relatedTarget=Tt,ae=je),Tt=ae,ne&&He)t:{for(je=ne,Y=He,K=0,Q=je;Q;Q=tc(Q))K++;for(Q=0,ae=Y;ae;ae=tc(ae))Q++;for(;0<K-Q;)je=tc(je),K--;for(;0<Q-K;)Y=tc(Y),Q--;for(;K--;){if(je===Y||Y!==null&&je===Y.alternate)break t;je=tc(je),Y=tc(Y)}je=null}else je=null;ne!==null&&$x(le,te,ne,je,!1),He!==null&&Tt!==null&&$x(le,Tt,He,je,!0)}}e:{if(te=Z?mt(Z):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var Ee=lw;else if(rs(te))if(cw)Ee=fR;else{Ee=uR;var Xe=cR}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?Z&&eu(Z.elementType)&&(Ee=lw):Ee=dR;if(Ee&&(Ee=Ee(o,Z))){Yn(le,Ee,u,se);break e}Xe&&Xe(o,te,Z),o==="focusout"&&Z&&te.type==="number"&&Z.memoizedProps.value!=null&&Js(te,"number",te.value)}switch(Xe=Z?mt(Z):window,o){case"focusin":(rs(Xe)||Xe.contentEditable==="true")&&(_l=Xe,xg=Z,cu=null);break;case"focusout":cu=xg=_l=null;break;case"mousedown":Eg=!0;break;case"contextmenu":case"mouseup":case"dragend":Eg=!1,yw(le,u,se);break;case"selectionchange":if(pR)break;case"keydown":case"keyup":yw(le,u,se)}var Oe;if(g)e:{switch(o){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else It?ve(o,u)&&(ze="onCompositionEnd"):o==="keydown"&&u.keyCode===229&&(ze="onCompositionStart");ze&&(B&&u.locale!=="ko"&&(It||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&It&&(Oe=nu()):(wi=se,Qs="value"in wi?wi.value:wi.textContent,It=!0)),Xe=ph(Z,ze),0<Xe.length&&(ze=new su(ze,o,null,u,se),le.push({event:ze,listeners:Xe}),Oe?ze.data=Oe:(Oe=ht(u),Oe!==null&&(ze.data=Oe)))),(Oe=k?nt(o,u):an(o,u))&&(ze=ph(Z,"onBeforeInput"),0<ze.length&&(Xe=new su("onBeforeInput","beforeinput",null,u,se),le.push({event:Xe,listeners:ze}),Xe.data=Oe)),XR(le,o,Z,u,se)}Hx(le,a)})}function Pu(o,a,u){return{instance:o,listener:a,currentTarget:u}}function ph(o,a){for(var u=a+"Capture",h=[];o!==null;){var y=o,S=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||S===null||(y=ya(o,u),y!=null&&h.unshift(Pu(o,y,S)),y=ya(o,a),y!=null&&h.push(Pu(o,y,S))),o.tag===3)return h;o=o.return}return[]}function tc(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function $x(o,a,u,h,y){for(var S=a._reactName,N=[];u!==null&&u!==h;){var z=u,$=z.alternate,Z=z.stateNode;if(z=z.tag,$!==null&&$===h)break;z!==5&&z!==26&&z!==27||Z===null||($=Z,y?(Z=ya(u,S),Z!=null&&N.unshift(Pu(u,Z,$))):y||(Z=ya(u,S),Z!=null&&N.push(Pu(u,Z,$)))),u=u.return}N.length!==0&&o.push({event:a,listeners:N})}var e4=/\r\n?/g,t4=/\u0000|\uFFFD/g;function Fx(o){return(typeof o=="string"?o:""+o).replace(e4,`
`).replace(t4,"")}function qx(o,a){return a=Fx(a),Fx(o)===a}function mh(){}function Et(o,a,u,h,y,S){switch(u){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||Nr(o,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&Nr(o,""+h);break;case"className":In(o,"class",h);break;case"tabIndex":In(o,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":In(o,u,h);break;case"style":Zc(o,h,S);break;case"data":if(a!=="object"){In(o,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||u!=="href")){o.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){o.removeAttribute(u);break}h=El(""+h),o.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){o.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(u==="formAction"?(a!=="input"&&Et(o,a,"name",y.name,y,null),Et(o,a,"formEncType",y.formEncType,y,null),Et(o,a,"formMethod",y.formMethod,y,null),Et(o,a,"formTarget",y.formTarget,y,null)):(Et(o,a,"encType",y.encType,y,null),Et(o,a,"method",y.method,y,null),Et(o,a,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){o.removeAttribute(u);break}h=El(""+h),o.setAttribute(u,h);break;case"onClick":h!=null&&(o.onclick=mh);break;case"onScroll":h!=null&&Ze("scroll",o);break;case"onScrollEnd":h!=null&&Ze("scrollend",o);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(y.children!=null)throw Error(r(60));o.innerHTML=u}}break;case"multiple":o.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":o.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){o.removeAttribute("xlink:href");break}u=El(""+h),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?o.setAttribute(u,""+h):o.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?o.setAttribute(u,""):o.removeAttribute(u);break;case"capture":case"download":h===!0?o.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?o.setAttribute(u,h):o.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?o.setAttribute(u,h):o.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?o.removeAttribute(u):o.setAttribute(u,h);break;case"popover":Ze("beforetoggle",o),Ze("toggle",o),or(o,"popover",h);break;case"xlinkActuate":Pe(o,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Pe(o,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Pe(o,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Pe(o,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Pe(o,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Pe(o,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Pe(o,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Pe(o,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Pe(o,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":or(o,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=mg.get(u)||u,or(o,u,h))}}function Wy(o,a,u,h,y,S){switch(u){case"style":Zc(o,h,S);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(y.children!=null)throw Error(r(60));o.innerHTML=u}}break;case"children":typeof h=="string"?Nr(o,h):(typeof h=="number"||typeof h=="bigint")&&Nr(o,""+h);break;case"onScroll":h!=null&&Ze("scroll",o);break;case"onScrollEnd":h!=null&&Ze("scrollend",o);break;case"onClick":h!=null&&(o.onclick=mh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gn.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),a=u.slice(2,y?u.length-7:void 0),S=o[pe]||null,S=S!=null?S[u]:null,typeof S=="function"&&o.removeEventListener(a,S,y),typeof h=="function")){typeof S!="function"&&S!==null&&(u in o?o[u]=null:o.hasAttribute(u)&&o.removeAttribute(u)),o.addEventListener(a,h,y);break e}u in o?o[u]=h:h===!0?o.setAttribute(u,""):or(o,u,h)}}}function bn(o,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",o),Ze("load",o);var h=!1,y=!1,S;for(S in u)if(u.hasOwnProperty(S)){var N=u[S];if(N!=null)switch(S){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Et(o,a,S,N,u,null)}}y&&Et(o,a,"srcSet",u.srcSet,u,null),h&&Et(o,a,"src",u.src,u,null);return;case"input":Ze("invalid",o);var z=S=N=y=null,$=null,Z=null;for(h in u)if(u.hasOwnProperty(h)){var se=u[h];if(se!=null)switch(h){case"name":y=se;break;case"type":N=se;break;case"checked":$=se;break;case"defaultChecked":Z=se;break;case"value":S=se;break;case"defaultValue":z=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,a));break;default:Et(o,a,h,se,u,null)}}pa(o,S,z,$,Z,N,y,!1),xl(o);return;case"select":Ze("invalid",o),h=N=S=null;for(y in u)if(u.hasOwnProperty(y)&&(z=u[y],z!=null))switch(y){case"value":S=z;break;case"defaultValue":N=z;break;case"multiple":h=z;default:Et(o,a,y,z,u,null)}a=S,u=N,o.multiple=!!h,a!=null?Ji(o,!!h,a,!1):u!=null&&Ji(o,!!h,u,!0);return;case"textarea":Ze("invalid",o),S=y=h=null;for(N in u)if(u.hasOwnProperty(N)&&(z=u[N],z!=null))switch(N){case"value":h=z;break;case"defaultValue":y=z;break;case"children":S=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(91));break;default:Et(o,a,N,z,u,null)}ma(o,h,y,S),xl(o);return;case"option":for($ in u)if(u.hasOwnProperty($)&&(h=u[$],h!=null))switch($){case"selected":o.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Et(o,a,$,h,u,null)}return;case"dialog":Ze("beforetoggle",o),Ze("toggle",o),Ze("cancel",o),Ze("close",o);break;case"iframe":case"object":Ze("load",o);break;case"video":case"audio":for(h=0;h<ju.length;h++)Ze(ju[h],o);break;case"image":Ze("error",o),Ze("load",o);break;case"details":Ze("toggle",o);break;case"embed":case"source":case"link":Ze("error",o),Ze("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in u)if(u.hasOwnProperty(Z)&&(h=u[Z],h!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Et(o,a,Z,h,u,null)}return;default:if(eu(a)){for(se in u)u.hasOwnProperty(se)&&(h=u[se],h!==void 0&&Wy(o,a,se,h,u,void 0));return}}for(z in u)u.hasOwnProperty(z)&&(h=u[z],h!=null&&Et(o,a,z,h,u,null))}function n4(o,a,u,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,S=null,N=null,z=null,$=null,Z=null,se=null;for(ne in u){var le=u[ne];if(u.hasOwnProperty(ne)&&le!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":$=le;default:h.hasOwnProperty(ne)||Et(o,a,ne,null,h,le)}}for(var te in h){var ne=h[te];if(le=u[te],h.hasOwnProperty(te)&&(ne!=null||le!=null))switch(te){case"type":S=ne;break;case"name":y=ne;break;case"checked":Z=ne;break;case"defaultChecked":se=ne;break;case"value":N=ne;break;case"defaultValue":z=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,a));break;default:ne!==le&&Et(o,a,te,ne,h,le)}}ar(o,N,z,$,Z,se,S,y);return;case"select":ne=N=z=te=null;for(S in u)if($=u[S],u.hasOwnProperty(S)&&$!=null)switch(S){case"value":break;case"multiple":ne=$;default:h.hasOwnProperty(S)||Et(o,a,S,null,h,$)}for(y in h)if(S=h[y],$=u[y],h.hasOwnProperty(y)&&(S!=null||$!=null))switch(y){case"value":te=S;break;case"defaultValue":z=S;break;case"multiple":N=S;default:S!==$&&Et(o,a,y,S,h,$)}a=z,u=N,h=ne,te!=null?Ji(o,!!u,te,!1):!!h!=!!u&&(a!=null?Ji(o,!!u,a,!0):Ji(o,!!u,u?[]:"",!1));return;case"textarea":ne=te=null;for(z in u)if(y=u[z],u.hasOwnProperty(z)&&y!=null&&!h.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:Et(o,a,z,null,h,y)}for(N in h)if(y=h[N],S=u[N],h.hasOwnProperty(N)&&(y!=null||S!=null))switch(N){case"value":te=y;break;case"defaultValue":ne=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==S&&Et(o,a,N,y,h,S)}St(o,te,ne);return;case"option":for(var He in u)if(te=u[He],u.hasOwnProperty(He)&&te!=null&&!h.hasOwnProperty(He))switch(He){case"selected":o.selected=!1;break;default:Et(o,a,He,null,h,te)}for($ in h)if(te=h[$],ne=u[$],h.hasOwnProperty($)&&te!==ne&&(te!=null||ne!=null))switch($){case"selected":o.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Et(o,a,$,te,h,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in u)te=u[je],u.hasOwnProperty(je)&&te!=null&&!h.hasOwnProperty(je)&&Et(o,a,je,null,h,te);for(Z in h)if(te=h[Z],ne=u[Z],h.hasOwnProperty(Z)&&te!==ne&&(te!=null||ne!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,a));break;default:Et(o,a,Z,te,h,ne)}return;default:if(eu(a)){for(var Tt in u)te=u[Tt],u.hasOwnProperty(Tt)&&te!==void 0&&!h.hasOwnProperty(Tt)&&Wy(o,a,Tt,void 0,h,te);for(se in h)te=h[se],ne=u[se],!h.hasOwnProperty(se)||te===ne||te===void 0&&ne===void 0||Wy(o,a,se,te,h,ne);return}}for(var Y in u)te=u[Y],u.hasOwnProperty(Y)&&te!=null&&!h.hasOwnProperty(Y)&&Et(o,a,Y,null,h,te);for(le in h)te=h[le],ne=u[le],!h.hasOwnProperty(le)||te===ne||te==null&&ne==null||Et(o,a,le,te,h,ne)}var Gy=null,Ky=null;function gh(o){return o.nodeType===9?o:o.ownerDocument}function Wx(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gx(o,a){if(o===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&a==="foreignObject"?0:o}function Yy(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Xy=null;function r4(){var o=window.event;return o&&o.type==="popstate"?o===Xy?!1:(Xy=o,!0):(Xy=null,!1)}var Kx=typeof setTimeout=="function"?setTimeout:void 0,i4=typeof clearTimeout=="function"?clearTimeout:void 0,Yx=typeof Promise=="function"?Promise:void 0,s4=typeof queueMicrotask=="function"?queueMicrotask:typeof Yx<"u"?function(o){return Yx.resolve(null).then(o).catch(o4)}:Kx;function o4(o){setTimeout(function(){throw o})}function go(o){return o==="head"}function Xx(o,a){var u=a,h=0,y=0;do{var S=u.nextSibling;if(o.removeChild(u),S&&S.nodeType===8)if(u=S.data,u==="/$"){if(0<h&&8>h){u=h;var N=o.ownerDocument;if(u&1&&zu(N.documentElement),u&2&&zu(N.body),u&4)for(u=N.head,zu(u),N=u.firstChild;N;){var z=N.nextSibling,$=N.nodeName;N[ke]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&N.rel.toLowerCase()==="stylesheet"||u.removeChild(N),N=z}}if(y===0){o.removeChild(S),Wu(a);return}y--}else u==="$"||u==="$?"||u==="$!"?y++:h=u.charCodeAt(0)-48;else h=0;u=S}while(u);Wu(a)}function Jy(o){var a=o.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Jy(u),xe(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}o.removeChild(u)}}function a4(o,a,u,h){for(;o.nodeType===1;){var y=u;if(o.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(h){if(!o[ke])switch(a){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(S=o.getAttribute("rel"),S==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(S!==y.rel||o.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||o.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||o.getAttribute("title")!==(y.title==null?null:y.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(S=o.getAttribute("src"),(S!==(y.src==null?null:y.src)||o.getAttribute("type")!==(y.type==null?null:y.type)||o.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&S&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(a==="input"&&o.type==="hidden"){var S=y.name==null?null:""+y.name;if(y.type==="hidden"&&o.getAttribute("name")===S)return o}else return o;if(o=ei(o.nextSibling),o===null)break}return null}function l4(o,a,u){if(a==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=ei(o.nextSibling),o===null))return null;return o}function Qy(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function c4(o,a){var u=o.ownerDocument;if(o.data!=="$?"||u.readyState==="complete")a();else{var h=function(){a(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),o._reactRetry=h}}function ei(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return o}var Zy=null;function Jx(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var u=o.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return o;a--}else u==="/$"&&a++}o=o.previousSibling}return null}function Qx(o,a,u){switch(a=gh(u),o){case"html":if(o=a.documentElement,!o)throw Error(r(452));return o;case"head":if(o=a.head,!o)throw Error(r(453));return o;case"body":if(o=a.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function zu(o){for(var a=o.attributes;a.length;)o.removeAttributeNode(a[0]);xe(o)}var zr=new Map,Zx=new Set;function yh(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var vs=oe.d;oe.d={f:u4,r:d4,D:f4,C:h4,L:p4,m:m4,X:y4,S:g4,M:v4};function u4(){var o=vs.f(),a=lh();return o||a}function d4(o){var a=tt(o);a!==null&&a.tag===5&&a.type==="form"?bS(a):vs.r(o)}var nc=typeof document>"u"?null:document;function eE(o,a,u){var h=nc;if(h&&typeof a=="string"&&a){var y=Kt(a);y='link[rel="'+o+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),Zx.has(y)||(Zx.add(y),o={rel:o,crossOrigin:u,href:a},h.querySelector(y)===null&&(a=h.createElement("link"),bn(a,"link",o),Fe(a),h.head.appendChild(a)))}}function f4(o){vs.D(o),eE("dns-prefetch",o,null)}function h4(o,a){vs.C(o,a),eE("preconnect",o,a)}function p4(o,a,u){vs.L(o,a,u);var h=nc;if(h&&o&&a){var y='link[rel="preload"][as="'+Kt(a)+'"]';a==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Kt(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Kt(u.imageSizes)+'"]')):y+='[href="'+Kt(o)+'"]';var S=y;switch(a){case"style":S=rc(o);break;case"script":S=ic(o)}zr.has(S)||(o=p({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:o,as:a},u),zr.set(S,o),h.querySelector(y)!==null||a==="style"&&h.querySelector(Uu(S))||a==="script"&&h.querySelector(Bu(S))||(a=h.createElement("link"),bn(a,"link",o),Fe(a),h.head.appendChild(a)))}}function m4(o,a){vs.m(o,a);var u=nc;if(u&&o){var h=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+Kt(h)+'"][href="'+Kt(o)+'"]',S=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=ic(o)}if(!zr.has(S)&&(o=p({rel:"modulepreload",href:o},a),zr.set(S,o),u.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Bu(S)))return}h=u.createElement("link"),bn(h,"link",o),Fe(h),u.head.appendChild(h)}}}function g4(o,a,u){vs.S(o,a,u);var h=nc;if(h&&o){var y=ut(h).hoistableStyles,S=rc(o);a=a||"default";var N=y.get(S);if(!N){var z={loading:0,preload:null};if(N=h.querySelector(Uu(S)))z.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":a},u),(u=zr.get(S))&&e0(o,u);var $=N=h.createElement("link");Fe($),bn($,"link",o),$._p=new Promise(function(Z,se){$.onload=Z,$.onerror=se}),$.addEventListener("load",function(){z.loading|=1}),$.addEventListener("error",function(){z.loading|=2}),z.loading|=4,vh(N,a,h)}N={type:"stylesheet",instance:N,count:1,state:z},y.set(S,N)}}}function y4(o,a){vs.X(o,a);var u=nc;if(u&&o){var h=ut(u).hoistableScripts,y=ic(o),S=h.get(y);S||(S=u.querySelector(Bu(y)),S||(o=p({src:o,async:!0},a),(a=zr.get(y))&&t0(o,a),S=u.createElement("script"),Fe(S),bn(S,"link",o),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},h.set(y,S))}}function v4(o,a){vs.M(o,a);var u=nc;if(u&&o){var h=ut(u).hoistableScripts,y=ic(o),S=h.get(y);S||(S=u.querySelector(Bu(y)),S||(o=p({src:o,async:!0,type:"module"},a),(a=zr.get(y))&&t0(o,a),S=u.createElement("script"),Fe(S),bn(S,"link",o),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},h.set(y,S))}}function tE(o,a,u,h){var y=(y=Ie.current)?yh(y):null;if(!y)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=rc(u.href),u=ut(y).hoistableStyles,h=u.get(a),h||(h={type:"style",instance:null,count:0,state:null},u.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){o=rc(u.href);var S=ut(y).hoistableStyles,N=S.get(o);if(N||(y=y.ownerDocument||y,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(o,N),(S=y.querySelector(Uu(o)))&&!S._p&&(N.instance=S,N.state.loading=5),zr.has(o)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},zr.set(o,u),S||b4(y,o,u,N.state))),a&&h===null)throw Error(r(528,""));return N}if(a&&h!==null)throw Error(r(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ic(u),u=ut(y).hoistableScripts,h=u.get(a),h||(h={type:"script",instance:null,count:0,state:null},u.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function rc(o){return'href="'+Kt(o)+'"'}function Uu(o){return'link[rel="stylesheet"]['+o+"]"}function nE(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function b4(o,a,u,h){o.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=o.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),bn(a,"link",u),Fe(a),o.head.appendChild(a))}function ic(o){return'[src="'+Kt(o)+'"]'}function Bu(o){return"script[async]"+o}function rE(o,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var h=o.querySelector('style[data-href~="'+Kt(u.href)+'"]');if(h)return a.instance=h,Fe(h),h;var y=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(o.ownerDocument||o).createElement("style"),Fe(h),bn(h,"style",y),vh(h,u.precedence,o),a.instance=h;case"stylesheet":y=rc(u.href);var S=o.querySelector(Uu(y));if(S)return a.state.loading|=4,a.instance=S,Fe(S),S;h=nE(u),(y=zr.get(y))&&e0(h,y),S=(o.ownerDocument||o).createElement("link"),Fe(S);var N=S;return N._p=new Promise(function(z,$){N.onload=z,N.onerror=$}),bn(S,"link",h),a.state.loading|=4,vh(S,u.precedence,o),a.instance=S;case"script":return S=ic(u.src),(y=o.querySelector(Bu(S)))?(a.instance=y,Fe(y),y):(h=u,(y=zr.get(S))&&(h=p({},u),t0(h,y)),o=o.ownerDocument||o,y=o.createElement("script"),Fe(y),bn(y,"link",h),o.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,vh(h,u.precedence,o));return a.instance}function vh(o,a,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,S=y,N=0;N<h.length;N++){var z=h[N];if(z.dataset.precedence===a)S=z;else if(S!==y)break}S?S.parentNode.insertBefore(o,S.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(o,a.firstChild))}function e0(o,a){o.crossOrigin==null&&(o.crossOrigin=a.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=a.referrerPolicy),o.title==null&&(o.title=a.title)}function t0(o,a){o.crossOrigin==null&&(o.crossOrigin=a.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=a.referrerPolicy),o.integrity==null&&(o.integrity=a.integrity)}var bh=null;function iE(o,a,u){if(bh===null){var h=new Map,y=bh=new Map;y.set(u,h)}else y=bh,h=y.get(u),h||(h=new Map,y.set(u,h));if(h.has(o))return h;for(h.set(o,null),u=u.getElementsByTagName(o),y=0;y<u.length;y++){var S=u[y];if(!(S[ke]||S[ue]||o==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var N=S.getAttribute(a)||"";N=o+N;var z=h.get(N);z?z.push(S):h.set(N,[S])}}return h}function sE(o,a,u){o=o.ownerDocument||o,o.head.insertBefore(u,a==="title"?o.querySelector("head > title"):null)}function w4(o,a,u){if(u===1||a.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return o=a.disabled,typeof a.precedence=="string"&&o==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function oE(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Hu=null;function S4(){}function x4(o,a,u){if(Hu===null)throw Error(r(475));var h=Hu;if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var y=rc(u.href),S=o.querySelector(Uu(y));if(S){o=S._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(h.count++,h=wh.bind(h),o.then(h,h)),a.state.loading|=4,a.instance=S,Fe(S);return}S=o.ownerDocument||o,u=nE(u),(y=zr.get(y))&&e0(u,y),S=S.createElement("link"),Fe(S);var N=S;N._p=new Promise(function(z,$){N.onload=z,N.onerror=$}),bn(S,"link",u),a.instance=S}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(a,o),(o=a.state.preload)&&(a.state.loading&3)===0&&(h.count++,a=wh.bind(h),o.addEventListener("load",a),o.addEventListener("error",a))}}function E4(){if(Hu===null)throw Error(r(475));var o=Hu;return o.stylesheets&&o.count===0&&n0(o,o.stylesheets),0<o.count?function(a){var u=setTimeout(function(){if(o.stylesheets&&n0(o,o.stylesheets),o.unsuspend){var h=o.unsuspend;o.unsuspend=null,h()}},6e4);return o.unsuspend=a,function(){o.unsuspend=null,clearTimeout(u)}}:null}function wh(){if(this.count--,this.count===0){if(this.stylesheets)n0(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Sh=null;function n0(o,a){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Sh=new Map,a.forEach(T4,o),Sh=null,wh.call(o))}function T4(o,a){if(!(a.state.loading&4)){var u=Sh.get(o);if(u)var h=u.get(null);else{u=new Map,Sh.set(o,u);for(var y=o.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<y.length;S++){var N=y[S];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(u.set(N.dataset.precedence,N),h=N)}h&&u.set(null,h)}y=a.instance,N=y.getAttribute("data-precedence"),S=u.get(N)||h,S===h&&u.set(null,y),u.set(N,y),this.count++,h=wh.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),S?S.parentNode.insertBefore(y,S.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(y,o.firstChild)),a.state.loading|=4}}var Vu={$$typeof:j,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function C4(o,a,u,h,y,S,N,z){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ar(0),this.hiddenUpdates=Ar(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=S,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function aE(o,a,u,h,y,S,N,z,$,Z,se,le){return o=new C4(o,a,u,N,z,$,Z,le),a=1,S===!0&&(a|=24),S=cr(3,null,null,a),o.current=S,S.stateNode=o,a=Pg(),a.refCount++,o.pooledCache=a,a.refCount++,S.memoizedState={element:h,isDehydrated:u,cache:a},Hg(S),o}function lE(o){return o?(o=Ll,o):Ll}function cE(o,a,u,h,y,S){y=lE(y),h.context===null?h.context=y:h.pendingContext=y,h=no(a),h.payload={element:u},S=S===void 0?null:S,S!==null&&(h.callback=S),u=ro(o,h,a),u!==null&&(pr(u,o,a),vu(u,o,a))}function uE(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var u=o.retryLane;o.retryLane=u!==0&&u<a?u:a}}function r0(o,a){uE(o,a),(o=o.alternate)&&uE(o,a)}function dE(o){if(o.tag===13){var a=Il(o,67108864);a!==null&&pr(a,o,67108864),r0(o,67108864)}}var xh=!0;function A4(o,a,u,h){var y=G.T;G.T=null;var S=oe.p;try{oe.p=2,i0(o,a,u,h)}finally{oe.p=S,G.T=y}}function k4(o,a,u,h){var y=G.T;G.T=null;var S=oe.p;try{oe.p=8,i0(o,a,u,h)}finally{oe.p=S,G.T=y}}function i0(o,a,u,h){if(xh){var y=s0(h);if(y===null)qy(o,a,h,Eh,u),hE(o,h);else if(M4(y,o,a,u,h))h.stopPropagation();else if(hE(o,h),a&4&&-1<N4.indexOf(o)){for(;y!==null;){var S=tt(y);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var N=ir(S.pendingLanes);if(N!==0){var z=S;for(z.pendingLanes|=2,z.entangledLanes|=2;N;){var $=1<<31-Gt(N);z.entanglements[1]|=$,N&=~$}Mi(S),(yt&6)===0&&(oh=Rn()+500,Lu(0))}}break;case 13:z=Il(S,2),z!==null&&pr(z,S,2),lh(),r0(S,2)}if(S=s0(h),S===null&&qy(o,a,h,Eh,u),S===y)break;y=S}y!==null&&h.stopPropagation()}else qy(o,a,h,null,u)}}function s0(o){return o=Mr(o),o0(o)}var Eh=null;function o0(o){if(Eh=null,o=qe(o),o!==null){var a=s(o);if(a===null)o=null;else{var u=a.tag;if(u===13){if(o=l(a),o!==null)return o;o=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null)}}return Eh=o,null}function fE(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xc()){case fa:return 2;case Vs:return 8;case Gi:case Gr:return 32;case Er:return 268435456;default:return 32}default:return 32}}var a0=!1,yo=null,vo=null,bo=null,$u=new Map,Fu=new Map,wo=[],N4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hE(o,a){switch(o){case"focusin":case"focusout":yo=null;break;case"dragenter":case"dragleave":vo=null;break;case"mouseover":case"mouseout":bo=null;break;case"pointerover":case"pointerout":$u.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fu.delete(a.pointerId)}}function qu(o,a,u,h,y,S){return o===null||o.nativeEvent!==S?(o={blockedOn:a,domEventName:u,eventSystemFlags:h,nativeEvent:S,targetContainers:[y]},a!==null&&(a=tt(a),a!==null&&dE(a)),o):(o.eventSystemFlags|=h,a=o.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),o)}function M4(o,a,u,h,y){switch(a){case"focusin":return yo=qu(yo,o,a,u,h,y),!0;case"dragenter":return vo=qu(vo,o,a,u,h,y),!0;case"mouseover":return bo=qu(bo,o,a,u,h,y),!0;case"pointerover":var S=y.pointerId;return $u.set(S,qu($u.get(S)||null,o,a,u,h,y)),!0;case"gotpointercapture":return S=y.pointerId,Fu.set(S,qu(Fu.get(S)||null,o,a,u,h,y)),!0}return!1}function pE(o){var a=qe(o.target);if(a!==null){var u=s(a);if(u!==null){if(a=u.tag,a===13){if(a=l(u),a!==null){o.blockedOn=a,X(o.priority,function(){if(u.tag===13){var h=hr();h=Xi(h);var y=Il(u,h);y!==null&&pr(y,u,h),r0(u,h)}});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){o.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Th(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var u=s0(o.nativeEvent);if(u===null){u=o.nativeEvent;var h=new u.constructor(u.type,u);Qi=h,u.target.dispatchEvent(h),Qi=null}else return a=tt(u),a!==null&&dE(a),o.blockedOn=u,!1;a.shift()}return!0}function mE(o,a,u){Th(o)&&u.delete(a)}function O4(){a0=!1,yo!==null&&Th(yo)&&(yo=null),vo!==null&&Th(vo)&&(vo=null),bo!==null&&Th(bo)&&(bo=null),$u.forEach(mE),Fu.forEach(mE)}function Ch(o,a){o.blockedOn===a&&(o.blockedOn=null,a0||(a0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,O4)))}var Ah=null;function gE(o){Ah!==o&&(Ah=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ah===o&&(Ah=null);for(var a=0;a<o.length;a+=3){var u=o[a],h=o[a+1],y=o[a+2];if(typeof h!="function"){if(o0(h||u)===null)continue;break}var S=tt(u);S!==null&&(o.splice(a,3),a-=3,oy(S,{pending:!0,data:y,method:u.method,action:h},h,y))}}))}function Wu(o){function a($){return Ch($,o)}yo!==null&&Ch(yo,o),vo!==null&&Ch(vo,o),bo!==null&&Ch(bo,o),$u.forEach(a),Fu.forEach(a);for(var u=0;u<wo.length;u++){var h=wo[u];h.blockedOn===o&&(h.blockedOn=null)}for(;0<wo.length&&(u=wo[0],u.blockedOn===null);)pE(u),u.blockedOn===null&&wo.shift();if(u=(o.ownerDocument||o).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var y=u[h],S=u[h+1],N=y[pe]||null;if(typeof S=="function")N||gE(u);else if(N){var z=null;if(S&&S.hasAttribute("formAction")){if(y=S,N=S[pe]||null)z=N.formAction;else if(o0(y)!==null)continue}else z=N.action;typeof z=="function"?u[h+1]=z:(u.splice(h,3),h-=3),gE(u)}}}function l0(o){this._internalRoot=o}kh.prototype.render=l0.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(r(409));var u=a.current,h=hr();cE(u,h,o,a,null,null)},kh.prototype.unmount=l0.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;cE(o.current,2,null,o,null,null),lh(),a[we]=null}};function kh(o){this._internalRoot=o}kh.prototype.unstable_scheduleHydration=function(o){if(o){var a=W();o={blockedOn:null,target:o,priority:a};for(var u=0;u<wo.length&&a!==0&&a<wo[u].priority;u++);wo.splice(u,0,o),u===0&&pE(o)}};var yE=e.version;if(yE!=="19.1.1")throw Error(r(527,yE,"19.1.1"));oe.findDOMNode=function(o){var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(a),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var _4={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nh.isDisabled&&Nh.supportsFiber)try{ct=Nh.inject(_4),Ke=Nh}catch{}}return Ku.createRoot=function(o,a){if(!i(o))throw Error(r(299));var u=!1,h="",y=DS,S=IS,N=LS,z=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(N=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(z=a.unstable_transitionCallbacks)),a=aE(o,1,!1,null,null,u,h,y,S,N,z,null),o[we]=a.current,Fy(o),new l0(a)},Ku.hydrateRoot=function(o,a,u){if(!i(o))throw Error(r(299));var h=!1,y="",S=DS,N=IS,z=LS,$=null,Z=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(S=u.onUncaughtError),u.onCaughtError!==void 0&&(N=u.onCaughtError),u.onRecoverableError!==void 0&&(z=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&($=u.unstable_transitionCallbacks),u.formState!==void 0&&(Z=u.formState)),a=aE(o,1,!0,a,u??null,h,y,S,N,z,$,Z),a.context=lE(null),u=a.current,h=hr(),h=Xi(h),y=no(h),y.callback=null,ro(u,y,h),u=h,a.current.lanes=u,Kr(a,u),Mi(a),o[we]=a.current,Fy(o),new kh(a)},Ku.version="19.1.1",Ku}var kE;function H4(){if(kE)return d0.exports;kE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),d0.exports=B4(),d0.exports}var V4=H4();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vA=t=>{throw TypeError(t)},$4=(t,e,n)=>e.has(t)||vA("Cannot "+n),m0=(t,e,n)=>($4(t,e,"read from private field"),n?n.call(t):e.get(t)),F4=(t,e,n)=>e.has(t)?vA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),NE="popstate";function q4(t={}){function e(r,i){let{pathname:s,search:l,hash:c}=r.location;return Ed("",{pathname:s,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Zo(i)}return G4(e,n,null,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function W4(){return Math.random().toString(36).substring(2,10)}function ME(t,e){return{usr:t.state,key:t.key,idx:e}}function Ed(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ia(e):e,state:n,key:e&&e.key||r||W4()}}function Zo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ia(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function G4(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,c="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function m(){c="POP";let C=p(),O=C==null?null:C-f;f=C,d&&d({action:c,location:E.location,delta:O})}function v(C,O){c="PUSH";let I=Ed(E.location,C,O);f=p()+1;let j=ME(I,f),U=E.createHref(I);try{l.pushState(j,"",U)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(U)}s&&d&&d({action:c,location:E.location,delta:1})}function w(C,O){c="REPLACE";let I=Ed(E.location,C,O);f=p();let j=ME(I,f),U=E.createHref(I);l.replaceState(j,"",U),s&&d&&d({action:c,location:E.location,delta:0})}function x(C){return bA(C)}let E={get action(){return c},get location(){return t(i,l)},listen(C){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(NE,m),d=C,()=>{i.removeEventListener(NE,m),d=null}},createHref(C){return e(i,C)},createURL:x,encodeLocation(C){let O=x(C);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:v,replace:w,go(C){return l.go(C)}};return E}function bA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Je(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Zo(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var Zu,OE=class{constructor(t){if(F4(this,Zu,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(m0(this,Zu).has(t))return m0(this,Zu).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){m0(this,Zu).set(t,e)}};Zu=new WeakMap;var K4=new Set(["lazy","caseSensitive","path","id","index","children"]);function Y4(t){return K4.has(t)}var X4=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function J4(t){return X4.has(t)}function Q4(t){return t.index===!0}function Td(t,e,n=[],r={},i=!1){return t.map((s,l)=>{let c=[...n,String(l)],d=typeof s.id=="string"?s.id:c.join("-");if(Je(s.index!==!0||!s.children,"Cannot specify children on an index route"),Je(i||!r[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),Q4(s)){let f={...s,...e(s),id:d};return r[d]=f,f}else{let f={...s,...e(s),id:d,children:void 0};return r[d]=f,s.children&&(f.children=Td(s.children,e,c,r,i)),f}})}function Ro(t,e,n="/"){return cp(t,e,n,!1)}function cp(t,e,n,r){let i=typeof e=="string"?ia(e):e,s=rr(i.pathname||"/",n);if(s==null)return null;let l=SA(t);Z4(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=EA(s);c=lD(l[d],f,r)}return c}function wA(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function SA(t,e=[],n=[],r="",i=!1){let s=(l,c,d=i,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;Je(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let m=Pi([r,p.relativePath]),v=n.concat(p);l.children&&l.children.length>0&&(Je(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),SA(l.children,e,v,m,d)),!(l.path==null&&!l.index)&&e.push({path:m,score:oD(m,l.index),routesMeta:v})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))s(l,c);else for(let d of xA(l.path))s(l,c,!0,d)}),e}function xA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=xA(r.join("/")),c=[];return c.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function Z4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:aD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var eD=/^:[\w-]+$/,tD=3,nD=2,rD=1,iD=10,sD=-2,_E=t=>t==="*";function oD(t,e){let n=t.split("/"),r=n.length;return n.some(_E)&&(r+=sD),e&&(r+=nD),n.filter(i=>!_E(i)).reduce((i,s)=>i+(eD.test(s)?tD:s===""?rD:iD),r)}function aD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function lD(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",m=Cd({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),v=d.route;if(!m&&f&&n&&!r[r.length-1].route.index&&(m=Cd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:Pi([s,m.pathname]),pathnameBase:hD(Pi([s,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(s=Pi([s,m.pathnameBase]))}return l}function Cd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=cD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:m},v)=>{if(p==="*"){let x=c[v]||"";l=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const w=c[v];return m&&!w?f[p]=void 0:f[p]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:t}}function cD(t,e=!1,n=!0){Zt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function EA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function rr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function uD({basename:t,pathname:e}){return e==="/"?t:Pi([t,e])}function dD(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ia(t):t;return{pathname:n?n.startsWith("/")?n:fD(n,e):e,search:pD(r),hash:mD(i)}}function fD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function g0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function w1(t){let e=TA(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function S1(t,e,n,r=!1){let i;typeof t=="string"?i=ia(t):(i={...t},Je(!i.pathname||!i.pathname.includes("?"),g0("?","pathname","search",i)),Je(!i.pathname||!i.pathname.includes("#"),g0("#","pathname","hash",i)),Je(!i.search||!i.search.includes("#"),g0("#","search","hash",i)));let s=t===""||i.pathname==="",l=s?"/":i.pathname,c;if(l==null)c=n;else{let m=e.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),m-=1;i.pathname=v.join("/")}c=m>=0?e[m]:"/"}let d=dD(i,c),f=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var Pi=t=>t.join("/").replace(/\/\/+/g,"/"),hD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,gD=(t,e=302)=>{let n=e;typeof n=="number"?n={status:n}:typeof n.status>"u"&&(n.status=302);let r=new Headers(n.headers);return r.set("Location",t),new Response(null,{...n,headers:r})},Np=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Ad(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var CA=["POST","PUT","PATCH","DELETE"],yD=new Set(CA),vD=["GET",...CA],bD=new Set(vD),wD=new Set([301,302,303,307,308]),SD=new Set([307,308]),y0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},xD={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},dc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ED=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,x1=t=>ED.test(t),TD=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),AA="remix-router-transitions",kA=Symbol("ResetLoaderData");function CD(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Je(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||TD,s={},l=Td(t.routes,i,void 0,s),c,d=t.basename||"/";d.startsWith("/")||(d=`/${d}`);let f=t.dataStrategy||OD,p={...t.future},m=null,v=new Set,w=null,x=null,E=null,C=t.hydrationData!=null,O=Ro(l,t.history.location,d),I=!1,j=null,U;if(O==null&&!t.patchRoutesOnNavigation){let W=Hr(404,{pathname:t.history.location.pathname}),{matches:X,route:ee}=Mh(l);U=!0,O=X,j={[ee.id]:W}}else if(O&&!t.hydrationData&&Wn(O,l,t.history.location.pathname).active&&(O=null),O)if(O.some(W=>W.route.lazy))U=!1;else if(!O.some(W=>W.route.loader))U=!0;else{let W=t.hydrationData?t.hydrationData.loaderData:null,X=t.hydrationData?t.hydrationData.errors:null;if(X){let ee=O.findIndex(ue=>X[ue.route.id]!==void 0);U=O.slice(0,ee+1).every(ue=>!Sv(ue.route,W,X))}else U=O.every(ee=>!Sv(ee.route,W,X))}else{U=!1,O=[];let W=Wn(null,l,t.history.location.pathname);W.active&&W.matches&&(I=!0,O=W.matches)}let P,L={historyAction:t.history.action,location:t.history.location,matches:O,initialized:U,navigation:y0,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||j,fetchers:new Map,blockers:new Map},_="POP",M=!1,D,R=!1,V=new Map,q=null,H=!1,ye=!1,ge=new Set,G=new Map,oe=0,ce=-1,Te=new Map,F=new Set,ie=new Map,he=new Map,de=new Set,Se=new Map,$e,Ie=null;function Nt(){if(m=t.history.listen(({action:W,location:X,delta:ee})=>{if($e){$e(),$e=void 0;return}Zt(Se.size===0||ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ue=qs({currentLocation:L.location,nextLocation:X,historyAction:W});if(ue&&ee!=null){let pe=new Promise(we=>{$e=we});t.history.go(ee*-1),Cr(ue,{state:"blocked",location:X,proceed(){Cr(ue,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),pe.then(()=>t.history.go(ee))},reset(){let we=new Map(L.blockers);we.set(ue,dc),Ct({blockers:we})}});return}return _n(W,X)}),n){qD(e,V);let W=()=>WD(e,V);e.addEventListener("pagehide",W),q=()=>e.removeEventListener("pagehide",W)}return L.initialized||_n("POP",L.location,{initialHydration:!0}),P}function lt(){m&&m(),q&&q(),v.clear(),D&&D.abort(),L.fetchers.forEach((W,X)=>Gt(X)),L.blockers.forEach((W,X)=>Ki(X))}function Fn(W){return v.add(W),()=>v.delete(W)}function Ct(W,X={}){W.matches&&(W.matches=W.matches.map(pe=>{let we=s[pe.route.id],Ne=pe.route;return Ne.element!==we.element||Ne.errorElement!==we.errorElement||Ne.hydrateFallbackElement!==we.hydrateFallbackElement?{...pe,route:we}:pe})),L={...L,...W};let ee=[],ue=[];L.fetchers.forEach((pe,we)=>{pe.state==="idle"&&(de.has(we)?ee.push(we):ue.push(we))}),de.forEach(pe=>{!L.fetchers.has(pe)&&!G.has(pe)&&ee.push(pe)}),[...v].forEach(pe=>pe(L,{deletedFetchers:ee,viewTransitionOpts:X.viewTransitionOpts,flushSync:X.flushSync===!0})),ee.forEach(pe=>Gt(pe)),ue.forEach(pe=>L.fetchers.delete(pe))}function rn(W,X,{flushSync:ee}={}){let ue=L.actionData!=null&&L.navigation.formMethod!=null&&Zn(L.navigation.formMethod)&&L.navigation.state==="loading"&&W.state?._isRedirect!==!0,pe;X.actionData?Object.keys(X.actionData).length>0?pe=X.actionData:pe=null:ue?pe=L.actionData:pe=null;let we=X.loaderData?HE(L.loaderData,X.loaderData,X.matches||[],X.errors):L.loaderData,Ne=L.blockers;Ne.size>0&&(Ne=new Map(Ne),Ne.forEach((ke,xe)=>Ne.set(xe,dc)));let Ce=H?!1:Ws(W,X.matches||L.matches),Ae=M===!0||L.navigation.formMethod!=null&&Zn(L.navigation.formMethod)&&W.state?._isRedirect!==!0;c&&(l=c,c=void 0),H||_==="POP"||(_==="PUSH"?t.history.push(W,W.state):_==="REPLACE"&&t.history.replace(W,W.state));let Le;if(_==="POP"){let ke=V.get(L.location.pathname);ke&&ke.has(W.pathname)?Le={currentLocation:L.location,nextLocation:W}:V.has(W.pathname)&&(Le={currentLocation:W,nextLocation:L.location})}else if(R){let ke=V.get(L.location.pathname);ke?ke.add(W.pathname):(ke=new Set([W.pathname]),V.set(L.location.pathname,ke)),Le={currentLocation:L.location,nextLocation:W}}Ct({...X,actionData:pe,loaderData:we,historyAction:_,location:W,initialized:!0,navigation:y0,revalidation:"idle",restoreScrollPosition:Ce,preventScrollReset:Ae,blockers:Ne},{viewTransitionOpts:Le,flushSync:ee===!0}),_="POP",M=!1,R=!1,H=!1,ye=!1,Ie?.resolve(),Ie=null}async function xr(W,X){if(typeof W=="number"){t.history.go(W);return}let ee=wv(L.location,L.matches,d,W,X?.fromRouteId,X?.relative),{path:ue,submission:pe,error:we}=RE(!1,ee,X),Ne=L.location,Ce=Ed(L.location,ue,X&&X.state);Ce={...Ce,...t.history.encodeLocation(Ce)};let Ae=X&&X.replace!=null?X.replace:void 0,Le="PUSH";Ae===!0?Le="REPLACE":Ae===!1||pe!=null&&Zn(pe.formMethod)&&pe.formAction===L.location.pathname+L.location.search&&(Le="REPLACE");let ke=X&&"preventScrollReset"in X?X.preventScrollReset===!0:void 0,xe=(X&&X.flushSync)===!0,qe=qs({currentLocation:Ne,nextLocation:Ce,historyAction:Le});if(qe){Cr(qe,{state:"blocked",location:Ce,proceed(){Cr(qe,{state:"proceeding",proceed:void 0,reset:void 0,location:Ce}),xr(W,X)},reset(){let tt=new Map(L.blockers);tt.set(qe,dc),Ct({blockers:tt})}});return}await _n(Le,Ce,{submission:pe,pendingError:we,preventScrollReset:ke,replace:X&&X.replace,enableViewTransition:X&&X.viewTransition,flushSync:xe})}function qn(){Ie||(Ie=GD()),Fs(),Ct({revalidation:"loading"});let W=Ie.promise;return L.navigation.state==="submitting"?W:L.navigation.state==="idle"?(_n(L.historyAction,L.location,{startUninterruptedRevalidation:!0}),W):(_n(_||L.historyAction,L.navigation.location,{overrideNavigation:L.navigation,enableViewTransition:R===!0}),W)}async function _n(W,X,ee){D&&D.abort(),D=null,_=W,H=(ee&&ee.startUninterruptedRevalidation)===!0,Kr(L.location,L.matches),M=(ee&&ee.preventScrollReset)===!0,R=(ee&&ee.enableViewTransition)===!0;let ue=c||l,pe=ee&&ee.overrideNavigation,we=ee?.initialHydration&&L.matches&&L.matches.length>0&&!I?L.matches:Ro(ue,X,d),Ne=(ee&&ee.flushSync)===!0;if(we&&L.initialized&&!ye&&zD(L.location,X)&&!(ee&&ee.submission&&Zn(ee.submission.formMethod))){rn(X,{matches:we},{flushSync:Ne});return}let Ce=Wn(we,ue,X.pathname);if(Ce.active&&Ce.matches&&(we=Ce.matches),!we){let{error:ut,notFoundMatches:Fe,route:dt}=Yi(X.pathname);rn(X,{matches:Fe,loaderData:{},errors:{[dt.id]:ut}},{flushSync:Ne});return}D=new AbortController;let Ae=fc(t.history,X,D.signal,ee&&ee.submission),Le=t.unstable_getContext?await t.unstable_getContext():new OE,ke;if(ee&&ee.pendingError)ke=[Do(we).route.id,{type:"error",error:ee.pendingError}];else if(ee&&ee.submission&&Zn(ee.submission.formMethod)){let ut=await da(Ae,X,ee.submission,we,Le,Ce.active,ee&&ee.initialHydration===!0,{replace:ee.replace,flushSync:Ne});if(ut.shortCircuited)return;if(ut.pendingActionResult){let[Fe,dt]=ut.pendingActionResult;if(gr(dt)&&Ad(dt.error)&&dt.error.status===404){D=null,rn(X,{matches:ut.matches,loaderData:{},errors:{[Fe]:dt.error}});return}}we=ut.matches||we,ke=ut.pendingActionResult,pe=v0(X,ee.submission),Ne=!1,Ce.active=!1,Ae=fc(t.history,Ae.url,Ae.signal)}let{shortCircuited:xe,matches:qe,loaderData:tt,errors:mt}=await bl(Ae,X,we,Le,Ce.active,pe,ee&&ee.submission,ee&&ee.fetcherSubmission,ee&&ee.replace,ee&&ee.initialHydration===!0,Ne,ke);xe||(D=null,rn(X,{matches:qe||we,...VE(ke),loaderData:tt,errors:mt}))}async function da(W,X,ee,ue,pe,we,Ne,Ce={}){Fs();let Ae=$D(X,ee);if(Ct({navigation:Ae},{flushSync:Ce.flushSync===!0}),we){let xe=await vi(ue,X.pathname,W.signal);if(xe.type==="aborted")return{shortCircuited:!0};if(xe.type==="error"){if(xe.partialMatches.length===0){let{matches:tt,route:mt}=Mh(l);return{matches:tt,pendingActionResult:[mt.id,{type:"error",error:xe.error}]}}let qe=Do(xe.partialMatches).route.id;return{matches:xe.partialMatches,pendingActionResult:[qe,{type:"error",error:xe.error}]}}else if(xe.matches)ue=xe.matches;else{let{notFoundMatches:qe,error:tt,route:mt}=Yi(X.pathname);return{matches:qe,pendingActionResult:[mt.id,{type:"error",error:tt}]}}}let Le,ke=up(ue,X);if(!ke.route.action&&!ke.route.lazy)Le={type:"error",error:Hr(405,{method:W.method,pathname:X.pathname,routeId:ke.route.id})};else{let xe=Sc(i,s,W,ue,ke,Ne?[]:r,pe),qe=await Er(W,xe,pe,null);if(Le=qe[ke.route.id],!Le){for(let tt of ue)if(qe[tt.route.id]){Le=qe[tt.route.id];break}}if(W.signal.aborted)return{shortCircuited:!0}}if(Fa(Le)){let xe;return Ce&&Ce.replace!=null?xe=Ce.replace:xe=zE(Le.response.headers.get("Location"),new URL(W.url),d)===L.location.pathname+L.location.search,await Gr(W,Le,!0,{submission:ee,replace:xe}),{shortCircuited:!0}}if(gr(Le)){let xe=Do(ue,ke.route.id);return(Ce&&Ce.replace)!==!0&&(_="PUSH"),{matches:ue,pendingActionResult:[xe.route.id,Le,ke.route.id]}}return{matches:ue,pendingActionResult:[ke.route.id,Le]}}async function bl(W,X,ee,ue,pe,we,Ne,Ce,Ae,Le,ke,xe){let qe=we||v0(X,Ne),tt=Ne||Ce||FE(qe),mt=!H&&!Le;if(pe){if(mt){let Dt=Rn(xe);Ct({navigation:qe,...Dt!==void 0?{actionData:Dt}:{}},{flushSync:ke})}let Pe=await vi(ee,X.pathname,W.signal);if(Pe.type==="aborted")return{shortCircuited:!0};if(Pe.type==="error"){if(Pe.partialMatches.length===0){let{matches:Yr,route:gn}=Mh(l);return{matches:Yr,loaderData:{},errors:{[gn.id]:Pe.error}}}let Dt=Do(Pe.partialMatches).route.id;return{matches:Pe.partialMatches,loaderData:{},errors:{[Dt]:Pe.error}}}else if(Pe.matches)ee=Pe.matches;else{let{error:Dt,notFoundMatches:Yr,route:gn}=Yi(X.pathname);return{matches:Yr,loaderData:{},errors:{[gn.id]:Dt}}}}let ut=c||l,{dsMatches:Fe,revalidatingFetchers:dt}=DE(W,ue,i,s,t.history,L,ee,tt,X,Le?[]:r,Le===!0,ye,ge,de,ie,F,ut,d,t.patchRoutesOnNavigation!=null,xe);if(ce=++oe,!t.dataStrategy&&!Fe.some(Pe=>Pe.shouldLoad)&&!Fe.some(Pe=>Pe.route.unstable_middleware)&&dt.length===0){let Pe=gi();return rn(X,{matches:ee,loaderData:{},errors:xe&&gr(xe[1])?{[xe[0]]:xe[1].error}:null,...VE(xe),...Pe?{fetchers:new Map(L.fetchers)}:{}},{flushSync:ke}),{shortCircuited:!0}}if(mt){let Pe={};if(!pe){Pe.navigation=qe;let Dt=Rn(xe);Dt!==void 0&&(Pe.actionData=Dt)}dt.length>0&&(Pe.fetchers=Xc(dt)),Ct(Pe,{flushSync:ke})}dt.forEach(Pe=>{Tr(Pe.key),Pe.controller&&G.set(Pe.key,Pe.controller)});let Gn=()=>dt.forEach(Pe=>Tr(Pe.key));D&&D.signal.addEventListener("abort",Gn);let{loaderResults:mn,fetcherResults:sn}=await $s(Fe,dt,W,ue);if(W.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",Gn),dt.forEach(Pe=>G.delete(Pe.key));let Dn=Oh(mn);if(Dn)return await Gr(W,Dn.result,!0,{replace:Ae}),{shortCircuited:!0};if(Dn=Oh(sn),Dn)return F.add(Dn.key),await Gr(W,Dn.result,!0,{replace:Ae}),{shortCircuited:!0};let{loaderData:Ks,errors:sr}=BE(L,ee,mn,xe,dt,sn);Le&&L.errors&&(sr={...L.errors,...sr});let kr=gi(),or=yi(ce),In=kr||or||dt.length>0;return{matches:ee,loaderData:Ks,errors:sr,...In?{fetchers:new Map(L.fetchers)}:{}}}function Rn(W){if(W&&!gr(W[1]))return{[W[0]]:W[1].data};if(L.actionData)return Object.keys(L.actionData).length===0?null:L.actionData}function Xc(W){return W.forEach(X=>{let ee=L.fetchers.get(X.key),ue=Yu(void 0,ee?ee.data:void 0);L.fetchers.set(X.key,ue)}),new Map(L.fetchers)}async function fa(W,X,ee,ue){Tr(W);let pe=(ue&&ue.flushSync)===!0,we=c||l,Ne=wv(L.location,L.matches,d,ee,X,ue?.relative),Ce=Ro(we,Ne,d),Ae=Wn(Ce,we,Ne);if(Ae.active&&Ae.matches&&(Ce=Ae.matches),!Ce){Ke(W,X,Hr(404,{pathname:Ne}),{flushSync:pe});return}let{path:Le,submission:ke,error:xe}=RE(!0,Ne,ue);if(xe){Ke(W,X,xe,{flushSync:pe});return}let qe=t.unstable_getContext?await t.unstable_getContext():new OE,tt=(ue&&ue.preventScrollReset)===!0;if(ke&&Zn(ke.formMethod)){await Vs(W,X,Le,Ce,qe,Ae.active,pe,tt,ke);return}ie.set(W,{routeId:X,path:Le}),await Gi(W,X,Le,Ce,qe,Ae.active,pe,tt,ke)}async function Vs(W,X,ee,ue,pe,we,Ne,Ce,Ae){Fs(),ie.delete(W);let Le=L.fetchers.get(W);ct(W,FD(Ae,Le),{flushSync:Ne});let ke=new AbortController,xe=fc(t.history,ee,ke.signal,Ae);if(we){let Mt=await vi(ue,new URL(xe.url).pathname,xe.signal,W);if(Mt.type==="aborted")return;if(Mt.type==="error"){Ke(W,X,Mt.error,{flushSync:Ne});return}else if(Mt.matches)ue=Mt.matches;else{Ke(W,X,Hr(404,{pathname:ee}),{flushSync:Ne});return}}let qe=up(ue,ee);if(!qe.route.action&&!qe.route.lazy){let Mt=Hr(405,{method:Ae.formMethod,pathname:ee,routeId:X});Ke(W,X,Mt,{flushSync:Ne});return}G.set(W,ke);let tt=oe,mt=Sc(i,s,xe,ue,qe,r,pe),Fe=(await Er(xe,mt,pe,W))[qe.route.id];if(xe.signal.aborted){G.get(W)===ke&&G.delete(W);return}if(de.has(W)){if(Fa(Fe)||gr(Fe)){ct(W,Ao(void 0));return}}else{if(Fa(Fe))if(G.delete(W),ce>tt){ct(W,Ao(void 0));return}else return F.add(W),ct(W,Yu(Ae)),Gr(xe,Fe,!1,{fetcherSubmission:Ae,preventScrollReset:Ce});if(gr(Fe)){Ke(W,X,Fe.error);return}}let dt=L.navigation.location||L.location,Gn=fc(t.history,dt,ke.signal),mn=c||l,sn=L.navigation.state!=="idle"?Ro(mn,L.navigation.location,d):L.matches;Je(sn,"Didn't find any matches after fetcher action");let Dn=++oe;Te.set(W,Dn);let Ks=Yu(Ae,Fe.data);L.fetchers.set(W,Ks);let{dsMatches:sr,revalidatingFetchers:kr}=DE(Gn,pe,i,s,t.history,L,sn,Ae,dt,r,!1,ye,ge,de,ie,F,mn,d,t.patchRoutesOnNavigation!=null,[qe.route.id,Fe]);kr.filter(Mt=>Mt.key!==W).forEach(Mt=>{let Xr=Mt.key,Ys=L.fetchers.get(Xr),Xs=Yu(void 0,Ys?Ys.data:void 0);L.fetchers.set(Xr,Xs),Tr(Xr),Mt.controller&&G.set(Xr,Mt.controller)}),Ct({fetchers:new Map(L.fetchers)});let or=()=>kr.forEach(Mt=>Tr(Mt.key));ke.signal.addEventListener("abort",or);let{loaderResults:In,fetcherResults:Pe}=await $s(sr,kr,Gn,pe);if(ke.signal.aborted)return;if(ke.signal.removeEventListener("abort",or),Te.delete(W),G.delete(W),kr.forEach(Mt=>G.delete(Mt.key)),L.fetchers.has(W)){let Mt=Ao(Fe.data);L.fetchers.set(W,Mt)}let Dt=Oh(In);if(Dt)return Gr(Gn,Dt.result,!1,{preventScrollReset:Ce});if(Dt=Oh(Pe),Dt)return F.add(Dt.key),Gr(Gn,Dt.result,!1,{preventScrollReset:Ce});let{loaderData:Yr,errors:gn}=BE(L,sn,In,void 0,kr,Pe);yi(Dn),L.navigation.state==="loading"&&Dn>ce?(Je(_,"Expected pending action"),D&&D.abort(),rn(L.navigation.location,{matches:sn,loaderData:Yr,errors:gn,fetchers:new Map(L.fetchers)})):(Ct({errors:gn,loaderData:HE(L.loaderData,Yr,sn,gn),fetchers:new Map(L.fetchers)}),ye=!1)}async function Gi(W,X,ee,ue,pe,we,Ne,Ce,Ae){let Le=L.fetchers.get(W);ct(W,Yu(Ae,Le?Le.data:void 0),{flushSync:Ne});let ke=new AbortController,xe=fc(t.history,ee,ke.signal);if(we){let dt=await vi(ue,new URL(xe.url).pathname,xe.signal,W);if(dt.type==="aborted")return;if(dt.type==="error"){Ke(W,X,dt.error,{flushSync:Ne});return}else if(dt.matches)ue=dt.matches;else{Ke(W,X,Hr(404,{pathname:ee}),{flushSync:Ne});return}}let qe=up(ue,ee);G.set(W,ke);let tt=oe,mt=Sc(i,s,xe,ue,qe,r,pe),Fe=(await Er(xe,mt,pe,W))[qe.route.id];if(G.get(W)===ke&&G.delete(W),!xe.signal.aborted){if(de.has(W)){ct(W,Ao(void 0));return}if(Fa(Fe))if(ce>tt){ct(W,Ao(void 0));return}else{F.add(W),await Gr(xe,Fe,!1,{preventScrollReset:Ce});return}if(gr(Fe)){Ke(W,X,Fe.error);return}ct(W,Ao(Fe.data))}}async function Gr(W,X,ee,{submission:ue,fetcherSubmission:pe,preventScrollReset:we,replace:Ne}={}){X.response.headers.has("X-Remix-Revalidate")&&(ye=!0);let Ce=X.response.headers.get("Location");Je(Ce,"Expected a Location header on the redirect Response"),Ce=zE(Ce,new URL(W.url),d);let Ae=Ed(L.location,Ce,{_isRedirect:!0});if(n){let mt=!1;if(X.response.headers.has("X-Remix-Reload-Document"))mt=!0;else if(x1(Ce)){const ut=bA(Ce,!0);mt=ut.origin!==e.location.origin||rr(ut.pathname,d)==null}if(mt){Ne?e.location.replace(Ce):e.location.assign(Ce);return}}D=null;let Le=Ne===!0||X.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ke,formAction:xe,formEncType:qe}=L.navigation;!ue&&!pe&&ke&&xe&&qe&&(ue=FE(L.navigation));let tt=ue||pe;if(SD.has(X.response.status)&&tt&&Zn(tt.formMethod))await _n(Le,Ae,{submission:{...tt,formAction:Ce},preventScrollReset:we||M,enableViewTransition:ee?R:void 0});else{let mt=v0(Ae,ue);await _n(Le,Ae,{overrideNavigation:mt,fetcherSubmission:pe,preventScrollReset:we||M,enableViewTransition:ee?R:void 0})}}async function Er(W,X,ee,ue){let pe,we={};try{pe=await RD(f,W,X,ue,ee,!1)}catch(Ne){return X.filter(Ce=>Ce.shouldLoad).forEach(Ce=>{we[Ce.route.id]={type:"error",error:Ne}}),we}if(W.signal.aborted)return we;for(let[Ne,Ce]of Object.entries(pe))if(HD(Ce)){let Ae=Ce.result;we[Ne]={type:"redirect",response:jD(Ae,W,Ne,X,d)}}else we[Ne]=await LD(Ce);return we}async function $s(W,X,ee,ue){let pe=Er(ee,W,ue,null),we=Promise.all(X.map(async Ae=>{if(Ae.matches&&Ae.match&&Ae.request&&Ae.controller){let ke=(await Er(Ae.request,Ae.matches,ue,Ae.key))[Ae.match.route.id];return{[Ae.key]:ke}}else return Promise.resolve({[Ae.key]:{type:"error",error:Hr(404,{pathname:Ae.path})}})})),Ne=await pe,Ce=(await we).reduce((Ae,Le)=>Object.assign(Ae,Le),{});return{loaderResults:Ne,fetcherResults:Ce}}function Fs(){ye=!0,ie.forEach((W,X)=>{G.has(X)&&ge.add(X),Tr(X)})}function ct(W,X,ee={}){L.fetchers.set(W,X),Ct({fetchers:new Map(L.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function Ke(W,X,ee,ue={}){let pe=Do(L.matches,X);Gt(W),Ct({errors:{[pe.route.id]:ee},fetchers:new Map(L.fetchers)},{flushSync:(ue&&ue.flushSync)===!0})}function Tn(W){return he.set(W,(he.get(W)||0)+1),de.has(W)&&de.delete(W),L.fetchers.get(W)||xD}function Gt(W){let X=L.fetchers.get(W);G.has(W)&&!(X&&X.state==="loading"&&Te.has(W))&&Tr(W),ie.delete(W),Te.delete(W),F.delete(W),de.delete(W),ge.delete(W),L.fetchers.delete(W)}function wl(W){let X=(he.get(W)||0)-1;X<=0?(he.delete(W),de.add(W)):he.set(W,X),Ct({fetchers:new Map(L.fetchers)})}function Tr(W){let X=G.get(W);X&&(X.abort(),G.delete(W))}function mi(W){for(let X of W){let ee=Tn(X),ue=Ao(ee.data);L.fetchers.set(X,ue)}}function gi(){let W=[],X=!1;for(let ee of F){let ue=L.fetchers.get(ee);Je(ue,`Expected fetcher: ${ee}`),ue.state==="loading"&&(F.delete(ee),W.push(ee),X=!0)}return mi(W),X}function yi(W){let X=[];for(let[ee,ue]of Te)if(ue<W){let pe=L.fetchers.get(ee);Je(pe,`Expected fetcher: ${ee}`),pe.state==="loading"&&(Tr(ee),Te.delete(ee),X.push(ee))}return mi(X),X.length>0}function ir(W,X){let ee=L.blockers.get(W)||dc;return Se.get(W)!==X&&Se.set(W,X),ee}function Ki(W){L.blockers.delete(W),Se.delete(W)}function Cr(W,X){let ee=L.blockers.get(W)||dc;Je(ee.state==="unblocked"&&X.state==="blocked"||ee.state==="blocked"&&X.state==="blocked"||ee.state==="blocked"&&X.state==="proceeding"||ee.state==="blocked"&&X.state==="unblocked"||ee.state==="proceeding"&&X.state==="unblocked",`Invalid blocker state transition: ${ee.state} -> ${X.state}`);let ue=new Map(L.blockers);ue.set(W,X),Ct({blockers:ue})}function qs({currentLocation:W,nextLocation:X,historyAction:ee}){if(Se.size===0)return;Se.size>1&&Zt(!1,"A router only supports one blocker at a time");let ue=Array.from(Se.entries()),[pe,we]=ue[ue.length-1],Ne=L.blockers.get(pe);if(!(Ne&&Ne.state==="proceeding")&&we({currentLocation:W,nextLocation:X,historyAction:ee}))return pe}function Yi(W){let X=Hr(404,{pathname:W}),ee=c||l,{matches:ue,route:pe}=Mh(ee);return{notFoundMatches:ue,route:pe,error:X}}function Sl(W,X,ee){if(w=W,E=X,x=ee||null,!C&&L.navigation===y0){C=!0;let ue=Ws(L.location,L.matches);ue!=null&&Ct({restoreScrollPosition:ue})}return()=>{w=null,E=null,x=null}}function Ar(W,X){return x&&x(W,X.map(ue=>wA(ue,L.loaderData)))||W.key}function Kr(W,X){if(w&&E){let ee=Ar(W,X);w[ee]=E()}}function Ws(W,X){if(w){let ee=Ar(W,X),ue=w[ee];if(typeof ue=="number")return ue}return null}function Wn(W,X,ee){if(t.patchRoutesOnNavigation)if(W){if(Object.keys(W[0].params).length>0)return{active:!0,matches:cp(X,ee,d,!0)}}else return{active:!0,matches:cp(X,ee,d,!0)||[]};return{active:!1,matches:null}}async function vi(W,X,ee,ue){if(!t.patchRoutesOnNavigation)return{type:"success",matches:W};let pe=W;for(;;){let we=c==null,Ne=c||l,Ce=s;try{await t.patchRoutesOnNavigation({signal:ee,path:X,matches:pe,fetcherKey:ue,patch:(ke,xe)=>{ee.aborted||IE(ke,xe,Ne,Ce,i,!1)}})}catch(ke){return{type:"error",error:ke,partialMatches:pe}}finally{we&&!ee.aborted&&(l=[...l])}if(ee.aborted)return{type:"aborted"};let Ae=Ro(Ne,X,d);if(Ae)return{type:"success",matches:Ae};let Le=cp(Ne,X,d,!0);if(!Le||pe.length===Le.length&&pe.every((ke,xe)=>ke.route.id===Le[xe].route.id))return{type:"success",matches:null};pe=Le}}function Xi(W){s={},c=Td(W,i,void 0,s)}function Gs(W,X,ee=!1){let ue=c==null;IE(W,X,c||l,s,i,ee),ue&&(l=[...l],Ct({}))}return P={get basename(){return d},get future(){return p},get state(){return L},get routes(){return l},get window(){return e},initialize:Nt,subscribe:Fn,enableScrollRestoration:Sl,navigate:xr,fetch:fa,revalidate:qn,createHref:W=>t.history.createHref(W),encodeLocation:W=>t.history.encodeLocation(W),getFetcher:Tn,deleteFetcher:wl,dispose:lt,getBlocker:ir,deleteBlocker:Ki,patchRoutes:Gs,_internalFetchControllers:G,_internalSetRoutes:Xi,_internalSetStateDoNotUseOrYouWillBreakYourApp(W){Ct(W)}},P}function AD(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function wv(t,e,n,r,i,s){let l,c;if(i){l=[];for(let f of e)if(l.push(f),f.route.id===i){c=f;break}}else l=e,c=e[e.length-1];let d=S1(r||".",w1(l),rr(t.pathname,n)||t.pathname,s==="path");if(r==null&&(d.search=t.search,d.hash=t.hash),(r==null||r===""||r===".")&&c){let f=E1(d.search);if(c.route.index&&!f)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&f){let p=new URLSearchParams(d.search),m=p.getAll("index");p.delete("index"),m.filter(w=>w).forEach(w=>p.append("index",w));let v=p.toString();d.search=v?`?${v}`:""}}return n!=="/"&&(d.pathname=uD({basename:n,pathname:d.pathname})),Zo(d)}function RE(t,e,n){if(!n||!AD(n))return{path:e};if(n.formMethod&&!VD(n.formMethod))return{path:e,error:Hr(405,{method:n.formMethod})};let r=()=>({path:e,error:Hr(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),l=DA(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Zn(s))return r();let m=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((v,[w,x])=>`${v}${w}=${x}
`,""):String(n.body);return{path:e,submission:{formMethod:s,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:m}}}else if(n.formEncType==="application/json"){if(!Zn(s))return r();try{let m=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:s,formAction:l,formEncType:n.formEncType,formData:void 0,json:m,text:void 0}}}catch{return r()}}}Je(typeof FormData=="function","FormData is not available in this environment");let c,d;if(n.formData)c=Ev(n.formData),d=n.formData;else if(n.body instanceof FormData)c=Ev(n.body),d=n.body;else if(n.body instanceof URLSearchParams)c=n.body,d=UE(c);else if(n.body==null)c=new URLSearchParams,d=new FormData;else try{c=new URLSearchParams(n.body),d=UE(c)}catch{return r()}let f={formMethod:s,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(Zn(f.formMethod))return{path:e,submission:f};let p=ia(e);return t&&p.search&&E1(p.search)&&c.append("index",""),p.search=`?${c}`,{path:Zo(p),submission:f}}function DE(t,e,n,r,i,s,l,c,d,f,p,m,v,w,x,E,C,O,I,j){let U=j?gr(j[1])?j[1].error:j[1].data:void 0,P=i.createURL(s.location),L=i.createURL(d),_;if(p&&s.errors){let H=Object.keys(s.errors)[0];_=l.findIndex(ye=>ye.route.id===H)}else if(j&&gr(j[1])){let H=j[0];_=l.findIndex(ye=>ye.route.id===H)-1}let M=j?j[1].statusCode:void 0,D=M&&M>=400,R={currentUrl:P,currentParams:s.matches[0]?.params||{},nextUrl:L,nextParams:l[0].params,...c,actionResult:U,actionStatus:M},V=l.map((H,ye)=>{let{route:ge}=H,G=null;if(_!=null&&ye>_?G=!1:ge.lazy?G=!0:ge.loader==null?G=!1:p?G=Sv(ge,s.loaderData,s.errors):kD(s.loaderData,s.matches[ye],H)&&(G=!0),G!==null)return xv(n,r,t,H,f,e,G);let oe=D?!1:m||P.pathname+P.search===L.pathname+L.search||P.search!==L.search||ND(s.matches[ye],H),ce={...R,defaultShouldRevalidate:oe},Te=Mp(H,ce);return xv(n,r,t,H,f,e,Te,ce)}),q=[];return x.forEach((H,ye)=>{if(p||!l.some(he=>he.route.id===H.routeId)||w.has(ye))return;let ge=s.fetchers.get(ye),G=ge&&ge.state!=="idle"&&ge.data===void 0,oe=Ro(C,H.path,O);if(!oe){if(I&&G)return;q.push({key:ye,routeId:H.routeId,path:H.path,matches:null,match:null,request:null,controller:null});return}if(E.has(ye))return;let ce=up(oe,H.path),Te=new AbortController,F=fc(i,H.path,Te.signal),ie=null;if(v.has(ye))v.delete(ye),ie=Sc(n,r,F,oe,ce,f,e);else if(G)m&&(ie=Sc(n,r,F,oe,ce,f,e));else{let he={...R,defaultShouldRevalidate:D?!1:m};Mp(ce,he)&&(ie=Sc(n,r,F,oe,ce,f,e,he))}ie&&q.push({key:ye,routeId:H.routeId,path:H.path,matches:ie,match:ce,request:F,controller:Te})}),{dsMatches:V,revalidatingFetchers:q}}function Sv(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function kD(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function ND(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Mp(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function IE(t,e,n,r,i,s){let l;if(t){let f=r[t];Je(f,`No route found to patch children into: routeId = ${t}`),f.children||(f.children=[]),l=f.children}else l=n;let c=[],d=[];if(e.forEach(f=>{let p=l.find(m=>NA(f,m));p?d.push({existingRoute:p,newRoute:f}):c.push(f)}),c.length>0){let f=Td(c,i,[t||"_","patch",String(l?.length||"0")],r);l.push(...f)}if(s&&d.length>0)for(let f=0;f<d.length;f++){let{existingRoute:p,newRoute:m}=d[f],v=p,[w]=Td([m],i,[],{},!0);Object.assign(v,{element:w.element?w.element:v.element,errorElement:w.errorElement?w.errorElement:v.errorElement,hydrateFallbackElement:w.hydrateFallbackElement?w.hydrateFallbackElement:v.hydrateFallbackElement})}}function NA(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>e.children?.some(i=>NA(n,i))):!1}var LE=new WeakMap,MA=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(Je(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[t];if(!s)return;let l=LE.get(i);l||(l={},LE.set(i,l));let c=l[t];if(c)return c;let d=(async()=>{let f=Y4(t),m=i[t]!==void 0&&t!=="hasErrorBoundary";if(f)Zt(!f,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),l[t]=Promise.resolve();else if(m)Zt(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let v=await s();v!=null&&(Object.assign(i,{[t]:v}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(v=>v===void 0)&&(i.lazy=void 0))})();return l[t]=d,d},jE=new WeakMap;function MD(t,e,n,r,i){let s=n[t.id];if(Je(s,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let p=jE.get(s);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let m=(async()=>{Je(typeof t.lazy=="function","No lazy route function found");let v=await t.lazy(),w={};for(let x in v){let E=v[x];if(E===void 0)continue;let C=J4(x),I=s[x]!==void 0&&x!=="hasErrorBoundary";C?Zt(!C,"Route property "+x+" is not a supported property to be returned from a lazy route function. This property will be ignored."):I?Zt(!I,`Route "${s.id}" has a static property "${x}" defined but its lazy function is also returning a value for this property. The lazy route property "${x}" will be ignored.`):w[x]=E}Object.assign(s,w),Object.assign(s,{...r(s),lazy:void 0})})();return jE.set(s,m),m.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:m}}let l=Object.keys(t.lazy),c=[],d;for(let p of l){if(i&&i.includes(p))continue;let m=MA({key:p,route:t,manifest:n,mapRouteProperties:r});m&&(c.push(m),p===e&&(d=m))}let f=c.length>0?Promise.all(c).then(()=>{}):void 0;return f?.catch(()=>{}),d?.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:d}}async function PE(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,s)=>{n[e[s].route.id]=i}),n}async function OD(t){return t.matches.some(e=>e.route.unstable_middleware)?OA(t,()=>PE(t)):PE(t)}function OA(t,e){return _D(t,e,r=>r,UD,n);function n(r,i,s){if(s)return Promise.resolve(Object.assign(s.value,{[i]:{type:"error",result:r}}));{let{matches:l}=t,c=Math.min(l.findIndex(f=>f.route.id===i)||0,l.findIndex(f=>f.unstable_shouldCallHandler())||0),d=Do(l,l[c].route.id).route.id;return Promise.resolve({[d]:{type:"error",result:r}})}}}async function _D(t,e,n,r,i){let{matches:s,request:l,params:c,context:d}=t,f=s.flatMap(m=>m.route.unstable_middleware?m.route.unstable_middleware.map(v=>[m.route.id,v]):[]);return await _A({request:l,params:c,context:d},f,e,n,r,i)}async function _A(t,e,n,r,i,s,l=0){let{request:c}=t;if(c.signal.aborted)throw c.signal.reason??new Error(`Request aborted: ${c.method} ${c.url}`);let d=e[l];if(!d)return await n();let[f,p]=d,m,v=async()=>{if(m)throw new Error("You may only call `next()` once per middleware");try{return m={value:await _A(t,e,n,r,i,s,l+1)},m.value}catch(w){return m={value:await s(w,f,m)},m.value}};try{let w=await p(t,v),x=w!=null?r(w):void 0;return i(x)?x:m?x??m.value:(m={value:await v()},m.value)}catch(w){return await s(w,f,m)}}function RA(t,e,n,r,i){let s=MA({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),l=MD(r.route,Zn(n.method)?"action":"loader",e,t,i);return{middleware:s,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function xv(t,e,n,r,i,s,l,c=null){let d=!1,f=RA(t,e,n,r,i);return{...r,_lazyPromises:f,shouldLoad:l,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler(p){return d=!0,c?typeof p=="boolean"?Mp(r,{...c,defaultShouldRevalidate:p}):Mp(r,c):l},resolve(p){return d||l||p&&!Zn(n.method)&&(r.route.lazy||r.route.loader)?DD({request:n,match:r,lazyHandlerPromise:f?.handler,lazyRoutePromise:f?.route,handlerOverride:p,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function Sc(t,e,n,r,i,s,l,c=null){return r.map(d=>d.route.id!==i.route.id?{...d,shouldLoad:!1,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler:()=>!1,_lazyPromises:RA(t,e,n,d,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:xv(t,e,n,d,s,l,!0,c))}async function RD(t,e,n,r,i,s){n.some(f=>f._lazyPromises?.middleware)&&await Promise.all(n.map(f=>f._lazyPromises?.middleware));let l={request:e,params:n[0].params,context:i,matches:n},d=await t({...l,fetcherKey:r,unstable_runClientMiddleware:f=>{let p=l;return OA(p,()=>f({...p,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(f=>[f._lazyPromises?.handler,f._lazyPromises?.route]))}catch{}return d}async function DD({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:s}){let l,c,d=Zn(t.method),f=d?"action":"loader",p=m=>{let v,w=new Promise((C,O)=>v=O);c=()=>v(),t.signal.addEventListener("abort",c);let x=C=>typeof m!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${f}" [routeId: ${e.route.id}]`)):m({request:t,params:e.params,context:s},...C!==void 0?[C]:[]),E=(async()=>{try{return{type:"data",result:await(i?i(O=>x(O)):x())}}catch(C){return{type:"error",result:C}}})();return Promise.race([E,w])};try{let m=d?e.route.action:e.route.loader;if(n||r)if(m){let v,[w]=await Promise.all([p(m).catch(x=>{v=x}),n,r]);if(v!==void 0)throw v;l=w}else{await n;let v=d?e.route.action:e.route.loader;if(v)[l]=await Promise.all([p(v),r]);else if(f==="action"){let w=new URL(t.url),x=w.pathname+w.search;throw Hr(405,{method:t.method,pathname:x,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(m)l=await p(m);else{let v=new URL(t.url),w=v.pathname+v.search;throw Hr(404,{pathname:w})}}catch(m){return{type:"error",result:m}}finally{c&&t.signal.removeEventListener("abort",c)}return l}async function ID(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function LD(t){let{result:e,type:n}=t;if(IA(e)){let r;try{r=await ID(e)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new Np(e.status,e.statusText,r),statusCode:e.status,headers:e.headers}:{type:"data",data:r,statusCode:e.status,headers:e.headers}}return n==="error"?$E(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Np(e.init?.status||500,void 0,e.data),statusCode:Ad(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Ad(e)?e.status:void 0}:$E(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function jD(t,e,n,r,i){let s=t.headers.get("Location");if(Je(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!x1(s)){let l=r.slice(0,r.findIndex(c=>c.route.id===n)+1);s=wv(new URL(e.url),l,i,s),t.headers.set("Location",s)}return t}function zE(t,e,n){if(x1(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=rr(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function fc(t,e,n,r){let i=t.createURL(DA(e)).toString(),s={signal:n};if(r&&Zn(r.formMethod)){let{formMethod:l,formEncType:c}=r;s.method=l.toUpperCase(),c==="application/json"?(s.headers=new Headers({"Content-Type":c}),s.body=JSON.stringify(r.json)):c==="text/plain"?s.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?s.body=Ev(r.formData):s.body=r.formData}return new Request(i,s)}function Ev(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function UE(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function PD(t,e,n,r=!1,i=!1){let s={},l=null,c,d=!1,f={},p=n&&gr(n[1])?n[1].error:void 0;return t.forEach(m=>{if(!(m.route.id in e))return;let v=m.route.id,w=e[v];if(Je(!Fa(w),"Cannot handle redirect results in processLoaderData"),gr(w)){let x=w.error;if(p!==void 0&&(x=p,p=void 0),l=l||{},i)l[v]=x;else{let E=Do(t,v);l[E.route.id]==null&&(l[E.route.id]=x)}r||(s[v]=kA),d||(d=!0,c=Ad(w.error)?w.error.status:500),w.headers&&(f[v]=w.headers)}else s[v]=w.data,w.statusCode&&w.statusCode!==200&&!d&&(c=w.statusCode),w.headers&&(f[v]=w.headers)}),p!==void 0&&n&&(l={[n[0]]:p},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:l,statusCode:c||200,loaderHeaders:f}}function BE(t,e,n,r,i,s){let{loaderData:l,errors:c}=PD(e,n,r);return i.filter(d=>!d.matches||d.matches.some(f=>f.shouldLoad)).forEach(d=>{let{key:f,match:p,controller:m}=d;if(m&&m.signal.aborted)return;let v=s[f];if(Je(v,"Did not find corresponding fetcher result"),gr(v)){let w=Do(t.matches,p?.route.id);c&&c[w.route.id]||(c={...c,[w.route.id]:v.error}),t.fetchers.delete(f)}else if(Fa(v))Je(!1,"Unhandled fetcher revalidation redirect");else{let w=Ao(v.data);t.fetchers.set(f,w)}}),{loaderData:l,errors:c}}function HE(t,e,n,r){let i=Object.entries(e).filter(([,s])=>s!==kA).reduce((s,[l,c])=>(s[l]=c,s),{});for(let s of n){let l=s.route.id;if(!e.hasOwnProperty(l)&&t.hasOwnProperty(l)&&s.route.loader&&(i[l]=t[l]),r&&r.hasOwnProperty(l))break}return i}function VE(t){return t?gr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Do(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Mh(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Hr(t,{pathname:e,routeId:n,method:r,type:i,message:s}={}){let l="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(l="Bad Request",r&&e&&n?c=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(c="Unable to encode submission body")):t===403?(l="Forbidden",c=`Route "${n}" does not match URL "${e}"`):t===404?(l="Not Found",c=`No route matches URL "${e}"`):t===405&&(l="Method Not Allowed",r&&e&&n?c=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(c=`Invalid request method "${r.toUpperCase()}"`)),new Np(t||500,l,new Error(c),!0)}function Oh(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Fa(i))return{key:r,result:i}}}function DA(t){let e=typeof t=="string"?ia(t):t;return Zo({...e,hash:""})}function zD(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function UD(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&BD(n))}function BD(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function HD(t){return IA(t.result)&&wD.has(t.result.status)}function gr(t){return t.type==="error"}function Fa(t){return(t&&t.type)==="redirect"}function $E(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function IA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function VD(t){return bD.has(t.toUpperCase())}function Zn(t){return yD.has(t.toUpperCase())}function E1(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function up(t,e){let n=typeof e=="string"?ia(e).search:e.search;if(t[t.length-1].route.index&&E1(n||""))return t[t.length-1];let r=TA(t);return r[r.length-1]}function FE(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:l}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function v0(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function $D(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Yu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function FD(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ao(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function qD(t,e){try{let n=t.sessionStorage.getItem(AA);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function WD(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(AA,JSON.stringify(n))}catch(r){Zt(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function GD(){let t,e,n=new Promise((r,i)=>{t=async s=>{r(s);try{await n}catch{}},e=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var gl=A.createContext(null);gl.displayName="DataRouter";var Gd=A.createContext(null);Gd.displayName="DataRouterState";A.createContext(!1);var T1=A.createContext({isTransitioning:!1});T1.displayName="ViewTransition";var LA=A.createContext(new Map);LA.displayName="Fetchers";var KD=A.createContext(null);KD.displayName="Await";var Fi=A.createContext(null);Fi.displayName="Navigation";var Dm=A.createContext(null);Dm.displayName="Location";var qi=A.createContext({outlet:null,matches:[],isDataRoute:!1});qi.displayName="Route";var C1=A.createContext(null);C1.displayName="RouteError";function YD(t,{relative:e}={}){Je(Fc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=A.useContext(Fi),{hash:i,pathname:s,search:l}=Kd(t,{relative:e}),c=s;return n!=="/"&&(c=s==="/"?n:Pi([n,s])),r.createHref({pathname:c,search:l,hash:i})}function Fc(){return A.useContext(Dm)!=null}function sa(){return Je(Fc(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Dm).location}function qE(t){Je(Fc(),"useMatch() may be used only in the context of a <Router> component.");let{pathname:e}=sa();return A.useMemo(()=>Cd(t,EA(e)),[e,t])}var jA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PA(t){A.useContext(Fi).static||A.useLayoutEffect(t)}function XD(){let{isDataRoute:t}=A.useContext(qi);return t?u3():JD()}function JD(){Je(Fc(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(gl),{basename:e,navigator:n}=A.useContext(Fi),{matches:r}=A.useContext(qi),{pathname:i}=sa(),s=JSON.stringify(w1(r)),l=A.useRef(!1);return PA(()=>{l.current=!0}),A.useCallback((d,f={})=>{if(Zt(l.current,jA),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=S1(d,JSON.parse(s),i,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Pi([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,s,i,t])}var QD=A.createContext(null);function ZD(t){let e=A.useContext(qi).outlet;return e&&A.createElement(QD.Provider,{value:t},e)}function Kd(t,{relative:e}={}){let{matches:n}=A.useContext(qi),{pathname:r}=sa(),i=JSON.stringify(w1(n));return A.useMemo(()=>S1(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function e3(t,e,n,r,i){Je(Fc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=A.useContext(Fi),{matches:l}=A.useContext(qi),c=l[l.length-1],d=c?c.params:{},f=c?c.pathname:"/",p=c?c.pathnameBase:"/",m=c&&c.route;{let I=m&&m.path||"";BA(f,!m||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let v=sa(),w;w=v;let x=w.pathname||"/",E=x;if(p!=="/"){let I=p.replace(/^\//,"").split("/");E="/"+x.replace(/^\//,"").split("/").slice(I.length).join("/")}let C=Ro(t,{pathname:E});return Zt(m||C!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Zt(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),s3(C&&C.map(I=>Object.assign({},I,{params:Object.assign({},d,I.params),pathname:Pi([p,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?p:Pi([p,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),l,n,r,i)}function t3(){let t=l3(),e=Ad(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:s},"ErrorBoundary")," or"," ",A.createElement("code",{style:s},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,l)}var n3=A.createElement(t3,null),r3=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?A.createElement(qi.Provider,{value:this.props.routeContext},A.createElement(C1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function i3({routeContext:t,match:e,children:n}){let r=A.useContext(gl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(qi.Provider,{value:t},n)}function s3(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=n?.errors;if(l!=null){let f=s.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);Je(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let c=!1,d=-1;if(n)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:m,errors:v}=n,w=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||w){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((f,p,m)=>{let v,w=!1,x=null,E=null;n&&(v=l&&p.route.id?l[p.route.id]:void 0,x=p.route.errorElement||n3,c&&(d<0&&m===0?(BA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,E=null):d===m&&(w=!0,E=p.route.hydrateFallbackElement||null)));let C=e.concat(s.slice(0,m+1)),O=()=>{let I;return v?I=x:w?I=E:p.route.Component?I=A.createElement(p.route.Component,null):p.route.element?I=p.route.element:I=f,A.createElement(i3,{match:p,routeContext:{outlet:f,matches:C,isDataRoute:n!=null},children:I})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?A.createElement(r3,{location:n.location,revalidation:n.revalidation,component:x,error:v,children:O(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:r}):O()},null)}function A1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zA(t){let e=A.useContext(gl);return Je(e,A1(t)),e}function Yd(t){let e=A.useContext(Gd);return Je(e,A1(t)),e}function o3(t){let e=A.useContext(qi);return Je(e,A1(t)),e}function Im(t){let e=o3(t),n=e.matches[e.matches.length-1];return Je(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function a3(){return Im("useRouteId")}function $K(){return Yd("useNavigation").navigation}function FK(){let{matches:t,loaderData:e}=Yd("useMatches");return A.useMemo(()=>t.map(n=>wA(n,e)),[t,e])}function qK(){let t=Yd("useLoaderData"),e=Im("useLoaderData");return t.loaderData[e]}function l3(){let t=A.useContext(C1),e=Yd("useRouteError"),n=Im("useRouteError");return t!==void 0?t:e.errors?.[n]}var c3=0;function UA(t){let{router:e,basename:n}=zA("useBlocker"),r=Yd("useBlocker"),[i,s]=A.useState(""),l=A.useCallback(c=>{if(typeof t!="function")return!!t;if(n==="/")return t(c);let{currentLocation:d,nextLocation:f,historyAction:p}=c;return t({currentLocation:{...d,pathname:rr(d.pathname,n)||d.pathname},nextLocation:{...f,pathname:rr(f.pathname,n)||f.pathname},historyAction:p})},[n,t]);return A.useEffect(()=>{let c=String(++c3);return s(c),()=>e.deleteBlocker(c)},[e]),A.useEffect(()=>{i!==""&&e.getBlocker(i,l)},[e,i,l]),i&&r.blockers.has(i)?r.blockers.get(i):dc}function u3(){let{router:t}=zA("useNavigate"),e=Im("useNavigate"),n=A.useRef(!1);return PA(()=>{n.current=!0}),A.useCallback(async(i,s={})=>{Zt(n.current,jA),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var WE={};function BA(t,e,n){!e&&!WE[t]&&(WE[t]=!0,Zt(!1,n))}var GE={};function KE(t,e){!t&&!GE[e]&&(GE[e]=!0,console.warn(e))}function d3(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Zt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:A.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Zt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:A.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Zt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:A.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var f3=["HydrateFallback","hydrateFallbackElement"],h3=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function p3({router:t,flushSync:e,unstable_onError:n}){let[r,i]=A.useState(t.state),[s,l]=A.useState(),[c,d]=A.useState({isTransitioning:!1}),[f,p]=A.useState(),[m,v]=A.useState(),[w,x]=A.useState(),E=A.useRef(new Map),C=A.useCallback(P=>{i(L=>(P.errors&&n&&Object.entries(P.errors).forEach(([_,M])=>{L.errors?.[_]!==M&&n(M)}),P))},[n]),O=A.useCallback((P,{deletedFetchers:L,flushSync:_,viewTransitionOpts:M})=>{P.fetchers.forEach((R,V)=>{R.data!==void 0&&E.current.set(V,R.data)}),L.forEach(R=>E.current.delete(R)),KE(_===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let D=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(KE(M==null||D,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!M||!D){e&&_?e(()=>C(P)):A.startTransition(()=>C(P));return}if(e&&_){e(()=>{m&&(f&&f.resolve(),m.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let R=t.window.document.startViewTransition(()=>{e(()=>C(P))});R.finished.finally(()=>{e(()=>{p(void 0),v(void 0),l(void 0),d({isTransitioning:!1})})}),e(()=>v(R));return}m?(f&&f.resolve(),m.skipTransition(),x({state:P,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(l(P),d({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[t.window,e,m,f,C]);A.useLayoutEffect(()=>t.subscribe(O),[t,O]),A.useEffect(()=>{c.isTransitioning&&!c.flushSync&&p(new h3)},[c]),A.useEffect(()=>{if(f&&s&&t.window){let P=s,L=f.promise,_=t.window.document.startViewTransition(async()=>{A.startTransition(()=>C(P)),await L});_.finished.finally(()=>{p(void 0),v(void 0),l(void 0),d({isTransitioning:!1})}),v(_)}},[s,f,t.window,C]),A.useEffect(()=>{f&&s&&r.location.key===s.location.key&&f.resolve()},[f,m,r.location,s]),A.useEffect(()=>{!c.isTransitioning&&w&&(l(w.state),d({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),x(void 0))},[c.isTransitioning,w]);let I=A.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:P=>t.navigate(P),push:(P,L,_)=>t.navigate(P,{state:L,preventScrollReset:_?.preventScrollReset}),replace:(P,L,_)=>t.navigate(P,{replace:!0,state:L,preventScrollReset:_?.preventScrollReset})}),[t]),j=t.basename||"/",U=A.useMemo(()=>({router:t,navigator:I,static:!1,basename:j,unstable_onError:n}),[t,I,j,n]);return A.createElement(A.Fragment,null,A.createElement(gl.Provider,{value:U},A.createElement(Gd.Provider,{value:r},A.createElement(LA.Provider,{value:E.current},A.createElement(T1.Provider,{value:c},A.createElement(y3,{basename:j,location:r.location,navigationType:r.historyAction,navigator:I},A.createElement(m3,{routes:t.routes,future:t.future,state:r,unstable_onError:n})))))),null)}var m3=A.memo(g3);function g3({routes:t,future:e,state:n,unstable_onError:r}){return e3(t,void 0,n,r,e)}function GK(t){return ZD(t.context)}function y3({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Je(!Fc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=A.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof n=="string"&&(n=ia(n));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:v="default"}=n,w=A.useMemo(()=>{let x=rr(d,l);return x==null?null:{location:{pathname:x,search:f,hash:p,state:m,key:v},navigationType:r}},[l,d,f,p,m,v,r]);return Zt(w!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:A.createElement(Fi.Provider,{value:c},A.createElement(Dm.Provider,{children:e,value:w}))}var dp="get",fp="application/x-www-form-urlencoded";function Lm(t){return t!=null&&typeof t.tagName=="string"}function v3(t){return Lm(t)&&t.tagName.toLowerCase()==="button"}function b3(t){return Lm(t)&&t.tagName.toLowerCase()==="form"}function w3(t){return Lm(t)&&t.tagName.toLowerCase()==="input"}function S3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function x3(t,e){return t.button===0&&(!e||e==="_self")&&!S3(t)}var _h=null;function E3(){if(_h===null)try{new FormData(document.createElement("form"),0),_h=!1}catch{_h=!0}return _h}var T3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function b0(t){return t!=null&&!T3.has(t)?(Zt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fp}"`),null):t}function C3(t,e){let n,r,i,s,l;if(b3(t)){let c=t.getAttribute("action");r=c?rr(c,e):null,n=t.getAttribute("method")||dp,i=b0(t.getAttribute("enctype"))||fp,s=new FormData(t)}else if(v3(t)||w3(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?rr(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||dp,i=b0(t.getAttribute("formenctype"))||b0(c.getAttribute("enctype"))||fp,s=new FormData(c,t),!E3()){let{name:f,type:p,value:m}=t;if(p==="image"){let v=f?`${f}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else f&&s.append(f,m)}}else{if(Lm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dp,r=null,i=fp,l=t}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function k1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function A3(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&rr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function k3(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function N3(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function M3(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await k3(s,n);return l.links?l.links():[]}return[]}));return D3(r.flat(1).filter(N3).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function YE(t,e,n,r,i,s){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,c=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return s==="assets"?e.filter((d,f)=>l(d,f)||c(d,f)):s==="data"?e.filter((d,f)=>{let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function O3(t,e,{includeHydrateFallback:n}={}){return _3(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function _3(t){return[...new Set(t)]}function R3(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function D3(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(R3(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function HA(){let t=A.useContext(gl);return k1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function I3(){let t=A.useContext(Gd);return k1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var N1=A.createContext(void 0);N1.displayName="FrameworkContext";function VA(){let t=A.useContext(N1);return k1(t,"You must render this element inside a <HydratedRouter> element"),t}function L3(t,e){let n=A.useContext(N1),[r,i]=A.useState(!1),[s,l]=A.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=e,v=A.useRef(null);A.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let E=O=>{O.forEach(I=>{l(I.isIntersecting)})},C=new IntersectionObserver(E,{threshold:.5});return v.current&&C.observe(v.current),()=>{C.disconnect()}}},[t]),A.useEffect(()=>{if(r){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[r]);let w=()=>{i(!0)},x=()=>{i(!1),l(!1)};return n?t!=="intent"?[s,v,{}]:[s,v,{onFocus:Xu(c,w),onBlur:Xu(d,x),onMouseEnter:Xu(f,w),onMouseLeave:Xu(p,x),onTouchStart:Xu(m,w)}]:[!1,v,{}]}function Xu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function j3({page:t,...e}){let{router:n}=HA(),r=A.useMemo(()=>Ro(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?A.createElement(z3,{page:t,matches:r,...e}):null}function P3(t){let{manifest:e,routeModules:n}=VA(),[r,i]=A.useState([]);return A.useEffect(()=>{let s=!1;return M3(t,e,n).then(l=>{s||i(l)}),()=>{s=!0}},[t,e,n]),r}function z3({page:t,matches:e,...n}){let r=sa(),{manifest:i,routeModules:s}=VA(),{basename:l}=HA(),{loaderData:c,matches:d}=I3(),f=A.useMemo(()=>YE(t,e,d,i,r,"data"),[t,e,d,i,r]),p=A.useMemo(()=>YE(t,e,d,i,r,"assets"),[t,e,d,i,r]),m=A.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,E=!1;if(e.forEach(O=>{let I=i.routes[O.route.id];!I||!I.hasLoader||(!f.some(j=>j.route.id===O.route.id)&&O.route.id in c&&s[O.route.id]?.shouldRevalidate||I.hasClientLoader?E=!0:x.add(O.route.id))}),x.size===0)return[];let C=A3(t,l,"data");return E&&x.size>0&&C.searchParams.set("_routes",e.filter(O=>x.has(O.route.id)).map(O=>O.route.id).join(",")),[C.pathname+C.search]},[l,c,r,i,f,e,t,s]),v=A.useMemo(()=>O3(p,i),[p,i]),w=P3(p);return A.createElement(A.Fragment,null,m.map(x=>A.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),v.map(x=>A.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),w.map(({key:x,link:E})=>A.createElement("link",{key:x,nonce:n.nonce,...E})))}function U3(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var $A=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$A&&(window.__reactRouterVersion="7.8.2")}catch{}function B3(t,e){return CD({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:q4({window:e?.window}),hydrationData:H3(),routes:t,mapRouteProperties:d3,hydrationRouteProperties:f3,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function H3(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:V3(t.errors)}),t}function V3(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Np(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let l=new s(i.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var FA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qA=A.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:c,target:d,to:f,preventScrollReset:p,viewTransition:m,...v},w){let{basename:x}=A.useContext(Fi),E=typeof f=="string"&&FA.test(f),C,O=!1;if(typeof f=="string"&&E&&(C=f,$A))try{let D=new URL(window.location.href),R=f.startsWith("//")?new URL(D.protocol+f):new URL(f),V=rr(R.pathname,x);R.origin===D.origin&&V!=null?f=V+R.search+R.hash:O=!0}catch{Zt(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=YD(f,{relative:i}),[j,U,P]=L3(r,v),L=q3(f,{replace:l,state:c,target:d,preventScrollReset:p,relative:i,viewTransition:m});function _(D){e&&e(D),D.defaultPrevented||L(D)}let M=A.createElement("a",{...v,...P,href:C||I,onClick:O||s?e:_,ref:U3(w,U),target:d,"data-discover":!E&&n==="render"?"true":void 0});return j&&!E?A.createElement(A.Fragment,null,M,A.createElement(j3,{page:I})):M});qA.displayName="Link";var hp=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:c,children:d,...f},p){let m=Kd(l,{relative:f.relative}),v=sa(),w=A.useContext(Gd),{navigator:x,basename:E}=A.useContext(Fi),C=w!=null&&Y3(m)&&c===!0,O=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,I=v.pathname,j=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(I=I.toLowerCase(),j=j?j.toLowerCase():null,O=O.toLowerCase()),j&&E&&(j=rr(j,E)||j);const U=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let P=I===O||!i&&I.startsWith(O)&&I.charAt(U)==="/",L=j!=null&&(j===O||!i&&j.startsWith(O)&&j.charAt(O.length)==="/"),_={isActive:P,isPending:L,isTransitioning:C},M=P?e:void 0,D;typeof r=="function"?D=r(_):D=[r,P?"active":null,L?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(_):s;return A.createElement(qA,{...f,"aria-current":M,className:D,ref:p,style:R,to:l,viewTransition:c},typeof d=="function"?d(_):d)});hp.displayName="NavLink";var $3=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:l=dp,action:c,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:m,...v},w)=>{let x=jm(),E=K3(c,{relative:f}),C=l.toLowerCase()==="get"?"get":"post",O=typeof c=="string"&&FA.test(c),I=j=>{if(d&&d(j),j.defaultPrevented)return;j.preventDefault();let U=j.nativeEvent.submitter,P=U?.getAttribute("formmethod")||l;x(U||j.currentTarget,{fetcherKey:e,method:P,navigate:n,replace:i,state:s,relative:f,preventScrollReset:p,viewTransition:m})};return A.createElement("form",{ref:w,method:C,action:E,onSubmit:r?d:I,...v,"data-discover":!O&&t==="render"?"true":void 0})});$3.displayName="Form";function F3(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WA(t){let e=A.useContext(gl);return Je(e,F3(t)),e}function q3(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:l}={}){let c=XD(),d=sa(),f=Kd(t,{relative:s});return A.useCallback(p=>{if(x3(p,e)){p.preventDefault();let m=n!==void 0?n:Zo(d)===Zo(f);c(t,{replace:m,state:r,preventScrollReset:i,relative:s,viewTransition:l})}},[d,c,f,n,r,e,t,i,s,l])}var W3=0,G3=()=>`__${String(++W3)}__`;function jm(){let{router:t}=WA("useSubmit"),{basename:e}=A.useContext(Fi),n=a3();return A.useCallback(async(r,i={})=>{let{action:s,method:l,encType:c,formData:d,body:f}=C3(r,e);if(i.navigate===!1){let p=i.fetcherKey||G3();await t.fetch(p,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function K3(t,{relative:e}={}){let{basename:n}=A.useContext(Fi),r=A.useContext(qi);Je(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Kd(t||".",{relative:e})},l=sa();if(t==null){s.search=l.search;let c=new URLSearchParams(s.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(m=>m).forEach(m=>c.append("index",m));let p=c.toString();s.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Pi([n,s.pathname])),Zo(s)}function Y3(t,{relative:e}={}){let n=A.useContext(T1);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=WA("useViewTransitionState"),i=Kd(t,{relative:e});if(!n.isTransitioning)return!1;let s=rr(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=rr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Cd(i.pathname,l)!=null||Cd(i.pathname,s)!=null}var qc=yA();const GA=b1(qc);function KA(){return b.jsxs("svg",{viewBox:"0 0 1720 440",xmlns:"http://www.w3.org/2000/svg",children:[b.jsxs("defs",{children:[b.jsxs("linearGradient",{x1:"0",y1:"440",x2:"1720",y2:"0",id:"g",gradientUnits:"userSpaceOnUse",children:[b.jsx("stop",{offset:"0",children:b.jsx("animate",{attributeName:"stop-color",values:"#ff6000;#000000",dur:"10s",repeatCount:"1"})}),b.jsx("stop",{offset:"0.5",children:b.jsx("animate",{attributeName:"stop-color",values:"#fe0190;#000000",dur:"10s",repeatCount:"1"})}),b.jsx("stop",{offset:"1",children:b.jsx("animate",{attributeName:"stop-color",values:"#e400ff;#000000",dur:"10s",repeatCount:"1"})})]}),b.jsxs("radialGradient",{cx:"1080",cy:"180",r:"220",id:"h",gradientUnits:"userSpaceOnUse",children:[b.jsx("stop",{offset:"0",stopColor:"#ff6d00"}),b.jsx("stop",{offset:"1",children:b.jsx("animate",{attributeName:"stop-color",values:"#fe0589;#000000",dur:"10s",repeatCount:"1"})})]})]}),b.jsx("path",{d:"M 715.902 68 L 715.902 126.5 L 692.902 126.5 C 682.235 126.5 674.902 128.5 670.902 132.5 C 666.902 136.5 664.902 143.333 664.902 153 L 664.902 163.5 L 715.902 163.5 L 715.902 231 L 664.902 231 L 664.902 434.5 L 565.402 434.5 L 565.402 231 L 507.402 231 L 507.402 434.5 L 407.902 434.5 L 407.902 231 L 370.91 231 C 364.205 266.237 349.431 294.571 326.589 316 C 294.255 346.333 248.422 361.5 189.089 361.5 C 129.755 361.5 84.005 346.417 51.839 316.25 C 19.672 286.083 3.589 241.833 3.589 183.5 C 3.589 125.167 19.672 80.917 51.839 50.75 C 84.005 20.583 129.755 5.5 189.089 5.5 C 248.422 5.5 294.255 20.667 326.589 51 C 355.098 77.745 371.038 115.245 374.41 163.5 L 407.902 163.5 L 407.902 152.5 C 407.902 118.5 416.235 94.417 432.902 80.25 C 449.568 66.083 473.402 59 504.402 59 C 511.735 59 520.902 59.917 531.902 61.75 C 542.902 63.583 551.735 65.667 558.402 68 L 558.402 126.5 L 535.402 126.5 C 524.735 126.5 517.402 128.5 513.402 132.5 C 509.402 136.5 507.402 143.333 507.402 153 L 507.402 163.5 L 565.402 163.5 L 565.402 152.5 C 565.402 118.5 573.735 94.417 590.402 80.25 C 607.068 66.083 630.902 59 661.902 59 C 669.235 59 678.402 59.917 689.402 61.75 C 700.402 63.583 709.235 65.667 715.902 68 Z M 116.589 167.5 L 116.589 199.5 C 116.589 223.833 122.755 243.167 135.089 257.5 C 147.422 271.833 165.422 279 189.089 279 C 212.755 279 230.839 271.833 243.339 257.5 C 255.839 243.167 262.089 223.833 262.089 199.5 L 262.089 167.5 C 262.089 143.167 255.839 123.833 243.339 109.5 C 230.839 95.167 212.755 88 189.089 88 C 165.422 88 147.422 95.167 135.089 109.5 C 122.755 123.833 116.589 143.167 116.589 167.5 Z M 1096.9 136 L 991.404 136 C 991.404 121.667 985.071 110.083 972.404 101.25 C 959.737 92.417 944.404 88 926.404 88 C 900.404 88 880.737 94.917 867.404 108.75 C 854.071 122.583 847.404 142.167 847.404 167.5 L 847.404 199.5 C 847.404 224.833 854.071 244.417 867.404 258.25 C 880.737 272.083 900.404 279 926.404 279 C 944.404 279 959.737 274.75 972.404 266.25 C 985.071 257.75 956.571 361.5 905.904 361.5 C 848.904 361.5 806.071 346.583 777.404 316.75 C 748.737 286.917 734.404 242.5 734.404 183.5 C 734.404 125.167 750.654 80.917 783.154 50.75 C 815.654 20.583 861.904 5.5 921.904 5.5 C 954.904 5.5 984.571 10.5 1010.9 20.5 C 1037.24 30.5 1058.15 45.25 1073.65 64.75 C 1089.15 84.25 1096.9 108 1096.9 136 Z M 1397.41 171.5 L 1397.41 274.5 C 1397.41 280.167 1398.74 284.833 1401.41 288.5 C 1404.07 292.167 1408.07 294 1413.41 294 L 1431.41 294 L 1431.41 91.5 L 1512.41 91.5 L 1520.91 129 C 1540.24 100 1568.24 85.5 1604.91 85.5 C 1640.57 85.5 1668.07 97.167 1687.41 120.5 C 1706.74 143.833 1716.41 178.333 1716.41 224 C 1716.41 269.333 1706.74 303.583 1687.41 326.75 C 1668.07 349.917 1640.57 361.5 1604.91 361.5 C 1574.24 361.5 1549.57 351.5 1530.91 331.5 L 1530.91 434.5 L 1431.41 434.5 L 1431.41 351.5 C 1430.41 352.167 1427.82 353.25 1423.66 354.75 C 1419.49 356.25 1413.57 357.75 1405.91 359.25 C 1398.24 360.75 1389.41 361.5 1379.41 361.5 C 1360.07 361.5 1344.16 358.583 1331.66 352.75 C 1319.16 346.917 1310.57 338.833 1305.91 328.5 C 1293.24 338.5 1279.07 346.5 1263.41 352.5 C 1247.74 358.5 1229.41 361.5 1208.41 361.5 C 1146.41 361.5 1115.41 336.833 1115.41 287.5 C 1115.41 261.833 1122.32 242.25 1136.16 228.75 C 1149.99 215.25 1169.91 206 1195.91 201 C 1221.91 196 1255.91 193.5 1297.91 193.5 L 1297.91 180.5 C 1297.91 170.167 1294.32 162.333 1287.16 157 C 1279.99 151.667 1270.74 149 1259.41 149 C 1249.07 149 1240.16 150.833 1232.66 154.5 C 1225.16 158.167 1223.01 163.5 1223.01 163.5 L 1122.6 163.5 C 1122.61 138.856 1134.82 122.167 1158.66 107.5 C 1182.49 92.833 1216.57 85.5 1260.91 85.5 C 1301.24 85.5 1334.07 92.25 1359.41 105.75 C 1384.74 119.25 1397.41 141.167 1397.41 171.5 Z M 1297.91 263 L 1297.91 240.5 C 1269.57 240.5 1248.66 243.583 1235.16 249.75 C 1221.66 255.917 1214.91 264.167 1214.91 274.5 C 1214.91 291.167 1226.24 299.5 1248.91 299.5 C 1261.91 299.5 1273.32 296 1283.16 289 C 1292.99 282 1297.91 273.333 1297.91 263 Z M 1529.91 215 L 1529.91 231.5 C 1529.91 248.167 1533.57 261.75 1540.91 272.25 C 1548.24 282.75 1559.24 288 1573.91 288 C 1602.57 288 1616.91 270.833 1616.91 236.5 L 1616.91 210 C 1616.91 176 1602.57 159 1573.91 159 C 1559.24 159 1548.24 164.167 1540.91 174.5 C 1533.57 184.833 1529.91 198.333 1529.91 215 Z",fill:"url(#g)"}),b.jsx("path",{d:"M 992.373 231.321 L 904.897 231 L 904.897 163.5 L 1096.9 163.5 L 1096.9 355.5 L 1029.4 355.5 L 1029.4 312.685 C 1008.68 359.5 956.571 361.5 905.904 361.5 C 848.904 361.5 806.071 346.583 777.404 316.75 C 748.737 286.917 847.404 199.5 847.404 199.5 C 847.404 224.833 854.071 244.417 867.404 258.25 C 880.737 272.083 900.404 279 926.404 279 C 944.404 279 959.737 274.75 972.404 266.25 C 985.071 257.75 990.07 248.497 992.373 231.321 Z",fill:"url(#h)"})]})}const Pm="https://api.offgap.com",X3="AIzaSyCreSZSO-cUugR2K4Oc1EgGnbJ7a40mk08",mr={TLD:".offgap.com"},Ja={SHOW_FONTS:3,FONT_DEF_WEIGHT:400,EDITOR_NEWLINE:"<p></p>"},er={INIT:"starts",LENGTH:6,FOLDER:"_",GITFOLDER:"static/_",LIVEFILE:"_.json",TIME_ZIP:36,TIME_TRIM:1e3},zn={BLUR:250,FOCUS:50,DEBOUNCE:3e3,UI_FLASH:3e3},qa={TRIM:1e4,DATE:[0,10],TIME:[11,16],ZONE_OFFSET_MS:60*1e3},M1={OK:200,CREATED:201,ACCEPTED:202,NOTMODIFIED:304},et={INIT:0,NS_SET:1,NS_POLL:2,NS_HOLD:3,NS_DONE:4,DOMAIN_POLL:5,DOMAIN_HOLD:6,DOMAIN_DONE:7,PID_OLD:8,PID_NEW:9},XE="^[a-z0-9][a-z0-9\\-]{4,}$",JE="^(https?://)?([a-zA-Z0-9]([a-zA-Z0-9\\-].*[a-zA-Z0-9])?\\.)+[a-zA-Z].*$",xo={SUB:new RegExp(XE),SUB_PAT:XE,DOM:new RegExp(JE),DOM_PAT:JE},Tv={EMAIL:"emailForSignIn"},Eo={UNDO:"undo",REDO:"redo",FORMAT:"editor.action.formatDocument",FIND:"actions.find",REPLACE:"editor.action.startFindReplaceAction",COMMENT:"editor.action.commentLine",INDENT_R:"editor.action.indentLines",INDENT_L:"editor.action.outdentLines"},J3={A1:"185.199.108.153",A2:"185.199.109.153",A3:"185.199.110.153",A4:"185.199.111.153",CNAME:"offgap.github.io"},Q3=["body>div,.ProseMirror{min-height:100%;height:auto;outline:none;white-space:pre-wrap;overflow:auto}.feed{margin-block:0 !important}",'area{display:block;border:0.01px solid #fff3;text-align:center;padding:3em;width:auto;mix-blend-mode:difference;background:repeating-linear-gradient(30deg,#fff1 0,#fff1 15px,transparent 15px,transparent 30px);background-clip:padding-box;}area:before{content:"Feed Placeholder"}'];/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=()=>{};var QE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},e5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],c=t[n++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},XA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,c=l?t[i+1]:0,d=i+2<t.length,f=d?t[i+2]:0,p=s>>2,m=(s&3)<<4|c>>4;let v=(c&15)<<2|f>>6,w=f&63;d||(w=64,l||(v=64)),r.push(n[p],n[m],n[v],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):e5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||f==null||m==null)throw new t5;const v=s<<2|c>>4;if(r.push(v),f!==64){const w=c<<4&240|f>>2;if(r.push(w),m!==64){const x=f<<6&192|m;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class t5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n5=function(t){const e=YA(t);return XA.encodeByteArray(e,!0)},Op=function(t){return n5(t).replace(/\./g,"")},JA=function(t){try{return XA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5=()=>r5().__FIREBASE_DEFAULTS__,s5=()=>{if(typeof process>"u"||typeof QE>"u")return;const t=QE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},o5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&JA(t[1]);return e&&JSON.parse(e)},O1=()=>{try{return Z3()||i5()||s5()||o5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},QA=t=>{var e,n;return(n=(e=O1())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},a5=t=>{const e=QA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ZA=()=>{var t;return(t=O1())===null||t===void 0?void 0:t.config},ek=t=>{var e;return(e=O1())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tk(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Op(JSON.stringify(n)),Op(JSON.stringify(l)),""].join(".")}const ad={};function u5(){const t={prod:[],emulator:[]};for(const e of Object.keys(ad))ad[e]?t.emulator.push(e):t.prod.push(e);return t}function d5(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ZE=!1;function nk(t,e){if(typeof window>"u"||typeof document>"u"||!Xd(window.location.host)||ad[t]===e||ad[t]||ZE)return;ad[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",s=u5().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,w){v.setAttribute("width","24"),v.setAttribute("id",w),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{ZE=!0,l()},v}function p(v,w){v.setAttribute("id",w),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function m(){const v=d5(r),w=n("text"),x=document.getElementById(w)||document.createElement("span"),E=n("learnmore"),C=document.getElementById(E)||document.createElement("a"),O=n("preprendIcon"),I=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const j=v.element;c(j),p(C,E);const U=f();d(I,O),j.append(I,x,C,U),document.body.appendChild(j)}s?(x.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function f5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bn())}function h5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function p5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function m5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function g5(){const t=Bn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y5(){try{return typeof indexedDB=="object"}catch{return!1}}function v5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5="FirebaseError";class js extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=b5,Object.setPrototypeOf(this,js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jd.prototype.create)}}class Jd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?w5(s,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new js(i,c,r)}}function w5(t,e){return t.replace(S5,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const S5=/\{\$([^}]+)}/g;function x5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(e2(s)&&e2(l)){if(!sl(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function e2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ed(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function td(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function E5(t,e){const n=new T5(t,e);return n.subscribe.bind(n)}class T5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");C5(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=w0),i.error===void 0&&(i.error=w0),i.complete===void 0&&(i.complete=w0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function C5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function w0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(t){return t&&t._delegate?t._delegate:t}class ol{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new l5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(N5(e))try{this.getOrInitializeService({instanceIdentifier:Ha})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ha){return this.instances.has(e)}getOptions(e=Ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const l=this.instances.get(i);return l&&e(l,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:k5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ha){return this.component?this.component.multipleInstances?e:Ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function k5(t){return t===Ha?void 0:t}function N5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new A5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pt||(pt={}));const O5={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},_5=pt.INFO,R5={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},D5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=R5[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _1{constructor(e){this.name=e,this._logLevel=_5,this._logHandler=D5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?O5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...e),this._logHandler(this,pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...e),this._logHandler(this,pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pt.INFO,...e),this._logHandler(this,pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pt.WARN,...e),this._logHandler(this,pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...e),this._logHandler(this,pt.ERROR,...e)}}const I5=(t,e)=>e.some(n=>t instanceof n);let t2,n2;function L5(){return t2||(t2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j5(){return n2||(n2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rk=new WeakMap,Cv=new WeakMap,ik=new WeakMap,S0=new WeakMap,R1=new WeakMap;function P5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(Vo(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&rk.set(n,t)}).catch(()=>{}),R1.set(e,t),e}function z5(t){if(Cv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});Cv.set(t,e)}let Av={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ik.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function U5(t){Av=t(Av)}function B5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(x0(this),e,...n);return ik.set(r,e.sort?e.sort():[e]),Vo(r)}:j5().includes(t)?function(...e){return t.apply(x0(this),e),Vo(rk.get(this))}:function(...e){return Vo(t.apply(x0(this),e))}}function H5(t){return typeof t=="function"?B5(t):(t instanceof IDBTransaction&&z5(t),I5(t,L5())?new Proxy(t,Av):t)}function Vo(t){if(t instanceof IDBRequest)return P5(t);if(S0.has(t))return S0.get(t);const e=H5(t);return e!==t&&(S0.set(t,e),R1.set(e,t)),e}const x0=t=>R1.get(t);function V5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),c=Vo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Vo(l.result),d.oldVersion,d.newVersion,Vo(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const $5=["get","getKey","getAll","getAllKeys","count"],F5=["put","add","delete","clear"],E0=new Map;function r2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(E0.get(e))return E0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=F5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$5.includes(n)))return;const s=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&d.done]))[0]};return E0.set(e,s),s}U5(t=>({...t,get:(e,n,r)=>r2(e,n)||t.get(e,n,r),has:(e,n)=>!!r2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(W5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function W5(t){const e=t.getComponent();return e?.type==="VERSION"}const kv="@firebase/app",i2="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new _1("@firebase/app"),G5="@firebase/app-compat",K5="@firebase/analytics-compat",Y5="@firebase/analytics",X5="@firebase/app-check-compat",J5="@firebase/app-check",Q5="@firebase/auth",Z5="@firebase/auth-compat",eI="@firebase/database",tI="@firebase/data-connect",nI="@firebase/database-compat",rI="@firebase/functions",iI="@firebase/functions-compat",sI="@firebase/installations",oI="@firebase/installations-compat",aI="@firebase/messaging",lI="@firebase/messaging-compat",cI="@firebase/performance",uI="@firebase/performance-compat",dI="@firebase/remote-config",fI="@firebase/remote-config-compat",hI="@firebase/storage",pI="@firebase/storage-compat",mI="@firebase/firestore",gI="@firebase/ai",yI="@firebase/firestore-compat",vI="firebase",bI="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="[DEFAULT]",wI={[kv]:"fire-core",[G5]:"fire-core-compat",[Y5]:"fire-analytics",[K5]:"fire-analytics-compat",[J5]:"fire-app-check",[X5]:"fire-app-check-compat",[Q5]:"fire-auth",[Z5]:"fire-auth-compat",[eI]:"fire-rtdb",[tI]:"fire-data-connect",[nI]:"fire-rtdb-compat",[rI]:"fire-fn",[iI]:"fire-fn-compat",[sI]:"fire-iid",[oI]:"fire-iid-compat",[aI]:"fire-fcm",[lI]:"fire-fcm-compat",[cI]:"fire-perf",[uI]:"fire-perf-compat",[dI]:"fire-rc",[fI]:"fire-rc-compat",[hI]:"fire-gcs",[pI]:"fire-gcs-compat",[mI]:"fire-fst",[yI]:"fire-fst-compat",[gI]:"fire-vertex","fire-js":"fire-js",[vI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=new Map,SI=new Map,Mv=new Map;function s2(t,e){try{t.container.addComponent(e)}catch(n){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Oc(t){const e=t.name;if(Mv.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;Mv.set(e,t);for(const n of kd.values())s2(n,t);for(const n of SI.values())s2(n,t);return!0}function D1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $r(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$o=new Jd("app","Firebase",xI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ol("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $o.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=bI;function sk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Nv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw $o.create("bad-app-name",{appName:String(i)});if(n||(n=ZA()),!n)throw $o.create("no-options");const s=kd.get(i);if(s){if(sl(n,s.options)&&sl(r,s.config))return s;throw $o.create("duplicate-app",{appName:i})}const l=new M5(i);for(const d of Mv.values())l.addComponent(d);const c=new EI(n,r,l);return kd.set(i,c),c}function I1(t=Nv){const e=kd.get(t);if(!e&&t===Nv&&ZA())return sk();if(!e)throw $o.create("no-app",{appName:t});return e}function TI(){return Array.from(kd.values())}function Fo(t,e,n){var r;let i=(r=wI[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Is.warn(c.join(" "));return}Oc(new ol(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="firebase-heartbeat-database",AI=1,Nd="firebase-heartbeat-store";let T0=null;function ok(){return T0||(T0=V5(CI,AI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Nd)}catch(n){console.warn(n)}}}}).catch(t=>{throw $o.create("idb-open",{originalErrorMessage:t.message})})),T0}async function kI(t){try{const n=(await ok()).transaction(Nd),r=await n.objectStore(Nd).get(ak(t));return await n.done,r}catch(e){if(e instanceof js)Is.warn(e.message);else{const n=$o.create("idb-get",{originalErrorMessage:e?.message});Is.warn(n.message)}}}async function o2(t,e){try{const r=(await ok()).transaction(Nd,"readwrite");await r.objectStore(Nd).put(e,ak(t)),await r.done}catch(n){if(n instanceof js)Is.warn(n.message);else{const r=$o.create("idb-set",{originalErrorMessage:n?.message});Is.warn(r.message)}}}function ak(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=1024,MI=30;class OI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=a2();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>MI){const l=DI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Is.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=a2(),{heartbeatsToSend:r,unsentEntries:i}=_I(this._heartbeatsCache.heartbeats),s=Op(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Is.warn(n),""}}}function a2(){return new Date().toISOString().substring(0,10)}function _I(t,e=NI){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),l2(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),l2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class RI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return y5()?v5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return o2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return o2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function l2(t){return Op(JSON.stringify({version:2,heartbeats:t})).length}function DI(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t){Oc(new ol("platform-logger",e=>new q5(e),"PRIVATE")),Oc(new ol("heartbeat",e=>new OI(e),"PRIVATE")),Fo(kv,i2,t),Fo(kv,i2,"esm2017"),Fo("fire-js","")}II("");var LI="firebase",jI="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fo(LI,jI,"app");var Li=function(){return Li=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Li.apply(this,arguments)};function Zd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function PI(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function lk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zI=lk,ck=new Jd("auth","Firebase",lk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p=new _1("@firebase/auth");function UI(t,...e){_p.logLevel<=pt.WARN&&_p.warn(`Auth (${Wc}): ${t}`,...e)}function pp(t,...e){_p.logLevel<=pt.ERROR&&_p.error(`Auth (${Wc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(t,...e){throw j1(t,...e)}function ai(t,...e){return j1(t,...e)}function L1(t,e,n){const r=Object.assign(Object.assign({},zI()),{[e]:n});return new Jd("auth","Firebase",r).create(e,{appName:t.name})}function qo(t){return L1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function BI(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Wr(t,"argument-error"),L1(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function j1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ck.create(t,...e)}function _e(t,e,...n){if(!t)throw j1(e,...n)}function Ns(t){const e="INTERNAL ASSERTION FAILED: "+t;throw pp(e),new Error(e)}function Ls(t,e){t||Ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function HI(){return c2()==="http:"||c2()==="https:"}function c2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HI()||p5()||"connection"in navigator)?navigator.onLine:!0}function $I(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ls(n>e,"Short delay should be less than long delay!"),this.isMobile=f5()||m5()}get(){return VI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(t,e){Ls(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WI=new ef(3e4,6e4);function oa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function zs(t,e,n,r,i={}){return dk(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const c=Qd(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:d},s);return h5()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Xd(t.emulatorConfig.host)&&(f.credentials="include"),uk.fetch()(await fk(t,t.config.apiHost,n,c),f)})}async function dk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},FI),e);try{const i=new KI(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Rh(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const c=s.ok?l.errorMessage:l.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rh(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Rh(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Rh(t,"user-disabled",l);const p=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw L1(t,p,f);Wr(t,p)}}catch(i){if(i instanceof js)throw i;Wr(t,"network-request-failed",{message:String(i)})}}async function zm(t,e,n,r,i={}){const s=await zs(t,e,n,r,i);return"mfaPendingCredential"in s&&Wr(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function fk(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?P1(t.config,i):`${t.config.apiScheme}://${i}`;return qI.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}function GI(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class KI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ai(this.auth,"network-request-failed")),WI.get())})}}function Rh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ai(t,e,r);return i.customData._tokenResponse=n,i}function u2(t){return t!==void 0&&t.enterprise!==void 0}class YI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return GI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function XI(t,e){return zs(t,"GET","/v2/recaptchaConfig",oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(t,e){return zs(t,"POST","/v1/accounts:delete",e)}async function Dp(t,e){return zs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QI(t,e=!1){const n=Ps(t),r=await n.getIdToken(e),i=z1(r);_e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:r,authTime:ld(C0(i.auth_time)),issuedAtTime:ld(C0(i.iat)),expirationTime:ld(C0(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function C0(t){return Number(t)*1e3}function z1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return pp("JWT malformed, contained fewer than 3 sections"),null;try{const i=JA(n);return i?JSON.parse(i):(pp("Failed to decode base64 JWT payload"),null)}catch(i){return pp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function d2(t){const e=z1(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Md(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof js&&ZI(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ZI({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ld(this.lastLoginAt),this.creationTime=ld(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ip(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Md(t,Dp(n,{idToken:r}));_e(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?hk(s.providerUserInfo):[],c=nL(t.providerData,l),d=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!c?.length,p=d?f:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Ov(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function tL(t){const e=Ps(t);await Ip(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function hk(t){return t.map(e=>{var{providerId:n}=e,r=Zd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rL(t,e){const n=await dk(t,{},async()=>{const r=Qd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await fk(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&Xd(t.emulatorConfig.host)&&(d.credentials="include"),uk.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iL(t,e){return zs(t,"POST","/v2/accounts:revokeToken",oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):d2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=d2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await rL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new xc;return r&&(_e(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(_e(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xc,this.toJSON())}_performRefresh(){return Ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ri{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Zd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ov(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Md(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QI(this,e)}reload(){return tL(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ri(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ip(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($r(this.auth.app))return Promise.reject(qo(this.auth));const e=await this.getIdToken();return await Md(this,JI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,l,c,d,f,p;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,x=(l=n.photoURL)!==null&&l!==void 0?l:void 0,E=(c=n.tenantId)!==null&&c!==void 0?c:void 0,C=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,O=(f=n.createdAt)!==null&&f!==void 0?f:void 0,I=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:j,emailVerified:U,isAnonymous:P,providerData:L,stsTokenManager:_}=n;_e(j&&_,e,"internal-error");const M=xc.fromJSON(this.name,_);_e(typeof j=="string",e,"internal-error"),To(m,e.name),To(v,e.name),_e(typeof U=="boolean",e,"internal-error"),_e(typeof P=="boolean",e,"internal-error"),To(w,e.name),To(x,e.name),To(E,e.name),To(C,e.name),To(O,e.name),To(I,e.name);const D=new ri({uid:j,auth:e,email:v,emailVerified:U,displayName:m,isAnonymous:P,photoURL:x,phoneNumber:w,tenantId:E,stsTokenManager:M,createdAt:O,lastLoginAt:I});return L&&Array.isArray(L)&&(D.providerData=L.map(R=>Object.assign({},R))),C&&(D._redirectEventId=C),D}static async _fromIdTokenResponse(e,n,r=!1){const i=new xc;i.updateFromServerResponse(n);const s=new ri({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ip(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];_e(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?hk(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!s?.length,c=new xc;c.updateFromIdToken(r);const d=new ri({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ov(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=new Map;function Ms(t){Ls(t instanceof Function,"Expected a class definition");let e=f2.get(t);return e?(Ls(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,f2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}pk.type="NONE";const h2=pk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(t,e,n){return`firebase:${t}:${e}:${n}`}class Ec{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=mp(this.userKey,i.apiKey,s),this.fullPersistenceKey=mp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Dp(this.auth,{idToken:e}).catch(()=>{});return n?ri._fromGetAccountInfoResponse(this.auth,n,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ec(Ms(h2),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||Ms(h2);const l=mp(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const p=await f._get(l);if(p){let m;if(typeof p=="string"){const v=await Dp(e,{idToken:p}).catch(()=>{});if(!v)break;m=await ri._fromGetAccountInfoResponse(e,v,p)}else m=ri._fromJSON(e,p);f!==s&&(c=m),s=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new Ec(s,e,r):(s=d[0],c&&await s._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(l)}catch{}})),new Ec(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wk(e))return"Blackberry";if(Sk(e))return"Webos";if(gk(e))return"Safari";if((e.includes("chrome/")||yk(e))&&!e.includes("edge/"))return"Chrome";if(bk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function mk(t=Bn()){return/firefox\//i.test(t)}function gk(t=Bn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yk(t=Bn()){return/crios\//i.test(t)}function vk(t=Bn()){return/iemobile/i.test(t)}function bk(t=Bn()){return/android/i.test(t)}function wk(t=Bn()){return/blackberry/i.test(t)}function Sk(t=Bn()){return/webos/i.test(t)}function U1(t=Bn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sL(t=Bn()){var e;return U1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oL(){return g5()&&document.documentMode===10}function xk(t=Bn()){return U1(t)||bk(t)||Sk(t)||wk(t)||/windows phone/i.test(t)||vk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(t,e=[]){let n;switch(t){case"Browser":n=p2(Bn());break;case"Worker":n=`${p2(Bn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,c)=>{try{const d=e(s);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lL(t,e={}){return zs(t,"GET","/v2/passwordPolicy",oa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=6;class uL{constructor(e){var n,r,i,s;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:cL,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsUppercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m2(this),this.idTokenSubscription=new m2(this),this.beforeStateQueue=new aL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ck,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ms(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Ec.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Dp(this,{idToken:e}),r=await ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if($r(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(i=d.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ip(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$I()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($r(this.app))return Promise.reject(qo(this));const n=e?Ps(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $r(this.app)?Promise.reject(qo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $r(this.app)?Promise.reject(qo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ms(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lL(this),n=new uL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await iL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ms(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await Ec.create(this,[Ms(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(c,this,"internal-error"),c.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ek(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if($r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&UI(`Error while retrieving App Check token: ${n.error}`),n?.token}}function yl(t){return Ps(t)}class m2{constructor(e){this.auth=e,this.observer=null,this.addObserver=E5(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fL(t){Um=t}function Tk(t){return Um.loadJS(t)}function hL(){return Um.recaptchaEnterpriseScript}function pL(){return Um.gapiScript}function mL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class gL{constructor(){this.enterprise=new yL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class yL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const vL="recaptcha-enterprise",Ck="NO_RECAPTCHA";class bL{constructor(e){this.type=vL,this.auth=yl(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,c)=>{XI(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new YI(d);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,l(f.siteKey)}}).catch(d=>{c(d)})})}function i(s,l,c){const d=window.grecaptcha;u2(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(f=>{l(f)}).catch(()=>{l(Ck)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new gL().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(c=>{if(!n&&u2(window.grecaptcha))i(c,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=hL();d.length!==0&&(d+=c),Tk(d).then(()=>{i(c,s,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function g2(t,e,n,r=!1,i=!1){const s=new bL(t);let l;if(i)l=Ck;else try{l=await s.verify(n)}catch{l=await s.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function _v(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await g2(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await g2(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(t,e){const n=D1(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(sl(s,e??{}))return i;Wr(i,"already-initialized")}return n.initialize({options:e})}function SL(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ms);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function xL(t,e,n){const r=yl(t);_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Ak(e),{host:l,port:c}=EL(e),d=c===null?"":`:${c}`,f={url:`${s}//${l}${d}/`},p=Object.freeze({host:l,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){_e(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),_e(sl(f,r.config.emulator)&&sl(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Xd(l)?(tk(`${s}//${l}${d}`),nk("Auth",!0)):TL()}function Ak(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function EL(t){const e=Ak(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:y2(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:y2(l)}}}function y2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function TL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ns("not implemented")}_getIdTokenResponse(e){return Ns("not implemented")}_linkToIdToken(e,n){return Ns("not implemented")}_getReauthenticationResolver(e){return Ns("not implemented")}}async function CL(t,e){return zs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AL(t,e){return zm(t,"POST","/v1/accounts:signInWithPassword",oa(t,e))}async function kL(t,e){return zs(t,"POST","/v1/accounts:sendOobCode",oa(t,e))}async function NL(t,e){return kL(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ML(t,e){return zm(t,"POST","/v1/accounts:signInWithEmailLink",oa(t,e))}async function OL(t,e){return zm(t,"POST","/v1/accounts:signInWithEmailLink",oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od extends B1{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Od(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Od(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _v(e,n,"signInWithPassword",AL);case"emailLink":return ML(e,{email:this._email,oobCode:this._password});default:Wr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _v(e,r,"signUpPassword",CL);case"emailLink":return OL(e,{idToken:n,email:this._email,oobCode:this._password});default:Wr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(t,e){return zm(t,"POST","/v1/accounts:signInWithIdp",oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L="http://localhost";class al extends B1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new al(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Zd(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new al(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Tc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Tc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Tc(e,n)}buildRequest(){const e={requestUri:_L,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DL(t){const e=ed(td(t)).link,n=e?ed(td(e)).deep_link_id:null,r=ed(td(t)).deep_link_id;return(r?ed(td(r)).link:null)||r||n||e||t}class Bm{constructor(e){var n,r,i,s,l,c;const d=ed(td(e)),f=(n=d.apiKey)!==null&&n!==void 0?n:null,p=(r=d.oobCode)!==null&&r!==void 0?r:null,m=RL((i=d.mode)!==null&&i!==void 0?i:null);_e(f&&p&&m,"argument-error"),this.apiKey=f,this.operation=m,this.code=p,this.continueUrl=(s=d.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(l=d.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=DL(e);try{return new Bm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(){this.providerId=Gc.PROVIDER_ID}static credential(e,n){return Od._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Bm.parseLink(n);return _e(r,"argument-error"),Od._fromEmailAndCode(e,r.code,r.tenantId)}}Gc.PROVIDER_ID="password";Gc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Gc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf extends H1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends tf{constructor(){super("facebook.com")}static credential(e){return al._fromParams({providerId:Io.PROVIDER_ID,signInMethod:Io.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Io.credentialFromTaggedObject(e)}static credentialFromError(e){return Io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Io.credential(e.oauthAccessToken)}catch{return null}}}Io.FACEBOOK_SIGN_IN_METHOD="facebook.com";Io.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends tf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return al._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return As.credential(n,r)}catch{return null}}}As.GOOGLE_SIGN_IN_METHOD="google.com";As.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends tf{constructor(){super("github.com")}static credential(e){return al._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lo.credential(e.oauthAccessToken)}catch{return null}}}Lo.GITHUB_SIGN_IN_METHOD="github.com";Lo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo extends tf{constructor(){super("twitter.com")}static credential(e,n){return al._fromParams({providerId:jo.PROVIDER_ID,signInMethod:jo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return jo.credentialFromTaggedObject(e)}static credentialFromError(e){return jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return jo.credential(n,r)}catch{return null}}}jo.TWITTER_SIGN_IN_METHOD="twitter.com";jo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ri._fromIdTokenResponse(e,r,i),l=v2(r);return new _c({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=v2(r);return new _c({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function v2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp extends js{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Lp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Lp(e,n,r,i)}}function kk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Lp._fromErrorAndOperation(t,s,e,r):s})}async function IL(t,e,n=!1){const r=await Md(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _c._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LL(t,e,n=!1){const{auth:r}=t;if($r(r.app))return Promise.reject(qo(r));const i="reauthenticate";try{const s=await Md(t,kk(r,i,e,t),n);_e(s.idToken,r,"internal-error");const l=z1(s.idToken);_e(l,r,"internal-error");const{sub:c}=l;return _e(t.uid===c,r,"user-mismatch"),_c._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Wr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nk(t,e,n=!1){if($r(t.app))return Promise.reject(qo(t));const r="signIn",i=await kk(t,r,e),s=await _c._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function jL(t,e){return Nk(yl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t,e,n){var r;_e(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),_e(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),_e(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(_e(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(_e(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zL(t,e,n){const r=yl(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(l,c){_e(c.handleCodeInApp,r,"argument-error"),c&&PL(r,l,c)}s(i,n),await _v(r,i,"getOobCode",NL)}function UL(t,e){const n=Bm.parseLink(e);return n?.operation==="EMAIL_SIGNIN"}async function BL(t,e,n){if($r(t.app))return Promise.reject(qo(t));const r=Ps(t),i=Gc.credentialWithLink(e,n||Rp());return _e(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),jL(r,i)}function HL(t,e,n,r){return Ps(t).onIdTokenChanged(e,n,r)}function VL(t,e,n){return Ps(t).beforeAuthStateChanged(e,n)}function $L(t,e,n,r){return Ps(t).onAuthStateChanged(e,n,r)}function FL(t){return Ps(t).signOut()}const jp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jp,"1"),this.storage.removeItem(jp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=1e3,WL=10;class Ok extends Mk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);oL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,WL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},qL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ok.type="LOCAL";const GL=Ok;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k extends Mk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_k.type="SESSION";const Rk=_k;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Hm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(n.origin,s)),d=await KL(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((c,d)=>{const f=V1("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(m){const v=m;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(v.data.response);break;default:clearTimeout(p),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(){return window}function XL(t){zi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function JL(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QL(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ZL(){return Dk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik="firebaseLocalStorageDb",e6=1,Pp="firebaseLocalStorage",Lk="fbase_key";class nf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vm(t,e){return t.transaction([Pp],e?"readwrite":"readonly").objectStore(Pp)}function t6(){const t=indexedDB.deleteDatabase(Ik);return new nf(t).toPromise()}function Rv(){const t=indexedDB.open(Ik,e6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Pp,{keyPath:Lk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Pp)?e(r):(r.close(),await t6(),e(await Rv()))})})}async function b2(t,e,n){const r=Vm(t,!0).put({[Lk]:e,value:n});return new nf(r).toPromise()}async function n6(t,e){const n=Vm(t,!1).get(e),r=await new nf(n).toPromise();return r===void 0?null:r.value}function w2(t,e){const n=Vm(t,!0).delete(e);return new nf(n).toPromise()}const r6=800,i6=3;class jk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>i6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Dk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hm._getInstance(ZL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await JL(),!this.activeServiceWorker)return;this.sender=new YL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rv();return await b2(e,jp,"1"),await w2(e,jp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>b2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>n6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>w2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Vm(i,!1).getAll();return new nf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),r6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jk.type="LOCAL";const s6=jk;new ef(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(t,e){return e?Ms(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1 extends B1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Tc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Tc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function o6(t){return Nk(t.auth,new $1(t),t.bypassAuthState)}function a6(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),LL(n,new $1(t),t.bypassAuthState)}async function l6(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),IL(n,new $1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return o6;case"linkViaPopup":case"linkViaRedirect":return l6;case"reauthViaPopup":case"reauthViaRedirect":return a6;default:Wr(this.auth,"internal-error")}}resolve(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=new ef(2e3,1e4);async function u6(t,e,n){if($r(t.app))return Promise.reject(ai(t,"operation-not-supported-in-this-environment"));const r=yl(t);BI(t,e,H1);const i=Pk(r,n);return new Wa(r,"signInViaPopup",e,i).executeNotNull()}class Wa extends zk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Wa.currentPopupAction&&Wa.currentPopupAction.cancel(),Wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Ls(this.filter.length===1,"Popup operations only handle one event");const e=V1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,c6.get())};e()}}Wa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6="pendingRedirect",gp=new Map;class f6 extends zk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=gp.get(this.auth._key());if(!e){try{const r=await h6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gp.set(this.auth._key(),e)}return this.bypassAuthState||gp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function h6(t,e){const n=g6(e),r=m6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function p6(t,e){gp.set(t._key(),e)}function m6(t){return Ms(t._redirectPersistence)}function g6(t){return mp(d6,t.config.apiKey,t.name)}async function y6(t,e,n=!1){if($r(t.app))return Promise.reject(qo(t));const r=yl(t),i=Pk(r,e),l=await new f6(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6=600*1e3;class b6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!w6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Uk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ai(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=v6&&this.cachedEventUids.clear(),this.cachedEventUids.has(S2(e))}saveEventToCache(e){this.cachedEventUids.add(S2(e)),this.lastProcessedEventTime=Date.now()}}function S2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Uk({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function w6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Uk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S6(t,e={}){return zs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E6=/^https?/;async function T6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await S6(t);for(const n of e)try{if(C6(n))return}catch{}Wr(t,"unauthorized-domain")}function C6(t){const e=Rp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!E6.test(n))return!1;if(x6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6=new ef(3e4,6e4);function x2(){const t=zi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function k6(t){return new Promise((e,n)=>{var r,i,s;function l(){x2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{x2(),n(ai(t,"network-request-failed"))},timeout:A6.get()})}if(!((i=(r=zi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=zi().gapi)===null||s===void 0)&&s.load)l();else{const c=mL("iframefcb");return zi()[c]=()=>{gapi.load?l():n(ai(t,"network-request-failed"))},Tk(`${pL()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw yp=null,e})}let yp=null;function N6(t){return yp=yp||k6(t),yp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=new ef(5e3,15e3),O6="__/auth/iframe",_6="emulator/auth/iframe",R6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},D6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I6(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?P1(e,_6):`https://${t.config.authDomain}/${O6}`,r={apiKey:e.apiKey,appName:t.name,v:Wc},i=D6.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Qd(r).slice(1)}`}async function L6(t){const e=await N6(t),n=zi().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:I6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:R6,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=ai(t,"network-request-failed"),c=zi().setTimeout(()=>{s(l)},M6.get());function d(){zi().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},P6=500,z6=600,U6="_blank",B6="http://localhost";class E2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function H6(t,e,n,r=P6,i=z6){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},j6),{width:r.toString(),height:i.toString(),top:s,left:l}),f=Bn().toLowerCase();n&&(c=yk(f)?U6:n),mk(f)&&(e=e||B6,d.scrollbars="yes");const p=Object.entries(d).reduce((v,[w,x])=>`${v}${w}=${x},`,"");if(sL(f)&&c!=="_self")return V6(e||"",c),new E2(null);const m=window.open(e||"",c,p);_e(m,t,"popup-blocked");try{m.focus()}catch{}return new E2(m)}function V6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6="__/auth/handler",F6="emulator/auth/handler",q6=encodeURIComponent("fac");async function T2(t,e,n,r,i,s){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Wc,eventId:i};if(e instanceof H1){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",x5(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))l[p]=m}if(e instanceof tf){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const d=await t._getAppCheckToken(),f=d?`#${q6}=${encodeURIComponent(d)}`:"";return`${W6(t)}?${Qd(c).slice(1)}${f}`}function W6({config:t}){return t.emulator?P1(t,F6):`https://${t.authDomain}/${$6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="webStorageSupport";class G6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rk,this._completeRedirectFn=y6,this._overrideRedirectResult=p6}async _openPopup(e,n,r,i){var s;Ls((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=await T2(e,n,r,Rp(),i);return H6(e,l,V1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await T2(e,n,r,Rp(),i);return XL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ls(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await L6(e),r=new b6(e);return n.register("authEvent",i=>(_e(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(A0,{type:A0},i=>{var s;const l=(s=i?.[0])===null||s===void 0?void 0:s[A0];l!==void 0&&n(!!l),Wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=T6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return xk()||gk()||U1()}}const K6=G6;var C2="@firebase/auth",A2="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function J6(t){Oc(new ol("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;_e(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ek(t)},f=new dL(r,i,s,d);return SL(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Oc(new ol("auth-internal",e=>{const n=yl(e.getProvider("auth").getImmediate());return(r=>new Y6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fo(C2,A2,X6(t)),Fo(C2,A2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6=300,Z6=ek("authIdTokenMaxAge")||Q6;let k2=null;const ej=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Z6)return;const i=n?.token;k2!==i&&(k2=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function tj(t=I1()){const e=D1(t,"auth");if(e.isInitialized())return e.getImmediate();const n=wL(t,{popupRedirectResolver:K6,persistence:[s6,GL,Rk]}),r=ek("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=ej(s.toString());VL(n,l,()=>l(n.currentUser)),HL(n,c=>l(c))}}const i=QA("auth");return i&&xL(n,`http://${i}`),n}function nj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}fL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ai("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",nj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});J6("Browser");var N2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var F1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,M){function D(){}D.prototype=M.prototype,_.D=M.prototype,_.prototype=new D,_.prototype.constructor=_,_.C=function(R,V,q){for(var H=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)H[ye-2]=arguments[ye];return M.prototype[V].apply(R,H)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,M,D){D||(D=0);var R=Array(16);if(typeof M=="string")for(var V=0;16>V;++V)R[V]=M.charCodeAt(D++)|M.charCodeAt(D++)<<8|M.charCodeAt(D++)<<16|M.charCodeAt(D++)<<24;else for(V=0;16>V;++V)R[V]=M[D++]|M[D++]<<8|M[D++]<<16|M[D++]<<24;M=_.g[0],D=_.g[1],V=_.g[2];var q=_.g[3],H=M+(q^D&(V^q))+R[0]+3614090360&4294967295;M=D+(H<<7&4294967295|H>>>25),H=q+(V^M&(D^V))+R[1]+3905402710&4294967295,q=M+(H<<12&4294967295|H>>>20),H=V+(D^q&(M^D))+R[2]+606105819&4294967295,V=q+(H<<17&4294967295|H>>>15),H=D+(M^V&(q^M))+R[3]+3250441966&4294967295,D=V+(H<<22&4294967295|H>>>10),H=M+(q^D&(V^q))+R[4]+4118548399&4294967295,M=D+(H<<7&4294967295|H>>>25),H=q+(V^M&(D^V))+R[5]+1200080426&4294967295,q=M+(H<<12&4294967295|H>>>20),H=V+(D^q&(M^D))+R[6]+2821735955&4294967295,V=q+(H<<17&4294967295|H>>>15),H=D+(M^V&(q^M))+R[7]+4249261313&4294967295,D=V+(H<<22&4294967295|H>>>10),H=M+(q^D&(V^q))+R[8]+1770035416&4294967295,M=D+(H<<7&4294967295|H>>>25),H=q+(V^M&(D^V))+R[9]+2336552879&4294967295,q=M+(H<<12&4294967295|H>>>20),H=V+(D^q&(M^D))+R[10]+4294925233&4294967295,V=q+(H<<17&4294967295|H>>>15),H=D+(M^V&(q^M))+R[11]+2304563134&4294967295,D=V+(H<<22&4294967295|H>>>10),H=M+(q^D&(V^q))+R[12]+1804603682&4294967295,M=D+(H<<7&4294967295|H>>>25),H=q+(V^M&(D^V))+R[13]+4254626195&4294967295,q=M+(H<<12&4294967295|H>>>20),H=V+(D^q&(M^D))+R[14]+2792965006&4294967295,V=q+(H<<17&4294967295|H>>>15),H=D+(M^V&(q^M))+R[15]+1236535329&4294967295,D=V+(H<<22&4294967295|H>>>10),H=M+(V^q&(D^V))+R[1]+4129170786&4294967295,M=D+(H<<5&4294967295|H>>>27),H=q+(D^V&(M^D))+R[6]+3225465664&4294967295,q=M+(H<<9&4294967295|H>>>23),H=V+(M^D&(q^M))+R[11]+643717713&4294967295,V=q+(H<<14&4294967295|H>>>18),H=D+(q^M&(V^q))+R[0]+3921069994&4294967295,D=V+(H<<20&4294967295|H>>>12),H=M+(V^q&(D^V))+R[5]+3593408605&4294967295,M=D+(H<<5&4294967295|H>>>27),H=q+(D^V&(M^D))+R[10]+38016083&4294967295,q=M+(H<<9&4294967295|H>>>23),H=V+(M^D&(q^M))+R[15]+3634488961&4294967295,V=q+(H<<14&4294967295|H>>>18),H=D+(q^M&(V^q))+R[4]+3889429448&4294967295,D=V+(H<<20&4294967295|H>>>12),H=M+(V^q&(D^V))+R[9]+568446438&4294967295,M=D+(H<<5&4294967295|H>>>27),H=q+(D^V&(M^D))+R[14]+3275163606&4294967295,q=M+(H<<9&4294967295|H>>>23),H=V+(M^D&(q^M))+R[3]+4107603335&4294967295,V=q+(H<<14&4294967295|H>>>18),H=D+(q^M&(V^q))+R[8]+1163531501&4294967295,D=V+(H<<20&4294967295|H>>>12),H=M+(V^q&(D^V))+R[13]+2850285829&4294967295,M=D+(H<<5&4294967295|H>>>27),H=q+(D^V&(M^D))+R[2]+4243563512&4294967295,q=M+(H<<9&4294967295|H>>>23),H=V+(M^D&(q^M))+R[7]+1735328473&4294967295,V=q+(H<<14&4294967295|H>>>18),H=D+(q^M&(V^q))+R[12]+2368359562&4294967295,D=V+(H<<20&4294967295|H>>>12),H=M+(D^V^q)+R[5]+4294588738&4294967295,M=D+(H<<4&4294967295|H>>>28),H=q+(M^D^V)+R[8]+2272392833&4294967295,q=M+(H<<11&4294967295|H>>>21),H=V+(q^M^D)+R[11]+1839030562&4294967295,V=q+(H<<16&4294967295|H>>>16),H=D+(V^q^M)+R[14]+4259657740&4294967295,D=V+(H<<23&4294967295|H>>>9),H=M+(D^V^q)+R[1]+2763975236&4294967295,M=D+(H<<4&4294967295|H>>>28),H=q+(M^D^V)+R[4]+1272893353&4294967295,q=M+(H<<11&4294967295|H>>>21),H=V+(q^M^D)+R[7]+4139469664&4294967295,V=q+(H<<16&4294967295|H>>>16),H=D+(V^q^M)+R[10]+3200236656&4294967295,D=V+(H<<23&4294967295|H>>>9),H=M+(D^V^q)+R[13]+681279174&4294967295,M=D+(H<<4&4294967295|H>>>28),H=q+(M^D^V)+R[0]+3936430074&4294967295,q=M+(H<<11&4294967295|H>>>21),H=V+(q^M^D)+R[3]+3572445317&4294967295,V=q+(H<<16&4294967295|H>>>16),H=D+(V^q^M)+R[6]+76029189&4294967295,D=V+(H<<23&4294967295|H>>>9),H=M+(D^V^q)+R[9]+3654602809&4294967295,M=D+(H<<4&4294967295|H>>>28),H=q+(M^D^V)+R[12]+3873151461&4294967295,q=M+(H<<11&4294967295|H>>>21),H=V+(q^M^D)+R[15]+530742520&4294967295,V=q+(H<<16&4294967295|H>>>16),H=D+(V^q^M)+R[2]+3299628645&4294967295,D=V+(H<<23&4294967295|H>>>9),H=M+(V^(D|~q))+R[0]+4096336452&4294967295,M=D+(H<<6&4294967295|H>>>26),H=q+(D^(M|~V))+R[7]+1126891415&4294967295,q=M+(H<<10&4294967295|H>>>22),H=V+(M^(q|~D))+R[14]+2878612391&4294967295,V=q+(H<<15&4294967295|H>>>17),H=D+(q^(V|~M))+R[5]+4237533241&4294967295,D=V+(H<<21&4294967295|H>>>11),H=M+(V^(D|~q))+R[12]+1700485571&4294967295,M=D+(H<<6&4294967295|H>>>26),H=q+(D^(M|~V))+R[3]+2399980690&4294967295,q=M+(H<<10&4294967295|H>>>22),H=V+(M^(q|~D))+R[10]+4293915773&4294967295,V=q+(H<<15&4294967295|H>>>17),H=D+(q^(V|~M))+R[1]+2240044497&4294967295,D=V+(H<<21&4294967295|H>>>11),H=M+(V^(D|~q))+R[8]+1873313359&4294967295,M=D+(H<<6&4294967295|H>>>26),H=q+(D^(M|~V))+R[15]+4264355552&4294967295,q=M+(H<<10&4294967295|H>>>22),H=V+(M^(q|~D))+R[6]+2734768916&4294967295,V=q+(H<<15&4294967295|H>>>17),H=D+(q^(V|~M))+R[13]+1309151649&4294967295,D=V+(H<<21&4294967295|H>>>11),H=M+(V^(D|~q))+R[4]+4149444226&4294967295,M=D+(H<<6&4294967295|H>>>26),H=q+(D^(M|~V))+R[11]+3174756917&4294967295,q=M+(H<<10&4294967295|H>>>22),H=V+(M^(q|~D))+R[2]+718787259&4294967295,V=q+(H<<15&4294967295|H>>>17),H=D+(q^(V|~M))+R[9]+3951481745&4294967295,_.g[0]=_.g[0]+M&4294967295,_.g[1]=_.g[1]+(V+(H<<21&4294967295|H>>>11))&4294967295,_.g[2]=_.g[2]+V&4294967295,_.g[3]=_.g[3]+q&4294967295}r.prototype.u=function(_,M){M===void 0&&(M=_.length);for(var D=M-this.blockSize,R=this.B,V=this.h,q=0;q<M;){if(V==0)for(;q<=D;)i(this,_,q),q+=this.blockSize;if(typeof _=="string"){for(;q<M;)if(R[V++]=_.charCodeAt(q++),V==this.blockSize){i(this,R),V=0;break}}else for(;q<M;)if(R[V++]=_[q++],V==this.blockSize){i(this,R),V=0;break}}this.h=V,this.o+=M},r.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var M=1;M<_.length-8;++M)_[M]=0;var D=8*this.o;for(M=_.length-8;M<_.length;++M)_[M]=D&255,D/=256;for(this.u(_),_=Array(16),M=D=0;4>M;++M)for(var R=0;32>R;R+=8)_[D++]=this.g[M]>>>R&255;return _};function s(_,M){var D=c;return Object.prototype.hasOwnProperty.call(D,_)?D[_]:D[_]=M(_)}function l(_,M){this.h=M;for(var D=[],R=!0,V=_.length-1;0<=V;V--){var q=_[V]|0;R&&q==M||(D[V]=q,R=!1)}this.g=D}var c={};function d(_){return-128<=_&&128>_?s(_,function(M){return new l([M|0],0>M?-1:0)}):new l([_|0],0>_?-1:0)}function f(_){if(isNaN(_)||!isFinite(_))return m;if(0>_)return C(f(-_));for(var M=[],D=1,R=0;_>=D;R++)M[R]=_/D|0,D*=4294967296;return new l(M,0)}function p(_,M){if(_.length==0)throw Error("number format error: empty string");if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(_.charAt(0)=="-")return C(p(_.substring(1),M));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=f(Math.pow(M,8)),R=m,V=0;V<_.length;V+=8){var q=Math.min(8,_.length-V),H=parseInt(_.substring(V,V+q),M);8>q?(q=f(Math.pow(M,q)),R=R.j(q).add(f(H))):(R=R.j(D),R=R.add(f(H)))}return R}var m=d(0),v=d(1),w=d(16777216);t=l.prototype,t.m=function(){if(E(this))return-C(this).m();for(var _=0,M=1,D=0;D<this.g.length;D++){var R=this.i(D);_+=(0<=R?R:4294967296+R)*M,M*=4294967296}return _},t.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(x(this))return"0";if(E(this))return"-"+C(this).toString(_);for(var M=f(Math.pow(_,6)),D=this,R="";;){var V=U(D,M).g;D=O(D,V.j(M));var q=((0<D.g.length?D.g[0]:D.h)>>>0).toString(_);if(D=V,x(D))return q+R;for(;6>q.length;)q="0"+q;R=q+R}},t.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function x(_){if(_.h!=0)return!1;for(var M=0;M<_.g.length;M++)if(_.g[M]!=0)return!1;return!0}function E(_){return _.h==-1}t.l=function(_){return _=O(this,_),E(_)?-1:x(_)?0:1};function C(_){for(var M=_.g.length,D=[],R=0;R<M;R++)D[R]=~_.g[R];return new l(D,~_.h).add(v)}t.abs=function(){return E(this)?C(this):this},t.add=function(_){for(var M=Math.max(this.g.length,_.g.length),D=[],R=0,V=0;V<=M;V++){var q=R+(this.i(V)&65535)+(_.i(V)&65535),H=(q>>>16)+(this.i(V)>>>16)+(_.i(V)>>>16);R=H>>>16,q&=65535,H&=65535,D[V]=H<<16|q}return new l(D,D[D.length-1]&-2147483648?-1:0)};function O(_,M){return _.add(C(M))}t.j=function(_){if(x(this)||x(_))return m;if(E(this))return E(_)?C(this).j(C(_)):C(C(this).j(_));if(E(_))return C(this.j(C(_)));if(0>this.l(w)&&0>_.l(w))return f(this.m()*_.m());for(var M=this.g.length+_.g.length,D=[],R=0;R<2*M;R++)D[R]=0;for(R=0;R<this.g.length;R++)for(var V=0;V<_.g.length;V++){var q=this.i(R)>>>16,H=this.i(R)&65535,ye=_.i(V)>>>16,ge=_.i(V)&65535;D[2*R+2*V]+=H*ge,I(D,2*R+2*V),D[2*R+2*V+1]+=q*ge,I(D,2*R+2*V+1),D[2*R+2*V+1]+=H*ye,I(D,2*R+2*V+1),D[2*R+2*V+2]+=q*ye,I(D,2*R+2*V+2)}for(R=0;R<M;R++)D[R]=D[2*R+1]<<16|D[2*R];for(R=M;R<2*M;R++)D[R]=0;return new l(D,0)};function I(_,M){for(;(_[M]&65535)!=_[M];)_[M+1]+=_[M]>>>16,_[M]&=65535,M++}function j(_,M){this.g=_,this.h=M}function U(_,M){if(x(M))throw Error("division by zero");if(x(_))return new j(m,m);if(E(_))return M=U(C(_),M),new j(C(M.g),C(M.h));if(E(M))return M=U(_,C(M)),new j(C(M.g),M.h);if(30<_.g.length){if(E(_)||E(M))throw Error("slowDivide_ only works with positive integers.");for(var D=v,R=M;0>=R.l(_);)D=P(D),R=P(R);var V=L(D,1),q=L(R,1);for(R=L(R,2),D=L(D,2);!x(R);){var H=q.add(R);0>=H.l(_)&&(V=V.add(D),q=H),R=L(R,1),D=L(D,1)}return M=O(_,V.j(M)),new j(V,M)}for(V=m;0<=_.l(M);){for(D=Math.max(1,Math.floor(_.m()/M.m())),R=Math.ceil(Math.log(D)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),q=f(D),H=q.j(M);E(H)||0<H.l(_);)D-=R,q=f(D),H=q.j(M);x(q)&&(q=v),V=V.add(q),_=O(_,H)}return new j(V,_)}t.A=function(_){return U(this,_).h},t.and=function(_){for(var M=Math.max(this.g.length,_.g.length),D=[],R=0;R<M;R++)D[R]=this.i(R)&_.i(R);return new l(D,this.h&_.h)},t.or=function(_){for(var M=Math.max(this.g.length,_.g.length),D=[],R=0;R<M;R++)D[R]=this.i(R)|_.i(R);return new l(D,this.h|_.h)},t.xor=function(_){for(var M=Math.max(this.g.length,_.g.length),D=[],R=0;R<M;R++)D[R]=this.i(R)^_.i(R);return new l(D,this.h^_.h)};function P(_){for(var M=_.g.length+1,D=[],R=0;R<M;R++)D[R]=_.i(R)<<1|_.i(R-1)>>>31;return new l(D,_.h)}function L(_,M){var D=M>>5;M%=32;for(var R=_.g.length-D,V=[],q=0;q<R;q++)V[q]=0<M?_.i(q+D)>>>M|_.i(q+D+1)<<32-M:_.i(q+D);return new l(V,_.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,F1=l}).apply(typeof N2<"u"?N2:typeof self<"u"?self:typeof window<"u"?window:{});var Dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,T,k){return g==Array.prototype||g==Object.prototype||(g[T]=k.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dh=="object"&&Dh];for(var T=0;T<g.length;++T){var k=g[T];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(g,T){if(T)e:{var k=r;g=g.split(".");for(var B=0;B<g.length-1;B++){var J=g[B];if(!(J in k))break e;k=k[J]}g=g[g.length-1],B=k[g],T=T(B),T!=B&&T!=null&&e(k,g,{configurable:!0,writable:!0,value:T})}}function s(g,T){g instanceof String&&(g+="");var k=0,B=!1,J={next:function(){if(!B&&k<g.length){var re=k++;return{value:T(re,g[re]),done:!1}}return B=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}i("Array.prototype.values",function(g){return g||function(){return s(this,function(T,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(g){var T=typeof g;return T=T!="object"?T:g?Array.isArray(g)?"array":T:"null",T=="array"||T=="object"&&typeof g.length=="number"}function f(g){var T=typeof g;return T=="object"&&g!=null||T=="function"}function p(g,T,k){return g.call.apply(g.bind,arguments)}function m(g,T,k){if(!g)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,B),g.apply(T,J)}}return function(){return g.apply(T,arguments)}}function v(g,T,k){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,v.apply(null,arguments)}function w(g,T){var k=Array.prototype.slice.call(arguments,1);return function(){var B=k.slice();return B.push.apply(B,arguments),g.apply(this,B)}}function x(g,T){function k(){}k.prototype=T.prototype,g.aa=T.prototype,g.prototype=new k,g.prototype.constructor=g,g.Qb=function(B,J,re){for(var ve=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)ve[ht-2]=arguments[ht];return T.prototype[J].apply(B,ve)}}function E(g){const T=g.length;if(0<T){const k=Array(T);for(let B=0;B<T;B++)k[B]=g[B];return k}return[]}function C(g,T){for(let k=1;k<arguments.length;k++){const B=arguments[k];if(d(B)){const J=g.length||0,re=B.length||0;g.length=J+re;for(let ve=0;ve<re;ve++)g[J+ve]=B[ve]}else g.push(B)}}class O{constructor(T,k){this.i=T,this.j=k,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function I(g){return/^[\s\xa0]*$/.test(g)}function j(){var g=c.navigator;return g&&(g=g.userAgent)?g:""}function U(g){return U[" "](g),g}U[" "]=function(){};var P=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function L(g,T,k){for(const B in g)T.call(k,g[B],B,g)}function _(g,T){for(const k in g)T.call(void 0,g[k],k,g)}function M(g){const T={};for(const k in g)T[k]=g[k];return T}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(g,T){let k,B;for(let J=1;J<arguments.length;J++){B=arguments[J];for(k in B)g[k]=B[k];for(let re=0;re<D.length;re++)k=D[re],Object.prototype.hasOwnProperty.call(B,k)&&(g[k]=B[k])}}function V(g){var T=1;g=g.split(":");const k=[];for(;0<T&&g.length;)k.push(g.shift()),T--;return g.length&&k.push(g.join(":")),k}function q(g){c.setTimeout(()=>{throw g},0)}function H(){var g=Te;let T=null;return g.g&&(T=g.g,g.g=g.g.next,g.g||(g.h=null),T.next=null),T}class ye{constructor(){this.h=this.g=null}add(T,k){const B=ge.get();B.set(T,k),this.h?this.h.next=B:this.g=B,this.h=B}}var ge=new O(()=>new G,g=>g.reset());class G{constructor(){this.next=this.g=this.h=null}set(T,k){this.h=T,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ce=!1,Te=new ye,F=()=>{const g=c.Promise.resolve(void 0);oe=()=>{g.then(ie)}};var ie=()=>{for(var g;g=H();){try{g.h.call(g.g)}catch(k){q(k)}var T=ge;T.j(g),100>T.h&&(T.h++,g.next=T.g,T.g=g)}ce=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(g,T){this.type=g,this.g=this.target=T,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var Se=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var g=!1,T=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const k=()=>{};c.addEventListener("test",k,T),c.removeEventListener("test",k,T)}catch{}return g})();function $e(g,T){if(de.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var k=this.type=g.type,B=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=T,T=g.relatedTarget){if(P){e:{try{U(T.nodeName);var J=!0;break e}catch{}J=!1}J||(T=null)}}else k=="mouseover"?T=g.fromElement:k=="mouseout"&&(T=g.toElement);this.relatedTarget=T,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Ie[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&$e.aa.h.call(this)}}x($e,de);var Ie={2:"touch",3:"pen",4:"mouse"};$e.prototype.h=function(){$e.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),lt=0;function Fn(g,T,k,B,J){this.listener=g,this.proxy=null,this.src=T,this.type=k,this.capture=!!B,this.ha=J,this.key=++lt,this.da=this.fa=!1}function Ct(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function rn(g){this.src=g,this.g={},this.h=0}rn.prototype.add=function(g,T,k,B,J){var re=g.toString();g=this.g[re],g||(g=this.g[re]=[],this.h++);var ve=qn(g,T,B,J);return-1<ve?(T=g[ve],k||(T.fa=!1)):(T=new Fn(T,this.src,re,!!B,J),T.fa=k,g.push(T)),T};function xr(g,T){var k=T.type;if(k in g.g){var B=g.g[k],J=Array.prototype.indexOf.call(B,T,void 0),re;(re=0<=J)&&Array.prototype.splice.call(B,J,1),re&&(Ct(T),g.g[k].length==0&&(delete g.g[k],g.h--))}}function qn(g,T,k,B){for(var J=0;J<g.length;++J){var re=g[J];if(!re.da&&re.listener==T&&re.capture==!!k&&re.ha==B)return J}return-1}var _n="closure_lm_"+(1e6*Math.random()|0),da={};function bl(g,T,k,B,J){if(Array.isArray(T)){for(var re=0;re<T.length;re++)bl(g,T[re],k,B,J);return null}return k=Fs(k),g&&g[Nt]?g.K(T,k,f(B)?!!B.capture:!1,J):Rn(g,T,k,!1,B,J)}function Rn(g,T,k,B,J,re){if(!T)throw Error("Invalid event type");var ve=f(J)?!!J.capture:!!J,ht=Er(g);if(ht||(g[_n]=ht=new rn(g)),k=ht.add(T,k,B,ve,re),k.proxy)return k;if(B=Xc(),k.proxy=B,B.src=g,B.listener=k,g.addEventListener)Se||(J=ve),J===void 0&&(J=!1),g.addEventListener(T.toString(),B,J);else if(g.attachEvent)g.attachEvent(Gi(T.toString()),B);else if(g.addListener&&g.removeListener)g.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Xc(){function g(k){return T.call(g.src,g.listener,k)}const T=Gr;return g}function fa(g,T,k,B,J){if(Array.isArray(T))for(var re=0;re<T.length;re++)fa(g,T[re],k,B,J);else B=f(B)?!!B.capture:!!B,k=Fs(k),g&&g[Nt]?(g=g.i,T=String(T).toString(),T in g.g&&(re=g.g[T],k=qn(re,k,B,J),-1<k&&(Ct(re[k]),Array.prototype.splice.call(re,k,1),re.length==0&&(delete g.g[T],g.h--)))):g&&(g=Er(g))&&(T=g.g[T.toString()],g=-1,T&&(g=qn(T,k,B,J)),(k=-1<g?T[g]:null)&&Vs(k))}function Vs(g){if(typeof g!="number"&&g&&!g.da){var T=g.src;if(T&&T[Nt])xr(T.i,g);else{var k=g.type,B=g.proxy;T.removeEventListener?T.removeEventListener(k,B,g.capture):T.detachEvent?T.detachEvent(Gi(k),B):T.addListener&&T.removeListener&&T.removeListener(B),(k=Er(T))?(xr(k,g),k.h==0&&(k.src=null,T[_n]=null)):Ct(g)}}}function Gi(g){return g in da?da[g]:da[g]="on"+g}function Gr(g,T){if(g.da)g=!0;else{T=new $e(T,this);var k=g.listener,B=g.ha||g.src;g.fa&&Vs(g),g=k.call(B,T)}return g}function Er(g){return g=g[_n],g instanceof rn?g:null}var $s="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fs(g){return typeof g=="function"?g:(g[$s]||(g[$s]=function(T){return g.handleEvent(T)}),g[$s])}function ct(){he.call(this),this.i=new rn(this),this.M=this,this.F=null}x(ct,he),ct.prototype[Nt]=!0,ct.prototype.removeEventListener=function(g,T,k,B){fa(this,g,T,k,B)};function Ke(g,T){var k,B=g.F;if(B)for(k=[];B;B=B.F)k.push(B);if(g=g.M,B=T.type||T,typeof T=="string")T=new de(T,g);else if(T instanceof de)T.target=T.target||g;else{var J=T;T=new de(B,g),R(T,J)}if(J=!0,k)for(var re=k.length-1;0<=re;re--){var ve=T.g=k[re];J=Tn(ve,B,!0,T)&&J}if(ve=T.g=g,J=Tn(ve,B,!0,T)&&J,J=Tn(ve,B,!1,T)&&J,k)for(re=0;re<k.length;re++)ve=T.g=k[re],J=Tn(ve,B,!1,T)&&J}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var g=this.i,T;for(T in g.g){for(var k=g.g[T],B=0;B<k.length;B++)Ct(k[B]);delete g.g[T],g.h--}}this.F=null},ct.prototype.K=function(g,T,k,B){return this.i.add(String(g),T,!1,k,B)},ct.prototype.L=function(g,T,k,B){return this.i.add(String(g),T,!0,k,B)};function Tn(g,T,k,B){if(T=g.i.g[String(T)],!T)return!0;T=T.concat();for(var J=!0,re=0;re<T.length;++re){var ve=T[re];if(ve&&!ve.da&&ve.capture==k){var ht=ve.listener,It=ve.ha||ve.src;ve.fa&&xr(g.i,ve),J=ht.call(It,B)!==!1&&J}}return J&&!B.defaultPrevented}function Gt(g,T,k){if(typeof g=="function")k&&(g=v(g,k));else if(g&&typeof g.handleEvent=="function")g=v(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:c.setTimeout(g,T||0)}function wl(g){g.g=Gt(()=>{g.g=null,g.i&&(g.i=!1,wl(g))},g.l);const T=g.h;g.h=null,g.m.apply(null,T)}class Tr extends he{constructor(T,k){super(),this.m=T,this.l=k,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:wl(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mi(g){he.call(this),this.h=g,this.g={}}x(mi,he);var gi=[];function yi(g){L(g.g,function(T,k){this.g.hasOwnProperty(k)&&Vs(T)},g),g.g={}}mi.prototype.N=function(){mi.aa.N.call(this),yi(this)},mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ir=c.JSON.stringify,Ki=c.JSON.parse,Cr=class{stringify(g){return c.JSON.stringify(g,void 0)}parse(g){return c.JSON.parse(g,void 0)}};function qs(){}qs.prototype.h=null;function Yi(g){return g.h||(g.h=g.i())}function Sl(){}var Ar={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kr(){de.call(this,"d")}x(Kr,de);function Ws(){de.call(this,"c")}x(Ws,de);var Wn={},vi=null;function Xi(){return vi=vi||new ct}Wn.La="serverreachability";function Gs(g){de.call(this,Wn.La,g)}x(Gs,de);function W(g){const T=Xi();Ke(T,new Gs(T))}Wn.STAT_EVENT="statevent";function X(g,T){de.call(this,Wn.STAT_EVENT,g),this.stat=T}x(X,de);function ee(g){const T=Xi();Ke(T,new X(T,g))}Wn.Ma="timingevent";function ue(g,T){de.call(this,Wn.Ma,g),this.size=T}x(ue,de);function pe(g,T){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){g()},T)}function we(){this.g=!0}we.prototype.xa=function(){this.g=!1};function Ne(g,T,k,B,J,re){g.info(function(){if(g.g)if(re)for(var ve="",ht=re.split("&"),It=0;It<ht.length;It++){var nt=ht[It].split("=");if(1<nt.length){var an=nt[0];nt=nt[1];var ln=an.split("_");ve=2<=ln.length&&ln[1]=="type"?ve+(an+"="+nt+"&"):ve+(an+"=redacted&")}}else ve=null;else ve=re;return"XMLHTTP REQ ("+B+") [attempt "+J+"]: "+T+`
`+k+`
`+ve})}function Ce(g,T,k,B,J,re,ve){g.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+J+"]: "+T+`
`+k+`
`+re+" "+ve})}function Ae(g,T,k,B){g.info(function(){return"XMLHTTP TEXT ("+T+"): "+ke(g,k)+(B?" "+B:"")})}function Le(g,T){g.info(function(){return"TIMEOUT: "+T})}we.prototype.info=function(){};function ke(g,T){if(!g.g)return T;if(!T)return null;try{var k=JSON.parse(T);if(k){for(g=0;g<k.length;g++)if(Array.isArray(k[g])){var B=k[g];if(!(2>B.length)){var J=B[1];if(Array.isArray(J)&&!(1>J.length)){var re=J[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ve=1;ve<J.length;ve++)J[ve]=""}}}}return ir(k)}catch{return T}}var xe={NO_ERROR:0,TIMEOUT:8},qe={},tt;function mt(){}x(mt,qs),mt.prototype.g=function(){return new XMLHttpRequest},mt.prototype.i=function(){return{}},tt=new mt;function ut(g,T,k,B){this.j=g,this.i=T,this.l=k,this.R=B||1,this.U=new mi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fe}function Fe(){this.i=null,this.g="",this.h=!1}var dt={},Gn={};function mn(g,T,k){g.L=1,g.v=ma(ar(T)),g.m=k,g.P=!0,sn(g,null)}function sn(g,T){g.F=Date.now(),sr(g),g.A=ar(g.v);var k=g.A,B=g.R;Array.isArray(B)||(B=[String(B)]),tu(k.i,"t",B),g.C=0,k=g.j.J,g.h=new Fe,g.g=Cf(g.j,k?T:null,!g.m),0<g.O&&(g.M=new Tr(v(g.Y,g,g.g),g.O)),T=g.U,k=g.g,B=g.ca;var J="readystatechange";Array.isArray(J)||(J&&(gi[0]=J.toString()),J=gi);for(var re=0;re<J.length;re++){var ve=bl(k,J[re],B||T.handleEvent,!1,T.h||T);if(!ve)break;T.g[ve.key]=ve}T=g.H?M(g.H):{},g.m?(g.u||(g.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,T)):(g.u="GET",g.g.ea(g.A,g.u,null,T)),W(),Ne(g.i,g.u,g.A,g.l,g.R,g.m)}ut.prototype.ca=function(g){g=g.target;const T=this.M;T&&_r(g)==3?T.j():this.Y(g)},ut.prototype.Y=function(g){try{if(g==this.g)e:{const ln=_r(this.g);var T=this.g.Ba();const rs=this.g.Z();if(!(3>ln)&&(ln!=3||this.g&&(this.h.h||this.g.oa()||yf(this.g)))){this.J||ln!=4||T==7||(T==8||0>=rs?W(3):W(2)),or(this);var k=this.g.Z();this.X=k;t:if(Dn(this)){var B=yf(this.g);g="";var J=B.length,re=_r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pe(this),In(this);var ve="";break t}this.h.i=new c.TextDecoder}for(T=0;T<J;T++)this.h.h=!0,g+=this.h.i.decode(B[T],{stream:!(re&&T==J-1)});B.length=0,this.h.g+=g,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=k==200,Ce(this.i,this.u,this.A,this.l,this.R,ln,k),this.o){if(this.T&&!this.K){t:{if(this.g){var ht,It=this.g;if((ht=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(ht)){var nt=ht;break t}}nt=null}if(k=nt)Ae(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dt(this,k);else{this.o=!1,this.s=3,ee(12),Pe(this),In(this);break e}}if(this.P){k=!0;let Yn;for(;!this.J&&this.C<ve.length;)if(Yn=Ks(this,ve),Yn==Gn){ln==4&&(this.s=4,ee(14),k=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}else if(Yn==dt){this.s=4,ee(15),Ae(this.i,this.l,ve,"[Invalid Chunk]"),k=!1;break}else Ae(this.i,this.l,Yn,null),Dt(this,Yn);if(Dn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ln!=4||ve.length!=0||this.h.h||(this.s=1,ee(16),k=!1),this.o=this.o&&k,!k)Ae(this.i,this.l,ve,"[Invalid Chunked Response]"),Pe(this),In(this);else if(0<ve.length&&!this.W){this.W=!0;var an=this.j;an.g==this&&an.ba&&!an.M&&(an.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Ea(an),an.M=!0,ee(11))}}else Ae(this.i,this.l,ve,null),Dt(this,ve);ln==4&&Pe(this),this.o&&!this.J&&(ln==4?xf(this.j,this):(this.o=!1,sr(this)))}else yg(this.g),k==400&&0<ve.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Pe(this),In(this)}}}catch{}finally{}};function Dn(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Ks(g,T){var k=g.C,B=T.indexOf(`
`,k);return B==-1?Gn:(k=Number(T.substring(k,B)),isNaN(k)?dt:(B+=1,B+k>T.length?Gn:(T=T.slice(B,B+k),g.C=B+k,T)))}ut.prototype.cancel=function(){this.J=!0,Pe(this)};function sr(g){g.S=Date.now()+g.I,kr(g,g.I)}function kr(g,T){if(g.B!=null)throw Error("WatchDog timer not null");g.B=pe(v(g.ba,g),T)}function or(g){g.B&&(c.clearTimeout(g.B),g.B=null)}ut.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Le(this.i,this.A),this.L!=2&&(W(),ee(17)),Pe(this),this.s=2,In(this)):kr(this,this.S-g)};function In(g){g.j.G==0||g.J||xf(g.j,g)}function Pe(g){or(g);var T=g.M;T&&typeof T.ma=="function"&&T.ma(),g.M=null,yi(g.U),g.g&&(T=g.g,g.g=null,T.abort(),T.ma())}function Dt(g,T){try{var k=g.j;if(k.G!=0&&(k.g==g||Ys(k.h,g))){if(!g.K&&Ys(k.h,g)&&k.G==3){try{var B=k.Da.g.parse(T)}catch{B=null}if(Array.isArray(B)&&B.length==3){var J=B;if(J[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<g.F)Ol(k),Nl(k);else break e;ou(k),ee(18)}}else k.za=J[1],0<k.za-k.T&&37500>J[2]&&k.F&&k.v==0&&!k.C&&(k.C=pe(v(k.Za,k),6e3));if(1>=Xr(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else ns(k,11)}else if((g.K||k.g==g)&&Ol(k),!I(T))for(J=k.Da.g.parse(T),T=0;T<J.length;T++){let nt=J[T];if(k.T=nt[0],nt=nt[1],k.G==2)if(nt[0]=="c"){k.K=nt[1],k.ia=nt[2];const an=nt[3];an!=null&&(k.la=an,k.j.info("VER="+k.la));const ln=nt[4];ln!=null&&(k.Aa=ln,k.j.info("SVER="+k.Aa));const rs=nt[5];rs!=null&&typeof rs=="number"&&0<rs&&(B=1.5*rs,k.L=B,k.j.info("backChannelRequestTimeoutMs_="+B)),B=k;const Yn=g.g;if(Yn){const Ti=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ti){var re=B.h;re.g||Ti.indexOf("spdy")==-1&&Ti.indexOf("quic")==-1&&Ti.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Xs(re,re.h),re.h=null))}if(B.D){const is=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;is&&(B.ya=is,St(B.I,B.D,is))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-g.F,k.j.info("Handshake RTT: "+k.R+"ms")),B=k;var ve=g;if(B.qa=Tf(B,B.J?B.ia:null,B.W),ve.K){Ln(B.h,ve);var ht=ve,It=B.L;It&&(ht.I=It),ht.B&&(or(ht),sr(ht)),B.g=ve}else wf(B);0<k.i.length&&Ml(k)}else nt[0]!="stop"&&nt[0]!="close"||ns(k,7);else k.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?ns(k,7):iu(k):nt[0]!="noop"&&k.l&&k.l.ta(nt),k.v=0)}}W(4)}catch{}}var Yr=class{constructor(g,T){this.g=g,this.map=T}};function gn(g){this.l=g||10,c.PerformanceNavigationTiming?(g=c.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mt(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Xr(g){return g.h?1:g.g?g.g.size:0}function Ys(g,T){return g.h?g.h==T:g.g?g.g.has(T):!1}function Xs(g,T){g.g?g.g.add(T):g.h=T}function Ln(g,T){g.h&&g.h==T?g.h=null:g.g&&g.g.has(T)&&g.g.delete(T)}gn.prototype.cancel=function(){if(this.i=Jc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Jc(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let T=g.i;for(const k of g.g.values())T=T.concat(k.D);return T}return E(g.i)}function hg(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(d(g)){for(var T=[],k=g.length,B=0;B<k;B++)T.push(g[B]);return T}T=[],k=0;for(B in g)T[k++]=g[B];return T}function xl(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(d(g)||typeof g=="string"){var T=[];g=g.length;for(var k=0;k<g;k++)T.push(k);return T}T=[],k=0;for(const B in g)T[k++]=B;return T}}}function Qc(g,T){if(g.forEach&&typeof g.forEach=="function")g.forEach(T,void 0);else if(d(g)||typeof g=="string")Array.prototype.forEach.call(g,T,void 0);else for(var k=xl(g),B=hg(g),J=B.length,re=0;re<J;re++)T.call(void 0,B[re],k&&k[re],g)}var ha=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pg(g,T){if(g){g=g.split("&");for(var k=0;k<g.length;k++){var B=g[k].indexOf("="),J=null;if(0<=B){var re=g[k].substring(0,B);J=g[k].substring(B+1)}else re=g[k];T(re,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Kt(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Kt){this.h=g.h,pa(this,g.j),this.o=g.o,this.g=g.g,Js(this,g.s),this.l=g.l;var T=g.i,k=new Qi;k.i=T.i,T.g&&(k.g=new Map(T.g),k.h=T.h),Ji(this,k),this.m=g.m}else g&&(T=String(g).match(ha))?(this.h=!1,pa(this,T[1]||"",!0),this.o=Nr(T[2]||""),this.g=Nr(T[3]||"",!0),Js(this,T[4]),this.l=Nr(T[5]||"",!0),Ji(this,T[6]||"",!0),this.m=Nr(T[7]||"")):(this.h=!1,this.i=new Qi(null,this.h))}Kt.prototype.toString=function(){var g=[],T=this.j;T&&g.push(ga(T,Zc,!0),":");var k=this.g;return(k||T=="file")&&(g.push("//"),(T=this.o)&&g.push(ga(T,Zc,!0),"@"),g.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&g.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&g.push("/"),g.push(ga(k,k.charAt(0)=="/"?mg:eu,!0))),(k=this.i.toString())&&g.push("?",k),(k=this.m)&&g.push("#",ga(k,El)),g.join("")};function ar(g){return new Kt(g)}function pa(g,T,k){g.j=k?Nr(T,!0):T,g.j&&(g.j=g.j.replace(/:$/,""))}function Js(g,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);g.s=T}else g.s=null}function Ji(g,T,k){T instanceof Qi?(g.i=T,mf(g.i,g.h)):(k||(T=ga(T,gg)),g.i=new Qi(T,g.h))}function St(g,T,k){g.i.set(T,k)}function ma(g){return St(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Nr(g,T){return g?T?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function ga(g,T,k){return typeof g=="string"?(g=encodeURI(g).replace(T,pf),k&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function pf(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Zc=/[#\/\?@]/g,eu=/[#\?:]/g,mg=/[#\?]/g,gg=/[#\?@]/g,El=/#/g;function Qi(g,T){this.h=this.g=null,this.i=g||null,this.j=!!T}function Mr(g){g.g||(g.g=new Map,g.h=0,g.i&&pg(g.i,function(T,k){g.add(decodeURIComponent(T.replace(/\+/g," ")),k)}))}t=Qi.prototype,t.add=function(g,T){Mr(this),this.i=null,g=bi(this,g);var k=this.g.get(g);return k||this.g.set(g,k=[]),k.push(T),this.h+=1,this};function Zi(g,T){Mr(g),T=bi(g,T),g.g.has(T)&&(g.i=null,g.h-=g.g.get(T).length,g.g.delete(T))}function es(g,T){return Mr(g),T=bi(g,T),g.g.has(T)}t.forEach=function(g,T){Mr(this),this.g.forEach(function(k,B){k.forEach(function(J){g.call(T,J,B,this)},this)},this)},t.na=function(){Mr(this);const g=Array.from(this.g.values()),T=Array.from(this.g.keys()),k=[];for(let B=0;B<T.length;B++){const J=g[B];for(let re=0;re<J.length;re++)k.push(T[B])}return k},t.V=function(g){Mr(this);let T=[];if(typeof g=="string")es(this,g)&&(T=T.concat(this.g.get(bi(this,g))));else{g=Array.from(this.g.values());for(let k=0;k<g.length;k++)T=T.concat(g[k])}return T},t.set=function(g,T){return Mr(this),this.i=null,g=bi(this,g),es(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[T]),this.h+=1,this},t.get=function(g,T){return g?(g=this.V(g),0<g.length?String(g[0]):T):T};function tu(g,T,k){Zi(g,T),0<k.length&&(g.i=null,g.g.set(bi(g,T),E(k)),g.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],T=Array.from(this.g.keys());for(var k=0;k<T.length;k++){var B=T[k];const re=encodeURIComponent(String(B)),ve=this.V(B);for(B=0;B<ve.length;B++){var J=re;ve[B]!==""&&(J+="="+encodeURIComponent(String(ve[B]))),g.push(J)}}return this.i=g.join("&")};function bi(g,T){return T=String(T),g.j&&(T=T.toLowerCase()),T}function mf(g,T){T&&!g.j&&(Mr(g),g.i=null,g.g.forEach(function(k,B){var J=B.toLowerCase();B!=J&&(Zi(this,B),tu(this,J,k))},g)),g.j=T}function ya(g,T){const k=new we;if(c.Image){const B=new Image;B.onload=w(Or,k,"TestLoadImage: loaded",!0,T,B),B.onerror=w(Or,k,"TestLoadImage: error",!1,T,B),B.onabort=w(Or,k,"TestLoadImage: abort",!1,T,B),B.ontimeout=w(Or,k,"TestLoadImage: timeout",!1,T,B),c.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=g}else T(!1)}function Jr(g,T){const k=new we,B=new AbortController,J=setTimeout(()=>{B.abort(),Or(k,"TestPingServer: timeout",!1,T)},1e4);fetch(g,{signal:B.signal}).then(re=>{clearTimeout(J),re.ok?Or(k,"TestPingServer: ok",!0,T):Or(k,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(J),Or(k,"TestPingServer: error",!1,T)})}function Or(g,T,k,B,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),B(k)}catch{}}function va(){this.g=new Cr}function wi(g,T,k){const B=k||"";try{Qc(g,function(J,re){let ve=J;f(J)&&(ve=ir(J)),T.push(B+re+"="+encodeURIComponent(ve))})}catch(J){throw T.push(B+"type="+encodeURIComponent("_badmap")),J}}function Qs(g){this.l=g.Ub||null,this.j=g.eb||!1}x(Qs,qs),Qs.prototype.g=function(){return new ts(this.l,this.j)},Qs.prototype.i=(function(g){return function(){return g}})({});function ts(g,T){ct.call(this),this.D=g,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(ts,ct),t=ts.prototype,t.open=function(g,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=T,this.readyState=1,xi(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(T.body=g),(this.D||c).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Si(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,xi(this)),this.g&&(this.readyState=3,xi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nu(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function nu(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var T=g.value?g.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!g.done}))&&(this.response=this.responseText+=T)}g.done?Si(this):xi(this),this.readyState==3&&nu(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,Si(this))},t.Qa=function(g){this.g&&(this.response=g,Si(this))},t.ga=function(){this.g&&Si(this)};function Si(g){g.readyState=4,g.l=null,g.j=null,g.v=null,xi(g)}t.setRequestHeader=function(g,T){this.u.append(g,T)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],T=this.h.entries();for(var k=T.next();!k.done;)k=k.value,g.push(k[0]+": "+k[1]),k=T.next();return g.join(`\r
`)};function xi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function ru(g){let T="";return L(g,function(k,B){T+=B,T+=":",T+=k,T+=`\r
`}),T}function on(g,T,k){e:{for(B in k){var B=!1;break e}B=!0}B||(k=ru(k),typeof g=="string"?k!=null&&encodeURIComponent(String(k)):St(g,T,k))}function gt(g){ct.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(gt,ct);var Tl=/^https?$/i,ba=["POST","PUT"];t=gt.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,T,k,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);T=T?T.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tt.g(),this.v=this.o?Yi(this.o):Yi(tt),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(T,String(g),!0),this.B=!1}catch(re){gf(this,re);return}if(g=k||"",k=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var J in B)k.set(J,B[J]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const re of B.keys())k.set(re,B.get(re));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(k.keys()).find(re=>re.toLowerCase()=="content-type"),J=c.FormData&&g instanceof c.FormData,!(0<=Array.prototype.indexOf.call(ba,T,void 0))||B||J||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ve]of k)this.g.setRequestHeader(re,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wa(this),this.u=!0,this.g.send(g),this.u=!1}catch(re){gf(this,re)}};function gf(g,T){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=T,g.m=5,Cl(g),Ei(g)}function Cl(g){g.A||(g.A=!0,Ke(g,"complete"),Ke(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Ke(this,"complete"),Ke(this,"abort"),Ei(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ei(this,!0)),gt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Al(this):this.bb())},t.bb=function(){Al(this)};function Al(g){if(g.h&&typeof l<"u"&&(!g.v[1]||_r(g)!=4||g.Z()!=2)){if(g.u&&_r(g)==4)Gt(g.Ea,0,g);else if(Ke(g,"readystatechange"),_r(g)==4){g.h=!1;try{const ve=g.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var k;if(!(k=T)){var B;if(B=ve===0){var J=String(g.D).match(ha)[1]||null;!J&&c.self&&c.self.location&&(J=c.self.location.protocol.slice(0,-1)),B=!Tl.test(J?J.toLowerCase():"")}k=B}if(k)Ke(g,"complete"),Ke(g,"success");else{g.m=6;try{var re=2<_r(g)?g.g.statusText:""}catch{re=""}g.l=re+" ["+g.Z()+"]",Cl(g)}}finally{Ei(g)}}}}function Ei(g,T){if(g.g){wa(g);const k=g.g,B=g.v[0]?()=>{}:null;g.g=null,g.v=null,T||Ke(g,"ready");try{k.onreadystatechange=B}catch{}}}function wa(g){g.I&&(c.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function _r(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<_r(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var T=this.g.responseText;return g&&T.indexOf(g)==0&&(T=T.substring(g.length)),Ki(T)}};function yf(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function yg(g){const T={};g=(g.g&&2<=_r(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<g.length;B++){if(I(g[B]))continue;var k=V(g[B]);const J=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const re=T[J]||[];T[J]=re,re.push(k)}_(T,function(B){return B.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sa(g,T,k){return k&&k.internalChannelParams&&k.internalChannelParams[g]||T}function kl(g){this.Aa=0,this.i=[],this.j=new we,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sa("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sa("baseRetryDelayMs",5e3,g),this.cb=Sa("retryDelaySeedMs",1e4,g),this.Wa=Sa("forwardChannelMaxRetries",2,g),this.wa=Sa("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new gn(g&&g.concurrentRequestLimit),this.Da=new va,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=kl.prototype,t.la=8,t.G=1,t.connect=function(g,T,k,B){ee(0),this.W=g,this.H=T||{},k&&B!==void 0&&(this.H.OSID=k,this.H.OAID=B),this.F=this.X,this.I=Tf(this,null,this.W),Ml(this)};function iu(g){if(vf(g),g.G==3){var T=g.U++,k=ar(g.I);if(St(k,"SID",g.K),St(k,"RID",T),St(k,"TYPE","terminate"),xa(g,k),T=new ut(g,g.j,T),T.L=2,T.v=ma(ar(k)),k=!1,c.navigator&&c.navigator.sendBeacon)try{k=c.navigator.sendBeacon(T.v.toString(),"")}catch{}!k&&c.Image&&(new Image().src=T.v,k=!0),k||(T.g=Cf(T.j,null),T.g.ea(T.v)),T.F=Date.now(),sr(T)}Ef(g)}function Nl(g){g.g&&(Ea(g),g.g.cancel(),g.g=null)}function vf(g){Nl(g),g.u&&(c.clearTimeout(g.u),g.u=null),Ol(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&c.clearTimeout(g.s),g.s=null)}function Ml(g){if(!Mt(g.h)&&!g.s){g.s=!0;var T=g.Ga;oe||F(),ce||(oe(),ce=!0),Te.add(T,g),g.B=0}}function vg(g,T){return Xr(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=T.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=pe(v(g.Ga,g,T),au(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const J=new ut(this,this.j,g);let re=this.o;if(this.S&&(re?(re=M(re),R(re,this.S)):re=this.S),this.m!==null||this.O||(J.H=re,re=null),this.P)e:{for(var T=0,k=0;k<this.i.length;k++){t:{var B=this.i[k];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(T+=B,4096<T){T=k;break e}if(T===4096||k===this.i.length-1){T=k+1;break e}}T=1e3}else T=1e3;T=bf(this,J,T),k=ar(this.I),St(k,"RID",g),St(k,"CVER",22),this.D&&St(k,"X-HTTP-Session-Id",this.D),xa(this,k),re&&(this.O?T="headers="+encodeURIComponent(String(ru(re)))+"&"+T:this.m&&on(k,this.m,re)),Xs(this.h,J),this.Ua&&St(k,"TYPE","init"),this.P?(St(k,"$req",T),St(k,"SID","null"),J.T=!0,mn(J,k,null)):mn(J,k,T),this.G=2}}else this.G==3&&(g?su(this,g):this.i.length==0||Mt(this.h)||su(this))};function su(g,T){var k;T?k=T.l:k=g.U++;const B=ar(g.I);St(B,"SID",g.K),St(B,"RID",k),St(B,"AID",g.T),xa(g,B),g.m&&g.o&&on(B,g.m,g.o),k=new ut(g,g.j,k,g.B+1),g.m===null&&(k.H=g.o),T&&(g.i=T.D.concat(g.i)),T=bf(g,k,1e3),k.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Xs(g.h,k),mn(k,B,T)}function xa(g,T){g.H&&L(g.H,function(k,B){St(T,B,k)}),g.l&&Qc({},function(k,B){St(T,B,k)})}function bf(g,T,k){k=Math.min(g.i.length,k);var B=g.l?v(g.l.Na,g.l,g):null;e:{var J=g.i;let re=-1;for(;;){const ve=["count="+k];re==-1?0<k?(re=J[0].g,ve.push("ofs="+re)):re=0:ve.push("ofs="+re);let ht=!0;for(let It=0;It<k;It++){let nt=J[It].g;const an=J[It].map;if(nt-=re,0>nt)re=Math.max(0,J[It].g-100),ht=!1;else try{wi(an,ve,"req"+nt+"_")}catch{B&&B(an)}}if(ht){B=ve.join("&");break e}}}return g=g.i.splice(0,k),T.D=g,B}function wf(g){if(!g.g&&!g.u){g.Y=1;var T=g.Fa;oe||F(),ce||(oe(),ce=!0),Te.add(T,g),g.v=0}}function ou(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=pe(v(g.Fa,g),au(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,Sf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=pe(v(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),Nl(this),Sf(this))};function Ea(g){g.A!=null&&(c.clearTimeout(g.A),g.A=null)}function Sf(g){g.g=new ut(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var T=ar(g.qa);St(T,"RID","rpc"),St(T,"SID",g.K),St(T,"AID",g.T),St(T,"CI",g.F?"0":"1"),!g.F&&g.ja&&St(T,"TO",g.ja),St(T,"TYPE","xmlhttp"),xa(g,T),g.m&&g.o&&on(T,g.m,g.o),g.L&&(g.g.I=g.L);var k=g.g;g=g.ia,k.L=1,k.v=ma(ar(T)),k.m=null,k.P=!0,sn(k,g)}t.Za=function(){this.C!=null&&(this.C=null,Nl(this),ou(this),ee(19))};function Ol(g){g.C!=null&&(c.clearTimeout(g.C),g.C=null)}function xf(g,T){var k=null;if(g.g==T){Ol(g),Ea(g),g.g=null;var B=2}else if(Ys(g.h,T))k=T.D,Ln(g.h,T),B=1;else return;if(g.G!=0){if(T.o)if(B==1){k=T.m?T.m.length:0,T=Date.now()-T.F;var J=g.B;B=Xi(),Ke(B,new ue(B,k)),Ml(g)}else wf(g);else if(J=T.s,J==3||J==0&&0<T.X||!(B==1&&vg(g,T)||B==2&&ou(g)))switch(k&&0<k.length&&(T=g.h,T.i=T.i.concat(k)),J){case 1:ns(g,5);break;case 4:ns(g,10);break;case 3:ns(g,6);break;default:ns(g,2)}}}function au(g,T){let k=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(k*=2),k*T}function ns(g,T){if(g.j.info("Error code "+T),T==2){var k=v(g.fb,g),B=g.Xa;const J=!B;B=new Kt(B||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||pa(B,"https"),ma(B),J?ya(B.toString(),k):Jr(B.toString(),k)}else ee(2);g.G=0,g.l&&g.l.sa(T),Ef(g),vf(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function Ef(g){if(g.G=0,g.ka=[],g.l){const T=Jc(g.h);(T.length!=0||g.i.length!=0)&&(C(g.ka,T),C(g.ka,g.i),g.h.i.length=0,E(g.i),g.i.length=0),g.l.ra()}}function Tf(g,T,k){var B=k instanceof Kt?ar(k):new Kt(k);if(B.g!="")T&&(B.g=T+"."+B.g),Js(B,B.s);else{var J=c.location;B=J.protocol,T=T?T+"."+J.hostname:J.hostname,J=+J.port;var re=new Kt(null);B&&pa(re,B),T&&(re.g=T),J&&Js(re,J),k&&(re.l=k),B=re}return k=g.D,T=g.ya,k&&T&&St(B,k,T),St(B,"VER",g.la),xa(g,B),B}function Cf(g,T,k){if(T&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=g.Ca&&!g.pa?new gt(new Qs({eb:k})):new gt(g.pa),T.Ha(g.J),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Af(){}t=Af.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Kn(g,T){ct.call(this),this.g=new kl(T),this.l=g,this.h=T&&T.messageUrlParams||null,g=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(g?g["X-WebChannel-Content-Type"]=T.messageContentType:g={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(g?g["X-WebChannel-Client-Profile"]=T.va:g={"X-WebChannel-Client-Profile":T.va}),this.g.S=g,(g=T&&T.Sb)&&!I(g)&&(this.g.m=g),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!I(T)&&(this.g.D=T,g=this.h,g!==null&&T in g&&(g=this.h,T in g&&delete g[T])),this.j=new Zs(this)}x(Kn,ct),Kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kn.prototype.close=function(){iu(this.g)},Kn.prototype.o=function(g){var T=this.g;if(typeof g=="string"){var k={};k.__data__=g,g=k}else this.u&&(k={},k.__data__=ir(g),g=k);T.i.push(new Yr(T.Ya++,g)),T.G==3&&Ml(T)},Kn.prototype.N=function(){this.g.l=null,delete this.j,iu(this.g),delete this.g,Kn.aa.N.call(this)};function kf(g){Kr.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var T=g.__sm__;if(T){e:{for(const k in T){g=k;break e}g=void 0}(this.i=g)&&(g=this.i,T=T!==null&&g in T?T[g]:void 0),this.data=T}else this.data=g}x(kf,Kr);function Nf(){Ws.call(this),this.status=1}x(Nf,Ws);function Zs(g){this.g=g}x(Zs,Af),Zs.prototype.ua=function(){Ke(this.g,"a")},Zs.prototype.ta=function(g){Ke(this.g,new kf(g))},Zs.prototype.sa=function(g){Ke(this.g,new Nf)},Zs.prototype.ra=function(){Ke(this.g,"b")},Kn.prototype.send=Kn.prototype.o,Kn.prototype.open=Kn.prototype.m,Kn.prototype.close=Kn.prototype.close,xe.NO_ERROR=0,xe.TIMEOUT=8,xe.HTTP_ERROR=6,qe.COMPLETE="complete",Sl.EventType=Ar,Ar.OPEN="a",Ar.CLOSE="b",Ar.ERROR="c",Ar.MESSAGE="d",ct.prototype.listen=ct.prototype.K,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha}).apply(typeof Dh<"u"?Dh:typeof self<"u"?self:typeof window<"u"?window:{});const M2="@firebase/firestore",O2="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pn.UNAUTHENTICATED=new Pn(null),Pn.GOOGLE_CREDENTIALS=new Pn("google-credentials-uid"),Pn.FIRST_PARTY=new Pn("first-party-uid"),Pn.MOCK_USER=new Pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rf="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=new _1("@firebase/firestore");function ii(t,...e){if(Rc.logLevel<=pt.DEBUG){const n=e.map(q1);Rc.debug(`Firestore (${rf}): ${t}`,...n)}}function Bk(t,...e){if(Rc.logLevel<=pt.ERROR){const n=e.map(q1);Rc.error(`Firestore (${rf}): ${t}`,...n)}}function rj(t,...e){if(Rc.logLevel<=pt.WARN){const n=e.map(q1);Rc.warn(`Firestore (${rf}): ${t}`,...n)}}function q1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Hk(t,r,n)}function Hk(t,e,n){let r=`FIRESTORE (${rf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Bk(r),new Error(r)}function cd(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Hk(e,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class ot extends js{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ij{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Pn.UNAUTHENTICATED)))}shutdown(){}}class sj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class oj{constructor(e){this.t=e,this.currentUser=Pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){cd(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let s=new ud;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ud,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=s;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},c=d=>{ii("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(ii("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ud)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ii("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(cd(typeof r.accessToken=="string",31837,{l:r}),new Vk(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return cd(e===null||typeof e=="string",2055,{h:e}),new Pn(e)}}class aj{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class lj{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new aj(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$r(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){cd(this.o===void 0,3512);const r=s=>{s.error!=null&&ii("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,ii("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{ii("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ii("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new _2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(cd(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new _2(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=uj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function li(t,e){return t<e?-1:t>e?1:0}function hj(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return li(r,i);{const s=dj(),l=pj(s.encode(R2(t,n)),s.encode(R2(e,n)));return l!==0?l:li(r,i)}}n+=r>65535?2:1}return li(t.length,e.length)}function R2(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function pj(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return li(t[n],e[n]);return li(t.length,e.length)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2="__name__";class Di{constructor(e,n,r){n===void 0?n=0:n>e.length&&_d(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_d(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Di.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Di?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Di.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return li(e.length,n.length)}static compareSegments(e,n){const r=Di.isNumericId(e),i=Di.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Di.extractNumericId(e).compare(Di.extractNumericId(n)):hj(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return F1.fromString(e.substring(4,e.length-2))}}class ti extends Di{construct(e,n,r){return new ti(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ot(st.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new ti(n)}static emptyPath(){return new ti([])}}const mj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Va extends Di{construct(e,n,r){return new Va(e,n,r)}static isValidIdentifier(e){return mj.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Va.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===D2}static keyField(){return new Va([D2])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ot(st.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new ot(st.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ot(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(s(),i++)}if(s(),l)throw new ot(st.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Va(n)}static emptyPath(){return new Va([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this.path=e}static fromPath(e){return new Ga(ti.fromString(e))}static fromName(e){return new Ga(ti.fromString(e).popFirst(5))}static empty(){return new Ga(ti.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ti.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ti.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ga(new ti(e.slice()))}}function gj(t,e,n,r){if(e===!0&&r===!0)throw new ot(st.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function yj(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function vj(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_d(12329,{type:typeof t})}function bj(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ot(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vj(t);throw new ot(st.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t,e){const n={typeString:t};return e&&(n.value=e),n}function sf(t,e){if(!yj(t))throw new ot(st.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new ot(st.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=-62135596800,L2=1e6;class Ii{static now(){return Ii.fromMillis(Date.now())}static fromDate(e){return Ii.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*L2);return new Ii(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ot(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ot(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<I2)throw new ot(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L2}_compareTo(e){return this.seconds===e.seconds?li(this.nanoseconds,e.nanoseconds):li(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ii._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(sf(e,Ii._jsonSchema))return new Ii(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-I2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ii._jsonSchemaVersion="firestore/timestamp/1.0",Ii._jsonSchema={type:Jt("string",Ii._jsonSchemaVersion),seconds:Jt("number"),nanoseconds:Jt("number")};function wj(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Sj("Invalid base64 string: "+s):s}})(e);return new ll(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new ll(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return li(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ll.EMPTY_BYTE_STRING=new ll("");const Dv="(default)";class zp{constructor(e,n){this.projectId=e,this.database=n||Dv}static empty(){return new zp("","")}get isDefaultDatabase(){return this.database===Dv}isEqual(e){return e instanceof zp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,n=null,r=[],i=[],s=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=d,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Ej(t){return new xj(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j2,it;(it=j2||(j2={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new F1([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=1048576;function k0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&ii("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ud,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,c=new W1(e,n,l,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(st.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var P2,z2;(z2=P2||(P2={})).Fa="default",z2.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k="firestore.googleapis.com",B2=!0;class H2{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ot(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$k,this.ssl=B2}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:B2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Tj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Cj)throw new ot(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kj((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ot(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ot(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ot(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fk{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ij;switch(r.type){case"firstParty":return new lj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ot(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=U2.get(n);r&&(ii("ComponentProvider","Removing Datastore"),U2.delete(n),r.terminate())})(this),Promise.resolve()}}function Nj(t,e,n,r={}){var i;t=bj(t,Fk);const s=Xd(e),l=t._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;s&&(tk(`https://${d}`),nk("Firestore",!0)),l.host!==$k&&l.host!==d&&rj("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},l),{host:d,ssl:s,emulatorOptions:r});if(!sl(f,c)&&(t._setSettings(f),r.mockUserToken)){let p,m;if(typeof r.mockUserToken=="string")p=r.mockUserToken,m=Pn.MOCK_USER;else{p=c5(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ot(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Pn(v)}t._authCredentials=new sj(new Vk(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new G1(this.firestore,e,this._query)}}class ji{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new K1(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ji(this.firestore,e,this._key)}toJSON(){return{type:ji._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(sf(n,ji._jsonSchema))return new ji(e,r||null,new Ga(ti.fromString(n.referencePath)))}}ji._jsonSchemaVersion="firestore/documentReference/1.0",ji._jsonSchema={type:Jt("string",ji._jsonSchemaVersion),referencePath:Jt("string")};class K1 extends G1{constructor(e,n,r){super(e,n,Ej(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ji(this.firestore,null,new Ga(e))}withConverter(e){return new K1(this.firestore,e,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="AsyncQueue";class $2{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Aj(this,"async_queue_retry"),this.oc=()=>{const r=k0();r&&ii(V2,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=k0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=k0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new ud;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!wj(e))throw e;ii(V2,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const n=this._c.then((()=>(this.nc=!0,e().catch((r=>{throw this.tc=r,this.nc=!1,Bk("INTERNAL UNHANDLED ERROR: ",F2(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=W1.createAndSchedule(this,e,n,r,(s=>this.lc(s)));return this.ec.push(i),i}ac(){this.tc&&_d(47125,{hc:F2(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function F2(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Mj extends Fk{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new $2,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $2(e),this._firestoreClient=void 0,await e}}}function Oj(t,e){const n=typeof t=="object"?t:I1(),r=typeof t=="string"?t:Dv,i=D1(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=a5("firestore");s&&Nj(i,...s)}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ks(ll.fromBase64String(e))}catch(n){throw new ot(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ks(ll.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ks._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(sf(e,ks._jsonSchema))return ks.fromBase64String(e.bytes)}}ks._jsonSchemaVersion="firestore/bytes/1.0",ks._jsonSchema={type:Jt("string",ks._jsonSchemaVersion),bytes:Jt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ot(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Va(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ot(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ot(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return li(this._lat,e._lat)||li(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qa._jsonSchemaVersion}}static fromJSON(e){if(sf(e,Qa._jsonSchema))return new Qa(e.latitude,e.longitude)}}Qa._jsonSchemaVersion="firestore/geoPoint/1.0",Qa._jsonSchema={type:Jt("string",Qa._jsonSchemaVersion),latitude:Jt("number"),longitude:Jt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Za._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(sf(e,Za._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Za(e.vectorValues);throw new ot(st.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Za._jsonSchemaVersion="firestore/vectorValue/1.0",Za._jsonSchema={type:Jt("string",Za._jsonSchemaVersion),vectorValues:Jt("object")};const _j=new RegExp("[~\\*/\\[\\]]");function Rj(t,e,n){if(e.search(_j)>=0)throw q2(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new qk(...e.split("."))._internalPath}catch{throw q2(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function q2(t,e,n,r,i){let s=`Function ${e}() called with invalid data`;s+=". ";let l="";return new ot(st.INVALID_ARGUMENT,s+t+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ji(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Dj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gk("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Dj extends Wk{data(){return super.data()}}function Gk(t,e){return typeof e=="string"?Rj(t,e):e instanceof qk?e._internalPath:e._delegate._internalPath}class Ih{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cc extends Wk{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Gk("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(st.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Cc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Cc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Cc._jsonSchema={type:Jt("string",Cc._jsonSchemaVersion),bundleSource:Jt("string","DocumentSnapshot"),bundleName:Jt("string"),bundle:Jt("string")};class vp extends Cc{data(e={}){return super.data(e)}}class dd{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ih(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new vp(this._firestore,this._userDataWriter,r.key,r,new Ih(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ot(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const d=new vp(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ih(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const d=new vp(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ih(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,p=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:Ij(c.type),doc:d,oldIndex:f,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(st.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=dd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fj.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Ij(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _d(61501,{type:t})}}dd._jsonSchemaVersion="firestore/querySnapshot/1.0",dd._jsonSchema={type:Jt("string",dd._jsonSchemaVersion),bundleSource:Jt("string","QuerySnapshot"),bundleName:Jt("string"),bundle:Jt("string")};(function(e,n=!0){(function(i){rf=i})(Wc),Oc(new ol("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),c=new Mj(new oj(r.getProvider("auth-internal")),new cj(l,r.getProvider("app-check-internal")),(function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ot(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zp(f.options.projectId,p)})(l,i),l);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),Fo(M2,O2,e),Fo(M2,O2,"esm2017")})();const Lj={apiKey:"AIzaSyAXWSKq6gecCbuFxPVEg7HLiUoEkYBFiBk",authDomain:"auth.offgap.com",projectId:"offgap",messagingSenderId:"129911949748",appId:"1:129911949748:web:3343dc37d8b2d15941cae1"},Kk=TI().length?I1():sk(Lj),cl=tj(Kk),Y1=new As;Y1.setDefaultLanguage("en");Y1.addScope("openid");const jj=async(t,e)=>await zL(cl,t,{url:e,handleCodeInApp:!0});async function KK(t){if(UL(cl,t))try{const e=window.localStorage.getItem(Tv.EMAIL)||window.prompt("You seems to change the browser. Which email did you use to log in?")||"";return await BL(cl,e,t),window.localStorage.removeItem(Tv.EMAIL),!0}catch(e){console.error(e)}return!1}const Pj=async()=>await u6(cl,Y1),zj=()=>{const t={exit:()=>{}},e=new Promise(n=>{t.exit=$L(cl,r=>n(r))});return Object.assign(e,{unsubscribe:t.exit})},$m=()=>cl.currentUser,YK=async()=>await FL(cl);Oj(Kk);const W2=t=>{let e;const n=new Set,r=(f,p)=>{const m=typeof f=="function"?f(e):f;if(!Object.is(m,e)){const v=e;e=p??(typeof m!="object"||m===null)?m:Object.assign({},e,m),n.forEach(w=>w(e,v))}},i=()=>e,c={setState:r,getState:i,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f))},d=e=t(r,i,c);return c},Uj=(t=>t?W2(t):W2),Bj=t=>t;function Hj(t,e=Bj){const n=_t.useSyncExternalStore(t.subscribe,_t.useCallback(()=>e(t.getState()),[t,e]),_t.useCallback(()=>e(t.getInitialState()),[t,e]));return _t.useDebugValue(n),n}const G2=t=>{const e=Uj(t),n=r=>Hj(e,r);return Object.assign(n,e),n},Vj=(t=>t?G2(t):G2);function $j(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const l=d=>d===null?null:JSON.parse(d,void 0),c=(s=n.getItem(i))!=null?s:null;return c instanceof Promise?c.then(l):l(c)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const Iv=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Iv(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Iv(r)(n)}}}},Fj=(t,e)=>(n,r,i)=>{let s={storage:$j(()=>localStorage),partialize:E=>E,version:0,merge:(E,C)=>({...C,...E}),...e},l=!1;const c=new Set,d=new Set;let f=s.storage;if(!f)return t((...E)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...E)},r,i);const p=()=>{const E=s.partialize({...r()});return f.setItem(s.name,{state:E,version:s.version})},m=i.setState;i.setState=(E,C)=>(m(E,C),p());const v=t((...E)=>(n(...E),p()),r,i);i.getInitialState=()=>v;let w;const x=()=>{var E,C;if(!f)return;l=!1,c.forEach(I=>{var j;return I((j=r())!=null?j:v)});const O=((C=s.onRehydrateStorage)==null?void 0:C.call(s,(E=r())!=null?E:v))||void 0;return Iv(f.getItem.bind(f))(s.name).then(I=>{if(I)if(typeof I.version=="number"&&I.version!==s.version){if(s.migrate){const j=s.migrate(I.state,I.version);return j instanceof Promise?j.then(U=>[!0,U]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,I.state];return[!1,void 0]}).then(I=>{var j;const[U,P]=I;if(w=s.merge(P,(j=r())!=null?j:v),n(w,!0),U)return p()}).then(()=>{O?.(w,void 0),w=r(),l=!0,d.forEach(I=>I(w))}).catch(I=>{O?.(void 0,I)})};return i.persist={setOptions:E=>{s={...s,...E},E.storage&&(f=E.storage)},clearStorage:()=>{f?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>x(),hasHydrated:()=>l,onHydrate:E=>(c.add(E),()=>{c.delete(E)}),onFinishHydration:E=>(d.add(E),()=>{d.delete(E)})},s.skipHydration||x(),w||v},qj=Fj,K2={project:{sitemap:"",robots:""},meta:{title:"",description:"",canonical:"",headTags:[]},header:{content:""},footer:{content:""},sid:"",css:"",js:"",fonts:{},pages:[{path:"/",title:"Page Title",content:""}]},Wj=(t,e)=>["path","title","content"].every(n=>t[n]===e[n]),Lh=(t,e)=>t.pages.filter(n=>!e.pages.find(r=>Wj(n,r))).map(n=>n.path),Gj=t=>t.path.length>2&&typeof t.title=="string",jh=t=>(t.pages=t.pages.sort((e,n)=>e.path.localeCompare(n.path)),t),Be=Vj(qj(t=>({pid:"",sid:"",sub:["",""],user:void 0,repo:"",token:"",domain:"",status:0,config:K2,pageDiff:[],configBackup:K2,updatingPage:"",setPid:e=>t(()=>({pid:e})),setSid:e=>t(()=>({sid:e})),setSub:e=>t(()=>({sub:e})),setUser:e=>t(()=>({user:e})),setRepo:e=>t(()=>({repo:e})),setToken:e=>t(()=>({token:e})),setDomain:e=>t(()=>({domain:e})),setStatus:e=>t(()=>({status:e})),setConfig:e=>t(()=>({config:e,configBackup:structuredClone(e),pageDiff:[]})),setConfigKey:({key:e,value:n})=>t(({config:r})=>{const i=structuredClone(r);return(e==="js"||e==="css")&&typeof n=="string"?i[e]=n:e==="fonts"&&n?i.fonts=n:e==="header"&&typeof n=="string"?i.header.content=n:e==="footer"&&typeof n=="string"&&(i.footer.content=n),{config:i}}),setConfigPage:({oldPath:e,...n})=>t(({config:r,configBackup:i})=>{const s=structuredClone(r);if(n.content?.endsWith(Ja.EDITOR_NEWLINE)&&(n.content=n.content.slice(0,-Ja.EDITOR_NEWLINE.length)),typeof e=="string"&&e.length){if(n.path===""){s.pages=s.pages.filter(c=>c.path!==e);const l=Lh(s,i);return{config:jh(s),pageDiff:l}}if(n.path.length>2){const l=s.pages.find(d=>d.path===e);l&&Object.assign(l,n);const c=Lh(s,i);return{config:jh(s),pageDiff:c,updatingPage:n.path}}}else{const l=s.pages.find(c=>c.path===n.path);if(l){Object.assign(l,n);const c=Lh(s,i);return{config:jh(s),pageDiff:c}}if(Gj(n)){s.pages.push(n);const c=Lh(s,i);return{config:jh(s),pageDiff:c,updatingPage:n.path}}}return{config:r}}),setUpdatingPage:e=>t(()=>({updatingPage:e})),setFeedItem:({time:e,text:n,newTime:r})=>t(({config:i})=>{if(i.feed){const s={...i.feed};if(s.list!==void 0){if(r!==void 0){const l=s.list.find(c=>c.time===e);l&&(l.time=r,s.list=s.list.sort((c,d)=>d.time-c.time))}else if(typeof n=="string"){const l=s.list.find(c=>c.time===e);l!==void 0?l.text=n:(s.list.push({time:e,text:n}),s.list=s.list.sort((c,d)=>d.time-c.time))}else s.list=s.list.filter(l=>l.time!==e);i.feed=s}}return{config:i}})}),{name:"data"})),yc=t=>new Date(parseInt(t,er.TIME_ZIP)*er.TIME_TRIM).getTime(),Y2=t=>typeof t=="number"&&t>0?new Date(t).toLocaleString(window.navigator.language,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}):"",vc=t=>typeof t=="string"?new TextEncoder().encode(t).length:0,Lv=t=>t<100?`${t} bytes`:t<1e5?`${(t/1024).toFixed(2)} KB`:`${(t/(1024*1024)).toFixed(2)} MB`,X2=t=>{let e=Math.floor((Date.now()-new Date(t).getTime())/1e3);return e<60?"seconds ago":[{label:"d",seconds:86400},{label:"h",seconds:3600},{label:"m",seconds:60}].reduce((r,{label:i,seconds:s})=>{const l=Math.floor(e/s);return l>0&&!(i==="s"&&r.length>0)&&(r.push(`${l}${i}`),e-=l*s),r},[]).join(" ")},Kj=(t,e)=>`https://raw.githubusercontent.com/offgap/${t}/main/${e}`,X1=async({domain:t,pid:e})=>{const{pid:n,setStatus:r,setPid:i}=Be.getState();try{if((await fetch(`https://${t}/${er.FOLDER}/${e}.json`,{cache:"no-store"})).ok)return n!==e&&i(e),r(et.PID_NEW),!0;try{const l=await fetch(`https://${t}/`,{cache:"no-store"});if(l.ok&&l.status===M1.OK){const c=await fetch(`https://${t}/${er.FOLDER}/${er.LIVEFILE}`,{cache:"no-store"});if(c.ok){const d=await c.json();if(!d?.p)throw new Error(`Live file doesn't have pid collection (https://${t}/${er.FOLDER}/${er.LIVEFILE})`);const{p:f}=d,p=f[0];if(!f.includes(e))r(et.PID_OLD);else if(p===e)r(et.PID_NEW);else if(p.length===er.LENGTH&&yc(p)>yc(e))return X1({domain:t,pid:p});return!0}}}catch(l){console.error(`Domain (${t}) DNS might be still propagating; ${l}`)}throw r(et.NS_POLL),new Error(`Domain (${t}) isn't available`)}catch(s){console.error(s,`Checking pid (${e}) from domain (${t}) failed`)}return!1},Yj=async({repo:t})=>{try{const e=await fetch(Kj(t,`${er.GITFOLDER}/${er.LIVEFILE}`),{cache:"no-store"});if(!e.ok)throw new Error(`Fetching pid from GitHub (${t}) live.json failed`);const n=await e.json();if(!n?.p)throw new Error(`Github repo (${t}) file doesn't have pid collection`);const{p:r}=n;return r[0]}catch(e){console.error(`Parsing pid from GitHub (${t}) failed. ${e}`)}return""},XK=async({pid:t,repo:e,domain:n})=>{try{if(t&&n&&await X1({domain:n,pid:t}))return!0;if(e){const r=await Yj({repo:e});if(r===t&&t===er.INIT)return!1;throw new Error(`Github pid (${r}) is different than server's pid (${t}), or progressed without domain`)}}catch(r){console.error(r)}return!1},Xj=[[1,1e4],[10,3e4],[25,6e4],[45,3e5],[133,9e5]],Jj=t=>Xj.find(([e])=>t<=e)?.[1]??0,Qj=t=>parseInt(localStorage.getItem(`poll:${t}`)||"0",10),Zj=(t,e)=>localStorage.setItem(`poll:${t}`,String(e)),of=(t,e)=>{let n=!0;return{promise:(async()=>{let r=Qj(t);for(;n;){if(await e())return localStorage.removeItem(`poll:${t}`),!0;r++,Zj(t,r);const s=t.startsWith("pid")?5e3:Jj(r);if(!s)return console.error(`Polling "${t}" exceeded max attempts, user action required`),!1;await new Promise(l=>setTimeout(l,s))}return!1})(),stop:()=>{n=!1,localStorage.removeItem(`poll:${t}`)}}},eP=["185.199.108.153","185.199.109.153","185.199.110.153","185.199.111.153"],tP=["offgap.github.io."],Yk=["https://dns.google/resolve","https://cloudflare-dns.com/dns-query"],nP=(t,e="CNAME",n=Yk[0])=>`${n}?name=${t}&type=${e}`,J1=async(t,e,n)=>{const r=n?[n]:e==="A"?eP:tP;try{return await Yk.reduce(async(i,s)=>{if(!await i)return!1;const c=await fetch(nP(t,e,s),{headers:{Accept:"application/dns-json"}}),{Answer:d}=await c.json();return Array.isArray(d)&&r.every(f=>d.some(p=>p.data.replaceAll('"',"")===f))},Promise.resolve(!0))}catch(i){console.error(i)}return!1},rP=async(t,e)=>{try{if((await fetch(`https://${t}/${er.FOLDER}/${e}.json`,{cache:"no-store"})).ok)return Be.getState().setStatus(et.PID_NEW),!0}catch(n){console.error(n)}return!1},iP=t=>of(`dns:${t}`,async()=>await J1(t,"A")),sP=t=>of(`dns:${t}`,async()=>await J1(t,"CNAME")),oP=(t,e)=>of(`dns:${t}`,async()=>await J1(t,"TXT",e)),aP=(t,e)=>of(`pid:${t}`,async()=>await rP(t,e)),lP=(t,e)=>of(`dom:${t}`,async()=>await X1({domain:t,pid:e})),cP=async(t,e,n)=>!!(await oP(t,`offgap.com=${n}`).promise&&await(e[0]===""?iP:sP)(t).promise),uP=(t,e,n)=>{const{pid:r,sub:i,setStatus:s}=Be.getState();switch(e){case et.NS_SET:return"1";case et.NS_POLL:return t&&n&&cP(t,i,n).then(l=>s(l?et.NS_DONE:et.NS_SET)).catch(l=>console.error(l)),"2";case et.NS_HOLD:return"3";case et.NS_DONE:return n?fetch("/api/domain/",{method:"PUT"}).then(l=>{l.ok&&s(et.DOMAIN_POLL)}).catch(l=>console.error(l)):s(et.DOMAIN_POLL),"4";case et.DOMAIN_POLL:return lP(t,r).promise.then(l=>{l||console.error("Pid is not set")}).catch(l=>console.error(l)),"5";case et.DOMAIN_HOLD:return"6";case et.DOMAIN_DONE:return"7";case et.PID_OLD:return aP(t,r).promise.then(()=>s(et.PID_NEW)).catch(l=>console.error(l)),"8";case et.PID_NEW:return"9";default:throw new Error("Unexpected status value")}},J2=t=>t&&window.location.pathname!=="/app/"?window.location.pathname="/app/":void 0;function dP({children:t}){const e=Be(l=>l.user),n=Be(l=>l.token),r=Be(l=>l.domain),i=Be(l=>l.status);A.useEffect(()=>{const l=zj();return l.then(c=>{Be.getState().setUser(c!==null),J2(c===null)}),l.unsubscribe},[]),A.useEffect(()=>void J2(!e),[e]);const s=A.useCallback(()=>uP(r,i,n),[r,i,n]);return A.useEffect(()=>void(e&&i>et.INIT&&s()),[e,i,s]),e!==void 0?t:b.jsx(KA,{})}function fP(){return b.jsx("div",{className:"pointer-events-none fixed inset-0 z-50 flex cursor-progress items-center justify-center bg-base-100/70",children:b.jsx("span",{className:"loading loading-spinner loading-xl"})})}const hP="modulepreload",pP=function(t){return"https://offgap.com/app/"+t},Q2={},Ph=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let d=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");i=d(n.map(f=>{if(f=pP(f),f in Q2)return;Q2[f]=!0;const p=f.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":hP,p||(v.as="script"),v.crossOrigin="",v.href=f,c&&v.setAttribute("nonce",c),document.head.appendChild(v),p)return new Promise((w,x)=>{v.addEventListener("load",w),v.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gP=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Z2=t=>{const e=gP(t);return e.charAt(0).toUpperCase()+e.slice(1)},Xk=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),yP=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...c},d)=>A.createElement("svg",{ref:d,...vP,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Xk("lucide",i),...!s&&!yP(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,p])=>A.createElement(f,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=(t,e)=>{const n=A.forwardRef(({className:r,...i},s)=>A.createElement(bP,{ref:s,iconNode:e,className:Xk(`lucide-${mP(Z2(t))}`,`lucide-${t}`,r),...i}));return n.displayName=Z2(t),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Rd=Me("arrow-right",wP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],xP=Me("bold",SP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=[["path",{d:"m14.5 7-5 5",key:"dy991v"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m9.5 7 5 5",key:"s45iea"}]],TP=Me("book-x",EP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],AP=Me("check",CP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Q1=Me("circle-check",kP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],MP=Me("circle-pause",NP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],_P=Me("circle-plus",OP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]],DP=Me("clipboard-copy",RP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],LP=Me("clock",IP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],eT=Me("cloud",jP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],zP=Me("external-link",PP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],BP=Me("file-check",UP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M16 22h2a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"37hlfg"}],["path",{d:"M8 14v2.2l1.6 1",key:"6m4bie"}],["circle",{cx:"8",cy:"16",r:"6",key:"10v15b"}]],VP=Me("file-clock",HP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]],FP=Me("file-code",$P);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]],WP=Me("file-pen",qP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M3 15h6",key:"4e2qda"}],["path",{d:"M6 12v6",key:"1u72j0"}]],KP=Me("file-plus-2",GP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["path",{d:"M11 21a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1",key:"likhh7"}],["path",{d:"M16 16a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1",key:"17ky3x"}],["path",{d:"M21 6a2 2 0 0 0-.586-1.414l-2-2A2 2 0 0 0 17 2h-3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1z",key:"1hyeo0"}]],XP=Me("file-stack",YP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],QP=Me("file-text",JP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],e9=Me("file",ZP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["path",{d:"m17 3-5 5-5-5h10",key:"1ftt6x"}],["path",{d:"m17 21-5-5-5 5h10",key:"1m0wmu"}],["path",{d:"M4 12H2",key:"rhcxmi"}],["path",{d:"M10 12H8",key:"s88cx1"}],["path",{d:"M16 12h-2",key:"10asgb"}],["path",{d:"M22 12h-2",key:"14jgyd"}]],n9=Me("flip-vertical-2",t9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],i9=Me("hand",r9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],o9=Me("hash",s9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Jk=Me("image",a9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=[["path",{d:"M21 12H11",key:"wd7e0v"}],["path",{d:"M21 18H11",key:"4wu86t"}],["path",{d:"M21 6H11",key:"6dy1d6"}],["path",{d:"m7 8-4 4 4 4",key:"o5hrat"}]],c9=Me("indent-decrease",l9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=[["path",{d:"M21 12H11",key:"wd7e0v"}],["path",{d:"M21 18H11",key:"4wu86t"}],["path",{d:"M21 6H11",key:"6dy1d6"}],["path",{d:"m3 8 4 4-4 4",key:"1a3j6y"}]],d9=Me("indent-increase",u9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],h9=Me("info",f9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],m9=Me("italic",p9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]],y9=Me("link-2-off",g9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],b9=Me("link-2",v9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Qk=Me("link",w9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Z1=Me("loader-circle",S9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],E9=Me("message-square",x9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],C9=Me("moon",T9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],k9=Me("panel-left-close",A9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]],M9=Me("panel-left-open",N9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]],_9=Me("panel-right",O9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Zk=Me("plus",R9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],I9=Me("quote",D9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],eN=Me("redo-2",L9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=[["path",{d:"M14 4a2 2 0 0 1 2-2",key:"1w2hp7"}],["path",{d:"M16 10a2 2 0 0 1-2-2",key:"shjach"}],["path",{d:"M20 2a2 2 0 0 1 2 2",key:"188mtx"}],["path",{d:"M22 8a2 2 0 0 1-2 2",key:"ddf4tu"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5a3 3 0 0 1 3-3h1",key:"3y3t5z"}],["rect",{x:"2",y:"14",width:"8",height:"8",rx:"2",key:"4rksxw"}]],P9=Me("replace",j9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],U9=Me("scan-line",z9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],tN=Me("search",B9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=[["path",{d:"m16 16-4 4-4-4",key:"3dv8je"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"m8 8 4-4 4 4",key:"2bscm2"}]],V9=Me("separator-horizontal",H9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],F9=Me("shield-check",$9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=[["path",{d:"M22 17v1c0 .5-.5 1-1 1H3c-.5 0-1-.5-1-1v-1",key:"lt2kga"}]],W9=Me("space",q9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=[["path",{d:"M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6",key:"y09zxi"}],["path",{d:"m21 3-9 9",key:"mpx6sq"}],["path",{d:"M15 3h6v6",key:"1q9fwt"}]],K9=Me("square-arrow-out-up-right",G9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],X9=Me("square-check-big",Y9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=[["path",{d:"m10 9-3 3 3 3",key:"1oro0q"}],["path",{d:"m14 15 3-3-3-3",key:"bz13h7"}],["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}]],tT=Me("square-code",J9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],eb=Me("square-pen",Q9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],e7=Me("square-x",Z9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],n7=Me("square",t7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],i7=Me("strikethrough",r7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],o7=Me("sun",s7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=[["path",{d:"m10.065 12.493-6.18 1.318a.934.934 0 0 1-1.108-.702l-.537-2.15a1.07 1.07 0 0 1 .691-1.265l13.504-4.44",key:"k4qptu"}],["path",{d:"m13.56 11.747 4.332-.924",key:"19l80z"}],["path",{d:"m16 21-3.105-6.21",key:"7oh9d"}],["path",{d:"M16.485 5.94a2 2 0 0 1 1.455-2.425l1.09-.272a1 1 0 0 1 1.212.727l1.515 6.06a1 1 0 0 1-.727 1.213l-1.09.272a2 2 0 0 1-2.425-1.455z",key:"m7xp4m"}],["path",{d:"m6.158 8.633 1.114 4.456",key:"74o979"}],["path",{d:"m8 21 3.105-6.21",key:"1fvxut"}],["circle",{cx:"12",cy:"13",r:"2",key:"1c1ljs"}]],nT=Me("telescope",a7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],tb=Me("trash-2",l7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],u7=Me("trash",c7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=[["path",{d:"M14 16.5a.5.5 0 0 0 .5.5h.5a2 2 0 0 1 0 4H9a2 2 0 0 1 0-4h.5a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5V8a2 2 0 0 1-4 0V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v3a2 2 0 0 1-4 0v-.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5Z",key:"1reda3"}]],f7=Me("type-outline",d7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],nb=Me("undo-2",h7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=[["path",{d:"m16 16-2 2 2 2",key:"kkc6pm"}],["path",{d:"M3 12h15a3 3 0 1 1 0 6h-4",key:"1cl7v7"}],["path",{d:"M3 18h7",key:"sq21v6"}],["path",{d:"M3 6h18",key:"d0wm0j"}]],m7=Me("wrap-text",p7),zh=b.jsx(MP,{className:"m-1 size-8"}),Uh=b.jsx(Z1,{className:"m-1 size-8 animate-spin"}),Bh=b.jsx(Q1,{className:"m-1 size-8"}),g7=()=>{const t=Be(r=>r.status),e=jm(),n=A.useCallback(()=>e({},{action:"/app/domain/"}).catch(r=>console.error(r)),[e]);return b.jsxs("div",{className:"hero-content my-6 flex-row items-start gap-6 p-0",children:[b.jsxs("ul",{className:"list w-2/3 rounded-box bg-base-100 shadow-md",children:[b.jsx("li",{className:"bg-base-200 p-5 text-xs tracking-wide opacity-60",children:"Were confirming that your website is accessible online:"}),b.jsxs("li",{className:"list-row",children:[b.jsx("div",{children:t>et.NS_DONE?Bh:t>et.NS_SET?Uh:zh}),b.jsxs("div",{children:[b.jsx("div",{children:"Validating your domain ownership"}),b.jsx("div",{className:"font-semibold text-xs uppercase opacity-40",children:"TXT records"})]})]}),b.jsxs("li",{className:"list-row",children:[b.jsx("div",{children:t>et.NS_DONE?Bh:t>et.NS_SET?Uh:zh}),b.jsxs("div",{children:[b.jsx("div",{children:"Validating correct domain location resolution"}),b.jsx("div",{className:"font-semibold text-xs uppercase opacity-40",children:"CNAME records"})]})]}),b.jsxs("li",{className:"list-row",children:[b.jsx("div",{children:t>et.DOMAIN_DONE?Bh:t>et.NS_DONE?Uh:zh}),b.jsxs("div",{children:[b.jsx("div",{children:"Checking if website is reachable"}),b.jsx("div",{className:"font-semibold text-xs uppercase opacity-40",children:"Website response"})]})]}),b.jsxs("li",{className:"list-row",children:[b.jsx("div",{children:t>et.PID_OLD?Bh:t>et.DOMAIN_DONE?Uh:zh}),b.jsxs("div",{children:[b.jsx("div",{children:"Checking if your content can be published"}),b.jsx("div",{className:"font-semibold text-xs uppercase opacity-40",children:"OffGap flag"})]}),t>et.PID_OLD?b.jsxs("button",{type:"button",className:"btn",onClick:n,children:["Next",b.jsx(Rd,{})]}):null]})]}),b.jsx("div",{className:"card w-1/3 rounded-box bg-base-100 shadow-md",children:b.jsx("div",{className:"card-body",children:"Records propagation usually takes from a few minutes to an hour. In extreme cases it takes up to 24 hours for all servers across the globe to update the DNS records."})})]})},y7=()=>b.jsxs("div",{className:"card rounded-box bg-base-100 shadow-md",children:[b.jsx("div",{className:"bg-base-200 p-5 text-xs tracking-wide opacity-60",children:"How to link your domain to your website"}),b.jsx("div",{className:"card-body -mb-5",children:b.jsx("p",{children:"To get your site online, you must setup or update your domain's DNS records. Think of these records as references that shows the internet where your website's content is located. Records below point your URL to a server which holds your pages and content. Is the records are missing or not setup correctly your visitors won't be able to see your pages."})}),b.jsxs("div",{className:"join join-vertical rounded-box p-5",children:[b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"What are DNS records?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsxs("p",{children:["DNS (Domain Name System) records are entries in a DNS database that provide information about a domain and its associated services. They translate human-readable domain names (like ",b.jsx("code",{children:"www.example.com"}),") into IP addresses that computers use to identify each other on the network. Common types of DNS records include:"]}),b.jsxs("ul",{children:[b.jsxs("li",{children:[b.jsx("strong",{children:"A Record"})," points your domain to a specific server IP address."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"AAAA Record"})," points your domain to a specific server IP address using IPv6 name format."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"CNAME Record"})," points a subdomain to another domain name."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"TXT Record"})," can store verification or security information, like proving you own the domain."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"MX Record"})," handles email delivery for your domain."]})]}),b.jsx("p",{children:"Without the correct DNS records, visitors wont be able to reach your website or use associated services. Think of DNS records as the instructions the internet needs to guide people to your pages."})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"How do I access my DNS settings?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"You access DNS settings through the website of the company where you bought your domain (your domain registrar). Once logged in, look for a section called DNS, Manage DNS, or Domain Settings. From there, you can see, edit, or add records like A, CNAME, or TXT records."}),b.jsx("p",{children:"To access your DNS settings, follow these steps:"}),b.jsxs("ol",{children:[b.jsx("li",{children:"Log in to your domain registrar or hosting provider's website."}),b.jsx("li",{children:"Navigate to the domain management section. Find the domain you want to manage."}),b.jsx("li",{children:'Look for options like DNS, "DNS Management," "DNS Settings," or "Zone File Settings."'}),b.jsx("li",{children:"Edit the records to match the format we show on top of this page."})]}),b.jsx("p",{children:"Make sure you dont change or delete records youre not sure about, as they might be needed for email or other services. If you have trouble finding the DNS settings, the registrars help center usually has step-by-step instructions."})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"What is a domain registrar?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"A domain registrar is the company where you buy and manage your website name (like example.com). They are accredited by organizations like ICANN (Internet Corporation for Assigned Names and Numbers) to sell domain names and maintain the associated DNS records. They keep track of who owns the domain and provide tools to manage it, including DNS settings, renewal, and contact information."}),b.jsx("p",{children:"Your registrar is not where your website is hosted, they just control the domain. You use their dashboard to point your domain to the server where your website is stored and to manage records that tell the internet how to reach your site."}),b.jsx("p",{children:"Sometimes registrars also offer other services like hosting, email, or website creation, but these are usually more expensive than just the domain itself. Domains typically cost a small fee per year (for example 1020/year). If you pay more for domain services, part of that cost is often for hosting: storing your website data or running computations, which is usually much more expensive than the domain alone."})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"What types of DNS records do I need to update?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"To connect your domain to our service you need to change 2 records, which depend on whether you have an apex domain (like example.com) or a subdomain (like blog.example.com). If you have an apex domain, change the TXT Record for verification and the A Record to point your URL to list of servers. If you have a subdomain, change the TXT Record and the CNAME Record to point it to OffGap location. Dependeing on the domain you provided at the previous step we show all necessary configuration above."}),b.jsx("p",{children:"If you're migrating from an existing hosting service, make sure to remove any old A Records or CNAME Records that are no longer needed. Be careful not to delete records that are still in use, such as other TXT or MX Records, as well as any necessary records for your apex domain if you're using OffGap for your subdomain."})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"How do I change my A record?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"Log in to your domain registrar and go to the DNS management section. Find the A Record for your domain (it usually shows your domain name pointing to an IP address). Replace the current IP address with the one provided by your hosting service and save the changes. It may take some time for the changes to propagate."}),b.jsx("p",{children:"Be careful not to delete other records you might need, like MX Records for email. If you are moving from another hosting service, you may remove old A Records that are no longer used to avoid conflicts."})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"What is a CNAME record, and when should I use it?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"A CNAME Record (Canonical Name) tells the internet that a subdomain, like blog.example.com, should point to another domain name instead of a server IP. Its useful when you want a subdomain to follow another domains address or when your hosting provider gives you a special URL to connect to."}),b.jsx("p",{children:"Use a CNAME only for subdomains, not for your main domain. Make sure theres no conflicting A Record for the same subdomain, or the connection might not work."})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"How do I add a new DNS record?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"Log in to your domain registrar and go to the DNS management section. Look for an option like Add Record or Create Record. Choose the type of record you need (A, CNAME, TXT, etc.), enter the information provided by your hosting or service, and save it."}),b.jsx("p",{children:"Double-check youre adding the record to the correct domain or subdomain. Avoid duplicating existing records unless specifically instructed, as this can cause your website or email to stop working properly."}),b.jsx("p",{children:"To add a new DNS record:"}),b.jsxs("ol",{children:[b.jsx("li",{children:"Access your DNS settings as described above."}),b.jsx("li",{children:'Look for an option like "Add Record" or "Create New Record."'}),b.jsx("li",{children:"Select the type of record you want to add (A, CNAME, TXT, etc.)."}),b.jsx("li",{children:"Fill in the required fields, such as the name, value, and TTL."}),b.jsx("li",{children:"Save the new record. It may take some time for the changes to propagate."})]})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"What is TTL (Time To Live), and how does it affect my DNS records?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"TTL (Time To Live) is the amount of time the internet remembers your DNS record before checking for updates. A shorter TTL means changes you make will be noticed faster, while a longer TTL can make your website load slightly quicker because information is cached longer."}),b.jsx("p",{children:"If you plan to update your DNS, its often helpful to temporarily set a lower TTL so changes propagate faster. After everything works, you can return it to a longer value to improve performance."})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"How long does it take for DNS changes to take effect?"}),b.jsx("div",{className:"collapse-content text-sm",children:b.jsx("p",{children:"DNS changes can take anywhere from a few minutes to 2448 hours to fully propagate across the internet. During this time, some visitors might still see the old version of your site. This delay is normal and depends on your TTL settings and how frequently internet servers update their records."})})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"What should I do if my website is not loading after changing DNS records?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"First, double-check that all records (A, CNAME, TXT) match the values provided on the top of this page. Make sure you didnt delete or conflict with other necessary records. If everything looks correct, wait for DNS propagation (up to 2448 hours). You can also clear your browser cache or try accessing your site from a different network. If issues persist, contact your registrar or hosting provider for support."}),b.jsx("p",{children:"If your website is still not loading:"}),b.jsxs("ul",{children:[b.jsx("li",{children:"Check the correct spelling of your domain name."}),b.jsx("li",{children:"Check if the DNS changes have propagated using a DNS lookup tool."}),b.jsx("li",{children:"Clear your browser cache and DNS cache on your local machine."}),b.jsx("li",{children:"Try another device: your computer, phone, tablet, devices of your friends or relatives."}),b.jsx("li",{children:"Ensure that you're connected to internet and your router is working."}),b.jsx("li",{children:"Check your domain payment expiration date and emails from your domain provider."})]})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"How do I verify that my DNS changes have propagated?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsxs("p",{children:["You can use online tools like",b.jsx("a",{href:"https://dnschecker.org/",target:"_blank",rel:"noopener noreferrer",className:"link",children:"DNS checker"}),"or",b.jsx("a",{href:"https://www.whatsmydns.net/",target:"_blank",rel:"noopener noreferrer",className:"link",children:"Whatsmydns.net"}),"to see if your DNS changes have spread across the internet. Enter your domain and check the specific record (A, CNAME, TXT) to confirm it matches the new value."]}),b.jsx("p",{children:"If the updated record shows in multiple locations worldwide, your DNS change has propagated successfully."})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"What's the difference between a domain and a subdomain?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsxs("p",{children:["A domain is the main name of your website, like ",b.jsx("code",{children:"example.com"}),". A subdomain is an extension of your main domain that points to a different section or service (e.g. OffGap), like"," ",b.jsx("code",{children:"blog.example.com"})," or",b.jsx("code",{children:"shop.example.com"}),"."]}),b.jsx("p",{children:"Subdomains let you create new sections, apps, or services without disrupting your main site or buying a new domain. For example, Google runs its search engine on google.com while also running totally different services on subdomains like maps.google.com or drive.google.com. Apple does the same with apple.com and icloud.apple.com."}),b.jsx("p",{children:"Your main site and your subdomains can each:"}),b.jsxs("ul",{children:[b.jsx("li",{children:"Come from different servers,"}),b.jsx("li",{children:"Be managed by different teams,"}),b.jsx("li",{children:"Have their own ways of interacting with visitors, and"}),b.jsx("li",{children:"Even rank independently in search results."})]}),b.jsx("p",{children:"With OffGap, you can launch a blog, news portal, or product collection on a subdomain of your website without touching the main domain or the professional service already running there. Its a way to expand your online presence quickly while keeping your existing site safe and unchanged."})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"How do I set up a subdomain?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"To set up a subdomain, go to your domain registrars DNS settings. There you can add a record. Choose either:"}),b.jsxs("ul",{children:[b.jsxs("li",{children:[b.jsx("strong",{children:"CNAME record"})," if your hosting provider gives you a special link (e.g. OffGap gives you one), or"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"A record"})," if you are given a server address (IP number)."]})]}),b.jsxs("p",{children:["Type the name of the subdomain you want (like blog to make ",b.jsx("code",{children:"blog.example.com"}),") and paste in the value provided by your hosting service. Save your changes, and the new subdomain will be live once the internet updates (usually within 2448 hours)."]})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"Can my website break if I create new records for a subdomain?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"No, your main website will not break if you add a new record for a subdomain. Subdomains work independently, so creating something like blog.example.com will not affect what people see when they go to example.com."}),b.jsx("p",{children:"The only risk comes if you accidentally edit or delete existing records for your main domain or email. As long as you only add or change records for the subdomain itself, your main site will continue running normally. This is why subdomains are a safe way to expand your online presence with services like OffGap."})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"What is a TXT record, and when should I use it?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"A TXT Record is a simple line of text stored in your domains DNS settings. Different services use it to confirm information about your domain."}),b.jsx("p",{children:"At OffGap, we ask you to add a TXT Record with a special validation code. This step proves that you own the domain. It prevents someone else from pretending they control your website. Without this code, OffGap will not show content on your domain, which helps protect you against fraud or impersonation."}),b.jsx("p",{children:"Other common uses of TXT Records include verifying your domain for tools like Google or Microsoft and setting up email safety checks. Adding these records is safe and wont affect your website or email as long as you follow the instructions provided."})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"Will my email continue working if I add or change TXT records?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"Yes, your email will keep working as long as you dont remove or overwrite the TXT Records that handle email security (SPF, DKIM, DMARC). Adding new TXT Records, such as one for OffGap verification, will not break your email."}),b.jsx("p",{children:"Be careful if you edit an existing TXT Record. If it was already used for email, changing it incorrectly could affect delivery. If youre unsure, its best to add the new record separately rather than changing one thats already there."})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"How do I delete a DNS record?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"Log in to your domain registrar and go to the DNS settings. Find the record you want to remove and click the delete option (often shown as a trash icon or remove button). Save your changes. Only delete records youre certain are not needed anymore."}),b.jsx("p",{children:"Removing the wrong record could stop your website or email from working. If youre switching to a new hosting service, make sure the replacement records are already in place before deleting the old ones."})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"What happens if I make a mistake while updating DNS records?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"If you enter something incorrectly, your website or subdomain might not show up right away. The good news is that mistakes can always be fixed by correcting or restoring the record in your DNS settings. Nothing is permanent."}),b.jsx("p",{children:"With OffGap, we provide you with clear instructions for exactly which records to add or update. This keeps the process simple and helps you avoid touching records that belong to other services like email. Even if something goes wrong, your main website and email usually continue to work normally. Our goal is to make expanding your online presence safe and worry-free."}),b.jsx("p",{children:"To be extra safe, we recommend copying or taking a screenshot of your existing DNS records before making changes. In most cases, the setup is straightforward and doesnt require technical knowledge, but domain providers usually dont offer undo or backups. Having your own personal backup means you can quickly restore the previous configuration if necessary."})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"What is a nameserver, and how do I change it?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"A nameserver is like the address book for your domain, it tells the internet where to look for your DNS records. By default, your domain registrar provides nameservers, and thats where you manage your DNS records. Sometimes, your DNS might be managed somewhere else, such as Cloudflare, if youve set up DNS proxying. In that case, youd add or update your records in Cloudflare instead of at your registrar."}),b.jsx("p",{children:"For OffGap, you dont need to change your nameservers. You only add or update a few specific records in the place where your DNS is currently managed. This way, your main website and email continue working as they are, while OffGap handles your new subdomain or service."})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"How do I troubleshoot DNS issues?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"If your site or subdomain isnt loading after a DNS change:"}),b.jsxs("ul",{children:[b.jsx("li",{children:"Make sure you waited long enough. DNS changes can take up to 2448 hours to update everywhere."}),b.jsx("li",{children:"Check that you entered the records exactly as OffGap provided."}),b.jsx("li",{children:"Confirm you didnt accidentally change or delete other important records. Having a backup of your records (screenshot or copy) could help."}),b.jsxs("li",{children:["Use a free online tool like"," ",b.jsx("a",{href:"https://dnschecker.org/",target:"_blank",rel:"noopener noreferrer",className:"link",children:"DNS checker"}),"or",b.jsx("a",{href:"https://www.whatsmydns.net/",target:"_blank",rel:"noopener noreferrer",className:"link",children:"Whatsmydns.net"})," ","to see if your changes are spreading across the internet."]})]}),b.jsx("p",{children:"Most issues are temporary or caused by a small typo. With OffGap, instructions are kept simple so you only adjust whats necessary and avoid breaking other parts of your domain."})]})]}),b.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[b.jsx("summary",{className:"collapse-title font-semibold",children:"Where can I find support if I need help with DNS changes?"}),b.jsxs("div",{className:"collapse-content text-sm",children:[b.jsx("p",{children:"You have several options:"}),b.jsxs("ul",{children:[b.jsxs("li",{children:[b.jsx("strong",{children:"AI Assistant"}),": an AI service can guide you step by step with setup, changes, and troubleshooting."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Registrar Help Center"}),": Most domain providers have their own guides on managing DNS."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"OffGap Support"}),": We provide clear documentation for all common setups. On some plans, you also get access to dedicated support. Contact us if you need help."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Online Resources"}),": Free services like"," ",b.jsx("a",{href:"https://dnschecker.org/",target:"_blank",rel:"noopener noreferrer",className:"link",children:"DNS checker"}),"or",b.jsx("a",{href:"https://www.whatsmydns.net/",target:"_blank",rel:"noopener noreferrer",className:"link",children:"Whatsmydns.net"})," ","help you verify if your changes are working worldwide, other services (blogs, forums) could help you to find the right answer."]})]})]})]})]})]}),N0=({sub:t,type:e,copied:n,doCopy:r,values:i})=>{const s=({currentTarget:c})=>c.select(),l=({currentTarget:c})=>{if(c instanceof HTMLButtonElement){const d=c.parentElement?.querySelector("input");d instanceof HTMLInputElement&&(d.focus(),d.select(),navigator.clipboard?navigator.clipboard.writeText(d.value):document.execCommand("copy"),r(d.value))}};return b.jsxs(b.Fragment,{children:[b.jsxs("tr",{className:"thin",children:[b.jsx("td",{}),b.jsx("td",{children:"Name"}),b.jsx("td",{children:"Type"}),b.jsx("td",{children:"Value"}),b.jsx("td",{children:"TTL"})]}),i.map(c=>b.jsxs("tr",{className:"thin",children:[b.jsx("td",{}),b.jsx("td",{children:b.jsxs("label",{className:"input join-item gap-0","data-val":t[0]||"@",children:[b.jsx("input",{type:"text",className:"grow",defaultValue:t[0]||"@",readOnly:!0,size:t[0].length||1,onFocus:s}),b.jsxs("span",{className:"label",children:[".",t[1]]})]})}),b.jsx("td",{children:b.jsx("span",{className:"input",tabIndex:0,children:e})}),b.jsx("td",{children:b.jsxs("div",{className:"join w-full","data-val":c,children:[b.jsx("input",{className:"input join-item grow",type:"text",value:c,size:c.length,spellCheck:"false",readOnly:!0,onFocus:s}),b.jsx("button",{className:`btn btn-square join-item ${n===c?"btn-success":""}`,onClick:l,children:n===c?b.jsx(AP,{}):b.jsx(DP,{})})]})}),b.jsx("td",{children:b.jsx("span",{className:"input",tabIndex:0,children:"Auto"})})]},c))]})},v7=()=>{const t=Be(w=>w.sub),e=Be(w=>w.token),n=Be(w=>w.status),r=Be(w=>w.domain),i=jm(),s=A.useCallback(()=>i({},{action:"/app/domain/"}).catch(w=>console.error(w)),[i]),l=A.useMemo(()=>({...J3,TXT:`offgap.com=${e}`}),[e]),c=A.useRef(null),[d,f]=A.useState(""),p=w=>{f(w),c.current&&clearTimeout(c.current),c.current=setTimeout(()=>f(""),zn.UI_FLASH)},m=Be(w=>w.setStatus),v=()=>{m(et.NS_POLL),s()};return b.jsxs("div",{className:"hero-content my-6 flex-col gap-6 p-0",children:[b.jsxs("table",{className:"dns table w-full rounded-box bg-base-100 align-top shadow-md",children:[b.jsx("tbody",{children:b.jsx("tr",{children:b.jsx("td",{className:"bg-base-200 p-5 text-xs tracking-wide opacity-60",colSpan:5,children:"To link your website address to its content follow the instructions below:"})})}),e?b.jsxs("tbody",{children:[b.jsxs("tr",{children:[b.jsx("td",{children:b.jsx(h9,{className:"m-1 size-8"})}),b.jsxs("td",{colSpan:4,children:["If managing DNS records is new to you, please check our detailed instructions below. You can also get help from your domain registrar (company where you purchased your domain name), contact OffGap support or consult with an"," ",b.jsx("a",{href:"https://duck.ai",target:"_blank",rel:"noopener noreferrer",className:"link",children:"AI assistant"}),"."]})]}),b.jsxs("tr",{children:[b.jsx("td",{children:b.jsx(F9,{className:"m-1 size-8"})}),b.jsxs("td",{colSpan:4,children:[b.jsx("div",{className:"font-semibold text-xs uppercase opacity-60",children:"TXT Record"}),b.jsx("div",{className:"mt-2 text-xs",children:"Add this TXT record as shown below to verify that you own this domain and authorized to change its content."})]})]}),b.jsx(N0,{sub:t,type:"TXT",copied:d,doCopy:p,values:[l.TXT]}),t[0]===""?b.jsxs(b.Fragment,{children:[b.jsxs("tr",{children:[b.jsx("td",{children:b.jsx(nT,{className:"m-1 size-8"})}),b.jsxs("td",{colSpan:4,children:[b.jsx("div",{className:"font-semibold text-xs uppercase opacity-60",children:"A Records"}),b.jsx("div",{className:"mt-2 text-xs",children:"These records point your domain to your website's content location. Create four separate A records with the following addresses. Having multiple records helps improving reliability of your website. Remove other existing A and CNAME records that point to the same domain."})]})]}),b.jsx(N0,{sub:t,type:"A",copied:d,doCopy:p,values:Object.entries(l).reduce((w,[x,E])=>(x.at(0)==="A"&&w.push(E),w),[])})]}):b.jsxs(b.Fragment,{children:[b.jsxs("tr",{children:[b.jsx("td",{children:b.jsx(nT,{className:"m-1 size-8"})}),b.jsxs("td",{colSpan:4,children:[b.jsx("div",{className:"font-semibold text-xs uppercase opacity-60",children:"CNAME Record"}),b.jsx("div",{className:"mt-2 text-xs",children:"This record points your subdomain to your website's content location. Remove other existing A and CNAME records that point to the same subdomain."})]})]}),b.jsx(N0,{sub:t,type:"CNAME",copied:d,doCopy:p,values:[l.CNAME]})]}),b.jsxs("tr",{children:[b.jsx("td",{}),b.jsx("td",{colSpan:4,children:b.jsxs("div",{className:"flex flex-row justify-between gap-2",children:[b.jsx("button",{type:"button",className:"btn btn-neutral",disabled:n>et.NS_SET,onClick:v,children:"All values are set"}),n>et.NS_SET?b.jsxs("button",{type:"button",className:"btn",onClick:s,children:["Next",b.jsx(Rd,{})]}):null]})})]})]}):b.jsx("tr",{className:"list",children:b.jsxs("td",{className:"list-row",children:[b.jsx("div",{children:b.jsx(Q1,{className:"m-1 size-8"})}),b.jsxs("div",{children:[b.jsx("div",{children:"We've already set up your domain records. Check the progress on the next page."}),b.jsxs("div",{className:"example w-fit",children:["https://",r,"/"]})]}),b.jsxs("button",{type:"button",className:"btn",onClick:s,children:["Next",b.jsx(Rd,{})]})]})})]}),e?b.jsx(y7,{}):null]})},b7=()=>{const t=Be(e=>e.domain);return b.jsxs("div",{className:"card my-6 rounded-box bg-base-100 shadow-md",children:[b.jsx("div",{className:"mx-auto mt-10",children:b.jsx(Q1,{className:"size-32"})}),b.jsx("div",{className:"mx-auto mt-8 mb-6 font-bold text-3xl",children:"All set!"}),b.jsx("a",{href:`https://${t}/`,target:"_blank",className:"example link mx-auto w-fit font-semibold text-xl",children:`https://${t}/`}),b.jsxs("ul",{className:"menu lg:menu-horizontal mx-auto mt-6 mb-10 gap-2 rounded-box bg-base-200",children:[b.jsx("li",{children:b.jsxs(hp,{to:`https://${t}/`,target:"_blank",className:"btn btn-soft",children:[b.jsx(zP,{className:"size-5"}),"Visit your website"]})}),b.jsx("li",{children:b.jsxs(hp,{to:"/app/edit/",className:"btn btn-soft",children:[b.jsx(eb,{className:"size-5"}),"Start adding content"]})}),b.jsx("li",{children:b.jsxs(hp,{to:"/app/files/",className:"btn btn-soft",children:[b.jsx(Jk,{className:"size-5"}),"Upload images & files"]})})]})]})},M0=({list:t})=>Object.entries(t).map(([e,n])=>b.jsxs("li",{className:n?void 0:"opacity-50",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`me-2 inline-block size-4 ${n?"text-success":"text-base-content/50"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),b.jsx("span",{className:n?void 0:"line-through",children:e})]},e)),w7=()=>b.jsxs("div",{className:"card-body w-2/5 p-0",children:[b.jsx("h2",{className:"card-title",children:"Choosing Your Website Address"}),b.jsxs("p",{children:["Your domain name is your business's address on the internet. It's how customers find you. A professional domain name builds trust and helps your brand stand out. Your domain name should be easy to remember and type. The most popular choice is ",b.jsx("code",{children:".com"}),", which is widely recognized and trusted. However, many great ",b.jsx("code",{children:".com"})," ","names are already taken. Most domains are rented annually for a small fee. Some unique names may be sold at a higher price or through auctions."]}),b.jsx("p",{children:"Setting up your domain is the final step before we can publish your website. The process of connecting your domain to our platform can take up to 48 hours. By choosing your domain now, you can avoid delays and ensure your website is live and ready for customers as soon as your content is finalized. You have two options to get your website online:"}),b.jsxs("ul",{className:"flex list-disc flex-col gap-2 pl-5",children:[b.jsxs("li",{children:[b.jsx("strong",{children:"OffGap Subdomain:"})," Get started immediately with a free address like"," ",b.jsx("code",{children:"yourbusiness.offgap.com"}),". This is a quick solution for those who want to launch their site right away without any extra cost."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Your Own Domain:"})," If you already own a domain name, you can use it with your OffGap site. We will provide you with the necessary technical details (NS records) to point your domain to our platform."]})]}),b.jsx("p",{children:"For those using their own domain, you'll need to update your NS (Name Server) records with your domain registrar. Think of NS records as the GPS coordinates that tell the internet where to find your website. We will give you these specific coordinates, which you will input into your registrar's control panel. This simple step is crucial for connecting your domain to our servers so your site can be published."})]}),S7=({handleRadio:t,type:e,sub:n,own:r})=>b.jsxs("div",{className:"z-20 my-6 flex flex-row gap-6 p-0",children:[b.jsx("form",{name:"domain",className:"shine w-3/5",onChange:t,children:b.jsxs("ul",{className:"list rounded-box bg-base-100 shadow-md",children:[b.jsx("li",{className:"p-5 text-xs tracking-wide opacity-60",children:"What address will your website have?"}),b.jsxs("li",{className:"list-row",children:[b.jsx("div",{children:b.jsx("input",{type:"radio",name:"domainType",value:"subdomain",defaultChecked:e==="subdomain",className:"radio mt-3"})}),b.jsxs("div",{children:[b.jsx("h2",{className:"card-title",children:"OffGap Subdomain"}),b.jsx("div",{className:"font-semibold text-xs opacity-60",children:"yourname.offgap.com"}),b.jsx("ul",{className:"mt-4 flex flex-col gap-2 text-xs",children:b.jsx(M0,{list:{"No DNS configuration needed":!0,"No recurring domain name costs":!0,"Your favorite name is likely available":!0,"Ability to create custom email addresses":!1,"Full control over your domain":!1}})})]}),b.jsxs("div",{className:"flex-col justify-items-end",children:[b.jsx("div",{className:"badge badge-neutral mt-1 block",children:"Free"}),b.jsx("div",{className:"badge badge-soft mt-1 block",children:"No credit card required"})]}),b.jsx("div",{className:"-mt-4 popup absolute left-full z-10 ml-6 w-96",children:b.jsx("div",{className:"shine",children:b.jsxs("div",{className:"card rounded-box bg-base-100 p-4 shadow-md",children:[b.jsx("div",{className:"arrow-left -ml-4"}),b.jsx("h2",{className:"card-title",children:"Register OffGap Subdomain"}),n]})})})]}),b.jsxs("li",{className:"list-row",children:[b.jsx("div",{children:b.jsx("input",{type:"radio",name:"domainType",value:"domain",defaultChecked:e==="domain",className:"radio mt-3"})}),b.jsxs("div",{children:[b.jsx("h2",{className:"card-title",children:"Bring your own domain"}),b.jsxs("div",{className:"font-semibold text-xs opacity-60",children:["yourname.com ",b.jsx("span",{className:"font-extralight",children:"or"})," blog.yourname.com"]}),b.jsx("ul",{className:"mt-4 flex flex-col gap-2 text-xs",children:b.jsx(M0,{list:{"Full control over your domain":!0,"Reflects your brand and professionalism":!0,"Ability to create custom email addresses":!0,"Your custom domain is a long-term asset":!0,"No DNS configuration needed":!1,"No recurring domain name costs":!1}})})]}),b.jsxs("div",{className:"flex-col justify-items-end",children:[b.jsx("div",{className:"badge badge-neutral mt-1 block",children:"Free"}),b.jsx("div",{className:"badge badge-soft mt-1 block",children:"No credit card required"})]}),b.jsx("div",{className:"-mt-4 popup absolute left-full z-10 ml-6 w-96",children:b.jsx("div",{className:"shine",children:b.jsxs("div",{className:"card rounded-box bg-base-100 p-4 shadow-md",children:[b.jsx("div",{className:"arrow-left -ml-4"}),b.jsx("h2",{className:"card-title",children:"Connect OffGap with Your Own Domain"}),r]})})})]}),b.jsxs("li",{className:"disabled list-row",children:[b.jsx("div",{children:b.jsx("input",{type:"radio",name:"domainType",value:"buydomain",className:"radio mt-3",disabled:!0})}),b.jsxs("div",{children:[b.jsx("h2",{className:"card-title",children:"Buy a new domain"}),b.jsxs("div",{className:"font-semibold text-xs opacity-60",children:["yourname.com ",b.jsx("span",{className:"font-extralight",children:"or"})," blog.yourname.com"]}),b.jsx("ul",{className:"mt-4 flex flex-col gap-2 text-xs",children:b.jsx(M0,{list:{"Full control over your domain":!0,"Reflects your brand and professionalism":!0,"Ability to create custom email addresses":!0,"Your custom domain is a long-term asset":!0,"No DNS configuration needed":!0,"No recurring domain name costs":!1}})})]}),b.jsx("div",{className:"flex-col justify-items-end",children:b.jsxs("div",{className:"badge badge-neutral mt-2",children:[b.jsx(LP,{className:"size-[1em]"})," Coming soon"]})})]})]})}),b.jsx(w7,{})]}),x7=async t=>{const{setDomain:e,setPid:n,setToken:r,setStatus:i}=Be.getState(),s=$m();if(s)try{const l=await s.getIdToken(),c=await fetch(`${Pm}/domain/${t}`,{method:"POST",headers:new Headers({Authorization:`Bearer ${l}`})});if(!c.ok)throw new Error("Can't save user's domain name");if(c.status===M1.CREATED){const{domain:d,pid:f,token:p}=await c.json();if(typeof d=="string"&&d.length&&typeof f=="string"&&f.length===er.LENGTH)return e(d),n(f),p?.length&&r(p),i(p?et.NS_SET:et.DOMAIN_POLL),!0;throw new Error("Domain update didn't return domain and/or pid")}}catch(l){console.error(l)}return!1},E7=async t=>{const e=$m();if(e&&typeof t=="string")try{const n=await e.getIdToken();return(await fetch(`${Pm}/domain/${t}`,{method:"GET",headers:new Headers({Authorization:`Bearer ${n}`})})).status===M1.ACCEPTED}catch(n){console.error(n)}return!1};function Fm(t,e=zn.DEBOUNCE,n){const r=A.useRef(null),i=A.useRef(!0),s=A.useCallback(()=>{r.current&&(clearTimeout(r.current),r.current=null),i.current=!0},[]),l=A.useCallback(()=>{r.current&&(clearTimeout(r.current),r.current=null,t(),i.current=!0)},[t]),c=A.useCallback((...d)=>{i.current&&n&&(n(),i.current=!1),r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{t(...d),r.current=null,i.current=!0},e)},[t,e,n]);return c.cancel=s,c.flush=l,c}function T7(){const t=Be(L=>L.domain),e=jm(),n=A.useCallback(()=>e({},{action:"/app/domain/"}).catch(L=>console.error(L)),[e]),[r,i]=A.useState(t?t.endsWith(mr.TLD)?"subdomain":"domain":""),s=L=>{if(L.target instanceof HTMLInputElement&&L.target.getAttribute("type")==="radio"){i(L.target.value);const _=L.target.parentElement;if(_ instanceof HTMLDivElement&&_.parentElement instanceof HTMLLIElement){const M=_.parentElement.querySelector('input[type="text"]');if(M instanceof HTMLInputElement){const D=L.target.form;D instanceof HTMLFormElement&&D.querySelectorAll('input[type="text"]').forEach(R=>{R.removeAttribute("required")}),M.setAttribute("required",""),setTimeout(()=>M.focus(),zn.FOCUS)}}}},[l,c]=A.useState(t?.endsWith(mr.TLD)?t.slice(0,-mr.TLD.length):""),[d,f]=A.useState(!1),[p,m]=A.useState(t===`${l}${mr.TLD}`||null),[v,w]=A.useState(t&&!t.endsWith(mr.TLD)?t:""),[x,E]=A.useState(!1),[C,O]=A.useState(t===v||null),I=A.useCallback(L=>{const _=r==="subdomain";(_?xo.SUB.test(L):xo.DOM.test(L))&&E7(_?`${L}${mr.TLD}`:L).then(M=>_?m(M):O(M)).catch(M=>console.error(M))},[r]),j=Fm(I,zn.DEBOUNCE,()=>r==="subdomain"?m(null):O(null)),U=L=>{const _=L.target.value.toLowerCase(),M=r==="subdomain"?c:w,D=r==="subdomain"?f:E,R=r==="subdomain"?m:O,V=r==="subdomain"?xo.SUB:xo.DOM;M(_),V.test(_)?(D(!0),j(_)):(j.cancel(),D(!1),R(null))},P=L=>{if(L.preventDefault(),L.currentTarget instanceof HTMLButtonElement){const _=L.currentTarget.parentElement?.parentElement;_ instanceof HTMLFieldSetElement&&_.setAttribute("disabled","");const M=r==="subdomain";(M?xo.SUB.test(l)&&p:xo.DOM.test(v)&&C)&&x7(M?`${l}${mr.TLD}`:v).then(D=>{D?e({a:!0}).catch(R=>console.error(R)):M?m(!1):O(!1)}).catch(D=>console.error(D)).finally(()=>{_?.removeAttribute("disabled")})}};return b.jsx(S7,{handleRadio:s,type:r,sub:b.jsxs("fieldset",{className:"fieldset will-spin flex flex-col",children:[b.jsx("legend",{className:"fieldset-legend",children:"Select a memorable name for your website:"}),b.jsxs("label",{className:"input validator w-full",children:[b.jsx("input",{type:"text",name:"subdomain",className:"grow",placeholder:"yourname",autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",required:!0,pattern:xo.SUB_PAT,value:l,onChange:U}),mr.TLD]}),"Name must contain at least 5 characters, using lowercase letters, digits, and dashes. It cannot start with a dash.",b.jsx("legend",{className:"fieldset-legend",children:"Your new website will be published at:"}),b.jsx("strong",{className:"input example w-full",children:p?`https://${l}${mr.TLD}/`:p===!1?b.jsx("span",{className:"w-full text-center font-medium text-error text-xs",children:"This subdomain is not avaiable"}):d?b.jsx("span",{className:"progress"}):l.length?b.jsx("span",{className:"w-full text-center font-medium text-error text-xs",children:"This subdomain is not correct"}):""}),"You can change your website address later, but changes are limited to once every 24 hours.",b.jsxs("div",{className:t===`${l}${mr.TLD}`?"mt-4 flex flex-row gap-2":"mt-4",children:[b.jsx("button",{type:"submit",className:"btn btn-neutral grow",disabled:!p||t===`${l}${mr.TLD}`,onClick:P,children:t===`${l}${mr.TLD}`?"It's Already Yours!":"Register"}),t===`${l}${mr.TLD}`?b.jsxs("button",{type:"button",className:"btn",onClick:n,children:["Next",b.jsx(Rd,{})]}):null]})]}),own:b.jsxs("fieldset",{className:"fieldset flex flex-col",children:[b.jsx("legend",{className:"fieldset-legend",children:"Enter the domain name you want to connect:"}),b.jsxs("label",{className:"input validator w-full",children:["https://",b.jsx("input",{type:"text",name:"domain",className:"grow",placeholder:"yourname.com",autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",required:!0,pattern:xo.DOM_PAT,value:v,onChange:U})]}),b.jsx("legend",{className:"fieldset-legend",children:"Your new website will be published at:"}),b.jsx("strong",{className:"input example w-full",children:C?`https://${v}/`:p===!1?b.jsx("span",{className:"w-full text-center font-medium text-error text-xs",children:"This domain is not avaiable"}):x?b.jsx("span",{className:"progress"}):v.length?b.jsx("span",{className:"w-full text-center font-medium text-error text-xs",children:"This domain is not correct"}):""}),"You can change your website address later, but changes are limited to once every 24 hours.",b.jsxs("div",{className:t===v?"mt-4 flex flex-row gap-2":"mt-4",children:[b.jsx("button",{className:"btn btn-neutral grow",disabled:!C||t===v,onClick:P,children:t===v?"It's Already Yours!":"Register"}),t===v?b.jsxs("button",{type:"button",className:"btn",onClick:n,children:["Next",b.jsx(Rd,{})]}):null]})]})})}function C7(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rT(Object(n),!0).forEach(function(r){C7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function k7(t,e){if(t==null)return{};var n=A7(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function N7(t,e){return M7(t)||O7(t,e)||_7(t,e)||R7()}function M7(t){if(Array.isArray(t))return t}function O7(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var l=t[Symbol.iterator](),c;!(r=(c=l.next()).done)&&(n.push(c.value),!(e&&n.length===e));r=!0);}catch(d){i=!0,s=d}finally{try{!r&&l.return!=null&&l.return()}finally{if(i)throw s}}return n}}function _7(t,e){if(t){if(typeof t=="string")return sT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sT(t,e)}}function sT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function R7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D7(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oT(Object(n),!0).forEach(function(r){D7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I7(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return e.reduceRight(function(i,s){return s(i)},r)}}function nd(t){return function e(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length>=t.length?t.apply(this,i):function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];return e.apply(n,[].concat(i,c))}}}function Up(t){return{}.toString.call(t).includes("Object")}function L7(t){return!Object.keys(t).length}function Dd(t){return typeof t=="function"}function j7(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function P7(t,e){return Up(e)||Wo("changeType"),Object.keys(e).some(function(n){return!j7(t,n)})&&Wo("changeField"),e}function z7(t){Dd(t)||Wo("selectorType")}function U7(t){Dd(t)||Up(t)||Wo("handlerType"),Up(t)&&Object.values(t).some(function(e){return!Dd(e)})&&Wo("handlersType")}function B7(t){t||Wo("initialIsRequired"),Up(t)||Wo("initialType"),L7(t)&&Wo("initialContent")}function H7(t,e){throw new Error(t[e]||t.default)}var V7={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Wo=nd(H7)(V7),Hh={changes:P7,selector:z7,handler:U7,initial:B7};function $7(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Hh.initial(t),Hh.handler(e);var n={current:t},r=nd(W7)(n,e),i=nd(q7)(n),s=nd(Hh.changes)(t),l=nd(F7)(n);function c(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(p){return p};return Hh.selector(f),f(n.current)}function d(f){I7(r,i,s,l)(f)}return[c,d]}function F7(t,e){return Dd(e)?e(t.current):e}function q7(t,e){return t.current=aT(aT({},t.current),e),e}function W7(t,e,n){return Dd(e)?e(t.current):Object.keys(n).forEach(function(r){var i;return(i=e[r])===null||i===void 0?void 0:i.call(e,t.current[r])}),n}var G7={create:$7},K7={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function Y7(t){return function e(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length>=t.length?t.apply(this,i):function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];return e.apply(n,[].concat(i,c))}}}function X7(t){return{}.toString.call(t).includes("Object")}function J7(t){return t||lT("configIsRequired"),X7(t)||lT("configType"),t.urls?(Q7(),{paths:{vs:t.urls.monacoBase}}):t}function Q7(){console.warn(nN.deprecation)}function Z7(t,e){throw new Error(t[e]||t.default)}var nN={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},lT=Y7(Z7)(nN),e8={config:J7},t8=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduceRight(function(s,l){return l(s)},i)}};function rN(t,e){return Object.keys(e).forEach(function(n){e[n]instanceof Object&&t[n]&&Object.assign(e[n],rN(t[n],e[n]))}),iT(iT({},t),e)}var n8={type:"cancelation",msg:"operation is manually canceled"};function O0(t){var e=!1,n=new Promise(function(r,i){t.then(function(s){return e?i(n8):r(s)}),t.catch(i)});return n.cancel=function(){return e=!0},n}var r8=G7.create({config:K7,isInitialized:!1,resolve:null,reject:null,monaco:null}),iN=N7(r8,2),af=iN[0],qm=iN[1];function i8(t){var e=e8.config(t),n=e.monaco,r=k7(e,["monaco"]);qm(function(i){return{config:rN(i.config,r),monaco:n}})}function s8(){var t=af(function(e){var n=e.monaco,r=e.isInitialized,i=e.resolve;return{monaco:n,isInitialized:r,resolve:i}});if(!t.isInitialized){if(qm({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),O0(_0);if(window.monaco&&window.monaco.editor)return sN(window.monaco),t.resolve(window.monaco),O0(_0);t8(o8,l8)(c8)}return O0(_0)}function o8(t){return document.body.appendChild(t)}function a8(t){var e=document.createElement("script");return t&&(e.src=t),e}function l8(t){var e=af(function(r){var i=r.config,s=r.reject;return{config:i,reject:s}}),n=a8("".concat(e.config.paths.vs,"/loader.js"));return n.onload=function(){return t()},n.onerror=e.reject,n}function c8(){var t=af(function(n){var r=n.config,i=n.resolve,s=n.reject;return{config:r,resolve:i,reject:s}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(n){sN(n),t.resolve(n)},function(n){t.reject(n)})}function sN(t){af().monaco||qm({monaco:t})}function u8(){return af(function(t){var e=t.monaco;return e})}var _0=new Promise(function(t,e){return qm({resolve:t,reject:e})}),oN={config:i8,init:s8,__getMonacoInstance:u8},d8={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},R0=d8,f8={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},h8=f8;function p8({children:t}){return _t.createElement("div",{style:h8.container},t)}var m8=p8,g8=m8;function y8({width:t,height:e,isEditorReady:n,loading:r,_ref:i,className:s,wrapperProps:l}){return _t.createElement("section",{style:{...R0.wrapper,width:t,height:e},...l},!n&&_t.createElement(g8,null,r),_t.createElement("div",{ref:i,style:{...R0.fullWidth,...!n&&R0.hide},className:s}))}var v8=y8,aN=A.memo(v8);function b8(t){A.useEffect(t,[])}var lN=b8;function w8(t,e,n=!0){let r=A.useRef(!0);A.useEffect(r.current||!n?()=>{r.current=!1}:t,e)}var yr=w8;function fd(){}function bc(t,e,n,r){return S8(t,r)||x8(t,e,n,r)}function S8(t,e){return t.editor.getModel(cN(t,e))}function x8(t,e,n,r){return t.editor.createModel(e,n,r?cN(t,r):void 0)}function cN(t,e){return t.Uri.parse(e)}function E8({original:t,modified:e,language:n,originalLanguage:r,modifiedLanguage:i,originalModelPath:s,modifiedModelPath:l,keepCurrentOriginalModel:c=!1,keepCurrentModifiedModel:d=!1,theme:f="light",loading:p="Loading...",options:m={},height:v="100%",width:w="100%",className:x,wrapperProps:E={},beforeMount:C=fd,onMount:O=fd}){let[I,j]=A.useState(!1),[U,P]=A.useState(!0),L=A.useRef(null),_=A.useRef(null),M=A.useRef(null),D=A.useRef(O),R=A.useRef(C),V=A.useRef(!1);lN(()=>{let ge=oN.init();return ge.then(G=>(_.current=G)&&P(!1)).catch(G=>G?.type!=="cancelation"&&console.error("Monaco initialization: error:",G)),()=>L.current?ye():ge.cancel()}),yr(()=>{if(L.current&&_.current){let ge=L.current.getOriginalEditor(),G=bc(_.current,t||"",r||n||"text",s||"");G!==ge.getModel()&&ge.setModel(G)}},[s],I),yr(()=>{if(L.current&&_.current){let ge=L.current.getModifiedEditor(),G=bc(_.current,e||"",i||n||"text",l||"");G!==ge.getModel()&&ge.setModel(G)}},[l],I),yr(()=>{let ge=L.current.getModifiedEditor();ge.getOption(_.current.editor.EditorOption.readOnly)?ge.setValue(e||""):e!==ge.getValue()&&(ge.executeEdits("",[{range:ge.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),ge.pushUndoStop())},[e],I),yr(()=>{L.current?.getModel()?.original.setValue(t||"")},[t],I),yr(()=>{let{original:ge,modified:G}=L.current.getModel();_.current.editor.setModelLanguage(ge,r||n||"text"),_.current.editor.setModelLanguage(G,i||n||"text")},[n,r,i],I),yr(()=>{_.current?.editor.setTheme(f)},[f],I),yr(()=>{L.current?.updateOptions(m)},[m],I);let q=A.useCallback(()=>{if(!_.current)return;R.current(_.current);let ge=bc(_.current,t||"",r||n||"text",s||""),G=bc(_.current,e||"",i||n||"text",l||"");L.current?.setModel({original:ge,modified:G})},[n,e,i,t,r,s,l]),H=A.useCallback(()=>{!V.current&&M.current&&(L.current=_.current.editor.createDiffEditor(M.current,{automaticLayout:!0,...m}),q(),_.current?.editor.setTheme(f),j(!0),V.current=!0)},[m,f,q]);A.useEffect(()=>{I&&D.current(L.current,_.current)},[I]),A.useEffect(()=>{!U&&!I&&H()},[U,I,H]);function ye(){let ge=L.current?.getModel();c||ge?.original?.dispose(),d||ge?.modified?.dispose(),L.current?.dispose()}return _t.createElement(aN,{width:w,height:v,isEditorReady:I,loading:p,_ref:M,className:x,wrapperProps:E})}var T8=E8;A.memo(T8);function C8(t){let e=A.useRef();return A.useEffect(()=>{e.current=t},[t]),e.current}var A8=C8,Vh=new Map;function k8({defaultValue:t,defaultLanguage:e,defaultPath:n,value:r,language:i,path:s,theme:l="light",line:c,loading:d="Loading...",options:f={},overrideServices:p={},saveViewState:m=!0,keepCurrentModel:v=!1,width:w="100%",height:x="100%",className:E,wrapperProps:C={},beforeMount:O=fd,onMount:I=fd,onChange:j,onValidate:U=fd}){let[P,L]=A.useState(!1),[_,M]=A.useState(!0),D=A.useRef(null),R=A.useRef(null),V=A.useRef(null),q=A.useRef(I),H=A.useRef(O),ye=A.useRef(),ge=A.useRef(r),G=A8(s),oe=A.useRef(!1),ce=A.useRef(!1);lN(()=>{let ie=oN.init();return ie.then(he=>(D.current=he)&&M(!1)).catch(he=>he?.type!=="cancelation"&&console.error("Monaco initialization: error:",he)),()=>R.current?F():ie.cancel()}),yr(()=>{let ie=bc(D.current,t||r||"",e||i||"",s||n||"");ie!==R.current?.getModel()&&(m&&Vh.set(G,R.current?.saveViewState()),R.current?.setModel(ie),m&&R.current?.restoreViewState(Vh.get(s)))},[s],P),yr(()=>{R.current?.updateOptions(f)},[f],P),yr(()=>{!R.current||r===void 0||(R.current.getOption(D.current.editor.EditorOption.readOnly)?R.current.setValue(r):r!==R.current.getValue()&&(ce.current=!0,R.current.executeEdits("",[{range:R.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),R.current.pushUndoStop(),ce.current=!1))},[r],P),yr(()=>{let ie=R.current?.getModel();ie&&i&&D.current?.editor.setModelLanguage(ie,i)},[i],P),yr(()=>{c!==void 0&&R.current?.revealLine(c)},[c],P),yr(()=>{D.current?.editor.setTheme(l)},[l],P);let Te=A.useCallback(()=>{if(!(!V.current||!D.current)&&!oe.current){H.current(D.current);let ie=s||n,he=bc(D.current,r||t||"",e||i||"",ie||"");R.current=D.current?.editor.create(V.current,{model:he,automaticLayout:!0,...f},p),m&&R.current.restoreViewState(Vh.get(ie)),D.current.editor.setTheme(l),c!==void 0&&R.current.revealLine(c),L(!0),oe.current=!0}},[t,e,n,r,i,s,f,p,m,l,c]);A.useEffect(()=>{P&&q.current(R.current,D.current)},[P]),A.useEffect(()=>{!_&&!P&&Te()},[_,P,Te]),ge.current=r,A.useEffect(()=>{P&&j&&(ye.current?.dispose(),ye.current=R.current?.onDidChangeModelContent(ie=>{ce.current||j(R.current.getValue(),ie)}))},[P,j]),A.useEffect(()=>{if(P){let ie=D.current.editor.onDidChangeMarkers(he=>{let de=R.current.getModel()?.uri;if(de&&he.find(Se=>Se.path===de.path)){let Se=D.current.editor.getModelMarkers({resource:de});U?.(Se)}});return()=>{ie?.dispose()}}return()=>{}},[P,U]);function F(){ye.current?.dispose(),v?m&&Vh.set(s,R.current.saveViewState()):R.current.getModel()?.dispose(),R.current.dispose()}return _t.createElement(aN,{width:w,height:x,isEditorReady:P,loading:d,_ref:V,className:E,wrapperProps:C})}var N8=k8,jv=A.memo(N8),M8=jv;const uN=({codeRef:t,bytes:e,isSync:n,isDark:r,isWrap:i,showMap:s,setIsDark:l,setIsWrap:c,setShowMap:d,handleSync:f})=>{const p=()=>t?.current?.trigger("",Eo.FORMAT,""),m=()=>{const L=t?.current;if(!L)return;const _=L.getValue(),M=L.getModel();if(typeof _=="string"&&M){const D=_.replace(/[\r\n]+/g," ").replace(/\s{2,}/g," ").replace(/\s*([;{}:,])\s*/g,"$1");L.pushUndoStop(),L.executeEdits("shrink-action",[{range:M.getFullModelRange(),text:D,forceMoveMarkers:!0}]),L.pushUndoStop()}},v=()=>t?.current?.trigger("",Eo.UNDO,""),w=()=>t?.current?.trigger("",Eo.REDO,""),x=()=>t?.current?.trigger("",Eo.FIND,""),E=()=>t?.current?.trigger("",Eo.REPLACE,""),C=()=>t?.current?.trigger("",Eo.INDENT_R,""),O=()=>t?.current?.trigger("",Eo.INDENT_L,""),I=()=>t?.current?.trigger("",Eo.COMMENT,""),j=()=>c(L=>!L),U=()=>d(L=>!L),P=()=>l(L=>!L);return b.jsxs("div",{className:"control-group flex items-center justify-between bg-base-200",children:[b.jsxs("div",{className:"flex-grow",children:[b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:f,children:n?b.jsx(BP,{}):b.jsx(Z1,{className:"animate-spin"})}),e?b.jsx("button",{className:"btn btn-ghost btn-sm pointer-events-none",children:Lv(e)}):null]}),b.jsxs("div",{className:"flex overflow-hidden",children:[b.jsxs("div",{className:"button-group",children:[b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:v,children:b.jsx(nb,{})}),b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:w,children:b.jsx(eN,{})})]}),b.jsx("div",{className:"group-separator"}),b.jsxs("div",{className:"button-group",children:[b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:C,children:b.jsx(d9,{})}),b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:O,children:b.jsx(c9,{})}),b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:I,children:b.jsx(o9,{})})]}),b.jsx("div",{className:"group-separator"}),b.jsxs("div",{className:"button-group",children:[b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:x,children:b.jsx(tN,{})}),b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:E,children:b.jsx(P9,{})})]}),b.jsx("div",{className:"group-separator"}),b.jsxs("div",{className:"button-group",children:[b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:p,children:b.jsx(V9,{})}),b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:m,children:b.jsx(n9,{})})]})]}),b.jsx("div",{className:"flex flex-grow justify-end",children:b.jsxs("div",{className:"button-group",children:[b.jsx("button",{className:`btn btn-square btn-ghost btn-sm ${i?"btn-soft":""}`,onClick:j,children:b.jsx(m7,{})}),b.jsx("button",{className:`btn btn-square btn-ghost btn-sm ${s?"btn-soft":""}`,onClick:U,children:b.jsx(_9,{})}),b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:P,children:r?b.jsx(o7,{}):b.jsx(C9,{})})]})})]})},dN=({ref:t,dismissModal:e})=>{const n=()=>t?.current instanceof HTMLDialogElement?t.current.close():void 0;return b.jsxs("dialog",{ref:t,className:"modal",children:[b.jsx("button",{type:"button",className:"btn btn-sm btn-circle btn-ghost absolute top-2 right-2",onClick:n,children:""}),b.jsxs("div",{className:"modal-box",children:[b.jsx("h3",{className:"font-bold text-lg",children:"Saving your changes"}),b.jsx("div",{className:"text-center",children:b.jsx("span",{className:"loading loading-spinner loading-md my-6"})}),b.jsxs("div",{className:"mt-4 flex justify-evenly",children:[b.jsx("button",{type:"submit",className:"btn btn-neutral",children:"Wait to save changes"}),b.jsx("button",{type:"button",className:"btn btn-error btn-outline",onClick:e,children:"Dismiss changes and exit"})]})]}),b.jsx("form",{method:"dialog",className:"modal-backdrop",children:b.jsx("button",{children:"close"})})]})};function fN({isBlocked:t,ref:e,stop:n}){const[r,i]=A.useState(!1),s=A.useCallback(()=>e.current?.showModal(),[e.current]),l=A.useCallback(()=>e.current?.close(),[e.current]),c=UA(A.useCallback(({currentLocation:f,nextLocation:p})=>t?f.pathname!==p.pathname:!1,[t]));return A.useEffect(()=>{c.state==="blocked"&&(i(!0),s(),t||(l(),c.proceed(),i(!1)))},[c.state,t,c,s,l]),{modalVisible:r,dismissModal:()=>{n(),l(),c.state==="blocked"&&c.proceed(),i(!1)}}}const cT=()=>{const t=Be(_=>_.config),e=Be(_=>_.setConfigKey),n=A.useRef(null),[r,i]=A.useState(0),s=_=>(n.current=_,i(vc(_.getValue()))),l=qE("/app/style/"),c=qE("/app/script/"),[d,f]=A.useMemo(()=>l!==null?["css","css"]:["js","typescript"],[l]),[p,m]=A.useState(!0),[v,w]=A.useState(!0),[x,E]=A.useState(!1),[C,O]=A.useState(!1),I=A.useCallback(()=>{const _=n.current?.getValue();typeof _=="string"&&(e({key:d,value:_}),m(!0),i(vc(_)))},[d,e]),j=Fm(I,zn.DEBOUNCE,()=>m(!1)),U=A.useCallback(()=>j(),[j]),P=A.useRef(null),{dismissModal:L}=fN({isBlocked:!p,ref:P,stop:j.cancel});if(l===null&&c===null)throw new Error("URL path is wrong");return b.jsxs("div",{className:"shine",children:[b.jsxs("div",{className:"editor shadow",children:[b.jsx(uN,{codeRef:n,bytes:r,handleSync:I,isSync:p,isDark:v,setIsDark:w,isWrap:x,setIsWrap:E,showMap:C,setShowMap:O}),b.jsx(M8,{height:"80vh",theme:v?"vs-dark":"light",language:f,loading:b.jsx("span",{className:"loading loading-spinner loading-xl"}),value:t[d],onMount:s,onChange:U,options:{tabSize:2,minimap:{enabled:C},wordWrap:x?"on":"off",scrollBeyondLastLine:!1,wrappingIndent:"same"}})]}),b.jsx(dN,{ref:P,dismissModal:L})]})};function wn(t){this.content=t}wn.prototype={constructor:wn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new wn(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new wn(n)},addToStart:function(t,e){return new wn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new wn(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new wn(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=wn.from(t),t.size?new wn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=wn.from(t),t.size?new wn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=wn.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};wn.from=function(t){if(t instanceof wn)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new wn(e)};function hN(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let l=0;i.text[l]==s.text[l];l++)n++;return n}if(i.content.size||s.content.size){let l=hN(i.content,s.content,n+1);if(l!=null)return l}n+=i.nodeSize}}function pN(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let l=t.child(--i),c=e.child(--s),d=l.nodeSize;if(l==c){n-=d,r-=d;continue}if(!l.sameMarkup(c))return{a:n,b:r};if(l.isText&&l.text!=c.text){let f=0,p=Math.min(l.text.length,c.text.length);for(;f<p&&l.text[l.text.length-f-1]==c.text[c.text.length-f-1];)f++,n--,r--;return{a:n,b:r}}if(l.content.size||c.content.size){let f=pN(l.content,c.content,n-1,r-1);if(f)return f}n-=d,r-=d}}class fe{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let l=0,c=0;c<n;l++){let d=this.content[l],f=c+d.nodeSize;if(f>e&&r(d,i+c,s||null,l)!==!1&&d.content.size){let p=c+1;d.nodesBetween(Math.max(0,e-p),Math.min(d.content.size,n-p),r,i+p)}c=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",l=!0;return this.nodesBetween(e,n,(c,d)=>{let f=c.isText?c.text.slice(Math.max(e,d)-d,n-d):c.isLeaf?i?typeof i=="function"?i(c):i:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&f||c.isTextblock)&&r&&(l?l=!1:s+=r),s+=f},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new fe(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,l=0;l<n;s++){let c=this.content[s],d=l+c.nodeSize;d>e&&((l<e||d>n)&&(c.isText?c=c.cut(Math.max(0,e-l),Math.min(c.text.length,n-l)):c=c.cut(Math.max(0,e-l-1),Math.min(c.content.size,n-l-1))),r.push(c),i+=c.nodeSize),l=d}return new fe(r,i)}cutByIndex(e,n){return e==n?fe.empty:e==0&&n==this.content.length?this:new fe(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new fe(i,s)}addToStart(e){return new fe([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new fe(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return hN(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return pN(this,e,n,r)}findIndex(e){if(e==0)return $h(0,e);if(e==this.size)return $h(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),s=r+i.nodeSize;if(s>=e)return s==e?$h(n+1,s):$h(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return fe.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new fe(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return fe.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new fe(n||e,r)}static from(e){if(!e)return fe.empty;if(e instanceof fe)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new fe([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}fe.empty=new fe([],0);const D0={index:0,offset:0};function $h(t,e){return D0.index=t,D0.offset=e,D0}function Bp(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Bp(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Bp(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let kt=class Pv{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Bp(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Pv.none;if(e instanceof Pv)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};kt.none=[];class Hp extends Error{}class be{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=gN(this.content,e+this.openStart,n);return r&&new be(r,this.openStart,this.openEnd)}removeBetween(e,n){return new be(mN(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return be.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new be(fe.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new be(e,r,i)}}be.empty=new be(fe.empty,0,0);function mN(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:l,offset:c}=t.findIndex(n);if(i==e||s.isText){if(c!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(mN(s.content,e-i-1,n-i-1)))}function gN(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),l=t.maybeChild(i);if(s==e||l.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let c=gN(l.content,e-s-1,n,l);return c&&t.replaceChild(i,l.copy(c))}function O8(t,e,n){if(n.openStart>t.depth)throw new Hp("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Hp("Inconsistent open depths");return yN(t,e,n,0)}function yN(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let l=yN(t,e,n,r+1);return s.copy(s.content.replaceChild(i,l))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let l=t.parent,c=l.content;return tl(l,c.cut(0,t.parentOffset).append(n.content).append(c.cut(e.parentOffset)))}else{let{start:l,end:c}=_8(n,t);return tl(s,bN(t,l,c,e,r))}else return tl(s,Vp(t,e,r))}function vN(t,e){if(!e.type.compatibleContent(t.type))throw new Hp("Cannot join "+e.type.name+" onto "+t.type.name)}function zv(t,e,n){let r=t.node(n);return vN(r,e.node(n)),r}function el(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function hd(t,e,n,r){let i=(e||t).node(n),s=0,l=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(el(t.nodeAfter,r),s++));for(let c=s;c<l;c++)el(i.child(c),r);e&&e.depth==n&&e.textOffset&&el(e.nodeBefore,r)}function tl(t,e){return t.type.checkContent(e),t.copy(e)}function bN(t,e,n,r,i){let s=t.depth>i&&zv(t,e,i+1),l=r.depth>i&&zv(n,r,i+1),c=[];return hd(null,t,i,c),s&&l&&e.index(i)==n.index(i)?(vN(s,l),el(tl(s,bN(t,e,n,r,i+1)),c)):(s&&el(tl(s,Vp(t,e,i+1)),c),hd(e,n,i,c),l&&el(tl(l,Vp(n,r,i+1)),c)),hd(r,null,i,c),new fe(c)}function Vp(t,e,n){let r=[];if(hd(null,t,n,r),t.depth>n){let i=zv(t,e,n+1);el(tl(i,Vp(t,e,n+1)),r)}return hd(e,null,n,r),new fe(r)}function _8(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(fe.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Id{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return kt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let c=r;r=i,i=c}let s=r.marks;for(var l=0;l<s.length;l++)s[l].type.spec.inclusive===!1&&(!i||!s[l].isInSet(i.marks))&&(s=s[l--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new $p(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let l=e;;){let{index:c,offset:d}=l.content.findIndex(s),f=s-d;if(r.push(l,c,i+d),!f||(l=l.child(c),l.isText))break;s=f-1,i+=d+1}return new Id(n,r,s)}static resolveCached(e,n){let r=uT.get(e);if(r)for(let s=0;s<r.elts.length;s++){let l=r.elts[s];if(l.pos==n)return l}else uT.set(e,r=new R8);let i=r.elts[r.i]=Id.resolve(e,n);return r.i=(r.i+1)%D8,i}}class R8{constructor(){this.elts=[],this.i=0}}const D8=12,uT=new WeakMap;class $p{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const I8=Object.create(null);let Go=class Uv{constructor(e,n,r,i=kt.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||fe.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Bp(this.attrs,n||e.defaultAttrs||I8)&&kt.sameSet(this.marks,r||kt.none)}copy(e=null){return e==this.content?this:new Uv(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Uv(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return be.empty;let i=this.resolve(e),s=this.resolve(n),l=r?0:i.sharedDepth(n),c=i.start(l),f=i.node(l).content.cut(i.pos-c,s.pos-c);return new be(f,i.depth-l,s.depth-l)}replace(e,n,r){return O8(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Id.resolveCached(this,e)}resolveNoCache(e){return Id.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),wN(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=fe.empty,i=0,s=r.childCount){let l=this.contentMatchAt(e).matchFragment(r,i,s),c=l&&l.matchFragment(this.content,n);if(!c||!c.validEnd)return!1;for(let d=i;d<s;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),l=s&&s.matchFragment(this.content,n);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=kt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!kt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=fe.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};Go.prototype.text=void 0;class Fp extends Go{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wN(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Fp(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Fp(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function wN(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class ul{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new L8(e,n);if(r.next==null)return ul.empty;let i=SN(r);r.next&&r.err("Unexpected trailing text");let s=V8(H8(i));return $8(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(l,c){let d=l.matchFragment(e,r);if(d&&(!n||d.validEnd))return fe.from(c.map(f=>f.createAndFill()));for(let f=0;f<l.next.length;f++){let{type:p,next:m}=l.next[f];if(!(p.isText||p.hasRequiredAttrs())&&i.indexOf(m)==-1){i.push(m);let v=s(m,c.concat(p));if(v)return v}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let l=[];for(let c=i;c.type;c=c.via)l.push(c.type);return l.reverse()}for(let l=0;l<s.next.length;l++){let{type:c,next:d}=s.next[l];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in n)&&(!i.type||d.validEnd)&&(r.push({match:c.contentMatch,type:c,via:i}),n[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let l=0;l<r.next.length;l++)s+=(l?", ":"")+r.next[l].type.name+"->"+e.indexOf(r.next[l].next);return s}).join(`
`)}}ul.empty=new ul(!0);class L8{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function SN(t){let e=[];do e.push(j8(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function j8(t){let e=[];do e.push(P8(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function P8(t){let e=B8(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=z8(t,e);else break;return e}function dT(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function z8(t,e){let n=dT(t),r=n;return t.eat(",")&&(t.next!="}"?r=dT(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function U8(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let l=n[s];l.isInGroup(e)&&i.push(l)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function B8(t){if(t.eat("(")){let e=SN(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=U8(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function H8(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(l,c,d){let f={term:d,to:c};return e[l].push(f),f}function i(l,c){l.forEach(d=>d.to=c)}function s(l,c){if(l.type=="choice")return l.exprs.reduce((d,f)=>d.concat(s(f,c)),[]);if(l.type=="seq")for(let d=0;;d++){let f=s(l.exprs[d],c);if(d==l.exprs.length-1)return f;i(f,c=n())}else if(l.type=="star"){let d=n();return r(c,d),i(s(l.expr,d),d),[r(d)]}else if(l.type=="plus"){let d=n();return i(s(l.expr,c),d),i(s(l.expr,d),d),[r(d)]}else{if(l.type=="opt")return[r(c)].concat(s(l.expr,c));if(l.type=="range"){let d=c;for(let f=0;f<l.min;f++){let p=n();i(s(l.expr,d),p),d=p}if(l.max==-1)i(s(l.expr,d),d);else for(let f=l.min;f<l.max;f++){let p=n();r(d,p),i(s(l.expr,d),p),d=p}return[r(d)]}else{if(l.type=="name")return[r(c,void 0,l.value)];throw new Error("Unknown expr type")}}}}function xN(t,e){return e-t}function fT(t,e){let n=[];return r(e),n.sort(xN);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let l=0;l<s.length;l++){let{term:c,to:d}=s[l];!c&&n.indexOf(d)==-1&&r(d)}}}function V8(t){let e=Object.create(null);return n(fT(t,0));function n(r){let i=[];r.forEach(l=>{t[l].forEach(({term:c,to:d})=>{if(!c)return;let f;for(let p=0;p<i.length;p++)i[p][0]==c&&(f=i[p][1]);fT(t,d).forEach(p=>{f||i.push([c,f=[]]),f.indexOf(p)==-1&&f.push(p)})})});let s=e[r.join(",")]=new ul(r.indexOf(t.length-1)>-1);for(let l=0;l<i.length;l++){let c=i[l][1].sort(xN);s.next.push({type:i[l][0],next:e[c.join(",")]||n(c)})}return s}}function $8(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,l=[];for(let c=0;c<i.next.length;c++){let{type:d,next:f}=i.next[c];l.push(d.name),s&&!(d.isText||d.hasRequiredAttrs())&&(s=!1),r.indexOf(f)==-1&&r.push(f)}s&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function EN(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function TN(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function CN(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function AN(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new q8(t,r,e[r]);return n}let hT=class kN{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=AN(e,r.attrs),this.defaultAttrs=EN(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ul.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:TN(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Go(this,this.computeAttrs(e),fe.from(n),kt.setFrom(r))}createChecked(e=null,n,r){return n=fe.from(n),this.checkContent(n),new Go(this,this.computeAttrs(e),n,kt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=fe.from(n),n.size){let l=this.contentMatch.fillBefore(n);if(!l)return null;n=l.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(fe.empty,!0);return s?new Go(this,e,n.append(s),kt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){CN(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:kt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,l)=>r[s]=new kN(s,n,l));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function F8(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class q8{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?F8(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Wm{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=AN(e,i.attrs),this.excluded=null;let s=EN(this.attrs);this.instance=s?new kt(this,s):null}create(e=null){return!e&&this.instance?this.instance:new kt(this,TN(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,l)=>r[s]=new Wm(s,i++,n,l)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){CN(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class NN{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=wn.from(e.nodes),n.marks=wn.from(e.marks||{}),this.nodes=hT.compile(this.spec.nodes,this),this.marks=Wm.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],l=s.spec.content||"",c=s.spec.marks;if(s.contentMatch=r[l]||(r[l]=ul.parse(l,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=c=="_"?null:c?pT(this,c.split(" ")):c==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],l=s.spec.excludes;s.excluded=l==null?[s]:l==""?[]:pT(this,l.split(" "))}this.nodeFromJSON=i=>Go.fromJSON(this,i),this.markFromJSON=i=>kt.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof hT){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Fp(r,r.defaultAttrs,e,kt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function pT(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],l=s;if(s)n.push(s);else for(let c in t.marks){let d=t.marks[c];(i=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(i)>-1)&&n.push(l=d)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function W8(t){return t.tag!=null}function G8(t){return t.style!=null}class Ko{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(W8(i))this.tags.push(i);else if(G8(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new gT(this,n,!1);return r.addAll(e,kt.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new gT(this,n,!0);return r.addAll(e,kt.none,n.from,n.to),be.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(X8(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let l=s.getAttrs(e);if(l===!1)continue;s.attrs=l||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let l=this.styles[s],c=l.style;if(!(c.indexOf(e)!=0||l.context&&!r.matchesContext(l.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=n))){if(l.getAttrs){let d=l.getAttrs(n);if(d===!1)continue;l.attrs=d||void 0}return l}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,l=0;for(;l<n.length;l++){let c=n[l];if((c.priority==null?50:c.priority)<s)break}n.splice(l,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(l=>{r(l=yT(l)),l.mark||l.ignore||l.clearMark||(l.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(l=>{r(l=yT(l)),l.node||l.ignore||l.mark||(l.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Ko(e,Ko.schemaRules(e)))}}const MN={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},K8={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},ON={ol:!0,ul:!0},Ld=1,Bv=2,pd=4;function mT(t,e,n){return e!=null?(e?Ld:0)|(e==="full"?Bv:0):t&&t.whitespace=="pre"?Ld|Bv:n&~pd}class Fh{constructor(e,n,r,i,s,l){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=l,this.content=[],this.activeMarks=kt.none,this.match=s||(l&pd?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(fe.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Ld)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=fe.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(fe.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!MN.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class gT{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,l=mT(null,n.preserveWhitespace,0)|(r?pd:0);i?s=new Fh(i.type,i.attrs,kt.none,!0,n.topMatch||i.type.contentMatch,l):r?s=new Fh(null,null,kt.none,!0,null,l):s=new Fh(e.schema.topNodeType,null,kt.none,!0,null,l),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&Bv?"full":this.localPreserveWS||(i.options&Ld)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let l=i.content[i.content.length-1],c=e.previousSibling;(!l||c&&c.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let l=e.nodeName.toLowerCase(),c;ON.hasOwnProperty(l)&&this.parser.normalizeLists&&Y8(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(c=this.parser.matchTag(e,this,r));e:if(d?d.ignore:K8.hasOwnProperty(l))this.findInside(e),this.ignoreFallback(e,n);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let f,p=this.needsBlock;if(MN.hasOwnProperty(l))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),f=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let m=d&&d.skip?n:this.readStyles(e,n);m&&this.addAll(e,m),f&&this.sync(s),this.needsBlock=p}else{let f=this.readStyles(e,n);f&&this.addElementByRule(e,d,f,d.consuming===!1?c:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],l=r.getPropertyValue(s);if(l)for(let c=void 0;;){let d=this.parser.matchStyle(s,l,this,c);if(!d)break;if(d.ignore)return null;if(d.clearMark?n=n.filter(f=>!d.clearMark(f)):n=n.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)c=d;else break}}return n}addElementByRule(e,n,r,i){let s,l;if(n.node)if(l=this.parser.schema.nodes[n.node],l.isLeaf)this.insertNode(l.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let d=this.enter(l,n.attrs||null,r,n.preserveWhitespace);d&&(s=!0,r=d)}else{let d=this.parser.schema.marks[n.mark];r=r.concat(d.create(n.attrs))}let c=this.top;if(l&&l.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,r,!1));else{let d=e;typeof n.contentElement=="string"?d=e.querySelector(n.contentElement):typeof n.contentElement=="function"?d=n.contentElement(e):n.contentElement&&(d=n.contentElement),this.findAround(e,d,!0),this.addAll(d,r),this.findAround(e,d,!1)}s&&this.sync(c)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let l=r?e.childNodes[r]:e.firstChild,c=i==null?null:e.childNodes[i];l!=c;l=l.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(l,n);this.findAtPoint(e,s)}findPlace(e,n,r){let i,s;for(let l=this.open,c=0;l>=0;l--){let d=this.nodes[l],f=d.findWrapping(e);if(f&&(!i||i.length>f.length+c)&&(i=f,s=d,!f.length))break;if(d.solid){if(r)break;c+=2}}if(!i)return null;this.sync(s);for(let l=0;l<i.length;l++)n=this.enterInner(i[l],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let l=kt.none;for(let c of i.concat(e.marks))(s.type?s.type.allowsMarkType(c.type):vT(c.type,e.type))&&(l=c.addToSet(l));return s.content.push(e.mark(l)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r,!1);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let l=this.top;l.match=l.match&&l.match.matchType(e);let c=mT(e,s,l.options);l.options&pd&&l.content.length==0&&(c|=pd);let d=kt.none;return r=r.filter(f=>(l.type?l.type.allowsMarkType(f.type):vT(f.type,e))?(d=f.addToSet(d),!1):!0),this.nodes.push(new Fh(e,n,d,i,null,c)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Ld)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),l=(c,d)=>{for(;c>=0;c--){let f=n[c];if(f==""){if(c==n.length-1||c==0)continue;for(;d>=s;d--)if(l(c-1,d))return!0;return!1}else{let p=d>0||d==0&&i?this.nodes[d].type:r&&d>=s?r.node(d-s).type:null;if(!p||p.name!=f&&!p.isInGroup(f))return!1;d--}}return!0};return l(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function Y8(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&ON.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function X8(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function yT(t){let e={};for(let n in t)e[n]=t[n];return e}function vT(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],l=c=>{s.push(c);for(let d=0;d<c.edgeCount;d++){let{type:f,next:p}=c.edge(d);if(f==e||s.indexOf(p)<0&&l(p))return!0}};if(l(i.contentMatch))return!0}}class vl{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=I0(n).createDocumentFragment());let i=r,s=[];return e.forEach(l=>{if(s.length||l.marks.length){let c=0,d=0;for(;c<s.length&&d<l.marks.length;){let f=l.marks[d];if(!this.marks[f.type.name]){d++;continue}if(!f.eq(s[c][0])||f.type.spec.spanning===!1)break;c++,d++}for(;c<s.length;)i=s.pop()[1];for(;d<l.marks.length;){let f=l.marks[d++],p=this.serializeMark(f,l.isInline,n);p&&(s.push([f,i]),i.appendChild(p.dom),i=p.contentDOM||p.dom)}}i.appendChild(this.serializeNodeInner(l,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=bp(I0(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&bp(I0(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return bp(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new vl(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=bT(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return bT(e.marks)}}function bT(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function I0(t){return t.document||window.document}const wT=new WeakMap;function J8(t){let e=wT.get(t);return e===void 0&&wT.set(t,e=Q8(t)),e}function Q8(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function bp(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=J8(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let l=i.indexOf(" ");l>0&&(n=i.slice(0,l),i=i.slice(l+1));let c,d=n?t.createElementNS(n,i):t.createElement(i),f=e[1],p=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){p=2;for(let m in f)if(f[m]!=null){let v=m.indexOf(" ");v>0?d.setAttributeNS(m.slice(0,v),m.slice(v+1),f[m]):m=="style"&&d.style?d.style.cssText=f[m]:d.setAttribute(m,f[m])}}for(let m=p;m<e.length;m++){let v=e[m];if(v===0){if(m<e.length-1||m>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:w,contentDOM:x}=bp(t,v,n,r);if(d.appendChild(w),x){if(c)throw new RangeError("Multiple content holes");c=x}}}return{dom:d,contentDOM:c}}const _N=65535,RN=Math.pow(2,16);function Z8(t,e){return t+e*RN}function ST(t){return t&_N}function ez(t){return(t-(t&_N))/RN}const DN=1,IN=2,wp=4,LN=8;class Hv{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&LN)>0}get deletedBefore(){return(this.delInfo&(DN|wp))>0}get deletedAfter(){return(this.delInfo&(IN|wp))>0}get deletedAcross(){return(this.delInfo&wp)>0}}class vr{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&vr.empty)return vr.empty}recover(e){let n=0,r=ST(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+ez(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,l=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?i:0);if(d>e)break;let f=this.ranges[c+s],p=this.ranges[c+l],m=d+f;if(e<=m){let v=f?e==d?-1:e==m?1:n:n,w=d+i+(v<0?0:p);if(r)return w;let x=e==(n<0?d:m)?null:Z8(c/3,e-d),E=e==d?IN:e==m?DN:wp;return(n<0?e!=d:e!=m)&&(E|=LN),new Hv(w,E,x)}i+=p-f}return r?e+i:new Hv(e+i,0,null)}touches(e,n){let r=0,i=ST(n),s=this.inverted?2:1,l=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?r:0);if(d>e)break;let f=this.ranges[c+s],p=d+f;if(e<=p&&c==i*3)return!0;r+=this.ranges[c+l]-f}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let l=this.ranges[i],c=l-(this.inverted?s:0),d=l+(this.inverted?0:s),f=this.ranges[i+n],p=this.ranges[i+r];e(c,c+f,d,d+p),s+=p-f}}invert(){return new vr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?vr.empty:new vr(e<0?[0,-e,0]:[0,0,e])}}vr.empty=new vr([]);class jd{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new jd(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new jd;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let l=this._maps[s],c=l.mapResult(e,n);if(c.recover!=null){let d=this.getMirror(s);if(d!=null&&d>s&&d<this.to){s=d,e=this._maps[d].recover(c.recover);continue}}i|=c.delInfo,e=c.pos}return r?e:new Hv(e,i,null)}}const L0=Object.create(null);class On{getMap(){return vr.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=L0[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in L0)throw new RangeError("Duplicate use of step JSON ID "+e);return L0[e]=n,n.prototype.jsonID=e,n}}class Qt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Qt(e,null)}static fail(e){return new Qt(null,e)}static fromReplace(e,n,r,i){try{return Qt.ok(e.replace(n,r,i))}catch(s){if(s instanceof Hp)return Qt.fail(s.message);throw s}}}function rb(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(rb(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return fe.fromArray(r)}class Uo extends On{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new be(rb(n.content,(l,c)=>!l.isAtom||!c.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),i),n.openStart,n.openEnd);return Qt.fromReplace(e,this.from,this.to,s)}invert(){return new si(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Uo(n.pos,r.pos,this.mark)}merge(e){return e instanceof Uo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Uo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Uo(n.from,n.to,e.markFromJSON(n.mark))}}On.jsonID("addMark",Uo);class si extends On{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new be(rb(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Qt.fromReplace(e,this.from,this.to,r)}invert(){return new Uo(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new si(n.pos,r.pos,this.mark)}merge(e){return e instanceof si&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new si(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new si(n.from,n.to,e.markFromJSON(n.mark))}}On.jsonID("removeMark",si);class Bo extends On{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Qt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Qt.fromReplace(e,this.pos,this.pos+1,new be(fe.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Bo(this.pos,n.marks[i]);return new Bo(this.pos,this.mark)}}return new dl(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Bo(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Bo(n.pos,e.markFromJSON(n.mark))}}On.jsonID("addNodeMark",Bo);class dl extends On{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Qt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Qt.fromReplace(e,this.pos,this.pos+1,new be(fe.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Bo(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new dl(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new dl(n.pos,e.markFromJSON(n.mark))}}On.jsonID("removeNodeMark",dl);class fn extends On{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Vv(e,this.from,this.to)?Qt.fail("Structure replace would overwrite content"):Qt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new vr([this.from,this.to-this.from,this.slice.size])}invert(e){return new fn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new fn(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof fn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?be.empty:new be(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new fn(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?be.empty:new be(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new fn(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new fn(n.from,n.to,be.fromJSON(e,n.slice),!!n.structure)}}On.jsonID("replace",fn);class hn extends On{constructor(e,n,r,i,s,l,c=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=l,this.structure=c}apply(e){if(this.structure&&(Vv(e,this.from,this.gapFrom)||Vv(e,this.gapTo,this.to)))return Qt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Qt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Qt.fromReplace(e,this.from,this.to,r):Qt.fail("Content does not fit in gap")}getMap(){return new vr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new hn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new hn(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new hn(n.from,n.to,n.gapFrom,n.gapTo,be.fromJSON(e,n.slice),n.insert,!!n.structure)}}On.jsonID("replaceAround",hn);function Vv(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let l=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,i--}}return!1}function tz(t,e,n,r){let i=[],s=[],l,c;t.doc.nodesBetween(e,n,(d,f,p)=>{if(!d.isInline)return;let m=d.marks;if(!r.isInSet(m)&&p.type.allowsMarkType(r.type)){let v=Math.max(f,e),w=Math.min(f+d.nodeSize,n),x=r.addToSet(m);for(let E=0;E<m.length;E++)m[E].isInSet(x)||(l&&l.to==v&&l.mark.eq(m[E])?l.to=w:i.push(l=new si(v,w,m[E])));c&&c.to==v?c.to=w:s.push(c=new Uo(v,w,r))}}),i.forEach(d=>t.step(d)),s.forEach(d=>t.step(d))}function nz(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(l,c)=>{if(!l.isInline)return;s++;let d=null;if(r instanceof Wm){let f=l.marks,p;for(;p=r.isInSet(f);)(d||(d=[])).push(p),f=p.removeFromSet(f)}else r?r.isInSet(l.marks)&&(d=[r]):d=l.marks;if(d&&d.length){let f=Math.min(c+l.nodeSize,n);for(let p=0;p<d.length;p++){let m=d[p],v;for(let w=0;w<i.length;w++){let x=i[w];x.step==s-1&&m.eq(i[w].style)&&(v=x)}v?(v.to=f,v.step=s):i.push({style:m,from:Math.max(c,e),to:f,step:s})}}}),i.forEach(l=>t.step(new si(l.from,l.to,l.style)))}function ib(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),l=[],c=e+1;for(let d=0;d<s.childCount;d++){let f=s.child(d),p=c+f.nodeSize,m=r.matchType(f.type);if(!m)l.push(new fn(c,p,be.empty));else{r=m;for(let v=0;v<f.marks.length;v++)n.allowsMarkType(f.marks[v].type)||t.step(new si(c,p,f.marks[v]));if(i&&f.isText&&n.whitespace!="pre"){let v,w=/\r?\n|\r/g,x;for(;v=w.exec(f.text);)x||(x=new be(fe.from(n.schema.text(" ",n.allowedMarks(f.marks))),0,0)),l.push(new fn(c+v.index,c+v.index+v[0].length,x))}}c=p}if(!r.validEnd){let d=r.fillBefore(fe.empty,!0);t.replace(c,c,new be(d,0,0))}for(let d=l.length-1;d>=0;d--)t.step(l[d])}function rz(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Kc(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),l=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,l,n))return r;if(r==0||i.type.spec.isolating||!rz(i,s,l))break}return null}function iz(t,e,n){let{$from:r,$to:i,depth:s}=e,l=r.before(s+1),c=i.after(s+1),d=l,f=c,p=fe.empty,m=0;for(let x=s,E=!1;x>n;x--)E||r.index(x)>0?(E=!0,p=fe.from(r.node(x).copy(p)),m++):d--;let v=fe.empty,w=0;for(let x=s,E=!1;x>n;x--)E||i.after(x+1)<i.end(x)?(E=!0,v=fe.from(i.node(x).copy(v)),w++):f++;t.step(new hn(d,f,l,c,new be(p.append(v),m,w),p.size-m,!0))}function sb(t,e,n=null,r=t){let i=sz(t,e),s=i&&oz(r,e);return s?i.map(xT).concat({type:e,attrs:n}).concat(s.map(xT)):null}function xT(t){return{type:t,attrs:null}}function sz(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let l=s.length?s[0]:e;return n.canReplaceWith(r,i,l)?s:null}function oz(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),l=e.contentMatch.findWrapping(s.type);if(!l)return null;let d=(l.length?l[l.length-1]:e).contentMatch;for(let f=r;d&&f<i;f++)d=d.matchType(n.child(f).type);return!d||!d.validEnd?null:l}function az(t,e,n){let r=fe.empty;for(let l=n.length-1;l>=0;l--){if(r.size){let c=n[l].type.contentMatch.matchFragment(r);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=fe.from(n[l].type.create(n[l].attrs,r))}let i=e.start,s=e.end;t.step(new hn(i,s,i,s,new be(r,0,0),n.length,!0))}function lz(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(l,c)=>{let d=typeof i=="function"?i(l):i;if(l.isTextblock&&!l.hasMarkup(r,d)&&cz(t.doc,t.mapping.slice(s).map(c),r)){let f=null;if(r.schema.linebreakReplacement){let w=r.whitespace=="pre",x=!!r.contentMatch.matchType(r.schema.linebreakReplacement);w&&!x?f=!1:!w&&x&&(f=!0)}f===!1&&PN(t,l,c,s),ib(t,t.mapping.slice(s).map(c,1),r,void 0,f===null);let p=t.mapping.slice(s),m=p.map(c,1),v=p.map(c+l.nodeSize,1);return t.step(new hn(m,v,m+1,v-1,new be(fe.from(r.create(d,null,l.marks)),0,0),1,!0)),f===!0&&jN(t,l,c,s),!1}})}function jN(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let l,c=/\r?\n|\r/g;for(;l=c.exec(i.text);){let d=t.mapping.slice(r).map(n+1+s+l.index);t.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function PN(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let l=t.mapping.slice(r).map(n+1+s);t.replaceWith(l,l+1,e.type.schema.text(`
`))}})}function cz(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function uz(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let l=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,l);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new hn(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new be(fe.from(l),0,0),1,!0))}function Rs(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,l=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!l.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let f=i.depth-1,p=n-2;f>s;f--,p--){let m=i.node(f),v=i.index(f);if(m.type.spec.isolating)return!1;let w=m.content.cutByIndex(v,m.childCount),x=r&&r[p+1];x&&(w=w.replaceChild(0,x.type.create(x.attrs)));let E=r&&r[p]||m;if(!m.canReplace(v+1,m.childCount)||!E.type.validContent(w))return!1}let c=i.indexAfter(s),d=r&&r[0];return i.node(s).canReplaceWith(c,c,d?d.type:i.node(s+1).type)}function dz(t,e,n=1,r){let i=t.doc.resolve(e),s=fe.empty,l=fe.empty;for(let c=i.depth,d=i.depth-n,f=n-1;c>d;c--,f--){s=fe.from(i.node(c).copy(s));let p=r&&r[f];l=fe.from(p?p.type.create(p.attrs,l):i.node(c).copy(l))}t.step(new fn(e,e,new be(s.append(l),n,n),!0))}function aa(t,e){let n=t.resolve(e),r=n.index();return zN(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function fz(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),l=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(l),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function zN(t,e){return!!(t&&e&&!t.isLeaf&&fz(t,e))}function Gm(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,l,c=r.index(i);if(i==r.depth?(s=r.nodeBefore,l=r.nodeAfter):n>0?(s=r.node(i+1),c++,l=r.node(i).maybeChild(c)):(s=r.node(i).maybeChild(c-1),l=r.node(i+1)),s&&!s.isTextblock&&zN(s,l)&&r.node(i).canReplace(c,c+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function hz(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),l=s.node().type;if(i&&l.inlineContent){let p=l.whitespace=="pre",m=!!l.contentMatch.matchType(i);p&&!m?r=!1:!p&&m&&(r=!0)}let c=t.steps.length;if(r===!1){let p=t.doc.resolve(e+n);PN(t,p.node(),p.before(),c)}l.inlineContent&&ib(t,e+n-1,l,s.node().contentMatchAt(s.index()),r==null);let d=t.mapping.slice(c),f=d.map(e-n);if(t.step(new fn(f,d.map(e+n,-1),be.empty,!0)),r===!0){let p=t.doc.resolve(f);jN(t,p.node(),p.before(),t.steps.length)}return t}function pz(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function UN(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let l=r.depth;l>=0;l--){let c=l==r.depth?0:r.pos<=(r.start(l+1)+r.end(l+1))/2?-1:1,d=r.index(l)+(c>0?1:0),f=r.node(l),p=!1;if(s==1)p=f.canReplace(d,d,i);else{let m=f.contentMatchAt(d).findWrapping(i.firstChild.type);p=m&&f.canReplaceWith(d,d,m[0])}if(p)return c==0?r.pos:c<0?r.before(l+1):r.after(l+1)}return null}function Km(t,e,n=e,r=be.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return BN(i,s,r)?new fn(e,n,r):new mz(i,s,r).fit()}function BN(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class mz{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=fe.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=fe.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,l=r.depth,c=i.depth;for(;l&&c&&s.childCount==1;)s=s.firstChild.content,l--,c--;let d=new be(s,l,c);return e>-1?new hn(r.pos,e,this.$to.pos,this.$to.end(),d,n):d.size||r.pos!=this.$to.pos?new fn(r.pos,i.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=j0(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let l=i.firstChild;for(let c=this.depth;c>=0;c--){let{type:d,match:f}=this.frontier[c],p,m=null;if(n==1&&(l?f.matchType(l.type)||(m=f.fillBefore(fe.from(l),!1)):s&&d.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:c,parent:s,inject:m};if(n==2&&l&&(p=f.findWrapping(l.type)))return{sliceDepth:r,frontierDepth:c,parent:s,wrap:p};if(s&&f.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=j0(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new be(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=j0(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new be(rd(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new be(rd(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let E=0;E<s.length;E++)this.openFrontierNode(s[E]);let l=this.unplaced,c=r?r.content:l.content,d=l.openStart-e,f=0,p=[],{match:m,type:v}=this.frontier[n];if(i){for(let E=0;E<i.childCount;E++)p.push(i.child(E));m=m.matchFragment(i)}let w=c.size+e-(l.content.size-l.openEnd);for(;f<c.childCount;){let E=c.child(f),C=m.matchType(E.type);if(!C)break;f++,(f>1||d==0||E.content.size)&&(m=C,p.push(HN(E.mark(v.allowedMarks(E.marks)),f==1?d:0,f==c.childCount?w:-1)))}let x=f==c.childCount;x||(w=-1),this.placed=id(this.placed,n,fe.from(p)),this.frontier[n].match=m,x&&w<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let E=0,C=c;E<w;E++){let O=C.lastChild;this.frontier.push({type:O.type,match:O.contentMatchAt(O.childCount)}),C=O.content}this.unplaced=x?e==0?be.empty:new be(rd(l.content,e-1,1),e-1,w<0?l.openEnd:e-1):new be(rd(l.content,e,f),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!P0(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),l=P0(e,n,i,r,s);if(l){for(let c=n-1;c>=0;c--){let{match:d,type:f}=this.frontier[c],p=P0(e,c,f,d,!0);if(!p||p.childCount)continue e}return{depth:n,fit:l,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=id(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=id(this.placed,this.depth,fe.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(fe.empty,!0);n.childCount&&(this.placed=id(this.placed,this.frontier.length,n))}}function rd(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(rd(t.firstChild.content,e-1,n)))}function id(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(id(t.lastChild.content,e-1,n)))}function j0(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function HN(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,HN(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(fe.empty,!0)))),t.copy(r)}function P0(t,e,n,r,i){let s=t.node(e),l=i?t.indexAfter(e):t.index(e);if(l==s.childCount&&!n.compatibleContent(s.type))return null;let c=r.fillBefore(s.content,!0,l);return c&&!gz(n,s.content,l)?c:null}function gz(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function yz(t){return t.spec.defining||t.spec.definingForContent}function vz(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(BN(i,s,r))return t.step(new fn(e,n,r));let l=$N(i,t.doc.resolve(n));l[l.length-1]==0&&l.pop();let c=-(i.depth+1);l.unshift(c);for(let v=i.depth,w=i.pos-1;v>0;v--,w--){let x=i.node(v).type.spec;if(x.defining||x.definingAsContext||x.isolating)break;l.indexOf(v)>-1?c=v:i.before(v)==w&&l.splice(1,0,-v)}let d=l.indexOf(c),f=[],p=r.openStart;for(let v=r.content,w=0;;w++){let x=v.firstChild;if(f.push(x),w==r.openStart)break;v=x.content}for(let v=p-1;v>=0;v--){let w=f[v],x=yz(w.type);if(x&&!w.sameMarkup(i.node(Math.abs(c)-1)))p=v;else if(x||!w.type.isTextblock)break}for(let v=r.openStart;v>=0;v--){let w=(v+p+1)%(r.openStart+1),x=f[w];if(x)for(let E=0;E<l.length;E++){let C=l[(E+d)%l.length],O=!0;C<0&&(O=!1,C=-C);let I=i.node(C-1),j=i.index(C-1);if(I.canReplaceWith(j,j,x.type,x.marks))return t.replace(i.before(C),O?s.after(C):n,new be(VN(r.content,0,r.openStart,w),w,r.openEnd))}}let m=t.steps.length;for(let v=l.length-1;v>=0&&(t.replace(e,n,r),!(t.steps.length>m));v--){let w=l[v];w<0||(e=i.before(w),n=s.after(w))}}function VN(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(VN(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),l=s.fillBefore(t).append(t);t=l.append(s.matchFragment(l).fillBefore(fe.empty,!0))}return t}function bz(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=pz(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new be(fe.from(r),0,0))}function wz(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=$N(r,i);for(let l=0;l<s.length;l++){let c=s[l],d=l==s.length-1;if(d&&c==0||r.node(c).type.contentMatch.validEnd)return t.delete(r.start(c),i.end(c));if(c>0&&(d||r.node(c-1).canReplace(r.index(c-1),i.indexAfter(c-1))))return t.delete(r.before(c),i.after(c))}for(let l=1;l<=r.depth&&l<=i.depth;l++)if(e-r.start(l)==r.depth-l&&n>r.end(l)&&i.end(l)-n!=i.depth-l&&r.start(l-1)==i.start(l-1)&&r.node(l-1).canReplace(r.index(l-1),i.index(l-1)))return t.delete(r.before(l),n);t.delete(e,n)}function $N(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class Ac extends On{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Qt.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Qt.fromReplace(e,this.pos,this.pos+1,new be(fe.from(i),0,n.isLeaf?0:1))}getMap(){return vr.empty}invert(e){return new Ac(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ac(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ac(n.pos,n.attr,n.value)}}On.jsonID("attr",Ac);class Pd extends On{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Qt.ok(r)}getMap(){return vr.empty}invert(e){return new Pd(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Pd(n.attr,n.value)}}On.jsonID("docAttr",Pd);let Dc=class extends Error{};Dc=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Dc.prototype=Object.create(Error.prototype);Dc.prototype.constructor=Dc;Dc.prototype.name="TransformError";class FN{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new jd}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Dc(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=be.empty){let i=Km(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new be(fe.from(r),0,0))}delete(e,n){return this.replace(e,n,be.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return vz(this,e,n,r),this}replaceRangeWith(e,n,r){return bz(this,e,n,r),this}deleteRange(e,n){return wz(this,e,n),this}lift(e,n){return iz(this,e,n),this}join(e,n=1){return hz(this,e,n),this}wrap(e,n){return az(this,e,n),this}setBlockType(e,n=e,r,i=null){return lz(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return uz(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new Ac(e,n,r)),this}setDocAttribute(e,n){return this.step(new Pd(e,n)),this}addNodeMark(e,n){return this.step(new Bo(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof kt)n.isInSet(r.marks)&&this.step(new dl(e,n));else{let i=r.marks,s,l=[];for(;s=n.isInSet(i);)l.push(new dl(e,s)),i=s.removeFromSet(i);for(let c=l.length-1;c>=0;c--)this.step(l[c])}return this}split(e,n=1,r){return dz(this,e,n,r),this}addMark(e,n,r){return tz(this,e,n,r),this}removeMark(e,n,r){return nz(this,e,n,r),this}clearIncompatible(e,n,r){return ib(this,e,n,r),this}}const z0=Object.create(null);class Ue{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new qN(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=be.empty){let r=n.content.lastChild,i=null;for(let c=0;c<n.openEnd;c++)i=r,r=r.lastChild;let s=e.steps.length,l=this.ranges;for(let c=0;c<l.length;c++){let{$from:d,$to:f}=l[c],p=e.mapping.slice(s);e.replaceRange(p.map(d.pos),p.map(f.pos),c?be.empty:n),c==0&&CT(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:l,$to:c}=i[s],d=e.mapping.slice(r),f=d.map(l.pos),p=d.map(c.pos);s?e.deleteRange(f,p):(e.replaceRangeWith(f,p,n),CT(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new Ve(e):hc(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let l=n<0?hc(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):hc(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(l)return l}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new br(e.node(0))}static atStart(e){return hc(e,e,0,0,1)||new br(e)}static atEnd(e){return hc(e,e,e.content.size,e.childCount,-1)||new br(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=z0[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in z0)throw new RangeError("Duplicate use of selection JSON ID "+e);return z0[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Ve.between(this.$anchor,this.$head).getBookmark()}}Ue.prototype.visible=!0;class qN{constructor(e,n){this.$from=e,this.$to=n}}let ET=!1;function TT(t){!ET&&!t.parent.inlineContent&&(ET=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Ve extends Ue{constructor(e,n=e){TT(e),TT(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Ue.near(r);let i=e.resolve(n.map(this.anchor));return new Ve(i.parent.inlineContent?i:r,r)}replace(e,n=be.empty){if(super.replace(e,n),n==be.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Ve&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Ym(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ve(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Ue.findFrom(n,r,!0)||Ue.findFrom(n,-r,!0);if(s)n=s.$head;else return Ue.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Ue.findFrom(e,-r,!0)||Ue.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new Ve(e,n)}}Ue.jsonID("text",Ve);class Ym{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Ym(e.map(this.anchor),e.map(this.head))}resolve(e){return Ve.between(e.resolve(this.anchor),e.resolve(this.head))}}class De extends Ue{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?Ue.near(s):new De(s)}content(){return new be(fe.from(this.node),0,0)}eq(e){return e instanceof De&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new ob(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new De(e.resolve(n.anchor))}static create(e,n){return new De(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}De.prototype.visible=!1;Ue.jsonID("node",De);class ob{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Ym(r,r):new ob(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&De.isSelectable(r)?new De(n):Ue.near(n)}}class br extends Ue{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=be.empty){if(n==be.empty){e.delete(0,e.doc.content.size);let r=Ue.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new br(e)}map(e){return new br(e)}eq(e){return e instanceof br}getBookmark(){return Sz}}Ue.jsonID("all",br);const Sz={map(){return this},resolve(t){return new br(t)}};function hc(t,e,n,r,i,s=!1){if(e.inlineContent)return Ve.create(t,n);for(let l=r-(i>0?0:1);i>0?l<e.childCount:l>=0;l+=i){let c=e.child(l);if(c.isAtom){if(!s&&De.isSelectable(c))return De.create(t,n-(i<0?c.nodeSize:0))}else{let d=hc(t,c,n+i,i<0?c.childCount:0,i,s);if(d)return d}n+=c.nodeSize*i}return null}function CT(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof fn||i instanceof hn))return;let s=t.mapping.maps[r],l;s.forEach((c,d,f,p)=>{l==null&&(l=p)}),t.setSelection(Ue.near(t.doc.resolve(l),n))}const AT=1,qh=2,kT=4;class xz extends FN{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|AT)&~qh,this.storedMarks=null,this}get selectionSet(){return(this.updated&AT)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=qh,this}ensureMarks(e){return kt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&qh)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~qh,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||kt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let l=this.doc.resolve(n);s=r==n?l.marks():l.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(Ue.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=kT,this}get scrolledIntoView(){return(this.updated&kT)>0}}function NT(t,e){return!e||!t?t:t.bind(e)}class sd{constructor(e,n,r){this.name=e,this.init=NT(n.init,r),this.apply=NT(n.apply,r)}}const Ez=[new sd("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new sd("selection",{init(t,e){return t.selection||Ue.atStart(e.doc)},apply(t){return t.selection}}),new sd("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new sd("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class U0{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Ez.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new sd(r.key,r.spec.state,r))})}}class wc{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let l=0;l<this.config.plugins.length;l++){let c=this.config.plugins[l];if(c.spec.appendTransaction){let d=i?i[l].n:0,f=i?i[l].state:this,p=d<n.length&&c.spec.appendTransaction.call(c,d?n.slice(d):n,f,r);if(p&&r.filterTransaction(p,l)){if(p.setMeta("appendedTransaction",e),!i){i=[];for(let m=0;m<this.config.plugins.length;m++)i.push(m<l?{state:r,n:n.length}:{state:this,n:0})}n.push(p),r=r.applyInner(p),s=!0}i&&(i[l]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new wc(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new xz(this)}static create(e){let n=new U0(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new wc(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new U0(this.schema,e.plugins),r=n.fields,i=new wc(n);for(let s=0;s<r.length;s++){let l=r[s].name;i[l]=this.hasOwnProperty(l)?this[l]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new U0(e.schema,e.plugins),s=new wc(i);return i.fields.forEach(l=>{if(l.name=="doc")s.doc=Go.fromJSON(e.schema,n.doc);else if(l.name=="selection")s.selection=Ue.fromJSON(s.doc,n.selection);else if(l.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let c in r){let d=r[c],f=d.spec.state;if(d.key==l.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(n,c)){s[l.name]=f.fromJSON.call(d,e,n[c],s);return}}s[l.name]=l.init(e,s)}}),s}}function WN(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=WN(i,e,{})),n[r]=i}return n}class jt{constructor(e){this.spec=e,this.props={},e.props&&WN(e.props,this,this.props),this.key=e.key?e.key.key:GN("plugin")}getState(e){return e[this.key]}}const B0=Object.create(null);function GN(t){return t in B0?t+"$"+ ++B0[t]:(B0[t]=0,t+"$")}class Ut{constructor(e="key"){this.key=GN(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Sn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Ic=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let $v=null;const Ts=function(t,e,n){let r=$v||($v=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},Tz=function(){$v=null},fl=function(t,e,n,r){return n&&(MT(t,e,n,r,-1)||MT(t,e,n,r,1))},Cz=/^(img|br|input|textarea|hr)$/i;function MT(t,e,n,r,i){for(var s;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Fr(t))){let l=t.parentNode;if(!l||l.nodeType!=1||lf(t)||Cz.test(t.nodeName)||t.contentEditable=="false")return!1;e=Sn(t)+(i<0?0:1),t=l}else if(t.nodeType==1){let l=t.childNodes[e+(i<0?-1:0)];if(l.nodeType==1&&l.contentEditable=="false")if(!((s=l.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else t=l,e=i<0?Fr(t):0}else return!1}}function Fr(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Az(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Fr(t)}else if(t.parentNode&&!lf(t))e=Sn(t),t=t.parentNode;else return null}}function kz(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!lf(t))e=Sn(t)+1,t=t.parentNode;else return null}}function Nz(t,e,n){for(let r=e==0,i=e==Fr(t);r||i;){if(t==n)return!0;let s=Sn(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==Fr(t)}}function lf(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Xm=function(t){return t.focusNode&&fl(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function $a(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function Mz(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Oz(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Fr(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Fr(r.startContainer),r.startOffset)}}}const Hi=typeof navigator<"u"?navigator:null,OT=typeof document<"u"?document:null,la=Hi&&Hi.userAgent||"",Fv=/Edge\/(\d+)/.exec(la),KN=/MSIE \d/.exec(la),qv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(la),nr=!!(KN||qv||Fv),Yo=KN?document.documentMode:qv?+qv[1]:Fv?+Fv[1]:0,ui=!nr&&/gecko\/(\d+)/i.test(la);ui&&+(/Firefox\/(\d+)/.exec(la)||[0,0])[1];const Wv=!nr&&/Chrome\/(\d+)/.exec(la),Mn=!!Wv,YN=Wv?+Wv[1]:0,Hn=!nr&&!!Hi&&/Apple Computer/.test(Hi.vendor),Lc=Hn&&(/Mobile\/\w+/.test(la)||!!Hi&&Hi.maxTouchPoints>2),Vr=Lc||(Hi?/Mac/.test(Hi.platform):!1),_z=Hi?/Win/.test(Hi.platform):!1,Os=/Android \d/.test(la),cf=!!OT&&"webkitFontSmoothing"in OT.documentElement.style,Rz=cf?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Dz(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function bs(t,e){return typeof t=="number"?t:t[e]}function Iz(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function _T(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let l=n||t.dom;l;){if(l.nodeType!=1){l=Ic(l);continue}let c=l,d=c==s.body,f=d?Dz(s):Iz(c),p=0,m=0;if(e.top<f.top+bs(r,"top")?m=-(f.top-e.top+bs(i,"top")):e.bottom>f.bottom-bs(r,"bottom")&&(m=e.bottom-e.top>f.bottom-f.top?e.top+bs(i,"top")-f.top:e.bottom-f.bottom+bs(i,"bottom")),e.left<f.left+bs(r,"left")?p=-(f.left-e.left+bs(i,"left")):e.right>f.right-bs(r,"right")&&(p=e.right-f.right+bs(i,"right")),p||m)if(d)s.defaultView.scrollBy(p,m);else{let w=c.scrollLeft,x=c.scrollTop;m&&(c.scrollTop+=m),p&&(c.scrollLeft+=p);let E=c.scrollLeft-w,C=c.scrollTop-x;e={left:e.left-E,top:e.top-C,right:e.right-E,bottom:e.bottom-C}}let v=d?"fixed":getComputedStyle(l).position;if(/^(fixed|sticky)$/.test(v))break;l=v=="absolute"?l.offsetParent:Ic(l)}}function Lz(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,l=n+1;l<Math.min(innerHeight,e.bottom);l+=5){let c=t.root.elementFromPoint(s,l);if(!c||c==t.dom||!t.dom.contains(c))continue;let d=c.getBoundingClientRect();if(d.top>=n-20){r=c,i=d.top;break}}return{refDOM:r,refTop:i,stack:XN(t.dom)}}function XN(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Ic(r));return e}function jz({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;JN(n,r==0?0:r-e)}function JN(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let sc=null;function Pz(t){if(t.setActive)return t.setActive();if(sc)return t.focus(sc);let e=XN(t);t.focus(sc==null?{get preventScroll(){return sc={preventScroll:!0},!0}}:void 0),sc||(sc=!1,JN(e,0))}function QN(t,e){let n,r=2e8,i,s=0,l=e.top,c=e.top,d,f;for(let p=t.firstChild,m=0;p;p=p.nextSibling,m++){let v;if(p.nodeType==1)v=p.getClientRects();else if(p.nodeType==3)v=Ts(p).getClientRects();else continue;for(let w=0;w<v.length;w++){let x=v[w];if(x.top<=l&&x.bottom>=c){l=Math.max(x.bottom,l),c=Math.min(x.top,c);let E=x.left>e.left?x.left-e.left:x.right<e.left?e.left-x.right:0;if(E<r){n=p,r=E,i=E&&n.nodeType==3?{left:x.right<e.left?x.right:x.left,top:e.top}:e,p.nodeType==1&&E&&(s=m+(e.left>=(x.left+x.right)/2?1:0));continue}}else x.top>e.top&&!d&&x.left<=e.left&&x.right>=e.left&&(d=p,f={left:Math.max(x.left,Math.min(x.right,e.left)),top:x.top});!n&&(e.left>=x.right&&e.top>=x.top||e.left>=x.left&&e.top>=x.bottom)&&(s=m+1)}}return!n&&d&&(n=d,i=f,r=0),n&&n.nodeType==3?zz(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:QN(n,i)}function zz(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=ko(r,1);if(s.top!=s.bottom&&ab(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function ab(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function Uz(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function Bz(t,e,n){let{node:r,offset:i}=QN(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let l=r.getBoundingClientRect();s=l.left!=l.right&&n.left>(l.left+l.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function Hz(t,e,n,r){let i=-1;for(let s=e,l=!1;s!=t.dom;){let c=t.docView.nearestDesc(s,!0),d;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((d=c.dom.getBoundingClientRect()).width||d.height)&&(c.node.isBlock&&c.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(c.dom.nodeName)&&(!l&&d.left>r.left||d.top>r.top?i=c.posBefore:(!l&&d.right<r.left||d.bottom<r.top)&&(i=c.posAfter),l=!0),!c.contentDOM&&i<0&&!c.node.isText))return(c.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?c.posBefore:c.posAfter;s=c.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function ZN(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let l=t.childNodes[s];if(l.nodeType==1){let c=l.getClientRects();for(let d=0;d<c.length;d++){let f=c[d];if(ab(e,f))return ZN(l,e,f)}}if((s=(s+1)%r)==i)break}return t}function Vz(t,e){let n=t.dom.ownerDocument,r,i=0,s=Oz(n,e.left,e.top);s&&({node:r,offset:i}=s);let l=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),c;if(!l||!t.dom.contains(l.nodeType!=1?l.parentNode:l)){let f=t.dom.getBoundingClientRect();if(!ab(e,f)||(l=ZN(t.dom,e,f),!l))return null}if(Hn)for(let f=l;r&&f;f=Ic(f))f.draggable&&(r=void 0);if(l=Uz(l,e),r){if(ui&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let p=r.childNodes[i],m;p.nodeName=="IMG"&&(m=p.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&i++}let f;cf&&i&&r.nodeType==1&&(f=r.childNodes[i-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?c=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(c=Hz(t,r,i,e))}c==null&&(c=Bz(t,l,e));let d=t.docView.nearestDesc(l,!0);return{pos:c,inside:d?d.posAtStart-d.border:-1}}function RT(t){return t.top<t.bottom||t.left<t.right}function ko(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(RT(r))return r}return Array.prototype.find.call(n,RT)||t.getBoundingClientRect()}const $z=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function eM(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),l=cf||ui;if(r.nodeType==3)if(l&&($z.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let d=ko(Ts(r,i,i),n);if(ui&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let f=ko(Ts(r,i-1,i-1),-1);if(f.top==d.top){let p=ko(Ts(r,i,i+1),-1);if(p.top!=d.top)return Ju(p,p.left<f.left)}}return d}else{let d=i,f=i,p=n<0?1:-1;return n<0&&!i?(f++,p=-1):n>=0&&i==r.nodeValue.length?(d--,p=1):n<0?d--:f++,Ju(ko(Ts(r,d,f),p),p<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==Fr(r))){let d=r.childNodes[i-1];if(d.nodeType==1)return H0(d.getBoundingClientRect(),!1)}if(s==null&&i<Fr(r)){let d=r.childNodes[i];if(d.nodeType==1)return H0(d.getBoundingClientRect(),!0)}return H0(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==Fr(r))){let d=r.childNodes[i-1],f=d.nodeType==3?Ts(d,Fr(d)-(l?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(f)return Ju(ko(f,1),!1)}if(s==null&&i<Fr(r)){let d=r.childNodes[i];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let f=d?d.nodeType==3?Ts(d,0,l?0:1):d.nodeType==1?d:null:null;if(f)return Ju(ko(f,-1),!0)}return Ju(ko(r.nodeType==3?Ts(r):r,-n),n>=0)}function Ju(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function H0(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function tM(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function Fz(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return tM(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let c=t.docView.nearestDesc(s,!0);if(!c)break;if(c.node.isBlock){s=c.contentDOM||c.dom;break}s=c.dom.parentNode}let l=eM(t,i.pos,1);for(let c=s.firstChild;c;c=c.nextSibling){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=Ts(c,0,c.nodeValue.length).getClientRects();else continue;for(let f=0;f<d.length;f++){let p=d[f];if(p.bottom>p.top+1&&(n=="up"?l.top-p.top>(p.bottom-l.top)*2:p.bottom-l.bottom>(l.bottom-p.top)*2))return!1}}return!0})}const qz=/[\u0590-\u08ac]/;function Wz(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,l=i==r.parent.content.size,c=t.domSelection();return c?!qz.test(r.parent.textContent)||!c.modify?n=="left"||n=="backward"?s:l:tM(t,e,()=>{let{focusNode:d,focusOffset:f,anchorNode:p,anchorOffset:m}=t.domSelectionRange(),v=c.caretBidiLevel;c.modify("move",n,"character");let w=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:x,focusOffset:E}=t.domSelectionRange(),C=x&&!w.contains(x.nodeType==1?x:x.parentNode)||d==x&&f==E;try{c.collapse(p,m),d&&(d!=p||f!=m)&&c.extend&&c.extend(d,f)}catch{}return v!=null&&(c.caretBidiLevel=v),C}):r.pos==r.start()||r.pos==r.end()}let DT=null,IT=null,LT=!1;function Gz(t,e,n){return DT==e&&IT==n?LT:(DT=e,IT=n,LT=n=="up"||n=="down"?Fz(t,e,n):Wz(t,e,n))}const qr=0,jT=1,Ka=2,Vi=3;class uf{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=qr,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,l;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((l=s.pmViewDesc)&&l.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(l)+l.size:this.posAtStart}else{let s,l;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((l=s.pmViewDesc)&&l.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(l):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Sn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),l;if(s&&(!n||s.node))if(r&&(l=s.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let l=0;l<i.children.length;l++){let c=i.children[l];if(c.size){i=c;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let l=this.children[r],c=s+l.size;if(c>e||l instanceof rM){i=e-s;break}s=c}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof nM&&s.side>=0;r--);if(n<=0){let s,l=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,l=!1);return s&&n&&l&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Sn(s.dom)+1:0}}else{let s,l=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,l=!1);return s&&l&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Sn(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let l=r,c=0;;c++){let d=this.children[c],f=l+d.size;if(i==-1&&e<=f){let p=l+d.border;if(e>=p&&n<=f-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,n,p);e=l;for(let m=c;m>0;m--){let v=this.children[m-1];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(1)){i=Sn(v.dom)+1;break}e-=v.size}i==-1&&(i=0)}if(i>-1&&(f>n||c==this.children.length-1)){n=f;for(let p=c+1;p<this.children.length;p++){let m=this.children[p];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){s=Sn(m.dom);break}n+=m.size}s==-1&&(s=this.contentDOM.childNodes.length);break}l=f}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),l=Math.max(e,n);for(let w=0,x=0;w<this.children.length;w++){let E=this.children[w],C=x+E.size;if(s>x&&l<C)return E.setSelection(e-x-E.border,n-x-E.border,r,i);x=C}let c=this.domFromPos(e,e?-1:1),d=n==e?c:this.domFromPos(n,n?-1:1),f=r.root.getSelection(),p=r.domSelectionRange(),m=!1;if((ui||Hn)&&e==n){let{node:w,offset:x}=c;if(w.nodeType==3){if(m=!!(x&&w.nodeValue[x-1]==`
`),m&&x==w.nodeValue.length)for(let E=w,C;E;E=E.parentNode){if(C=E.nextSibling){C.nodeName=="BR"&&(c=d={node:C.parentNode,offset:Sn(C)+1});break}let O=E.pmViewDesc;if(O&&O.node&&O.node.isBlock)break}}else{let E=w.childNodes[x-1];m=E&&(E.nodeName=="BR"||E.contentEditable=="false")}}if(ui&&p.focusNode&&p.focusNode!=d.node&&p.focusNode.nodeType==1){let w=p.focusNode.childNodes[p.focusOffset];w&&w.contentEditable=="false"&&(i=!0)}if(!(i||m&&Hn)&&fl(c.node,c.offset,p.anchorNode,p.anchorOffset)&&fl(d.node,d.offset,p.focusNode,p.focusOffset))return;let v=!1;if((f.extend||e==n)&&!m){f.collapse(c.node,c.offset);try{e!=n&&f.extend(d.node,d.offset),v=!0}catch{}}if(!v){if(e>n){let x=c;c=d,d=x}let w=document.createRange();w.setEnd(d.node,d.offset),w.setStart(c.node,c.offset),f.removeAllRanges(),f.addRange(w)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],l=r+s.size;if(r==l?e<=l&&n>=r:e<l&&n>r){let c=r+s.border,d=l-s.border;if(e>=c&&n<=d){this.dirty=e==r||n==l?Ka:jT,e==c&&n==d&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Vi:s.markDirty(e-c,n-c);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Ka:Vi}r=l}this.dirty=Ka}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Ka:jT;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class nM extends uf{constructor(e,n,r,i){let s,l=n.type.toDOM;if(typeof l=="function"&&(l=l(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(l.nodeType!=1){let c=document.createElement("span");c.appendChild(l),l=c}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==qr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Kz extends uf{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class hl extends uf{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],l=s&&s(n,i,r);return(!l||!l.dom)&&(l=vl.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new hl(e,n,l.dom,l.contentDOM||l.dom,l)}parseRule(){return this.dirty&Vi||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Vi&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=qr){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=qr}}slice(e,n,r){let i=hl.create(this.parent,this.mark,!0,r),s=this.children,l=this.size;n<l&&(s=Kv(s,n,l,r)),e>0&&(s=Kv(s,0,e,r));for(let c=0;c<s.length;c++)s[c].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Xo extends uf{constructor(e,n,r,i,s,l,c,d,f){super(e,[],s,l),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=c}static create(e,n,r,i,s,l){let c=s.nodeViews[n.type.name],d,f=c&&c(n,s,()=>{if(!d)return l;if(d.parent)return d.parent.posBeforeChild(d)},r,i),p=f&&f.dom,m=f&&f.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:m}=vl.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!m&&!n.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),n.type.spec.draggable&&(p.draggable=!0));let v=p;return p=oM(p,r,n),f?d=new Yz(e,n,r,i,p,m||null,v,f,s,l+1):n.isText?new Jm(e,n,r,i,p,v,s):new Xo(e,n,r,i,p,m||null,v,s,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>fe.empty)}return e}matchesNode(e,n,r){return this.dirty==qr&&e.eq(this.node)&&qp(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,l=s&&s.pos>-1?s:null,c=s&&s.pos<0,d=new Jz(this,l&&l.node,e);eU(this.node,this.innerDeco,(f,p,m)=>{f.spec.marks?d.syncToMarks(f.spec.marks,r,e):f.type.side>=0&&!m&&d.syncToMarks(p==this.node.childCount?kt.none:this.node.child(p).marks,r,e),d.placeWidget(f,e,i)},(f,p,m,v)=>{d.syncToMarks(f.marks,r,e);let w;d.findNodeMatch(f,p,m,v)||c&&e.state.selection.from>i&&e.state.selection.to<i+f.nodeSize&&(w=d.findIndexWithChild(s.node))>-1&&d.updateNodeAt(f,p,m,w,e)||d.updateNextNode(f,p,m,e,v,i)||d.addNode(f,p,m,e,i),i+=f.nodeSize}),d.syncToMarks([],r,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==Ka)&&(l&&this.protectLocalComposition(e,l),iM(this.contentDOM,this.children,e),Lc&&tU(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Ve)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let l=s.nodeValue,c=nU(this.node.content,l,r-n,i-n);return c<0?null:{node:s,pos:c,text:l}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let l=new Kz(this,s,n,i);e.input.compositionNodes.push(l),this.children=Kv(this.children,r,r+i.length,e,l)}update(e,n,r,i){return this.dirty==Vi||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=qr}updateOuterDeco(e){if(qp(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=sM(this.dom,this.nodeDOM,Gv(this.outerDeco,this.node,n),Gv(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function PT(t,e,n,r,i){oM(r,e,t);let s=new Xo(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class Jm extends Xo{constructor(e,n,r,i,s,l,c){super(e,n,r,i,s,null,l,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Vi||this.dirty!=qr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=qr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=qr,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new Jm(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Vi)}get domAtom(){return!1}isText(e){return this.node.text==e}}class rM extends uf{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==qr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Yz extends Xo{constructor(e,n,r,i,s,l,c,d,f,p){super(e,n,r,i,s,l,c,f,p),this.spec=d}update(e,n,r,i){if(this.dirty==Vi)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function iM(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let l=e[s],c=l.dom;if(c.parentNode==t){for(;c!=r;)r=zT(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(c,r);if(l instanceof hl){let d=r?r.previousSibling:t.lastChild;iM(l.contentDOM,l.children,n),r=d?d.nextSibling:t.firstChild}}for(;r;)r=zT(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const md=function(t){t&&(this.nodeName=t)};md.prototype=Object.create(null);const Ya=[new md];function Gv(t,e,n){if(t.length==0)return Ya;let r=n?Ya[0]:new md,i=[r];for(let s=0;s<t.length;s++){let l=t[s].type.attrs;if(l){l.nodeName&&i.push(r=new md(l.nodeName));for(let c in l){let d=l[c];d!=null&&(n&&i.length==1&&i.push(r=new md(e.isInline?"span":"div")),c=="class"?r.class=(r.class?r.class+" ":"")+d:c=="style"?r.style=(r.style?r.style+";":"")+d:c!="nodeName"&&(r[c]=d))}}}return i}function sM(t,e,n,r){if(n==Ya&&r==Ya)return e;let i=e;for(let s=0;s<r.length;s++){let l=r[s],c=n[s];if(s){let d;c&&c.nodeName==l.nodeName&&i!=t&&(d=i.parentNode)&&d.nodeName.toLowerCase()==l.nodeName||(d=document.createElement(l.nodeName),d.pmIsDeco=!0,d.appendChild(i),c=Ya[0]),i=d}Xz(i,c||Ya[0],l)}return i}function Xz(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function oM(t,e,n){return sM(t,t,Ya,Gv(e,n,t.nodeType!=1))}function qp(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function zT(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Jz{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Qz(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,l=Math.min(s,e.length);for(;i<l&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=qr,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let c=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let f=this.top.children[d];if(f.matchesMark(e[s])&&!this.isLocked(f.dom)){c=d;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let d=hl.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,l;if(i>=this.preMatch.index&&(l=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&l.matchesNode(e,n,r))s=this.top.children.indexOf(l,this.index);else for(let c=this.index,d=Math.min(this.top.children.length,c+5);c<d;c++){let f=this.top.children[c];if(f.matchesNode(e,n,r)&&!this.preMatch.matched.has(f)){s=c;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let l=this.top.children[i];return l.dirty==Vi&&l.dom==l.contentDOM&&(l.dirty=Ka),l.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,l){for(let c=this.index;c<this.top.children.length;c++){let d=this.top.children[c];if(d instanceof Xo){let f=this.preMatch.matched.get(d);if(f!=null&&f!=s)return!1;let p=d.dom,m,v=this.isLocked(p)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=Vi&&qp(n,d.outerDeco));if(!v&&d.update(e,n,r,i))return this.destroyBetween(this.index,c),d.dom!=p&&(this.changed=!0),this.index++,!0;if(!v&&(m=this.recreateWrapper(d,e,n,r,i,l)))return this.destroyBetween(this.index,c),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=Ka,m.updateChildren(i,l+1),m.dirty=qr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,l){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!qp(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let c=Xo.create(this.top,n,r,i,s,l);if(c.contentDOM){c.children=e.children,e.children=[];for(let d of c.children)d.parent=c}return e.destroy(),c}addNode(e,n,r,i,s){let l=Xo.create(this.top,e,n,r,i,s);l.contentDOM&&l.updateChildren(i,s+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new nM(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof hl;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Jm)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Hn||Mn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new rM(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Qz(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,l=[];e:for(;i>0;){let c;for(;;)if(r){let f=n.children[r-1];if(f instanceof hl)n=f,r=f.children.length;else{c=f,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let d=c.node;if(d){if(d!=t.child(i-1))break;--i,s.set(c,i),l.push(c)}}return{index:i,matched:s,matches:l.reverse()}}function Zz(t,e){return t.type.side-e.type.side}function eU(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let f=0;f<t.childCount;f++){let p=t.child(f);r(p,i,e.forChild(s,p),f),s+=p.nodeSize}return}let l=0,c=[],d=null;for(let f=0;;){let p,m;for(;l<i.length&&i[l].to==s;){let C=i[l++];C.widget&&(p?(m||(m=[p])).push(C):p=C)}if(p)if(m){m.sort(Zz);for(let C=0;C<m.length;C++)n(m[C],f,!!d)}else n(p,f,!!d);let v,w;if(d)w=-1,v=d,d=null;else if(f<t.childCount)w=f,v=t.child(f++);else break;for(let C=0;C<c.length;C++)c[C].to<=s&&c.splice(C--,1);for(;l<i.length&&i[l].from<=s&&i[l].to>s;)c.push(i[l++]);let x=s+v.nodeSize;if(v.isText){let C=x;l<i.length&&i[l].from<C&&(C=i[l].from);for(let O=0;O<c.length;O++)c[O].to<C&&(C=c[O].to);C<x&&(d=v.cut(C-s),v=v.cut(0,C-s),x=C,w=-1)}else for(;l<i.length&&i[l].to<x;)l++;let E=v.isInline&&!v.isLeaf?c.filter(C=>!C.inline):c.slice();r(v,E,e.forChild(s,v),w),s=x}}function tU(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function nU(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let l=t.child(i++),c=s;if(s+=l.nodeSize,!l.isText)continue;let d=l.text;for(;i<t.childCount;){let f=t.child(i++);if(s+=f.nodeSize,!f.isText)break;d+=f.text}if(s>=n){if(s>=r&&d.slice(r-e.length-c,r-c)==e)return r-e.length;let f=c<r?d.lastIndexOf(e,r-c-1):-1;if(f>=0&&f+e.length+c>=n)return c+f;if(n==r&&d.length>=r+e.length-c&&d.slice(r-c,r-c+e.length)==e)return r}}return-1}function Kv(t,e,n,r,i){let s=[];for(let l=0,c=0;l<t.length;l++){let d=t[l],f=c,p=c+=d.size;f>=n||p<=e?s.push(d):(f<e&&s.push(d.slice(0,e-f,r)),i&&(s.push(i),i=void 0),p>n&&s.push(d.slice(n-f,d.size,r)))}return s}function lb(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,l=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let c=r.resolve(l),d,f;if(Xm(n)){for(d=l;i&&!i.node;)i=i.parent;let m=i.node;if(i&&m.isAtom&&De.isSelectable(m)&&i.parent&&!(m.isInline&&Nz(n.focusNode,n.focusOffset,i.dom))){let v=i.posBefore;f=new De(l==v?c:r.resolve(v))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let m=l,v=l;for(let w=0;w<n.rangeCount;w++){let x=n.getRangeAt(w);m=Math.min(m,t.docView.posFromDOM(x.startContainer,x.startOffset,1)),v=Math.max(v,t.docView.posFromDOM(x.endContainer,x.endOffset,-1))}if(m<0)return null;[d,l]=v==t.state.selection.anchor?[v,m]:[m,v],c=r.resolve(l)}else d=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null}let p=r.resolve(d);if(!f){let m=e=="pointer"||t.state.selection.head<c.pos&&!s?1:-1;f=cb(t,p,c,m)}return f}function aM(t){return t.editable?t.hasFocus():cM(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Ds(t,e=!1){let n=t.state.selection;if(lM(t,n),!!aM(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Mn){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&fl(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)iU(t);else{let{anchor:r,head:i}=n,s,l;UT&&!(n instanceof Ve)&&(n.$from.parent.inlineContent||(s=BT(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(l=BT(t,n.to))),t.docView.setSelection(r,i,t,e),UT&&(s&&HT(s),l&&HT(l)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&rU(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const UT=Hn||Mn&&YN<63;function BT(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(Hn&&i&&i.contentEditable=="false")return V0(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return V0(i);if(s)return V0(s)}}function V0(t){return t.contentEditable="true",Hn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function HT(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function rU(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!aM(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function iU(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,Sn(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&nr&&Yo<=11&&(r.disabled=!0,r.disabled=!1)}function lM(t,e){if(e instanceof De){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(VT(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else VT(t)}function VT(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function cb(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||Ve.between(e,n,r)}function $T(t){return t.editable&&!t.hasFocus()?!1:cM(t)}function cM(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function sU(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return fl(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Yv(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Ue.findFrom(s,e)}function Mo(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function FT(t,e,n){let r=t.state.selection;if(r instanceof Ve)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let l=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return Mo(t,new Ve(r.$anchor,l))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=Yv(t.state,e);return i&&i instanceof De?Mo(t,i):!1}else if(!(Vr&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,l;if(!s||s.isText)return!1;let c=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(l=t.docView.descAt(c))&&!l.contentDOM?De.isSelectable(s)?Mo(t,new De(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):cf?Mo(t,new Ve(t.state.doc.resolve(e<0?c:c+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof De&&r.node.isInline)return Mo(t,new Ve(e>0?r.$to:r.$from));{let i=Yv(t.state,e);return i?Mo(t,i):!1}}}function Wp(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function gd(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function oc(t,e){return e<0?oU(t):aU(t)}function oU(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,l=!1;for(ui&&n.nodeType==1&&r<Wp(n)&&gd(n.childNodes[r],-1)&&(l=!0);;)if(r>0){if(n.nodeType!=1)break;{let c=n.childNodes[r-1];if(gd(c,-1))i=n,s=--r;else if(c.nodeType==3)n=c,r=n.nodeValue.length;else break}}else{if(uM(n))break;{let c=n.previousSibling;for(;c&&gd(c,-1);)i=n.parentNode,s=Sn(c),c=c.previousSibling;if(c)n=c,r=Wp(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}l?Xv(t,n,r):i&&Xv(t,i,s)}function aU(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Wp(n),s,l;for(;;)if(r<i){if(n.nodeType!=1)break;let c=n.childNodes[r];if(gd(c,1))s=n,l=++r;else break}else{if(uM(n))break;{let c=n.nextSibling;for(;c&&gd(c,1);)s=c.parentNode,l=Sn(c)+1,c=c.nextSibling;if(c)n=c,r=0,i=Wp(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&Xv(t,s,l)}function uM(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function lU(t,e){for(;t&&e==t.childNodes.length&&!lf(t);)e=Sn(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function cU(t,e){for(;t&&!e&&!lf(t);)e=Sn(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Xv(t,e,n){if(e.nodeType!=3){let s,l;(l=lU(e,n))?(e=l,n=0):(s=cU(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Xm(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Ds(t)},50)}function qT(t,e){let n=t.state.doc.resolve(e);if(!(Mn||_z)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),l=(s.top+s.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),l=(s.top+s.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function WT(t,e,n){let r=t.state.selection;if(r instanceof Ve&&!r.empty||n.indexOf("s")>-1||Vr&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let l=Yv(t.state,e);if(l&&l instanceof De)return Mo(t,l)}if(!i.parent.inlineContent){let l=e<0?i:s,c=r instanceof br?Ue.near(l,e):Ue.findFrom(l,e);return c?Mo(t,c):!1}return!1}function GT(t,e){if(!(t.state.selection instanceof Ve))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let l=t.state.tr;return e<0?l.delete(n.pos-s.nodeSize,n.pos):l.delete(n.pos,n.pos+s.nodeSize),t.dispatch(l),!0}return!1}function KT(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function uU(t){if(!Hn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;KT(t,r,"true"),setTimeout(()=>KT(t,r,"false"),20)}return!1}function dU(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function fU(t,e){let n=e.keyCode,r=dU(e);if(n==8||Vr&&n==72&&r=="c")return GT(t,-1)||oc(t,-1);if(n==46&&!e.shiftKey||Vr&&n==68&&r=="c")return GT(t,1)||oc(t,1);if(n==13||n==27)return!0;if(n==37||Vr&&n==66&&r=="c"){let i=n==37?qT(t,t.state.selection.from)=="ltr"?-1:1:-1;return FT(t,i,r)||oc(t,i)}else if(n==39||Vr&&n==70&&r=="c"){let i=n==39?qT(t,t.state.selection.from)=="ltr"?1:-1:1;return FT(t,i,r)||oc(t,i)}else{if(n==38||Vr&&n==80&&r=="c")return WT(t,-1,r)||oc(t,-1);if(n==40||Vr&&n==78&&r=="c")return uU(t)||WT(t,1,r)||oc(t,1);if(r==(Vr?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function ub(t,e){t.someProp("transformCopied",w=>{e=w(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let w=r.firstChild;n.push(w.type.name,w.attrs!=w.type.defaultAttrs?w.attrs:null),r=w.content}let l=t.someProp("clipboardSerializer")||vl.fromSchema(t.state.schema),c=gM(),d=c.createElement("div");d.appendChild(l.serializeFragment(r,{document:c}));let f=d.firstChild,p,m=0;for(;f&&f.nodeType==1&&(p=mM[f.nodeName.toLowerCase()]);){for(let w=p.length-1;w>=0;w--){let x=c.createElement(p[w]);for(;d.firstChild;)x.appendChild(d.firstChild);d.appendChild(x),m++}f=d.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${i} ${s}${m?` -${m}`:""} ${JSON.stringify(n)}`);let v=t.someProp("clipboardTextSerializer",w=>w(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:v,slice:e}}function dM(t,e,n,r,i){let s=i.parent.type.spec.code,l,c;if(!n&&!e)return null;let d=e&&(r||s||!n);if(d){if(t.someProp("transformPastedText",v=>{e=v(e,s||r,t)}),s)return e?new be(fe.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):be.empty;let m=t.someProp("clipboardTextParser",v=>v(e,i,r,t));if(m)c=m;else{let v=i.marks(),{schema:w}=t.state,x=vl.fromSchema(w);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(E=>{let C=l.appendChild(document.createElement("p"));E&&C.appendChild(x.serializeNode(w.text(E,v)))})}}else t.someProp("transformPastedHTML",m=>{n=m(n,t)}),l=gU(n),cf&&yU(l);let f=l&&l.querySelector("[data-pm-slice]"),p=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let m=+p[3];m>0;m--){let v=l.firstChild;for(;v&&v.nodeType!=1;)v=v.nextSibling;if(!v)break;l=v}if(c||(c=(t.someProp("clipboardParser")||t.someProp("domParser")||Ko.fromSchema(t.state.schema)).parseSlice(l,{preserveWhitespace:!!(d||p),context:i,ruleFromNode(v){return v.nodeName=="BR"&&!v.nextSibling&&v.parentNode&&!hU.test(v.parentNode.nodeName)?{ignore:!0}:null}})),p)c=vU(YT(c,+p[1],+p[2]),p[4]);else if(c=be.maxOpen(pU(c.content,i),!0),c.openStart||c.openEnd){let m=0,v=0;for(let w=c.content.firstChild;m<c.openStart&&!w.type.spec.isolating;m++,w=w.firstChild);for(let w=c.content.lastChild;v<c.openEnd&&!w.type.spec.isolating;v++,w=w.lastChild);c=YT(c,m,v)}return t.someProp("transformPasted",m=>{c=m(c,t)}),c}const hU=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function pU(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,l=[];if(t.forEach(c=>{if(!l)return;let d=i.findWrapping(c.type),f;if(!d)return l=null;if(f=l.length&&s.length&&hM(d,s,c,l[l.length-1],0))l[l.length-1]=f;else{l.length&&(l[l.length-1]=pM(l[l.length-1],s.length));let p=fM(c,d);l.push(p),i=i.matchType(p.type),s=d}}),l)return fe.from(l)}return t}function fM(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,fe.from(t));return t}function hM(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=hM(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(fe.from(fM(n,t,i+1))))}}function pM(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,pM(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(fe.empty,!0);return t.copy(n.append(r))}function Jv(t,e,n,r,i,s){let l=e<0?t.firstChild:t.lastChild,c=l.content;return t.childCount>1&&(s=0),i<r-1&&(c=Jv(c,e,n,r,i+1,s)),i>=n&&(c=e<0?l.contentMatchAt(0).fillBefore(c,s<=i).append(c):c.append(l.contentMatchAt(l.childCount).fillBefore(fe.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,l.copy(c))}function YT(t,e,n){return e<t.openStart&&(t=new be(Jv(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new be(Jv(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const mM={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let XT=null;function gM(){return XT||(XT=document.implementation.createHTMLDocument("title"))}let $0=null;function mU(t){let e=window.trustedTypes;return e?($0||($0=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),$0.createHTML(t)):t}function gU(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=gM().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&mM[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=mU(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function yU(t){let e=t.querySelectorAll(Mn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function vU(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:l}=t;for(let c=r.length-2;c>=0;c-=2){let d=n.nodes[r[c]];if(!d||d.hasRequiredAttrs())break;i=fe.from(d.create(r[c+1],i)),s++,l++}return new be(i,s,l)}const Vn={},$n={},bU={touchstart:!0,touchmove:!0};class wU{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function SU(t){for(let e in Vn){let n=Vn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{EU(t,r)&&!db(t,r)&&(t.editable||!(r.type in $n))&&n(t,r)},bU[e]?{passive:!0}:void 0)}Hn&&t.dom.addEventListener("input",()=>null),Qv(t)}function Ho(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function xU(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Qv(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>db(t,r))})}function db(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function EU(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function TU(t,e){!db(t,e)&&Vn[e.type]&&(t.editable||!(e.type in $n))&&Vn[e.type](t,e)}$n.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!vM(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Os&&Mn&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Lc&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,$a(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||fU(t,n)?n.preventDefault():Ho(t,"key")};$n.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};$n.keypress=(t,e)=>{let n=e;if(vM(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Vr&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Ve)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",l=>l(t,r.$from.pos,r.$to.pos,i,s))&&t.dispatch(s()),n.preventDefault()}};function Qm(t){return{left:t.clientX,top:t.clientY}}function CU(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function fb(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let l=s.depth+1;l>0;l--)if(t.someProp(e,c=>l>s.depth?c(t,n,s.nodeAfter,s.before(l),i,!0):c(t,n,s.node(l),s.before(l),i,!1)))return!0;return!1}function kc(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function AU(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&De.isSelectable(r)?(kc(t,new De(n)),!0):!1}function kU(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof De&&(r=n.node);let s=t.state.doc.resolve(e);for(let l=s.depth+1;l>0;l--){let c=l>s.depth?s.nodeAfter:s.node(l);if(De.isSelectable(c)){r&&n.$from.depth>0&&l>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(l);break}}return i!=null?(kc(t,De.create(t.state.doc,i)),!0):!1}function NU(t,e,n,r,i){return fb(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?kU(t,n):AU(t,n))}function MU(t,e,n,r){return fb(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function OU(t,e,n,r){return fb(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||_U(t,n,r)}function _U(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(kc(t,Ve.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let l=s>i.depth?i.nodeAfter:i.node(s),c=i.before(s);if(l.inlineContent)kc(t,Ve.create(r,c+1,c+1+l.content.size));else if(De.isSelectable(l))kc(t,De.create(r,c));else continue;return!0}}function hb(t){return Gp(t)}const yM=Vr?"metaKey":"ctrlKey";Vn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=hb(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&CU(n,t.input.lastClick)&&!n[yM]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let l=t.posAtCoords(Qm(n));l&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new RU(t,l,n,!!r)):(s=="doubleClick"?MU:OU)(t,l.pos,l.inside,n)?n.preventDefault():Ho(t,"pointer"))};class RU{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[yM],this.allowDefault=r.shiftKey;let s,l;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),l=n.inside;else{let p=e.state.doc.resolve(n.pos);s=p.parent,l=p.depth?p.before():0}const c=i?null:r.target,d=c?e.docView.nearestDesc(c,!0):null;this.target=d&&d.dom.nodeType==1?d.dom:null;let{selection:f}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||f instanceof De&&f.from<=l&&f.to>l)&&(this.mightDrag={node:s,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ui&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ho(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ds(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Qm(e))),this.updateAllowDefault(e),this.allowDefault||!n?Ho(this.view,"pointer"):NU(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Hn&&this.mightDrag&&!this.mightDrag.node.isAtom||Mn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(kc(this.view,Ue.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Ho(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ho(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Vn.touchstart=t=>{t.input.lastTouch=Date.now(),hb(t),Ho(t,"pointer")};Vn.touchmove=t=>{t.input.lastTouch=Date.now(),Ho(t,"pointer")};Vn.contextmenu=t=>hb(t);function vM(t,e){return t.composing?!0:Hn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const DU=Os?5e3:-1;$n.compositionstart=$n.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Ve&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Gp(t,!0),t.markCursor=null;else if(Gp(t,!e.selection.empty),ui&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let l=s<0?i.lastChild:i.childNodes[s-1];if(!l)break;if(l.nodeType==3){let c=t.domSelection();c&&c.collapse(l,l.nodeValue.length);break}else i=l,s=-1}}t.input.composing=!0}bM(t,DU)};$n.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,bM(t,20))};function bM(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Gp(t),e))}function wM(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=LU());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function IU(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=Az(e.focusNode,e.focusOffset),r=kz(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let l=n.pmViewDesc;if(!(!l||!l.isText(n.nodeValue)))return r}}return n||r}function LU(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Gp(t,e=!1){if(!(Os&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),wM(t),e||t.docView&&t.docView.dirty){let n=lb(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function jU(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const zd=nr&&Yo<15||Lc&&Rz<604;Vn.copy=$n.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=zd?null:n.clipboardData,l=r.content(),{dom:c,text:d}=ub(t,l);s?(n.preventDefault(),s.clearData(),s.setData("text/html",c.innerHTML),s.setData("text/plain",d)):jU(t,c),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function PU(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function zU(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Ud(t,r.value,null,i,e):Ud(t,r.textContent,r.innerHTML,i,e)},50)}function Ud(t,e,n,r,i){let s=dM(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",d=>d(t,i,s||be.empty)))return!0;if(!s)return!1;let l=PU(s),c=l?t.state.tr.replaceSelectionWith(l,r):t.state.tr.replaceSelection(s);return t.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function SM(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}$n.paste=(t,e)=>{let n=e;if(t.composing&&!Os)return;let r=zd?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Ud(t,SM(r),r.getData("text/html"),i,n)?n.preventDefault():zU(t,n)};class xM{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const UU=Vr?"altKey":"ctrlKey";function EM(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[UU]}Vn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(Qm(n)),l;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof De?i.to-1:i.to))){if(r&&r.mightDrag)l=De.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let m=t.docView.nearestDesc(n.target,!0);m&&m.node.type.spec.draggable&&m!=t.docView&&(l=De.create(t.state.doc,m.posBefore))}}let c=(l||t.state.selection).content(),{dom:d,text:f,slice:p}=ub(t,c);(!n.dataTransfer.files.length||!Mn||YN>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(zd?"Text":"text/html",d.innerHTML),n.dataTransfer.effectAllowed="copyMove",zd||n.dataTransfer.setData("text/plain",f),t.dragging=new xM(p,EM(t,n),l)};Vn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};$n.dragover=$n.dragenter=(t,e)=>e.preventDefault();$n.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Qm(n));if(!i)return;let s=t.state.doc.resolve(i.pos),l=r&&r.slice;l?t.someProp("transformPasted",x=>{l=x(l,t)}):l=dM(t,SM(n.dataTransfer),zd?null:n.dataTransfer.getData("text/html"),!1,s);let c=!!(r&&EM(t,n));if(t.someProp("handleDrop",x=>x(t,n,l||be.empty,c))){n.preventDefault();return}if(!l)return;n.preventDefault();let d=l?UN(t.state.doc,s.pos,l):s.pos;d==null&&(d=s.pos);let f=t.state.tr;if(c){let{node:x}=r;x?x.replace(f):f.deleteSelection()}let p=f.mapping.map(d),m=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,v=f.doc;if(m?f.replaceRangeWith(p,p,l.content.firstChild):f.replaceRange(p,p,l),f.doc.eq(v))return;let w=f.doc.resolve(p);if(m&&De.isSelectable(l.content.firstChild)&&w.nodeAfter&&w.nodeAfter.sameMarkup(l.content.firstChild))f.setSelection(new De(w));else{let x=f.mapping.map(d);f.mapping.maps[f.mapping.maps.length-1].forEach((E,C,O,I)=>x=I),f.setSelection(cb(t,w,f.doc.resolve(x)))}t.focus(),t.dispatch(f.setMeta("uiEvent","drop"))};Vn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Ds(t)},20))};Vn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Vn.beforeinput=(t,e)=>{if(Mn&&Os&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,$a(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in $n)Vn[t]=$n[t];function Bd(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Kp{constructor(e,n){this.toDOM=e,this.spec=n||nl,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:l}=e.mapResult(n.from+i,this.side<0?-1:1);return l?null:new Un(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Kp&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Bd(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Jo{constructor(e,n){this.attrs=e,this.spec=n||nl}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,l=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=l?null:new Un(s,l,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Jo&&Bd(this.attrs,e.attrs)&&Bd(this.spec,e.spec)}static is(e){return e.type instanceof Jo}destroy(){}}class pb{constructor(e,n){this.attrs=e,this.spec=n||nl}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let l=e.mapResult(n.to+i,-1);return l.deleted||l.pos<=s.pos?null:new Un(s.pos-r,l.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof pb&&Bd(this.attrs,e.attrs)&&Bd(this.spec,e.spec)}destroy(){}}class Un{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Un(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Un(e,e,new Kp(n,r))}static inline(e,n,r,i){return new Un(e,n,new Jo(r,i))}static node(e,n,r,i){return new Un(e,n,new pb(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Jo}get widget(){return this.type instanceof Kp}}const pc=[],nl={};class zt{constructor(e,n){this.local=e.length?e:pc,this.children=n.length?n:pc}static create(e,n){return n.length?Yp(n,e,0,nl):kn}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let l=0;l<this.local.length;l++){let c=this.local[l];c.from<=n&&c.to>=e&&(!s||s(c.spec))&&r.push(c.copy(c.from+i,c.to+i))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<n&&this.children[l+1]>e){let c=this.children[l]+1;this.children[l+2].findInner(e-c,n-c,r,i+c,s)}}map(e,n,r){return this==kn||e.maps.length==0?this:this.mapInner(e,n,0,0,r||nl)}mapInner(e,n,r,i,s){let l;for(let c=0;c<this.local.length;c++){let d=this.local[c].map(e,r,i);d&&d.type.valid(n,d)?(l||(l=[])).push(d):s.onRemove&&s.onRemove(this.local[c].spec)}return this.children.length?BU(this.children,l||[],e,n,r,i,s):l?new zt(l.sort(rl),pc):kn}add(e,n){return n.length?this==kn?zt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((c,d)=>{let f=d+r,p;if(p=CM(n,c,f)){for(i||(i=this.children.slice());s<i.length&&i[s]<d;)s+=3;i[s]==d?i[s+2]=i[s+2].addInner(c,p,f+1):i.splice(s,0,d,d+c.nodeSize,Yp(p,c,f+1,nl)),s+=3}});let l=TM(s?AM(n):n,-r);for(let c=0;c<l.length;c++)l[c].type.valid(e,l[c])||l.splice(c--,1);return new zt(l.length?this.local.concat(l).sort(rl):this.local,i||this.children)}remove(e){return e.length==0||this==kn?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let l,c=r[s]+n,d=r[s+1]+n;for(let p=0,m;p<e.length;p++)(m=e[p])&&m.from>c&&m.to<d&&(e[p]=null,(l||(l=[])).push(m));if(!l)continue;r==this.children&&(r=this.children.slice());let f=r[s+2].removeInner(l,c+1);f!=kn?r[s+2]=f:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,l;s<e.length;s++)if(l=e[s])for(let c=0;c<i.length;c++)i[c].eq(l,n)&&(i==this.local&&(i=this.local.slice()),i.splice(c--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new zt(i,r):kn}forChild(e,n){if(this==kn)return this;if(n.isLeaf)return zt.empty;let r,i;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(r=this.children[c+2]);break}let s=e+1,l=s+n.content.size;for(let c=0;c<this.local.length;c++){let d=this.local[c];if(d.from<l&&d.to>s&&d.type instanceof Jo){let f=Math.max(s,d.from)-s,p=Math.min(l,d.to)-s;f<p&&(i||(i=[])).push(d.copy(f,p))}}if(i){let c=new zt(i.sort(rl),pc);return r?new Po([c,r]):c}return r||kn}eq(e){if(this==e)return!0;if(!(e instanceof zt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return mb(this.localsInner(e))}localsInner(e){if(this==kn)return pc;if(e.inlineContent||!this.local.some(Jo.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Jo||n.push(this.local[r]);return n}forEachSet(e){e(this)}}zt.empty=new zt([],[]);zt.removeOverlap=mb;const kn=zt.empty;class Po{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,nl));return Po.from(r)}forChild(e,n){if(n.isLeaf)return zt.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=kn&&(s instanceof Po?r=r.concat(s.members):r.push(s))}return Po.from(r)}eq(e){if(!(e instanceof Po)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let l=0;l<s.length;l++)n.push(s[l])}}return n?mb(r?n:n.sort(rl)):pc}static from(e){switch(e.length){case 0:return kn;case 1:return e[0];default:return new Po(e.every(n=>n instanceof zt)?e:e.reduce((n,r)=>n.concat(r instanceof zt?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function BU(t,e,n,r,i,s,l){let c=t.slice();for(let f=0,p=s;f<n.maps.length;f++){let m=0;n.maps[f].forEach((v,w,x,E)=>{let C=E-x-(w-v);for(let O=0;O<c.length;O+=3){let I=c[O+1];if(I<0||v>I+p-m)continue;let j=c[O]+p-m;w>=j?c[O+1]=v<=j?-2:-1:v>=p&&C&&(c[O]+=C,c[O+1]+=C)}m+=C}),p=n.maps[f].map(p,-1)}let d=!1;for(let f=0;f<c.length;f+=3)if(c[f+1]<0){if(c[f+1]==-2){d=!0,c[f+1]=-1;continue}let p=n.map(t[f]+s),m=p-i;if(m<0||m>=r.content.size){d=!0;continue}let v=n.map(t[f+1]+s,-1),w=v-i,{index:x,offset:E}=r.content.findIndex(m),C=r.maybeChild(x);if(C&&E==m&&E+C.nodeSize==w){let O=c[f+2].mapInner(n,C,p+1,t[f]+s+1,l);O!=kn?(c[f]=m,c[f+1]=w,c[f+2]=O):(c[f+1]=-2,d=!0)}else d=!0}if(d){let f=HU(c,t,e,n,i,s,l),p=Yp(f,r,0,l);e=p.local;for(let m=0;m<c.length;m+=3)c[m+1]<0&&(c.splice(m,3),m-=3);for(let m=0,v=0;m<p.children.length;m+=3){let w=p.children[m];for(;v<c.length&&c[v]<w;)v+=3;c.splice(v,0,p.children[m],p.children[m+1],p.children[m+2])}}return new zt(e.sort(rl),c)}function TM(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Un(i.from+e,i.to+e,i.type))}return n}function HU(t,e,n,r,i,s,l){function c(d,f){for(let p=0;p<d.local.length;p++){let m=d.local[p].map(r,i,f);m?n.push(m):l.onRemove&&l.onRemove(d.local[p].spec)}for(let p=0;p<d.children.length;p+=3)c(d.children[p+2],d.children[p]+f+1)}for(let d=0;d<t.length;d+=3)t[d+1]==-1&&c(t[d+2],e[d]+s+1);return n}function CM(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,l;s<t.length;s++)(l=t[s])&&l.from>n&&l.to<r&&((i||(i=[])).push(l),t[s]=null);return i}function AM(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Yp(t,e,n,r){let i=[],s=!1;e.forEach((c,d)=>{let f=CM(t,c,d+n);if(f){s=!0;let p=Yp(f,c,n+d+1,r);p!=kn&&i.push(d,d+c.nodeSize,p)}});let l=TM(s?AM(t):t,-n).sort(rl);for(let c=0;c<l.length;c++)l[c].type.valid(e,l[c])||(r.onRemove&&r.onRemove(l[c].spec),l.splice(c--,1));return l.length||i.length?new zt(l,i):kn}function rl(t,e){return t.from-e.from||t.to-e.to}function mb(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),JT(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),JT(e,i,r.copy(s.from,r.to)));break}}}return e}function JT(t,e,n){for(;e<t.length&&rl(n,t[e])>0;)e++;t.splice(e,0,n)}function F0(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=kn&&e.push(r)}),t.cursorWrapper&&e.push(zt.create(t.state.doc,[t.cursorWrapper.deco])),Po.from(e)}const VU={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},$U=nr&&Yo<=11;class FU{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class qU{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new FU,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);nr&&Yo<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),$U&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,VU)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if($T(this.view)){if(this.suppressingSelectionUpdates)return Ds(this.view);if(nr&&Yo<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&fl(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=Ic(s))n.add(s);for(let s=e.anchorNode;s;s=Ic(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&$T(e)&&!this.ignoreSelectionChange(r),s=-1,l=-1,c=!1,d=[];if(e.editable)for(let p=0;p<n.length;p++){let m=this.registerMutation(n[p],d);m&&(s=s<0?m.from:Math.min(m.from,s),l=l<0?m.to:Math.max(m.to,l),m.typeOver&&(c=!0))}if(ui&&d.length){let p=d.filter(m=>m.nodeName=="BR");if(p.length==2){let[m,v]=p;m.parentNode&&m.parentNode.parentNode==v.parentNode?v.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let v of p){let w=v.parentNode;w&&w.nodeName=="LI"&&(!m||KU(e,m)!=w)&&v.remove()}}}let f=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Xm(r)&&(f=lb(e))&&f.eq(Ue.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Ds(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,l),WU(e)),this.handleDOMChange(s,l,c,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Ds(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let m=e.addedNodes[p];n.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(nr&&Yo<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:m,nextSibling:v}=e.addedNodes[p];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(i=m),(!v||Array.prototype.indexOf.call(e.addedNodes,v)<0)&&(s=v)}let l=i&&i.parentNode==e.target?Sn(i)+1:0,c=r.localPosFromDOM(e.target,l,-1),d=s&&s.parentNode==e.target?Sn(s):e.target.childNodes.length,f=r.localPosFromDOM(e.target,d,1);return{from:c,to:f}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let QT=new WeakMap,ZT=!1;function WU(t){if(!QT.has(t)&&(QT.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=ui,ZT)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),ZT=!0}}function eC(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,l=t.domAtPos(t.state.selection.anchor);return fl(l.node,l.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function GU(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return eC(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?eC(t,n):null}function KU(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function YU(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:l,to:c}=t.docView.parseRange(e,n),d=t.domSelectionRange(),f,p=d.anchorNode;if(p&&t.dom.contains(p.nodeType==1?p:p.parentNode)&&(f=[{node:p,offset:d.anchorOffset}],Xm(d)||f.push({node:d.focusNode,offset:d.focusOffset})),Mn&&t.input.lastKeyCode===8)for(let C=s;C>i;C--){let O=r.childNodes[C-1],I=O.pmViewDesc;if(O.nodeName=="BR"&&!I){s=C;break}if(!I||I.size)break}let m=t.state.doc,v=t.someProp("domParser")||Ko.fromSchema(t.state.schema),w=m.resolve(l),x=null,E=v.parse(r,{topNode:w.parent,topMatch:w.parent.contentMatchAt(w.index()),topOpen:!0,from:i,to:s,preserveWhitespace:w.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:XU,context:w});if(f&&f[0].pos!=null){let C=f[0].pos,O=f[1]&&f[1].pos;O==null&&(O=C),x={anchor:C+l,head:O+l}}return{doc:E,sel:x,from:l,to:c}}function XU(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Hn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Hn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const JU=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function QU(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let M=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,D=lb(t,M);if(D&&!t.state.selection.eq(D)){if(Mn&&Os&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",V=>V(t,$a(13,"Enter"))))return;let R=t.state.tr.setSelection(D);M=="pointer"?R.setMeta("pointer",!0):M=="key"&&R.scrollIntoView(),s&&R.setMeta("composition",s),t.dispatch(R)}return}let l=t.state.doc.resolve(e),c=l.sharedDepth(n);e=l.before(c+1),n=t.state.doc.resolve(n).after(c+1);let d=t.state.selection,f=YU(t,e,n),p=t.state.doc,m=p.slice(f.from,f.to),v,w;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(v=t.state.selection.to,w="end"):(v=t.state.selection.from,w="start"),t.input.lastKeyCode=null;let x=tB(m.content,f.doc.content,f.from,v,w);if(x&&t.input.domChangeCount++,(Lc&&t.input.lastIOSEnter>Date.now()-225||Os)&&i.some(M=>M.nodeType==1&&!JU.test(M.nodeName))&&(!x||x.endA>=x.endB)&&t.someProp("handleKeyDown",M=>M(t,$a(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!x)if(r&&d instanceof Ve&&!d.empty&&d.$head.sameParent(d.$anchor)&&!t.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))x={start:d.from,endA:d.to,endB:d.to};else{if(f.sel){let M=tC(t,t.state.doc,f.sel);if(M&&!M.eq(t.state.selection)){let D=t.state.tr.setSelection(M);s&&D.setMeta("composition",s),t.dispatch(D)}}return}t.state.selection.from<t.state.selection.to&&x.start==x.endB&&t.state.selection instanceof Ve&&(x.start>t.state.selection.from&&x.start<=t.state.selection.from+2&&t.state.selection.from>=f.from?x.start=t.state.selection.from:x.endA<t.state.selection.to&&x.endA>=t.state.selection.to-2&&t.state.selection.to<=f.to&&(x.endB+=t.state.selection.to-x.endA,x.endA=t.state.selection.to)),nr&&Yo<=11&&x.endB==x.start+1&&x.endA==x.start&&x.start>f.from&&f.doc.textBetween(x.start-f.from-1,x.start-f.from+1)==" "&&(x.start--,x.endA--,x.endB--);let E=f.doc.resolveNoCache(x.start-f.from),C=f.doc.resolveNoCache(x.endB-f.from),O=p.resolve(x.start),I=E.sameParent(C)&&E.parent.inlineContent&&O.end()>=x.endA,j;if((Lc&&t.input.lastIOSEnter>Date.now()-225&&(!I||i.some(M=>M.nodeName=="DIV"||M.nodeName=="P"))||!I&&E.pos<f.doc.content.size&&(!E.sameParent(C)||!E.parent.inlineContent)&&!/\S/.test(f.doc.textBetween(E.pos,C.pos,"",""))&&(j=Ue.findFrom(f.doc.resolve(E.pos+1),1,!0))&&j.head>E.pos)&&t.someProp("handleKeyDown",M=>M(t,$a(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>x.start&&eB(p,x.start,x.endA,E,C)&&t.someProp("handleKeyDown",M=>M(t,$a(8,"Backspace")))){Os&&Mn&&t.domObserver.suppressSelectionUpdates();return}Mn&&x.endB==x.start&&(t.input.lastChromeDelete=Date.now()),Os&&!I&&E.start()!=C.start()&&C.parentOffset==0&&E.depth==C.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==x.endA&&(x.endB-=2,C=f.doc.resolveNoCache(x.endB-f.from),setTimeout(()=>{t.someProp("handleKeyDown",function(M){return M(t,$a(13,"Enter"))})},20));let U=x.start,P=x.endA,L=M=>{let D=M||t.state.tr.replace(U,P,f.doc.slice(x.start-f.from,x.endB-f.from));if(f.sel){let R=tC(t,D.doc,f.sel);R&&!(Mn&&t.composing&&R.empty&&(x.start!=x.endB||t.input.lastChromeDelete<Date.now()-100)&&(R.head==U||R.head==D.mapping.map(P)-1)||nr&&R.empty&&R.head==U)&&D.setSelection(R)}return s&&D.setMeta("composition",s),D.scrollIntoView()},_;if(I){if(E.pos==C.pos){nr&&Yo<=11&&E.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ds(t),20));let M=L(t.state.tr.delete(U,P)),D=p.resolve(x.start).marksAcross(p.resolve(x.endA));D&&M.ensureMarks(D),t.dispatch(M)}else if(x.endA==x.endB&&(_=ZU(E.parent.content.cut(E.parentOffset,C.parentOffset),O.parent.content.cut(O.parentOffset,x.endA-O.start())))){let M=L(t.state.tr);_.type=="add"?M.addMark(U,P,_.mark):M.removeMark(U,P,_.mark),t.dispatch(M)}else if(E.parent.child(E.index()).isText&&E.index()==C.index()-(C.textOffset?0:1)){let M=E.parent.textBetween(E.parentOffset,C.parentOffset),D=()=>L(t.state.tr.insertText(M,U,P));t.someProp("handleTextInput",R=>R(t,U,P,M,D))||t.dispatch(D())}}else t.dispatch(L())}function tC(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:cb(t,e.resolve(n.anchor),e.resolve(n.head))}function ZU(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,l,c,d;for(let p=0;p<r.length;p++)i=r[p].removeFromSet(i);for(let p=0;p<n.length;p++)s=n[p].removeFromSet(s);if(i.length==1&&s.length==0)c=i[0],l="add",d=p=>p.mark(c.addToSet(p.marks));else if(i.length==0&&s.length==1)c=s[0],l="remove",d=p=>p.mark(c.removeFromSet(p.marks));else return null;let f=[];for(let p=0;p<e.childCount;p++)f.push(d(e.child(p)));if(fe.from(f).eq(t))return{mark:c,type:l}}function eB(t,e,n,r,i){if(n-e<=i.pos-r.pos||q0(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let c=s.nodeAfter;return c!=null&&n==e+c.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let l=t.resolve(q0(s,!0,!0));return!l.parent.isTextblock||l.pos>n||q0(l,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(l.parent.content)}function q0(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function tB(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:l,b:c}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let d=Math.max(0,s-Math.min(l,c));r-=l+d-s}if(l<s&&t.size<e.size){let d=r<=s&&r>=l?s-r:0;s-=d,s&&s<e.size&&nC(e.textBetween(s-1,s+1))&&(s+=d?1:-1),c=s+(c-l),l=s}else if(c<s){let d=r<=s&&r>=c?s-r:0;s-=d,s&&s<t.size&&nC(t.textBetween(s-1,s+1))&&(s+=d?1:-1),l=s+(l-c),c=s}return{start:s,endA:l,endB:c}}function nC(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class kM{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new wU,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(aC),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=sC(this),iC(this),this.nodeViews=oC(this),this.docView=PT(this.state.doc,rC(this),F0(this),this.dom,this),this.domObserver=new qU(this,(r,i,s,l)=>QU(this,r,i,s,l)),this.domObserver.start(),SU(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Qv(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(aC),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,l=!1;e.storedMarks&&this.composing&&(wM(this),l=!0),this.state=e;let c=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(c||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let w=oC(this);rB(w,this.nodeViews)&&(this.nodeViews=w,s=!0)}(c||n.handleDOMEvents!=this._props.handleDOMEvents)&&Qv(this),this.editable=sC(this),iC(this);let d=F0(this),f=rC(this),p=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",m=s||!this.docView.matchesNode(e.doc,f,d);(m||!e.selection.eq(i.selection))&&(l=!0);let v=p=="preserve"&&l&&this.dom.style.overflowAnchor==null&&Lz(this);if(l){this.domObserver.stop();let w=m&&(nr||Mn)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&nB(i.selection,e.selection);if(m){let x=Mn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=IU(this)),(s||!this.docView.update(e.doc,f,d,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=PT(e.doc,f,d,this.dom,this)),x&&!this.trackWrites&&(w=!0)}w||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&sU(this))?Ds(this,w):(lM(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():v&&jz(v)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof De){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&_T(this,n.getBoundingClientRect(),e)}else _T(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new xM(e.slice,e.move,i<0?void 0:De.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let l=0;l<this.directPlugins.length;l++){let c=this.directPlugins[l].props[e];if(c!=null&&(i=n?n(c):c))return i}let s=this.state.plugins;if(s)for(let l=0;l<s.length;l++){let c=s[l].props[e];if(c!=null&&(i=n?n(c):c))return i}}hasFocus(){if(nr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Pz(this.dom),Ds(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Vz(this,e)}coordsAtPos(e,n=1){return eM(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return Gz(this,n||this.state,e)}pasteHTML(e,n){return Ud(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Ud(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return ub(this,e)}destroy(){this.docView&&(xU(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],F0(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Tz())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return TU(this,e)}domSelectionRange(){let e=this.domSelection();return e?Hn&&this.root.nodeType===11&&Mz(this.dom.ownerDocument)==this.dom&&GU(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}kM.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function rC(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Un.node(0,t.state.doc.content.size,e)]}function iC(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Un.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function sC(t){return!t.someProp("editable",e=>e(t.state)===!1)}function nB(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function oC(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function rB(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function aC(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ea={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Xp={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},iB=typeof navigator<"u"&&/Mac/.test(navigator.platform),sB=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var xn=0;xn<10;xn++)ea[48+xn]=ea[96+xn]=String(xn);for(var xn=1;xn<=24;xn++)ea[xn+111]="F"+xn;for(var xn=65;xn<=90;xn++)ea[xn]=String.fromCharCode(xn+32),Xp[xn]=String.fromCharCode(xn);for(var W0 in ea)Xp.hasOwnProperty(W0)||(Xp[W0]=ea[W0]);function oB(t){var e=iB&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||sB&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Xp:ea)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const aB=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),lB=typeof navigator<"u"&&/Win/.test(navigator.platform);function cB(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,l;for(let c=0;c<e.length-1;c++){let d=e[c];if(/^(cmd|meta|m)$/i.test(d))l=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))i=!0;else if(/^s(hift)?$/i.test(d))s=!0;else if(/^mod$/i.test(d))aB?l=!0:i=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),l&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function uB(t){let e=Object.create(null);for(let n in t)e[cB(n)]=t[n];return e}function G0(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function dB(t){return new jt({props:{handleKeyDown:gb(t)}})}function gb(t){let e=uB(t);return function(n,r){let i=oB(r),s,l=e[G0(i,r)];if(l&&l(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let c=e[G0(i,r,!1)];if(c&&c(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(lB&&r.ctrlKey&&r.altKey)&&(s=ea[r.keyCode])&&s!=i){let c=e[G0(s,r)];if(c&&c(n.state,n.dispatch,n))return!0}}return!1}}const yb=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function NM(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const MM=(t,e,n)=>{let r=NM(t,n);if(!r)return!1;let i=vb(r);if(!i){let l=r.blockRange(),c=l&&Kc(l);return c==null?!1:(e&&e(t.tr.lift(l,c).scrollIntoView()),!0)}let s=i.nodeBefore;if(zM(t,i,e,-1))return!0;if(r.parent.content.size==0&&(jc(s,"end")||De.isSelectable(s)))for(let l=r.depth;;l--){let c=Km(t.doc,r.before(l),r.after(l),be.empty);if(c&&c.slice.size<c.to-c.from){if(e){let d=t.tr.step(c);d.setSelection(jc(s,"end")?Ue.findFrom(d.doc.resolve(d.mapping.map(i.pos,-1)),-1):De.create(d.doc,i.pos-s.nodeSize)),e(d.scrollIntoView())}return!0}if(l==1||r.node(l-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},fB=(t,e,n)=>{let r=NM(t,n);if(!r)return!1;let i=vb(r);return i?OM(t,i,e):!1},hB=(t,e,n)=>{let r=RM(t,n);if(!r)return!1;let i=bb(r);return i?OM(t,i,e):!1};function OM(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let p=i.lastChild;if(!p)return!1;i=p}let l=e.nodeAfter,c=l,d=e.pos+1;for(;!c.isTextblock;d++){if(c.type.spec.isolating)return!1;let p=c.firstChild;if(!p)return!1;c=p}let f=Km(t.doc,s,d,be.empty);if(!f||f.from!=s||f instanceof fn&&f.slice.size>=d-s)return!1;if(n){let p=t.tr.step(f);p.setSelection(Ve.create(p.doc,s)),n(p.scrollIntoView())}return!0}function jc(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const _M=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=vb(r)}let l=s&&s.nodeBefore;return!l||!De.isSelectable(l)?!1:(e&&e(t.tr.setSelection(De.create(t.doc,s.pos-l.nodeSize)).scrollIntoView()),!0)};function vb(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function RM(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const DM=(t,e,n)=>{let r=RM(t,n);if(!r)return!1;let i=bb(r);if(!i)return!1;let s=i.nodeAfter;if(zM(t,i,e,1))return!0;if(r.parent.content.size==0&&(jc(s,"start")||De.isSelectable(s))){let l=Km(t.doc,r.before(),r.after(),be.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=t.tr.step(l);c.setSelection(jc(s,"start")?Ue.findFrom(c.doc.resolve(c.mapping.map(i.pos)),1):De.create(c.doc,c.mapping.map(i.pos))),e(c.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},IM=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=bb(r)}let l=s&&s.nodeAfter;return!l||!De.isSelectable(l)?!1:(e&&e(t.tr.setSelection(De.create(t.doc,s.pos)).scrollIntoView()),!0)};function bb(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const pB=(t,e)=>{let n=t.selection,r=n instanceof De,i;if(r){if(n.node.isTextblock||!aa(t.doc,n.from))return!1;i=n.from}else if(i=Gm(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(De.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},mB=(t,e)=>{let n=t.selection,r;if(n instanceof De){if(n.node.isTextblock||!aa(t.doc,n.to))return!1;r=n.to}else if(r=Gm(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},gB=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&Kc(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},LM=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function wb(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const yB=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),l=wb(i.contentMatchAt(s));if(!l||!i.canReplaceWith(s,s,l))return!1;if(e){let c=n.after(),d=t.tr.replaceWith(c,c,l.createAndFill());d.setSelection(Ue.near(d.doc.resolve(c),1)),e(d.scrollIntoView())}return!0},jM=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof br||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=wb(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let l=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,c=t.tr.insert(l,s.createAndFill());c.setSelection(Ve.create(c.doc,l+1)),e(c.scrollIntoView())}return!0},PM=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Rs(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Kc(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function vB(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof De&&e.selection.node.isBlock)return!r.parentOffset||!Rs(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],l,c,d=!1,f=!1;for(let w=r.depth;;w--)if(r.node(w).isBlock){d=r.end(w)==r.pos+(r.depth-w),f=r.start(w)==r.pos-(r.depth-w),c=wb(r.node(w-1).contentMatchAt(r.indexAfter(w-1))),s.unshift(d&&c?{type:c}:null),l=w;break}else{if(w==1)return!1;s.unshift(null)}let p=e.tr;(e.selection instanceof Ve||e.selection instanceof br)&&p.deleteSelection();let m=p.mapping.map(r.pos),v=Rs(p.doc,m,s.length,s);if(v||(s[0]=c?{type:c}:null,v=Rs(p.doc,m,s.length,s)),!v)return!1;if(p.split(m,s.length,s),!d&&f&&r.node(l).type!=c){let w=p.mapping.map(r.before(l)),x=p.doc.resolve(w);c&&r.node(l-1).canReplaceWith(x.index(),x.index()+1,c)&&p.setNodeMarkup(p.mapping.map(r.before(l)),c)}return n&&n(p.scrollIntoView()),!0}}const bB=vB(),wB=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(De.create(t.doc,i))),!0)};function SB(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||aa(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function zM(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,l,c,d=i.type.spec.isolating||s.type.spec.isolating;if(!d&&SB(t,e,n))return!0;let f=!d&&e.parent.canReplace(e.index(),e.index()+1);if(f&&(l=(c=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&c.matchType(l[0]||s.type).validEnd){if(n){let w=e.pos+s.nodeSize,x=fe.empty;for(let O=l.length-1;O>=0;O--)x=fe.from(l[O].create(null,x));x=fe.from(i.copy(x));let E=t.tr.step(new hn(e.pos-1,w,e.pos,w,new be(x,1,0),l.length,!0)),C=E.doc.resolve(w+2*l.length);C.nodeAfter&&C.nodeAfter.type==i.type&&aa(E.doc,C.pos)&&E.join(C.pos),n(E.scrollIntoView())}return!0}let p=s.type.spec.isolating||r>0&&d?null:Ue.findFrom(e,1),m=p&&p.$from.blockRange(p.$to),v=m&&Kc(m);if(v!=null&&v>=e.depth)return n&&n(t.tr.lift(m,v).scrollIntoView()),!0;if(f&&jc(s,"start",!0)&&jc(i,"end")){let w=i,x=[];for(;x.push(w),!w.isTextblock;)w=w.lastChild;let E=s,C=1;for(;!E.isTextblock;E=E.firstChild)C++;if(w.canReplace(w.childCount,w.childCount,E.content)){if(n){let O=fe.empty;for(let j=x.length-1;j>=0;j--)O=fe.from(x[j].copy(O));let I=t.tr.step(new hn(e.pos-x.length,e.pos+s.nodeSize,e.pos+C,e.pos+s.nodeSize-C,new be(O,x.length,0),0,!0));n(I.scrollIntoView())}return!0}}return!1}function UM(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(Ve.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const xB=UM(-1),EB=UM(1);function TB(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,l=i.blockRange(s),c=l&&sb(l,t,e);return c?(r&&r(n.tr.wrap(l,c).scrollIntoView()),!0):!1}}function lC(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:l},$to:{pos:c}}=n.selection.ranges[s];n.doc.nodesBetween(l,c,(d,f)=>{if(i)return!1;if(!(!d.isTextblock||d.hasMarkup(t,e)))if(d.type==t)i=!0;else{let p=n.doc.resolve(f),m=p.index();i=p.parent.canReplaceWith(m,m+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let l=0;l<n.selection.ranges.length;l++){let{$from:{pos:c},$to:{pos:d}}=n.selection.ranges[l];s.setBlockType(c,d,t,e)}r(s.scrollIntoView())}return!0}}function Sb(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}Sb(yb,MM,_M);Sb(yb,DM,IM);Sb(LM,jM,PM,bB);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function CB(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,l=i.blockRange(s);if(!l)return!1;let c=r?n.tr:null;return AB(c,l,t,e)?(r&&r(c.scrollIntoView()),!0):!1}}function AB(t,e,n,r=null){let i=!1,s=e,l=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=l.resolve(e.start-2);s=new $p(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new $p(e.$from,l.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let c=sb(s,n,r,e);return c?(t&&kB(t,e,c,i,n),!0):!1}function kB(t,e,n,r,i){let s=fe.empty;for(let p=n.length-1;p>=0;p--)s=fe.from(n[p].type.create(n[p].attrs,s));t.step(new hn(e.start-(r?2:0),e.end,e.start,e.end,new be(s,0,0),n.length,!0));let l=0;for(let p=0;p<n.length;p++)n[p].type==i&&(l=p+1);let c=n.length-l,d=e.start+n.length-(r?2:0),f=e.parent;for(let p=e.startIndex,m=e.endIndex,v=!0;p<m;p++,v=!1)!v&&Rs(t.doc,d,c)&&(t.split(d,c),d+=2*c),d+=f.child(p).nodeSize;return t}function NB(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,l=>l.childCount>0&&l.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?MB(e,n,t,s):OB(e,n,s):!0:!1}}function MB(t,e,n,r){let i=t.tr,s=r.end,l=r.$to.end(r.depth);s<l&&(i.step(new hn(s-1,l,s,l,new be(fe.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new $p(i.doc.resolve(r.$from.pos),i.doc.resolve(l),r.depth));const c=Kc(r);if(c==null)return!1;i.lift(r,c);let d=i.doc.resolve(i.mapping.map(s,-1)-1);return aa(i.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&i.join(d.pos),e(i.scrollIntoView()),!0}function OB(t,e,n){let r=t.tr,i=n.parent;for(let w=n.end,x=n.endIndex-1,E=n.startIndex;x>E;x--)w-=i.child(x).nodeSize,r.delete(w-1,w+1);let s=r.doc.resolve(n.start),l=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let c=n.startIndex==0,d=n.endIndex==i.childCount,f=s.node(-1),p=s.index(-1);if(!f.canReplace(p+(c?0:1),p+1,l.content.append(d?fe.empty:fe.from(i))))return!1;let m=s.pos,v=m+l.nodeSize;return r.step(new hn(m-(c?1:0),v+(d?1:0),m+1,v-1,new be((c?fe.empty:fe.from(i.copy(fe.empty))).append(d?fe.empty:fe.from(i.copy(fe.empty))),c?0:1,d?0:1),c?0:1)),e(r.scrollIntoView()),!0}function _B(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,f=>f.childCount>0&&f.firstChild.type==t);if(!s)return!1;let l=s.startIndex;if(l==0)return!1;let c=s.parent,d=c.child(l-1);if(d.type!=t)return!1;if(n){let f=d.lastChild&&d.lastChild.type==c.type,p=fe.from(f?t.create():null),m=new be(fe.from(t.create(null,fe.from(c.type.create(null,p)))),f?3:1,0),v=s.start,w=s.end;n(e.tr.step(new hn(v-(f?3:1),w,v,w,m,1,!0)).scrollIntoView())}return!0}}var RB=Object.defineProperty,BM=(t,e)=>{for(var n in e)RB(t,n,{get:e[n],enumerable:!0})};function Zm(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}var eg=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,s=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([l,c])=>[l,(...f)=>{const p=c(...f)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,l=[],c=!!t,d=t||i.tr,f=()=>(!c&&e&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(d),l.every(m=>m===!0)),p={...Object.fromEntries(Object.entries(n).map(([m,v])=>[m,(...x)=>{const E=this.buildProps(d,e),C=v(...x)(E);return l.push(C),p}])),run:f};return p}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,s=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([c,d])=>[c,(...f)=>d(...f)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,l={tr:t,editor:r,view:s,state:Zm({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([c,d])=>[c,(...f)=>d(...f)(l)]))}};return l}},DB=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}};function HM(t,e){const n=new FN(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}var VM=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&VM(r)}return t};function Wh(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return VM(n)}function Hd(t,e,n){if(t instanceof Go||t instanceof fe)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return fe.fromArray(t.map(c=>e.nodeFromJSON(c)));const l=e.nodeFromJSON(t);return n.errorOnInvalidContent&&l.check(),l}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),Hd("",e,n)}if(i){if(n.errorOnInvalidContent){let l=!1,c="";const d=new NN({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:f=>(l=!0,c=typeof f=="string"?f:f.outerHTML,null)}]}})});if(n.slice?Ko.fromSchema(d).parseSlice(Wh(t),n.parseOptions):Ko.fromSchema(d).parse(Wh(t),n.parseOptions),n.errorOnInvalidContent&&l)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const s=Ko.fromSchema(e);return n.slice?s.parseSlice(Wh(t),n.parseOptions).content:s.parse(Wh(t),n.parseOptions)}return Hd("",e,n)}function Zv(t,e,n={},r={}){return Hd(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}function IB(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function LB(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function jB(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function tg(t){return e=>jB(e.$from,t)}function Re(t,e,n){return t.config[e]===void 0&&t.parent?Re(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?Re(t.parent,e,n):null}):t.config[e]}function xb(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=Re(e,"addExtensions",n);return r?[e,...xb(r())]:e}).flat(10)}function Eb(t,e){const n=vl.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function $M(t){return typeof t=="function"}function bt(t,e=void 0,...n){return $M(t)?e?t.bind(e)(...n):t(...n):t}function PB(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Vd(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function FM(t){const e=[],{nodeExtensions:n,markExtensions:r}=Vd(t),i=[...n,...r],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(l=>{const c={name:l.name,options:l.options,storage:l.storage,extensions:i},d=Re(l,"addGlobalAttributes",c);if(!d)return;d().forEach(p=>{p.types.forEach(m=>{Object.entries(p.attributes).forEach(([v,w])=>{e.push({type:m,name:v,attribute:{...s,...w}})})})})}),i.forEach(l=>{const c={name:l.name,options:l.options,storage:l.storage},d=Re(l,"addAttributes",c);if(!d)return;const f=d();Object.entries(f).forEach(([p,m])=>{const v={...s,...m};typeof v?.default=="function"&&(v.default=v.default()),v?.isRequired&&v?.default===void 0&&delete v.default,e.push({type:l.name,name:p,attribute:v})})}),e}function Ft(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const c=s?String(s).split(" "):[],d=r[i]?r[i].split(" "):[],f=c.filter(p=>!d.includes(p));r[i]=[...d,...f].join(" ")}else if(i==="style"){const c=s?s.split(";").map(p=>p.trim()).filter(Boolean):[],d=r[i]?r[i].split(";").map(p=>p.trim()).filter(Boolean):[],f=new Map;d.forEach(p=>{const[m,v]=p.split(":").map(w=>w.trim());f.set(m,v)}),c.forEach(p=>{const[m,v]=p.split(":").map(w=>w.trim());f.set(m,v)}),r[i]=Array.from(f.entries()).map(([p,m])=>`${p}: ${m}`).join("; ")}else r[i]=s}),r},{})}function Jp(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Ft(n,r),{})}function zB(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function cC(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,l)=>{const c=l.attribute.parseHTML?l.attribute.parseHTML(n):zB(n.getAttribute(l.name));return c==null?s:{...s,[l.name]:c}},{});return{...r,...i}}}}function uC(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&PB(n)?!1:n!=null))}function UB(t,e){var n;const r=FM(t),{nodeExtensions:i,markExtensions:s}=Vd(t),l=(n=i.find(f=>Re(f,"topNode")))==null?void 0:n.name,c=Object.fromEntries(i.map(f=>{const p=r.filter(O=>O.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},v=t.reduce((O,I)=>{const j=Re(I,"extendNodeSchema",m);return{...O,...j?j(f):{}}},{}),w=uC({...v,content:bt(Re(f,"content",m)),marks:bt(Re(f,"marks",m)),group:bt(Re(f,"group",m)),inline:bt(Re(f,"inline",m)),atom:bt(Re(f,"atom",m)),selectable:bt(Re(f,"selectable",m)),draggable:bt(Re(f,"draggable",m)),code:bt(Re(f,"code",m)),whitespace:bt(Re(f,"whitespace",m)),linebreakReplacement:bt(Re(f,"linebreakReplacement",m)),defining:bt(Re(f,"defining",m)),isolating:bt(Re(f,"isolating",m)),attrs:Object.fromEntries(p.map(O=>{var I,j;return[O.name,{default:(I=O?.attribute)==null?void 0:I.default,validate:(j=O?.attribute)==null?void 0:j.validate}]}))}),x=bt(Re(f,"parseHTML",m));x&&(w.parseDOM=x.map(O=>cC(O,p)));const E=Re(f,"renderHTML",m);E&&(w.toDOM=O=>E({node:O,HTMLAttributes:Jp(O,p)}));const C=Re(f,"renderText",m);return C&&(w.toText=C),[f.name,w]})),d=Object.fromEntries(s.map(f=>{const p=r.filter(C=>C.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},v=t.reduce((C,O)=>{const I=Re(O,"extendMarkSchema",m);return{...C,...I?I(f):{}}},{}),w=uC({...v,inclusive:bt(Re(f,"inclusive",m)),excludes:bt(Re(f,"excludes",m)),group:bt(Re(f,"group",m)),spanning:bt(Re(f,"spanning",m)),code:bt(Re(f,"code",m)),attrs:Object.fromEntries(p.map(C=>{var O,I;return[C.name,{default:(O=C?.attribute)==null?void 0:O.default,validate:(I=C?.attribute)==null?void 0:I.validate}]}))}),x=bt(Re(f,"parseHTML",m));x&&(w.parseDOM=x.map(C=>cC(C,p)));const E=Re(f,"renderHTML",m);return E&&(w.toDOM=C=>E({mark:C,HTMLAttributes:Jp(C,p)})),[f.name,w]}));return new NN({topNode:l,nodes:c,marks:d})}function BB(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function Tb(t){return t.sort((n,r)=>{const i=Re(n,"priority")||100,s=Re(r,"priority")||100;return i>s?-1:i<s?1:0})}function qM(t){const e=Tb(xb(t)),n=BB(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function WM(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:l={}}=n||{};let c="";return t.nodesBetween(r,i,(d,f,p,m)=>{var v;d.isBlock&&f>r&&(c+=s);const w=l?.[d.type.name];if(w)return p&&(c+=w({node:d,pos:f,parent:p,index:m,range:e})),!1;d.isText&&(c+=(v=d?.text)==null?void 0:v.slice(Math.max(r,f)-f,i-f))}),c}function GM(t,e){const n={from:0,to:t.content.size};return WM(t,n,e)}function Cb(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function Us(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function KM(t,e){const n=Us(e,t.schema),{from:r,to:i,empty:s}=t.selection,l=[];s?(t.storedMarks&&l.push(...t.storedMarks),l.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,d=>{l.push(...d.marks)});const c=l.find(d=>d.type.name===n.name);return c?{...c.attrs}:{}}function en(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function HB(t,e){const n=en(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,c=>{s.push(c)});const l=s.reverse().find(c=>c.type.name===n.name);return l?{...l.attrs}:{}}function ng(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function YM(t,e){const n=ng(typeof e=="string"?e:e.name,t.schema);return n==="node"?HB(t,e):n==="mark"?KM(t,e):{}}function VB(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function $B(t){const e=VB(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,l)=>l!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function XM(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const l=[];if(i.ranges.length)i.forEach((c,d)=>{l.push({from:c,to:d})});else{const{from:c,to:d}=n[s];if(c===void 0||d===void 0)return;l.push({from:c,to:d})}l.forEach(({from:c,to:d})=>{const f=e.slice(s).map(c,-1),p=e.slice(s).map(d),m=e.invert().map(f,-1),v=e.invert().map(p);r.push({oldRange:{from:m,to:v},newRange:{from:f,to:p}})})}),$B(r)}function Ab(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Qp(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:Ab(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function JM(t,e,n={}){return t.find(r=>r.type===e&&Qp(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function dC(t,e,n={}){return!!JM(t,e,n)}function kb(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(p=>p.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(p=>p.type===e)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!JM([...i.node.marks],e,n)))return;let l=i.index,c=t.start()+i.offset,d=l+1,f=c+i.node.nodeSize;for(;l>0&&dC([...t.parent.child(l-1).marks],e,n);)l-=1,c-=t.parent.child(l).nodeSize;for(;d<t.parent.childCount&&dC([...t.parent.child(d).marks],e,n);)f+=t.parent.child(d).nodeSize,d+=1;return{from:c,to:f}}function Nb(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),l=kb(s,i.type);l&&r.push({mark:i,...l})}):n.nodesBetween(t,e,(i,s)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(l=>({from:s,to:s+i.nodeSize,mark:l})))}),r}var FB=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let s=r,l=null;for(;s>0&&l===null;){const c=i.node(s);c?.type.name===e?l=c:s-=1}return[l,s]};function K0(t,e){return e.nodes[t]||e.marks[t]||null}function Sp(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}var qB=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,l,c)=>{var d,f;const p=((f=(d=i.type.spec).toText)==null?void 0:f.call(d,{node:i,pos:s,parent:l,index:c}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?p:p.slice(0,Math.max(0,r-s))}),n};function e1(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?Us(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(m=>s?s.name===m.type.name:!0).find(m=>Qp(m.attrs,n,{strict:!1}));let l=0;const c=[];if(i.forEach(({$from:m,$to:v})=>{const w=m.pos,x=v.pos;t.doc.nodesBetween(w,x,(E,C)=>{if(!E.isText&&!E.marks.length)return;const O=Math.max(w,C),I=Math.min(x,C+E.nodeSize),j=I-O;l+=j,c.push(...E.marks.map(U=>({mark:U,from:O,to:I})))})}),l===0)return!1;const d=c.filter(m=>s?s.name===m.mark.type.name:!0).filter(m=>Qp(m.mark.attrs,n,{strict:!1})).reduce((m,v)=>m+v.to-v.from,0),f=c.filter(m=>s?m.mark.type!==s&&m.mark.type.excludes(s):!0).reduce((m,v)=>m+v.to-v.from,0);return(d>0?d+f:d)>=l}function ta(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,l=e?en(e,t.schema):null,c=[];t.doc.nodesBetween(r,i,(m,v)=>{if(m.isText)return;const w=Math.max(r,v),x=Math.min(i,v+m.nodeSize);c.push({node:m,from:w,to:x})});const d=i-r,f=c.filter(m=>l?l.name===m.node.type.name:!0).filter(m=>Qp(m.node.attrs,n,{strict:!1}));return s?!!f.length:f.reduce((m,v)=>m+v.to-v.from,0)>=d}function WB(t,e,n={}){if(!e)return ta(t,null,n)||e1(t,null,n);const r=ng(e,t.schema);return r==="node"?ta(t,e,n):r==="mark"?e1(t,e,n):!1}var GB=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const s=tg(c=>c.type.name===e)(t.selection);if(!s)return!1;const l=t.doc.resolve(s.pos+1);return i.pos+1===l.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},KB=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function fC(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function hC(t,e){const{nodeExtensions:n}=Vd(e),r=n.find(l=>l.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=bt(Re(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function rg(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(rg(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function QM(t){return t instanceof De}function Mb(t){return t instanceof Ve}function _s(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function ZM(t,e,n){const i=t.state.doc.content.size,s=_s(e,0,i),l=_s(n,0,i),c=t.coordsAtPos(s),d=t.coordsAtPos(l,-1),f=Math.min(c.top,d.top),p=Math.max(c.bottom,d.bottom),m=Math.min(c.left,d.left),v=Math.max(c.right,d.right),w=v-m,x=p-f,O={top:f,bottom:p,left:m,right:v,width:w,height:x,x:m,y:f};return{...O,toJSON:()=>O}}function eO(t,e=null){if(!e)return null;const n=Ue.atStart(t),r=Ue.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?Ve.create(t,_s(0,i,s),_s(t.content.size,i,s)):Ve.create(t,_s(e,i,s),_s(e,i,s))}function YB(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof fn||i instanceof hn))return;const s=t.mapping.maps[r];let l=0;s.forEach((c,d,f,p)=>{l===0&&(l=p)}),t.setSelection(Ue.near(t.doc.resolve(l),n))}var ig=class{constructor(t){this.find=t.find,this.handler=t.handler}},XB=(t,e)=>{if(Ab(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Gh(t){var e;const{editor:n,from:r,to:i,text:s,rules:l,plugin:c}=t,{view:d}=n;if(d.composing)return!1;const f=d.state.doc.resolve(r);if(f.parent.type.spec.code||(e=f.nodeBefore||f.nodeAfter)!=null&&e.marks.find(v=>v.type.spec.code))return!1;let p=!1;const m=qB(f)+s;return l.forEach(v=>{if(p)return;const w=XB(m,v.find);if(!w)return;const x=d.state.tr,E=Zm({state:d.state,transaction:x}),C={from:r-(w[0].length-s.length),to:i},{commands:O,chain:I,can:j}=new eg({editor:n,state:E});v.handler({state:E,range:C,match:w,commands:O,chain:I,can:j})===null||!x.steps.length||(x.setMeta(c,{transform:x,from:r,to:i,text:s}),d.dispatch(x),p=!0)}),p}function JB(t){const{editor:e,rules:n}=t,r=new jt({state:{init(){return null},apply(i,s,l){const c=i.getMeta(r);if(c)return c;const d=i.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:p}=d;typeof p=="string"?p=p:p=Eb(fe.from(p),l.schema);const{from:m}=d,v=m+p.length;Gh({editor:e,from:m,to:v,text:p,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,l,c){return Gh({editor:e,from:s,to:l,text:c,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&Gh({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:l}=i.state.selection;return l?Gh({editor:e,from:l.pos,to:l.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function QB(t){return Object.prototype.toString.call(t).slice(8,-1)}function Kh(t){return QB(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function tO(t,e){const n={...t};return Kh(t)&&Kh(e)&&Object.keys(e).forEach(r=>{Kh(e[r])&&Kh(t[r])?n[r]=tO(t[r],e[r]):n[r]=e[r]}),n}var Ob=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...bt(Re(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...bt(Re(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>tO(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},Bs=class nO extends Ob{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new nO(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const l=i.marks();if(!!!l.find(f=>f?.type.name===n.name))return!1;const d=l.find(f=>f?.type.name===n.name);return d&&r.removeStoredMark(d),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function ZB(t){return typeof t=="number"}var eH=class{constructor(t){this.find=t.find,this.handler=t.handler}},tH=(t,e,n)=>{if(Ab(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function nH(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:l,dropEvent:c}=t,{commands:d,chain:f,can:p}=new eg({editor:e,state:n}),m=[];return n.doc.nodesBetween(r,i,(w,x)=>{var E,C,O,I,j;if((C=(E=w.type)==null?void 0:E.spec)!=null&&C.code||!(w.isText||w.isTextblock||w.isInline))return;const U=(j=(I=(O=w.content)==null?void 0:O.size)!=null?I:w.nodeSize)!=null?j:0,P=Math.max(r,x),L=Math.min(i,x+U);if(P>=L)return;const _=w.isText?w.text||"":w.textBetween(P-x,L-x,void 0,"");tH(_,s.find,l).forEach(D=>{if(D.index===void 0)return;const R=P+D.index+1,V=R+D[0].length,q={from:n.tr.mapping.map(R),to:n.tr.mapping.map(V)},H=s.handler({state:n,range:q,match:D,commands:d,chain:f,can:p,pasteEvent:l,dropEvent:c});m.push(H)})}),m.every(w=>w!==null)}var Yh=null,rH=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function iH(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const d=({state:p,from:m,to:v,rule:w,pasteEvt:x})=>{const E=p.tr,C=Zm({state:p,transaction:E});if(!(!nH({editor:e,state:C,from:Math.max(m-1,0),to:v.b-1,rule:w,pasteEvent:x,dropEvent:c})||!E.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,E}};return n.map(p=>new jt({view(m){const v=x=>{var E;r=(E=m.dom.parentElement)!=null&&E.contains(x.target)?m.dom.parentElement:null,r&&(Yh=e)},w=()=>{Yh&&(Yh=null)};return window.addEventListener("dragstart",v),window.addEventListener("dragend",w),{destroy(){window.removeEventListener("dragstart",v),window.removeEventListener("dragend",w)}}},props:{handleDOMEvents:{drop:(m,v)=>{if(s=r===m.dom.parentElement,c=v,!s){const w=Yh;w?.isEditable&&setTimeout(()=>{const x=w.state.selection;x&&w.commands.deleteRange({from:x.from,to:x.to})},10)}return!1},paste:(m,v)=>{var w;const x=(w=v.clipboardData)==null?void 0:w.getData("text/html");return l=v,i=!!x?.includes("data-pm-slice"),!1}}},appendTransaction:(m,v,w)=>{const x=m[0],E=x.getMeta("uiEvent")==="paste"&&!i,C=x.getMeta("uiEvent")==="drop"&&!s,O=x.getMeta("applyPasteRules"),I=!!O;if(!E&&!C&&!I)return;if(I){let{text:P}=O;typeof P=="string"?P=P:P=Eb(fe.from(P),w.schema);const{from:L}=O,_=L+P.length,M=rH(P);return d({rule:p,state:w,from:L,to:{b:_},pasteEvt:M})}const j=v.doc.content.findDiffStart(w.doc.content),U=v.doc.content.findDiffEnd(w.doc.content);if(!(!ZB(j)||!U||j===U.b))return d({rule:p,state:w,from:j,to:U,pasteEvt:l})}}))}var sg=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=qM(t),this.schema=UB(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:K0(e.name,this.schema)},r=Re(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return Tb([...this.extensions].reverse()).map(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:K0(r.name,this.schema)},s=[],l=Re(r,"addKeyboardShortcuts",i);let c={};if(r.type==="mark"&&Re(r,"exitable",i)&&(c.ArrowRight=()=>Bs.handleExit({editor:t,mark:r})),l){const v=Object.fromEntries(Object.entries(l()).map(([w,x])=>[w,()=>x({editor:t})]));c={...c,...v}}const d=dB(c);s.push(d);const f=Re(r,"addInputRules",i);if(fC(r,t.options.enableInputRules)&&f){const v=f();if(v&&v.length){const w=JB({editor:t,rules:v}),x=Array.isArray(w)?w:[w];s.push(...x)}}const p=Re(r,"addPasteRules",i);if(fC(r,t.options.enablePasteRules)&&p){const v=p();if(v&&v.length){const w=iH({editor:t,rules:v});s.push(...w)}}const m=Re(r,"addProseMirrorPlugins",i);if(m){const v=m();s.push(...v)}return s}).flat()}get attributes(){return FM(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Vd(this.extensions);return Object.fromEntries(e.filter(n=>!!Re(n,"addNodeView")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:en(n.name,this.schema)},s=Re(n,"addNodeView",i);if(!s)return[];const l=(c,d,f,p,m)=>{const v=Jp(c,r);return s()({node:c,view:d,getPos:f,decorations:p,innerDecorations:m,editor:t,extension:n,HTMLAttributes:v})};return[n.name,l]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=Vd(this.extensions);return Object.fromEntries(e.filter(n=>!!Re(n,"addMarkView")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Us(n.name,this.schema)},s=Re(n,"addMarkView",i);if(!s)return[];const l=(c,d,f)=>{const p=Jp(c,r);return s()({mark:c,view:d,inline:f,editor:t,extension:n,HTMLAttributes:p,updateAttributes:m=>{bV(c,t,m)}})};return[n.name,l]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:K0(e.name,this.schema)};e.type==="mark"&&((n=bt(Re(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const i=Re(e,"onBeforeCreate",r),s=Re(e,"onCreate",r),l=Re(e,"onUpdate",r),c=Re(e,"onSelectionUpdate",r),d=Re(e,"onTransaction",r),f=Re(e,"onFocus",r),p=Re(e,"onBlur",r),m=Re(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),l&&this.editor.on("update",l),c&&this.editor.on("selectionUpdate",c),d&&this.editor.on("transaction",d),f&&this.editor.on("focus",f),p&&this.editor.on("blur",p),m&&this.editor.on("destroy",m)})}};sg.resolve=qM;sg.sort=Tb;sg.flatten=xb;var sH={};BM(sH,{ClipboardTextSerializer:()=>iO,Commands:()=>aO,Delete:()=>lO,Drop:()=>cO,Editable:()=>uO,FocusEvents:()=>fO,Keymap:()=>hO,Paste:()=>pO,Tabindex:()=>mO,focusEventsPluginKey:()=>dO});var wt=class rO extends Ob{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new rO(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},iO=wt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new jt({key:new Ut("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,l=Math.min(...s.map(p=>p.$from.pos)),c=Math.max(...s.map(p=>p.$to.pos)),d=Cb(n);return WM(r,{from:l,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),sO={};BM(sO,{blur:()=>oH,clearContent:()=>aH,clearNodes:()=>lH,command:()=>cH,createParagraphNear:()=>uH,cut:()=>dH,deleteCurrentNode:()=>fH,deleteNode:()=>hH,deleteRange:()=>pH,deleteSelection:()=>mH,enter:()=>gH,exitCode:()=>yH,extendMarkRange:()=>vH,first:()=>bH,focus:()=>SH,forEach:()=>xH,insertContent:()=>EH,insertContentAt:()=>CH,joinBackward:()=>NH,joinDown:()=>kH,joinForward:()=>MH,joinItemBackward:()=>OH,joinItemForward:()=>_H,joinTextblockBackward:()=>RH,joinTextblockForward:()=>DH,joinUp:()=>AH,keyboardShortcut:()=>LH,lift:()=>jH,liftEmptyBlock:()=>PH,liftListItem:()=>zH,newlineInCode:()=>UH,resetAttributes:()=>BH,scrollIntoView:()=>HH,selectAll:()=>VH,selectNodeBackward:()=>$H,selectNodeForward:()=>FH,selectParentNode:()=>qH,selectTextblockEnd:()=>WH,selectTextblockStart:()=>GH,setContent:()=>KH,setMark:()=>XH,setMeta:()=>JH,setNode:()=>QH,setNodeSelection:()=>ZH,setTextSelection:()=>eV,sinkListItem:()=>tV,splitBlock:()=>nV,splitListItem:()=>rV,toggleList:()=>iV,toggleMark:()=>sV,toggleNode:()=>oV,toggleWrap:()=>aV,undoInputRule:()=>lV,unsetAllMarks:()=>cV,unsetMark:()=>uV,updateAttributes:()=>dV,wrapIn:()=>fV,wrapInList:()=>hV});var oH=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),aH=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),lH=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:l})=>{t.doc.nodesBetween(s.pos,l.pos,(c,d)=>{if(c.type.isText)return;const{doc:f,mapping:p}=e,m=f.resolve(p.map(d)),v=f.resolve(p.map(d+c.nodeSize)),w=m.blockRange(v);if(!w)return;const x=Kc(w);if(c.type.isTextblock){const{defaultType:E}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(w.start,E)}(x||x===0)&&e.lift(w,x)})}),!0},cH=t=>e=>t(e),uH=()=>({state:t,dispatch:e})=>jM(t,e),dH=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const l=r.mapping.map(e);return r.insert(l,s.content),r.setSelection(new Ve(r.doc.resolve(Math.max(l-1,0)))),!0},fH=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const c=i.before(s),d=i.after(s);t.delete(c,d).scrollIntoView()}return!0}return!1},hH=t=>({tr:e,state:n,dispatch:r})=>{const i=en(t,n.schema),s=e.selection.$anchor;for(let l=s.depth;l>0;l-=1)if(s.node(l).type===i){if(r){const d=s.before(l),f=s.after(l);e.delete(d,f).scrollIntoView()}return!0}return!1},pH=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},mH=()=>({state:t,dispatch:e})=>yb(t,e),gH=()=>({commands:t})=>t.keyboardShortcut("Enter"),yH=()=>({state:t,dispatch:e})=>yB(t,e),vH=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=Us(t,r.schema),{doc:l,selection:c}=n,{$from:d,from:f,to:p}=c;if(i){const m=kb(d,s,e);if(m&&m.from<=f&&m.to>=p){const v=Ve.create(l,m.from,m.to);n.setSelection(v)}}return!0},bH=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function wH(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function _b(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var SH=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const l=()=>{(_b()||wH())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!Mb(n.state.selection))return l(),!0;const c=eO(i.doc,t)||n.state.selection,d=n.state.selection.eq(c);return s&&(d||i.setSelection(c),d&&i.storedMarks&&i.setStoredMarks(i.storedMarks),l()),!0},xH=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),EH=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),TH=t=>!("type"in t),CH=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var l;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let c;const{selection:d}=s.state,f=O=>{s.emit("contentError",{editor:s,error:O,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},p={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Hd(e,s.schema,{parseOptions:p,errorOnInvalidContent:!0})}catch(O){f(O)}try{c=Hd(e,s.schema,{parseOptions:p,errorOnInvalidContent:(l=n.errorOnInvalidContent)!=null?l:s.options.enableContentCheck})}catch(O){return f(O),!1}let{from:m,to:v}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},w=!0,x=!0;if((TH(c)?c:[c]).forEach(O=>{O.check(),w=w?O.isText&&O.marks.length===0:!1,x=x?O.isBlock:!1}),m===v&&x){const{parent:O}=r.doc.resolve(m);O.isTextblock&&!O.type.spec.code&&!O.childCount&&(m-=1,v+=1)}let C;if(w){if(Array.isArray(e))C=e.map(O=>O.text||"").join("");else if(e instanceof fe){let O="";e.forEach(I=>{I.text&&(O+=I.text)}),C=O}else typeof e=="object"&&e&&e.text?C=e.text:C=e;r.insertText(C,m,v)}else{C=c;const O=d.$from.parentOffset===0,I=d.$from.node().isText||d.$from.node().isTextblock,j=d.$from.node().content.size>0;O&&I&&j&&(m=Math.max(0,m-1)),r.replaceWith(m,v,C)}n.updateSelection&&YB(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:m,text:C}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:m,text:C})}return!0},AH=()=>({state:t,dispatch:e})=>pB(t,e),kH=()=>({state:t,dispatch:e})=>mB(t,e),NH=()=>({state:t,dispatch:e})=>MM(t,e),MH=()=>({state:t,dispatch:e})=>DM(t,e),OH=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Gm(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},_H=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Gm(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},RH=()=>({state:t,dispatch:e})=>fB(t,e),DH=()=>({state:t,dispatch:e})=>hB(t,e);function oO(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function IH(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,l;for(let c=0;c<e.length-1;c+=1){const d=e[c];if(/^(cmd|meta|m)$/i.test(d))l=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))i=!0;else if(/^s(hift)?$/i.test(d))s=!0;else if(/^mod$/i.test(d))_b()||oO()?l=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),l&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var LH=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=IH(t).split(/-(?!$)/),l=s.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),c=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{n.someProp("handleKeyDown",f=>f(n,c))});return d?.steps.forEach(f=>{const p=f.map(r.mapping);p&&i&&r.maybeStep(p)}),!0},jH=(t,e={})=>({state:n,dispatch:r})=>{const i=en(t,n.schema);return ta(n,i,e)?gB(n,r):!1},PH=()=>({state:t,dispatch:e})=>PM(t,e),zH=t=>({state:e,dispatch:n})=>{const r=en(t,e.schema);return NB(r)(e,n)},UH=()=>({state:t,dispatch:e})=>LM(t,e);function pC(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}var BH=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,l=null;const c=ng(typeof t=="string"?t:t.name,r.schema);return c?(c==="node"&&(s=en(t,r.schema)),c==="mark"&&(l=Us(t,r.schema)),i&&n.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.$from.pos,d.$to.pos,(f,p)=>{s&&s===f.type&&n.setNodeMarkup(p,void 0,pC(f.attrs,e)),l&&f.marks.length&&f.marks.forEach(m=>{l===m.type&&n.addMark(p,p+f.nodeSize,l.create(pC(m.attrs,e)))})})}),!0):!1},HH=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),VH=()=>({tr:t,dispatch:e})=>{if(e){const n=new br(t.doc);t.setSelection(n)}return!0},$H=()=>({state:t,dispatch:e})=>_M(t,e),FH=()=>({state:t,dispatch:e})=>IM(t,e),qH=()=>({state:t,dispatch:e})=>wB(t,e),WH=()=>({state:t,dispatch:e})=>EB(t,e),GH=()=>({state:t,dispatch:e})=>xB(t,e),KH=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:s,dispatch:l,commands:c})=>{const{doc:d}=s;if(r.preserveWhitespace!=="full"){const f=Zv(t,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return l&&s.replaceWith(0,d.content.size,f).setMeta("preventUpdate",!n),!0}return l&&s.setMeta("preventUpdate",!n),c.insertContentAt({from:0,to:d.content.size},t,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function YH(t,e,n){var r;const{selection:i}=e;let s=null;if(Mb(i)&&(s=i.$cursor),s){const c=(r=t.storedMarks)!=null?r:s.marks();return!!n.isInSet(c)||!c.some(d=>d.type.excludes(n))}const{ranges:l}=i;return l.some(({$from:c,$to:d})=>{let f=c.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(c.pos,d.pos,(p,m,v)=>{if(f)return!1;if(p.isInline){const w=!v||v.type.allowsMarkType(n),x=!!n.isInSet(p.marks)||!p.marks.some(E=>E.type.excludes(n));f=w&&x}return!f}),f})}var XH=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:l,ranges:c}=s,d=Us(t,r.schema);if(i)if(l){const f=KM(r,d);n.addStoredMark(d.create({...f,...e}))}else c.forEach(f=>{const p=f.$from.pos,m=f.$to.pos;r.doc.nodesBetween(p,m,(v,w)=>{const x=Math.max(w,p),E=Math.min(w+v.nodeSize,m);v.marks.find(O=>O.type===d)?v.marks.forEach(O=>{d===O.type&&n.addMark(x,E,d.create({...O.attrs,...e}))}):n.addMark(x,E,d.create(e))})});return YH(r,n,d)},JH=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),QH=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=en(t,n.schema);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:c})=>lC(s,{...l,...e})(n)?!0:c.clearNodes()).command(({state:c})=>lC(s,{...l,...e})(c,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},ZH=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=_s(t,0,r.content.size),s=De.create(r,i);e.setSelection(s)}return!0},eV=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,l=Ve.atStart(r).from,c=Ve.atEnd(r).to,d=_s(i,l,c),f=_s(s,l,c),p=Ve.create(r,d,f);e.setSelection(p)}return!0},tV=t=>({state:e,dispatch:n})=>{const r=en(t,e.schema);return _B(r)(e,n)};function mC(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e?.includes(i.type.name));t.tr.ensureMarks(r)}}var nV=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:l}=e,{$from:c,$to:d}=s,f=i.extensionManager.attributes,p=Sp(f,c.node().type.name,c.node().attrs);if(s instanceof De&&s.node.isBlock)return!c.parentOffset||!Rs(l,c.pos)?!1:(r&&(t&&mC(n,i.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const m=d.parentOffset===d.parent.content.size,v=c.depth===0?void 0:IB(c.node(-1).contentMatchAt(c.indexAfter(-1)));let w=m&&v?[{type:v,attrs:p}]:void 0,x=Rs(e.doc,e.mapping.map(c.pos),1,w);if(!w&&!x&&Rs(e.doc,e.mapping.map(c.pos),1,v?[{type:v}]:void 0)&&(x=!0,w=v?[{type:v,attrs:p}]:void 0),r){if(x&&(s instanceof Ve&&e.deleteSelection(),e.split(e.mapping.map(c.pos),1,w),v&&!m&&!c.parentOffset&&c.parent.type!==v)){const E=e.mapping.map(c.before()),C=e.doc.resolve(E);c.node(-1).canReplaceWith(C.index(),C.index()+1,v)&&e.setNodeMarkup(e.mapping.map(c.before()),v)}t&&mC(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return x},rV=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var l;const c=en(t,r.schema),{$from:d,$to:f}=r.selection,p=r.selection.node;if(p&&p.isBlock||d.depth<2||!d.sameParent(f))return!1;const m=d.node(-1);if(m.type!==c)return!1;const v=s.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==c||d.index(-2)!==d.node(-2).childCount-1)return!1;if(i){let O=fe.empty;const I=d.index(-1)?1:d.index(-2)?2:3;for(let M=d.depth-I;M>=d.depth-3;M-=1)O=fe.from(d.node(M).copy(O));const j=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,U={...Sp(v,d.node().type.name,d.node().attrs),...e},P=((l=c.contentMatch.defaultType)==null?void 0:l.createAndFill(U))||void 0;O=O.append(fe.from(c.createAndFill(null,P)||void 0));const L=d.before(d.depth-(I-1));n.replace(L,d.after(-j),new be(O,4-I,0));let _=-1;n.doc.nodesBetween(L,n.doc.content.size,(M,D)=>{if(_>-1)return!1;M.isTextblock&&M.content.size===0&&(_=D+1)}),_>-1&&n.setSelection(Ve.near(n.doc.resolve(_))),n.scrollIntoView()}return!0}const w=f.pos===d.end()?m.contentMatchAt(0).defaultType:null,x={...Sp(v,m.type.name,m.attrs),...e},E={...Sp(v,d.node().type.name,d.node().attrs),...e};n.delete(d.pos,f.pos);const C=w?[{type:c,attrs:x},{type:w,attrs:E}]:[{type:c,attrs:x}];if(!Rs(n.doc,d.pos,2))return!1;if(i){const{selection:O,storedMarks:I}=r,{splittableMarks:j}=s.extensionManager,U=I||O.$to.parentOffset&&O.$from.marks();if(n.split(d.pos,2,C).scrollIntoView(),!U||!i)return!0;const P=U.filter(L=>j.includes(L.type.name));n.ensureMarks(P)}return!0},Y0=(t,e)=>{const n=tg(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&aa(t.doc,n.pos)&&t.join(n.pos),!0},X0=(t,e)=>{const n=tg(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&aa(t.doc,r)&&t.join(r),!0},iV=(t,e,n,r={})=>({editor:i,tr:s,state:l,dispatch:c,chain:d,commands:f,can:p})=>{const{extensions:m,splittableMarks:v}=i.extensionManager,w=en(t,l.schema),x=en(e,l.schema),{selection:E,storedMarks:C}=l,{$from:O,$to:I}=E,j=O.blockRange(I),U=C||E.$to.parentOffset&&E.$from.marks();if(!j)return!1;const P=tg(L=>hC(L.type.name,m))(E);if(j.depth>=1&&P&&j.depth-P.depth<=1){if(P.node.type===w)return f.liftListItem(x);if(hC(P.node.type.name,m)&&w.validContent(P.node.content)&&c)return d().command(()=>(s.setNodeMarkup(P.pos,w),!0)).command(()=>Y0(s,w)).command(()=>X0(s,w)).run()}return!n||!U||!c?d().command(()=>p().wrapInList(w,r)?!0:f.clearNodes()).wrapInList(w,r).command(()=>Y0(s,w)).command(()=>X0(s,w)).run():d().command(()=>{const L=p().wrapInList(w,r),_=U.filter(M=>v.includes(M.type.name));return s.ensureMarks(_),L?!0:f.clearNodes()}).wrapInList(w,r).command(()=>Y0(s,w)).command(()=>X0(s,w)).run()},sV=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,l=Us(t,r.schema);return e1(r,l,e)?i.unsetMark(l,{extendEmptyMarkRange:s}):i.setMark(l,e)},oV=(t,e,n={})=>({state:r,commands:i})=>{const s=en(t,r.schema),l=en(e,r.schema),c=ta(r,s,n);let d;return r.selection.$anchor.sameParent(r.selection.$head)&&(d=r.selection.$anchor.parent.attrs),c?i.setNode(l,d):i.setNode(s,{...d,...n})},aV=(t,e={})=>({state:n,commands:r})=>{const i=en(t,n.schema);return ta(n,i,e)?r.lift(i):r.wrapIn(i,e)},lV=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const l=t.tr,c=s.transform;for(let d=c.steps.length-1;d>=0;d-=1)l.step(c.steps[d].invert(c.docs[d]));if(s.text){const d=l.doc.resolve(s.from).marks();l.replaceWith(s.from,s.to,t.schema.text(s.text,d))}else l.delete(s.from,s.to)}return!0}}return!1},cV=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},uV=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:l=!1}=e,{selection:c}=n,d=Us(t,r.schema),{$from:f,empty:p,ranges:m}=c;if(!i)return!0;if(p&&l){let{from:v,to:w}=c;const x=(s=f.marks().find(C=>C.type===d))==null?void 0:s.attrs,E=kb(f,d,x);E&&(v=E.from,w=E.to),n.removeMark(v,w,d)}else m.forEach(v=>{n.removeMark(v.$from.pos,v.$to.pos,d)});return n.removeStoredMark(d),!0},dV=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,l=null;const c=ng(typeof t=="string"?t:t.name,r.schema);return c?(c==="node"&&(s=en(t,r.schema)),c==="mark"&&(l=Us(t,r.schema)),i&&n.selection.ranges.forEach(d=>{const f=d.$from.pos,p=d.$to.pos;let m,v,w,x;n.selection.empty?r.doc.nodesBetween(f,p,(E,C)=>{s&&s===E.type&&(w=Math.max(C,f),x=Math.min(C+E.nodeSize,p),m=C,v=E)}):r.doc.nodesBetween(f,p,(E,C)=>{C<f&&s&&s===E.type&&(w=Math.max(C,f),x=Math.min(C+E.nodeSize,p),m=C,v=E),C>=f&&C<=p&&(s&&s===E.type&&n.setNodeMarkup(C,void 0,{...E.attrs,...e}),l&&E.marks.length&&E.marks.forEach(O=>{if(l===O.type){const I=Math.max(C,f),j=Math.min(C+E.nodeSize,p);n.addMark(I,j,l.create({...O.attrs,...e}))}}))}),v&&(m!==void 0&&n.setNodeMarkup(m,void 0,{...v.attrs,...e}),l&&v.marks.length&&v.marks.forEach(E=>{l===E.type&&n.addMark(w,x,l.create({...E.attrs,...e}))}))}),!0):!1},fV=(t,e={})=>({state:n,dispatch:r})=>{const i=en(t,n.schema);return TB(i,e)(n,r)},hV=(t,e={})=>({state:n,dispatch:r})=>{const i=en(t,n.schema);return CB(i,e)(n,r)},aO=wt.create({name:"commands",addCommands(){return{...sO}}}),lO=wt.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,i;const s=()=>{var l,c,d,f;if((f=(d=(c=(l=this.editor.options.coreExtensionOptions)==null?void 0:l.delete)==null?void 0:c.filterTransaction)==null?void 0:d.call(c,t))!=null?f:t.getMeta("y-sync$"))return;const p=HM(t.before,[t,...e]);XM(p).forEach(w=>{p.mapping.mapResult(w.oldRange.from).deletedAfter&&p.mapping.mapResult(w.oldRange.to).deletedBefore&&p.before.nodesBetween(w.oldRange.from,w.oldRange.to,(x,E)=>{const C=E+x.nodeSize-2,O=w.oldRange.from<=E&&C<=w.oldRange.to;this.editor.emit("delete",{type:"node",node:x,from:E,to:C,newFrom:p.mapping.map(E),newTo:p.mapping.map(C),deletedRange:w.oldRange,newRange:w.newRange,partial:!O,editor:this.editor,transaction:t,combinedTransform:p})})});const v=p.mapping;p.steps.forEach((w,x)=>{var E,C;if(w instanceof si){const O=v.slice(x).map(w.from,-1),I=v.slice(x).map(w.to),j=v.invert().map(O,-1),U=v.invert().map(I),P=(E=p.doc.nodeAt(O-1))==null?void 0:E.marks.some(_=>_.eq(w.mark)),L=(C=p.doc.nodeAt(I))==null?void 0:C.marks.some(_=>_.eq(w.mark));this.editor.emit("delete",{type:"mark",mark:w.mark,from:w.from,to:w.to,deletedRange:{from:j,to:U},newRange:{from:O,to:I},partial:!!(L||P),editor:this.editor,transaction:t,combinedTransform:p})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(s,0):s()}}),cO=wt.create({name:"drop",addProseMirrorPlugins(){return[new jt({key:new Ut("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),uO=wt.create({name:"editable",addProseMirrorPlugins(){return[new jt({key:new Ut("editable"),props:{editable:()=>this.editor.options.editable}})]}}),dO=new Ut("focusEvents"),fO=wt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new jt({key:dO,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),hO=wt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:c})=>{const{selection:d,doc:f}=c,{empty:p,$anchor:m}=d,{pos:v,parent:w}=m,x=m.parent.isTextblock&&v>0?c.doc.resolve(v-1):m,E=x.parent.type.spec.isolating,C=m.pos-m.parentOffset,O=E&&x.parent.childCount===1?C===m.pos:Ue.atStart(f).from===v;return!p||!w.type.isTextblock||w.textContent.length||!O||O&&m.parent.type.name==="paragraph"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return _b()||oO()?s:i},addProseMirrorPlugins(){return[new jt({key:new Ut("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(E=>E.getMeta("composition")))return;const r=t.some(E=>E.docChanged)&&!e.doc.eq(n.doc),i=t.some(E=>E.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:l,to:c}=e.selection,d=Ue.atStart(e.doc).from,f=Ue.atEnd(e.doc).to;if(s||!(l===d&&c===f)||!rg(n.doc))return;const v=n.tr,w=Zm({state:n,transaction:v}),{commands:x}=new eg({editor:this.editor,state:w});if(x.clearNodes(),!!v.steps.length)return v}})]}}),pO=wt.create({name:"paste",addProseMirrorPlugins(){return[new jt({key:new Ut("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),mO=wt.create({name:"tabindex",addProseMirrorPlugins(){return[new jt({key:new Ut("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),pV=class mc{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new mc(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new mc(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new mc(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,l=this.pos+r+(s?0:1);if(l<0||l>this.resolvedPos.doc.nodeSize-2)return;const c=this.resolvedPos.doc.resolve(l);if(!i&&c.depth<=this.depth)return;const d=new mc(c,this.editor,i,i?n:null);i&&(d.actualDepth=this.depth+1),e.push(new mc(c,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,l=Object.keys(n);for(let c=0;c<l.length;c+=1){const d=l[c];if(s[d]!==n[d])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(l=>{r&&i.length>0||(l.node.type.name===e&&s.every(d=>n[d]===l.node.attrs[d])&&i.push(l),!(r&&i.length>0)&&(i=i.concat(l.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},mV=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function gV(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var yV=class extends DB{constructor(e={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:i})=>{throw i},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:i,slice:s,moved:l})=>this.options.onDrop(i,s,l)),this.on("paste",({event:i,slice:s})=>this.options.onPaste(i,s)),this.on("delete",this.options.onDelete);const n=this.createDoc(),r=eO(n,this.options.autofocus);this.editorState=wc.create({doc:n,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e?.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=gV(mV,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.editorState=this.state.apply(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,n)=>{if(n==="state")return this.editorState;if(n in e)return Reflect.get(e,n);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${n}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,n){const r=$M(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(e).forEach(s=>{const l=typeof s=="string"?`${s}$`:s.key;r=r.filter(c=>!c.key.startsWith(l))}),n.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,n;const i=[...this.options.enableCoreExtensions?[uO,iO.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:n.blockSeparator}),aO,fO,hO,mO,cO,pO,lO].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s?.type));this.extensionManager=new sg(i,this)}createCommandManager(){this.commandManager=new eg({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=Zv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(n){if(!(n instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(n.message))throw n;this.emit("contentError",{editor:this,error:n,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),e=Zv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var n;this.editorView=new kM(e,{...this.options.editorProps,attributes:{role:"textbox",...(n=this.options.editorProps)==null?void 0:n.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass(),this.injectCSS();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(p=>{var m;return(m=this.capturedTransaction)==null?void 0:m.step(p)});return}const{state:n,transactions:r}=this.state.applyTransaction(e),i=!this.state.selection.eq(n.selection),s=r.includes(e),l=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),!s)return;this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:r.slice(1)}),i&&this.emit("selectionUpdate",{editor:this,transaction:e});const c=r.findLast(p=>p.getMeta("focus")||p.getMeta("blur")),d=c?.getMeta("focus"),f=c?.getMeta("blur");d&&this.emit("focus",{editor:this,event:d.event,transaction:c}),f&&this.emit("blur",{editor:this,event:f.event,transaction:c}),!(e.getMeta("preventUpdate")||!r.some(p=>p.docChanged)||l.doc.eq(n.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:r.slice(1)})}getAttributes(e){return YM(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return WB(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Eb(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return GM(this.state.doc,{blockSeparator:n,textSerializers:{...Cb(this.schema),...r}})}get isEmpty(){return rg(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,n;return(n=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?n:!0}$node(e,n){var r;return((r=this.$doc)==null?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new pV(n,this)}get $doc(){return this.$pos(0)}};function Pc(t){return new ig({find:t.find,handler:({state:e,range:n,match:r})=>{const i=bt(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,l=r[r.length-1],c=r[0];if(l){const d=c.search(/\S/),f=n.from+c.indexOf(l),p=f+l.length;if(Nb(n.from,n.to,e.doc).filter(w=>w.mark.type.excluded.find(E=>E===t.type&&E!==w.mark.type)).filter(w=>w.to>f).length)return null;p<n.to&&s.delete(p,n.to),f>n.from&&s.delete(n.from+d,f);const v=n.from+d+l.length;s.addMark(n.from+d,v,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}function gO(t){return new ig({find:t.find,handler:({state:e,range:n,match:r})=>{const i=bt(t.getAttributes,void 0,r)||{},{tr:s}=e,l=n.from;let c=n.to;const d=t.type.create(i);if(r[1]){const f=r[0].lastIndexOf(r[1]);let p=l+f;p>c?p=c:c=p+r[1].length;const m=r[0][r[0].length-1];s.insertText(m,l+r[0].length-1),s.replaceWith(p,c,d)}else if(r[0]){const f=t.type.isInline?l:l-1;s.insert(f,t.type.create(i)).delete(s.mapping.map(l),s.mapping.map(c))}s.scrollIntoView()}})}function t1(t){return new ig({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=bt(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)}})}function zc(t){return new ig({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=bt(t.getAttributes,void 0,r)||{},l=e.tr.delete(n.from,n.to),d=l.doc.resolve(n.from).blockRange(),f=d&&sb(d,t.type,s);if(!f)return null;if(l.wrap(d,f),t.keepMarks&&t.editor){const{selection:m,storedMarks:v}=e,{splittableMarks:w}=t.editor.extensionManager,x=v||m.$to.parentOffset&&m.$from.marks();if(x){const E=x.filter(C=>w.includes(C.type.name));l.ensureMarks(E)}}if(t.keepAttributes){const m=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(m,s).run()}const p=l.doc.resolve(n.from-1).nodeBefore;p&&p.type===t.type&&aa(l.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,p))&&l.join(n.from-1)}})}function vV(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof De){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}function bV(t,e,n={}){const{state:r}=e,{doc:i,tr:s}=r,l=t;i.descendants((c,d)=>{const f=s.mapping.map(d),p=s.mapping.map(d)+c.nodeSize;let m=null;if(c.marks.forEach(w=>{if(w!==l)return!1;m=w}),!m)return;let v=!1;if(Object.keys(n).forEach(w=>{n[w]!==m.attrs[w]&&(v=!0)}),v){const w=t.type.create({...t.attrs,...n});s.removeMark(f,p,t.type),s.addMark(f,p,w)}}),s.docChanged&&e.view.dispatch(s)}var En=class yO extends Ob{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new yO(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function pl(t){return new eH({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=bt(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:l}=e,c=r[r.length-1],d=r[0];let f=n.to;if(c){const p=d.search(/\S/),m=n.from+d.indexOf(c),v=m+c.length;if(Nb(n.from,n.to,e.doc).filter(x=>x.mark.type.excluded.find(C=>C===t.type&&C!==x.mark.type)).filter(x=>x.to>m).length)return null;v<n.to&&l.delete(v,n.to),m>n.from&&l.delete(n.from+p,m),f=n.from+p+c.length,l.addMark(n.from+p,f,t.type.create(s||{})),l.removeStoredMark(t.type)}}})}var wV=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,SV=En.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",Ft(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[gO({find:wV,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),xV=SV,EV=wt.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),TV=EV,CV=t=>{if(!t.children.length)return;const e=t.querySelectorAll("span");e&&e.forEach(n=>{var r,i;const s=n.getAttribute("style"),l=(i=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:i.getAttribute("style");n.setAttribute("style",`${l};${s}`)})},AV=Bs.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&CV(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",Ft(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(s=>!!s))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),kV=wt.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),NV=wt.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),MV=wt.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),OV=wt.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),_V=wt.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}}),RV=wt.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(kV.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(NV.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(MV.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(OV.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(_V.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(AV.configure(this.options.textStyle)),t}}),J0={exports:{}},Q0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gC;function DV(){if(gC)return Q0;gC=1;var t=Wd();function e(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function c(m,v){var w=v(),x=r({inst:{value:w,getSnapshot:v}}),E=x[0].inst,C=x[1];return s(function(){E.value=w,E.getSnapshot=v,d(E)&&C({inst:E})},[m,w,v]),i(function(){return d(E)&&C({inst:E}),m(function(){d(E)&&C({inst:E})})},[m]),l(w),w}function d(m){var v=m.getSnapshot;m=m.value;try{var w=v();return!n(m,w)}catch{return!0}}function f(m,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return Q0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Q0}var yC;function vO(){return yC||(yC=1,J0.exports=DV()),J0.exports}var bO=vO(),Z0,vC;function IV(){return vC||(vC=1,Z0=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var l=s[i];if(!(l==="_owner"&&e.$$typeof)&&!t(e[l],n[l]))return!1}return!0}return e!==e&&n!==n}),Z0}var LV=IV();const jV=b1(LV);var ev={exports:{}},tv={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bC;function PV(){if(bC)return tv;bC=1;var t=Wd(),e=vO();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return tv.useSyncExternalStoreWithSelector=function(f,p,m,v,w){var x=s(null);if(x.current===null){var E={hasValue:!1,value:null};x.current=E}else E=x.current;x=c(function(){function O(L){if(!I){if(I=!0,j=L,L=v(L),w!==void 0&&E.hasValue){var _=E.value;if(w(_,L))return U=_}return U=L}if(_=U,r(j,L))return _;var M=v(L);return w!==void 0&&w(_,M)?(j=L,_):(j=L,U=M)}var I=!1,j,U,P=m===void 0?null:m;return[function(){return O(p())},P===null?void 0:function(){return O(P())}]},[p,m,v,w]);var C=i(f,x[0],x[1]);return l(function(){E.hasValue=!0,E.value=C},[C]),d(C),C},tv}var wC;function zV(){return wC||(wC=1,ev.exports=PV()),ev.exports}var UV=zV(),BV=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},HV=({contentComponent:t})=>{const e=bO.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return b.jsx(b.Fragment,{children:Object.values(e)})};function VV(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:GA.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}var $V=class extends _t.Component{constructor(t){var e;super(t),this.editorContentRef=_t.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(...t.options.element.childNodes),t.setOptions({element:e}),t.contentComponent=VV(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!((t=e.options.element)!=null&&t.firstChild)))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:t,innerRef:e,...n}=this.props;return b.jsxs(b.Fragment,{children:[b.jsx("div",{ref:BV(e,this.editorContentRef),...n}),t?.contentComponent&&b.jsx(HV,{contentComponent:t.contentComponent})]})}},FV=A.forwardRef((t,e)=>{const n=_t.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return _t.createElement($V,{key:n,innerRef:e,...t})}),SC=_t.memo(FV),qV=typeof window<"u"?A.useLayoutEffect:A.useEffect,WV=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function wO(t){var e;const[n]=A.useState(()=>new WV(t.editor)),r=UV.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:jV);return qV(()=>n.watch(t.editor),[t.editor,n]),A.useDebugValue(r),r}var GV=!1,n1=typeof window>"u",KV=n1||!!(typeof window<"u"&&window.next),YV=class SO{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?n1||KV?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)==null?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)==null?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)==null?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)==null?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)==null?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)==null?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)==null?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)==null?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)==null?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)==null?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)==null?void 0:s.call(i,...r)},onDelete:(...r)=>{var i,s;return(s=(i=this.options.current).onDelete)==null?void 0:s.call(i,...r)}};return new yV(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,s)=>{var l;return i===((l=n.extensions)==null?void 0:l[s])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?SO.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function XV(t={},e=[]){const n=A.useRef(t);n.current=t;const[r]=A.useState(()=>new YV(n)),i=bO.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return A.useDebugValue(i),A.useEffect(r.onRender(e)),wO({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&s===0?0:s+1}),i}var xO=A.createContext({editor:null});xO.Consumer;var EO=()=>A.useContext(xO),JV=A.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),QV=()=>A.useContext(JV);_t.forwardRef((t,e)=>{const{onDragStart:n}=QV(),r=t.as||"div";return b.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});_t.createContext({markViewContentRef:()=>{}});var Zp=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},ZV=/^\s*>\s$/,e$=En.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Zp("blockquote",{...Ft(this.options.HTMLAttributes,t),children:Zp("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[zc({find:ZV,type:this.type})]}}),t$=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,n$=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,r$=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,i$=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,s$=Bs.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Zp("strong",{...Ft(this.options.HTMLAttributes,t),children:Zp("slot",{})})},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Pc({find:t$,type:this.type}),Pc({find:r$,type:this.type})]},addPasteRules(){return[pl({find:n$,type:this.type}),pl({find:i$,type:this.type})]}}),o$=/(^|[^`])`([^`]+)`(?!`)/,a$=/(^|[^`])`([^`]+)`(?!`)/g,l$=Bs.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Ft(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Pc({find:o$,type:this.type})]},addPasteRules(){return[pl({find:a$,type:this.type})]}}),c$=/^```([a-z]+)?[\s\n]$/,u$=/^~~~([a-z]+)?[\s\n]$/,d$=En.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(l=>l.startsWith(n)).map(l=>l.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Ft(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,l=r.parent.textContent.endsWith(`

`);return!s||!l?!1:t.chain().command(({tr:c})=>(c.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const c=i.after();return c===void 0?!1:r.nodeAt(c)?t.commands.command(({tr:f})=>(f.setSelection(Ue.near(r.resolve(c))),!0)):t.commands.exitCode()}}},addInputRules(){return[t1({find:c$,type:this.type,getAttributes:t=>({language:t[1]})}),t1({find:u$,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new jt({key:new Ut("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i?.mode;if(!n||!s)return!1;const{tr:l,schema:c}=t.state,d=c.text(n.replace(/\r\n?/g,`
`));return l.replaceSelectionWith(this.type.create({language:s},d)),l.selection.$from.parent.type!==this.type&&l.setSelection(Ve.near(l.doc.resolve(Math.max(0,l.selection.from-2)))),l.setMeta("paste",!0),t.dispatch(l),!0}}})]}}),f$=En.create({name:"doc",topNode:!0,content:"block+"}),h$=En.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Ft(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:l}=this.options,{splittableMarks:c}=r.extensionManager,d=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:f,dispatch:p})=>{if(p&&d&&l){const m=d.filter(v=>c.includes(v.type.name));f.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),p$=En.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Ft(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>t1({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),m$=En.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Ft(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!vV(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,i=t();return QM(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({tr:s,dispatch:l})=>{var c;if(l){const{$to:d}=s.selection,f=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?s.setSelection(Ve.create(s.doc,d.pos+1)):d.nodeAfter.isBlock?s.setSelection(De.create(s.doc,d.pos)):s.setSelection(Ve.create(s.doc,d.pos));else{const p=(c=d.parent.type.contentMatch.defaultType)==null?void 0:c.create();p&&(s.insert(f,p),s.setSelection(Ve.create(s.doc,f+1)))}s.scrollIntoView()}return!0}).run()}}},addInputRules(){return[gO({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),g$=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,y$=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,v$=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,b$=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,w$=Bs.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Ft(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Pc({find:g$,type:this.type}),Pc({find:v$,type:this.type})]},addPasteRules(){return[pl({find:y$,type:this.type}),pl({find:b$,type:this.type})]}});const S$="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",x$="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",r1="numeric",i1="ascii",s1="alpha",yd="asciinumeric",od="alphanumeric",o1="domain",TO="emoji",E$="scheme",T$="slashscheme",nv="whitespace";function C$(t,e){return t in e||(e[t]=[]),e[t]}function Xa(t,e,n){e[r1]&&(e[yd]=!0,e[od]=!0),e[i1]&&(e[yd]=!0,e[s1]=!0),e[yd]&&(e[od]=!0),e[s1]&&(e[od]=!0),e[od]&&(e[o1]=!0),e[TO]&&(e[o1]=!0);for(const r in e){const i=C$(r,n);i.indexOf(t)<0&&i.push(t)}}function A$(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function tr(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}tr.groups={};tr.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||tr.groups;let i;return e&&e.j?i=e:(i=new tr(e),n&&r&&Xa(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const s=t.length;if(!s)return i;for(let l=0;l<s-1;l++)i=i.tt(t[l]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||tr.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let l,c=i.go(t);if(c?(l=new tr,Object.assign(l.j,c.j),l.jr.push.apply(l.jr,c.jr),l.jd=c.jd,l.t=c.t):l=new tr,s){if(r)if(l.t&&typeof l.t=="string"){const d=Object.assign(A$(l.t,r),n);Xa(s,d,r)}else n&&Xa(s,n,r);l.t=s}return i.j[t]=l,l}};const Ge=(t,e,n,r,i)=>t.ta(e,n,r,i),Vt=(t,e,n,r,i)=>t.tr(e,n,r,i),xC=(t,e,n,r,i)=>t.ts(e,n,r,i),me=(t,e,n,r,i)=>t.tt(e,n,r,i),xs="WORD",a1="UWORD",CO="ASCIINUMERICAL",AO="ALPHANUMERICAL",$d="LOCALHOST",l1="TLD",c1="UTLD",xp="SCHEME",gc="SLASH_SCHEME",Rb="NUM",u1="WS",Db="NL",vd="OPENBRACE",bd="CLOSEBRACE",em="OPENBRACKET",tm="CLOSEBRACKET",nm="OPENPAREN",rm="CLOSEPAREN",im="OPENANGLEBRACKET",sm="CLOSEANGLEBRACKET",om="FULLWIDTHLEFTPAREN",am="FULLWIDTHRIGHTPAREN",lm="LEFTCORNERBRACKET",cm="RIGHTCORNERBRACKET",um="LEFTWHITECORNERBRACKET",dm="RIGHTWHITECORNERBRACKET",fm="FULLWIDTHLESSTHAN",hm="FULLWIDTHGREATERTHAN",pm="AMPERSAND",mm="APOSTROPHE",gm="ASTERISK",Oo="AT",ym="BACKSLASH",vm="BACKTICK",bm="CARET",zo="COLON",Ib="COMMA",wm="DOLLAR",Oi="DOT",Sm="EQUALS",Lb="EXCLAMATION",Br="HYPHEN",wd="PERCENT",xm="PIPE",Em="PLUS",Tm="POUND",Sd="QUERY",jb="QUOTE",kO="FULLWIDTHMIDDLEDOT",Pb="SEMI",_i="SLASH",xd="TILDE",Cm="UNDERSCORE",NO="EMOJI",Am="SYM";var MO=Object.freeze({__proto__:null,ALPHANUMERICAL:AO,AMPERSAND:pm,APOSTROPHE:mm,ASCIINUMERICAL:CO,ASTERISK:gm,AT:Oo,BACKSLASH:ym,BACKTICK:vm,CARET:bm,CLOSEANGLEBRACKET:sm,CLOSEBRACE:bd,CLOSEBRACKET:tm,CLOSEPAREN:rm,COLON:zo,COMMA:Ib,DOLLAR:wm,DOT:Oi,EMOJI:NO,EQUALS:Sm,EXCLAMATION:Lb,FULLWIDTHGREATERTHAN:hm,FULLWIDTHLEFTPAREN:om,FULLWIDTHLESSTHAN:fm,FULLWIDTHMIDDLEDOT:kO,FULLWIDTHRIGHTPAREN:am,HYPHEN:Br,LEFTCORNERBRACKET:lm,LEFTWHITECORNERBRACKET:um,LOCALHOST:$d,NL:Db,NUM:Rb,OPENANGLEBRACKET:im,OPENBRACE:vd,OPENBRACKET:em,OPENPAREN:nm,PERCENT:wd,PIPE:xm,PLUS:Em,POUND:Tm,QUERY:Sd,QUOTE:jb,RIGHTCORNERBRACKET:cm,RIGHTWHITECORNERBRACKET:dm,SCHEME:xp,SEMI:Pb,SLASH:_i,SLASH_SCHEME:gc,SYM:Am,TILDE:xd,TLD:l1,UNDERSCORE:Cm,UTLD:c1,UWORD:a1,WORD:xs,WS:u1});const ws=/[a-z]/,Qu=new RegExp("\\p{L}","u"),rv=new RegExp("\\p{Emoji}","u"),Ss=/\d/,iv=/\s/,EC="\r",sv=`
`,k$="",N$="",ov="";let Xh=null,Jh=null;function M$(t=[]){const e={};tr.groups=e;const n=new tr;Xh==null&&(Xh=TC(S$)),Jh==null&&(Jh=TC(x$)),me(n,"'",mm),me(n,"{",vd),me(n,"}",bd),me(n,"[",em),me(n,"]",tm),me(n,"(",nm),me(n,")",rm),me(n,"<",im),me(n,">",sm),me(n,"",om),me(n,"",am),me(n,"",lm),me(n,"",cm),me(n,"",um),me(n,"",dm),me(n,"",fm),me(n,"",hm),me(n,"&",pm),me(n,"*",gm),me(n,"@",Oo),me(n,"`",vm),me(n,"^",bm),me(n,":",zo),me(n,",",Ib),me(n,"$",wm),me(n,".",Oi),me(n,"=",Sm),me(n,"!",Lb),me(n,"-",Br),me(n,"%",wd),me(n,"|",xm),me(n,"+",Em),me(n,"#",Tm),me(n,"?",Sd),me(n,'"',jb),me(n,"/",_i),me(n,";",Pb),me(n,"~",xd),me(n,"_",Cm),me(n,"\\",ym),me(n,"",kO);const r=Vt(n,Ss,Rb,{[r1]:!0});Vt(r,Ss,r);const i=Vt(r,ws,CO,{[yd]:!0}),s=Vt(r,Qu,AO,{[od]:!0}),l=Vt(n,ws,xs,{[i1]:!0});Vt(l,Ss,i),Vt(l,ws,l),Vt(i,Ss,i),Vt(i,ws,i);const c=Vt(n,Qu,a1,{[s1]:!0});Vt(c,ws),Vt(c,Ss,s),Vt(c,Qu,c),Vt(s,Ss,s),Vt(s,ws),Vt(s,Qu,s);const d=me(n,sv,Db,{[nv]:!0}),f=me(n,EC,u1,{[nv]:!0}),p=Vt(n,iv,u1,{[nv]:!0});me(n,ov,p),me(f,sv,d),me(f,ov,p),Vt(f,iv,p),me(p,EC),me(p,sv),Vt(p,iv,p),me(p,ov,p);const m=Vt(n,rv,NO,{[TO]:!0});me(m,"#"),Vt(m,rv,m),me(m,k$,m);const v=me(m,N$);me(v,"#"),Vt(v,rv,m);const w=[[ws,l],[Ss,i]],x=[[ws,null],[Qu,c],[Ss,s]];for(let E=0;E<Xh.length;E++)Co(n,Xh[E],l1,xs,w);for(let E=0;E<Jh.length;E++)Co(n,Jh[E],c1,a1,x);Xa(l1,{tld:!0,ascii:!0},e),Xa(c1,{utld:!0,alpha:!0},e),Co(n,"file",xp,xs,w),Co(n,"mailto",xp,xs,w),Co(n,"http",gc,xs,w),Co(n,"https",gc,xs,w),Co(n,"ftp",gc,xs,w),Co(n,"ftps",gc,xs,w),Xa(xp,{scheme:!0,ascii:!0},e),Xa(gc,{slashscheme:!0,ascii:!0},e),t=t.sort((E,C)=>E[0]>C[0]?1:-1);for(let E=0;E<t.length;E++){const C=t[E][0],I=t[E][1]?{[E$]:!0}:{[T$]:!0};C.indexOf("-")>=0?I[o1]=!0:ws.test(C)?Ss.test(C)?I[yd]=!0:I[i1]=!0:I[r1]=!0,xC(n,C,C,I)}return xC(n,"localhost",$d,{ascii:!0}),n.jd=new tr(Am),{start:n,tokens:Object.assign({groups:e},MO)}}function OO(t,e){const n=O$(e.replace(/[A-Z]/g,c=>c.toLowerCase())),r=n.length,i=[];let s=0,l=0;for(;l<r;){let c=t,d=null,f=0,p=null,m=-1,v=-1;for(;l<r&&(d=c.go(n[l]));)c=d,c.accepts()?(m=0,v=0,p=c):m>=0&&(m+=n[l].length,v++),f+=n[l].length,s+=n[l].length,l++;s-=m,l-=v,f-=m,i.push({t:p.t,v:e.slice(s-f,s),s:s-f,e:s})}return i}function O$(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),s,l=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(l),r+=l.length}return e}function Co(t,e,n,r,i){let s;const l=e.length;for(let c=0;c<l-1;c++){const d=e[c];t.j[d]?s=t.j[d]:(s=new tr(r),s.jr=i.slice(),t.j[d]=s),t=s}return s=new tr(n),s.jr=i.slice(),t.j[e[l-1]]=s,s}function TC(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let l=parseInt(t.substring(r,r+s),10);l>0;l--)n.pop();r+=s}else n.push(t[r]),r++}return e}const Fd={defaultProtocol:"http",events:null,format:CC,formatHref:CC,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function zb(t,e=null){let n=Object.assign({},Fd);t&&(n=Object.assign(n,t instanceof zb?t.o:t));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}zb.prototype={o:Fd,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:Fd[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function CC(t){return t}function _O(t,e){this.t="token",this.v=t,this.tk=e}_O.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Fd.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),s=this.toFormattedString(t),l={},c=t.get("className",n,e),d=t.get("target",n,e),f=t.get("rel",n,e),p=t.getObj("attributes",n,e),m=t.getObj("events",n,e);return l.href=r,c&&(l.class=c),d&&(l.target=d),f&&(l.rel=f),p&&Object.assign(l,p),{tagName:i,attributes:l,content:s,eventListeners:m}}};function og(t,e){class n extends _O{constructor(i,s){super(i,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const AC=og("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),kC=og("text"),_$=og("nl"),Qh=og("url",{isLink:!0,toHref(t=Fd.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==$d&&t[1].t===zo}}),Ur=t=>new tr(t);function R$({groups:t}){const e=t.domain.concat([pm,gm,Oo,ym,vm,bm,wm,Sm,Br,Rb,wd,xm,Em,Tm,_i,Am,xd,Cm]),n=[mm,zo,Ib,Oi,Lb,wd,Sd,jb,Pb,im,sm,vd,bd,tm,em,nm,rm,om,am,lm,cm,um,dm,fm,hm],r=[pm,mm,gm,ym,vm,bm,wm,Sm,Br,vd,bd,wd,xm,Em,Tm,Sd,_i,Am,xd,Cm],i=Ur(),s=me(i,xd);Ge(s,r,s),Ge(s,t.domain,s);const l=Ur(),c=Ur(),d=Ur();Ge(i,t.domain,l),Ge(i,t.scheme,c),Ge(i,t.slashscheme,d),Ge(l,r,s),Ge(l,t.domain,l);const f=me(l,Oo);me(s,Oo,f),me(c,Oo,f),me(d,Oo,f);const p=me(s,Oi);Ge(p,r,s),Ge(p,t.domain,s);const m=Ur();Ge(f,t.domain,m),Ge(m,t.domain,m);const v=me(m,Oi);Ge(v,t.domain,m);const w=Ur(AC);Ge(v,t.tld,w),Ge(v,t.utld,w),me(f,$d,w);const x=me(m,Br);me(x,Br,x),Ge(x,t.domain,m),Ge(w,t.domain,m),me(w,Oi,v),me(w,Br,x);const E=me(w,zo);Ge(E,t.numeric,AC);const C=me(l,Br),O=me(l,Oi);me(C,Br,C),Ge(C,t.domain,l),Ge(O,r,s),Ge(O,t.domain,l);const I=Ur(Qh);Ge(O,t.tld,I),Ge(O,t.utld,I),Ge(I,t.domain,l),Ge(I,r,s),me(I,Oi,O),me(I,Br,C),me(I,Oo,f);const j=me(I,zo),U=Ur(Qh);Ge(j,t.numeric,U);const P=Ur(Qh),L=Ur();Ge(P,e,P),Ge(P,n,L),Ge(L,e,P),Ge(L,n,L),me(I,_i,P),me(U,_i,P);const _=me(c,zo),M=me(d,zo),D=me(M,_i),R=me(D,_i);Ge(c,t.domain,l),me(c,Oi,O),me(c,Br,C),Ge(d,t.domain,l),me(d,Oi,O),me(d,Br,C),Ge(_,t.domain,P),me(_,_i,P),me(_,Sd,P),Ge(R,t.domain,P),Ge(R,e,P),me(R,_i,P);const V=[[vd,bd],[em,tm],[nm,rm],[im,sm],[om,am],[lm,cm],[um,dm],[fm,hm]];for(let q=0;q<V.length;q++){const[H,ye]=V[q],ge=me(P,H);me(L,H,ge),me(ge,ye,P);const G=Ur(Qh);Ge(ge,e,G);const oe=Ur();Ge(ge,n),Ge(G,e,G),Ge(G,n,oe),Ge(oe,e,G),Ge(oe,n,oe),me(G,ye,P),me(oe,ye,P)}return me(i,$d,I),me(i,Db,_$),{start:i,tokens:MO}}function D$(t,e,n){let r=n.length,i=0,s=[],l=[];for(;i<r;){let c=t,d=null,f=null,p=0,m=null,v=-1;for(;i<r&&!(d=c.go(n[i].t));)l.push(n[i++]);for(;i<r&&(f=d||c.go(n[i].t));)d=null,c=f,c.accepts()?(v=0,m=c):v>=0&&v++,i++,p++;if(v<0)i-=p,i<r&&(l.push(n[i]),i++);else{l.length>0&&(s.push(av(kC,e,l)),l=[]),i-=v,p-=v;const w=m.t,x=n.slice(i-p,i);s.push(av(w,e,x))}}return l.length>0&&s.push(av(kC,e,l)),s}function av(t,e,n){const r=n[0].s,i=n[n.length-1].e,s=e.slice(r,i);return new t(s,n)}const I$=typeof console<"u"&&console&&console.warn||(()=>{}),L$="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Rt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function j$(){return tr.groups={},Rt.scanner=null,Rt.parser=null,Rt.tokenQueue=[],Rt.pluginQueue=[],Rt.customSchemes=[],Rt.initialized=!1,Rt}function NC(t,e=!1){if(Rt.initialized&&I$(`linkifyjs: already initialized - will not register custom scheme "${t}" ${L$}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Rt.customSchemes.push([t,e])}function P$(){Rt.scanner=M$(Rt.customSchemes);for(let t=0;t<Rt.tokenQueue.length;t++)Rt.tokenQueue[t][1]({scanner:Rt.scanner});Rt.parser=R$(Rt.scanner.tokens);for(let t=0;t<Rt.pluginQueue.length;t++)Rt.pluginQueue[t][1]({scanner:Rt.scanner,parser:Rt.parser});return Rt.initialized=!0,Rt}function Ub(t){return Rt.initialized||P$(),D$(Rt.parser.start,t,OO(Rt.scanner.start,t))}Ub.scan=OO;function RO(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new zb(n),i=Ub(t),s=[];for(let l=0;l<i.length;l++){const c=i[l];c.isLink&&(!e||c.t===e)&&r.check(c)&&s.push(c.toFormattedObject(r))}return s}var Bb="[\0- -\u2029]",z$=new RegExp(Bb),U$=new RegExp(`${Bb}$`),B$=new RegExp(Bb,"g");function H$(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function V$(t){return new jt({key:new Ut("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(f=>f.docChanged)&&!n.doc.eq(r.doc),s=e.some(f=>f.getMeta("preventAutolink"));if(!i||s)return;const{tr:l}=r,c=HM(n.doc,[...e]);if(XM(c).forEach(({newRange:f})=>{const p=LB(r.doc,f,w=>w.isTextblock);let m,v;if(p.length>1)m=p[0],v=r.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(p.length){const w=r.doc.textBetween(f.from,f.to," "," ");if(!U$.test(w))return;m=p[0],v=r.doc.textBetween(m.pos,f.to,void 0," ")}if(m&&v){const w=v.split(z$).filter(Boolean);if(w.length<=0)return!1;const x=w[w.length-1],E=m.pos+v.lastIndexOf(x);if(!x)return!1;const C=Ub(x).map(O=>O.toObject(t.defaultProtocol));if(!H$(C))return!1;C.filter(O=>O.isLink).map(O=>({...O,from:E+O.start+1,to:E+O.end+1})).filter(O=>r.schema.marks.code?!r.doc.rangeHasMark(O.from,O.to,r.schema.marks.code):!0).filter(O=>t.validate(O.value)).filter(O=>t.shouldAutoLink(O.value)).forEach(O=>{Nb(O.from,O.to,r.doc).some(I=>I.mark.type===t.type)||l.addMark(O.from,O.to,t.type.create({href:O.href}))})}}),!!l.steps.length)return l}})}function $$(t){return new jt({key:new Ut("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let l=null;if(r.target instanceof HTMLAnchorElement)l=r.target;else{let p=r.target;const m=[];for(;p.nodeName!=="DIV";)m.push(p),p=p.parentNode;l=m.find(v=>v.nodeName==="A")}if(!l)return!1;const c=YM(e.state,t.type.name),d=(i=l?.href)!=null?i:c.href,f=(s=l?.target)!=null?s:c.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),l&&d?(window.open(d,f),!0):!1}}})}function F$(t){return new jt({key:new Ut("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:i}=e,{selection:s}=i,{empty:l}=s;if(l)return!1;let c="";r.content.forEach(f=>{c+=f.textContent});const d=RO(c,{defaultProtocol:t.defaultProtocol}).find(f=>f.isLink&&f.value===c);return!c||!d?!1:t.editor.commands.setMark(t.type,{href:d.href})}}})}function Ua(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(B$,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var q$=Bs.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){NC(t);return}NC(t.scheme,t.optionalSlashes)})},onDestroy(){j$()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Ua(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Ua(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Ua(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Ft(this.options.HTMLAttributes,t),0]:["a",Ft(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Ua(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Ua(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[pl({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=RO(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:l=>!!Ua(l,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(s=>e.push({text:s.value,data:{href:s.href},index:s.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(V$({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Ua(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push($$({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(F$({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),W$=Object.defineProperty,G$=(t,e)=>{for(var n in e)W$(t,n,{get:e[n],enumerable:!0})},K$="listItem",MC="textStyle",OC=/^\s*([-+*])\s$/,DO=En.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Ft(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(K$,this.editor.getAttributes(MC)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=zc({find:OC,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=zc({find:OC,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(MC),editor:this.editor})),[t]}}),IO=En.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Ft(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Y$={};G$(Y$,{findListItemPos:()=>df,getNextListDepth:()=>Hb,handleBackspace:()=>d1,handleDelete:()=>f1,hasListBefore:()=>LO,hasListItemAfter:()=>X$,hasListItemBefore:()=>jO,listItemHasSubList:()=>PO,nextListIsDeeper:()=>zO,nextListIsHigher:()=>UO});var df=(t,e)=>{const{$from:n}=e.selection,r=en(t,e.schema);let i=null,s=n.depth,l=n.pos,c=null;for(;s>0&&c===null;)i=n.node(s),i.type===r?c=s:(s-=1,l-=1);return c===null?null:{$pos:e.doc.resolve(l),depth:c}},Hb=(t,e)=>{const n=df(t,e);if(!n)return!1;const[,r]=FB(e,t,n.$pos.pos+4);return r},LO=(t,e,n)=>{const{$anchor:r}=t.selection,i=Math.max(0,r.pos-2),s=t.doc.resolve(i).node();return!(!s||!n.includes(s.type.name))},jO=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},PO=(t,e,n)=>{if(!n)return!1;const r=en(t,e.schema);let i=!1;return n.descendants(s=>{s.type===r&&(i=!0)}),i},d1=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!ta(t.state,e)&&LO(t.state,e,n)){const{$anchor:c}=t.state.selection,d=t.state.doc.resolve(c.before()-1),f=[];d.node().descendants((v,w)=>{v.type.name===e&&f.push({node:v,pos:w})});const p=f.at(-1);if(!p)return!1;const m=t.state.doc.resolve(d.start()+p.pos+1);return t.chain().cut({from:c.start()-1,to:c.end()+1},m.end()).joinForward().run()}if(!ta(t.state,e)||!KB(t.state))return!1;const r=df(e,t.state);if(!r)return!1;const s=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),l=PO(e,t.state,s);return jO(e,t.state)&&!l?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},zO=(t,e)=>{const n=Hb(t,e),r=df(t,e);return!r||!n?!1:n>r.depth},UO=(t,e)=>{const n=Hb(t,e),r=df(t,e);return!r||!n?!1:n<r.depth},f1=(t,e)=>{if(!ta(t.state,e)||!GB(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:zO(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():UO(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},X$=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},BO=wt.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&f1(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&f1(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&d1(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&d1(t,n,r)&&(e=!0)}),e}}}}),J$="listItem",_C="textStyle",RC=/^(\d+)\.\s$/,HO=En.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Ft(this.options.HTMLAttributes,n),0]:["ol",Ft(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(J$,this.editor.getAttributes(_C)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=zc({find:RC,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=zc({find:RC,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(_C)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),Q$=/^\s*(\[([( |x])?\])\s$/,Z$=En.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Ft(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),l=document.createElement("span"),c=document.createElement("input"),d=document.createElement("div"),f=p=>{var m,v;c.ariaLabel=((v=(m=this.options.a11y)==null?void 0:m.checkboxLabel)==null?void 0:v.call(m,p,c.checked))||`Task item checkbox for ${p.textContent||"empty task item"}`};return f(t),s.contentEditable="false",c.type="checkbox",c.addEventListener("mousedown",p=>p.preventDefault()),c.addEventListener("change",p=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){c.checked=!c.checked;return}const{checked:m}=p.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:v})=>{const w=n();if(typeof w!="number")return!1;const x=v.doc.nodeAt(w);return v.setNodeMarkup(w,void 0,{...x?.attrs,checked:m}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,m)||(c.checked=!c.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([p,m])=>{i.setAttribute(p,m)}),i.dataset.checked=t.attrs.checked,c.checked=t.attrs.checked,s.append(c,l),i.append(s,d),Object.entries(e).forEach(([p,m])=>{i.setAttribute(p,m)}),{dom:i,contentDOM:d,update:p=>p.type!==this.type?!1:(i.dataset.checked=p.attrs.checked,c.checked=p.attrs.checked,f(p),!0)}}},addInputRules(){return[zc({find:Q$,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),eF=En.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Ft(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});wt.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(DO.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(IO.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(BO.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(HO.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(Z$.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(eF.configure(this.options.taskList)),t}});var VO=En.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Ft(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),tF=VO,nF=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,rF=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,iF=Bs.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Ft(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Pc({find:nF,type:this.type})]},addPasteRules(){return[pl({find:rF,type:this.type})]}}),sF=En.create({name:"text",group:"inline"}),oF=Bs.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Ft(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function aF(t={}){return new jt({view(e){return new lF(e,t)}})}class lF{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=l=>{this[i](l)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),l=s.width/i.offsetWidth,c=s.height/i.offsetHeight;if(n){let m=e.nodeBefore,v=e.nodeAfter;if(m||v){let w=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(w){let x=w.getBoundingClientRect(),E=m?x.bottom:x.top;m&&v&&(E=(E+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let C=this.width/2*c;r={left:x.left,right:x.right,top:E-C,bottom:E+C}}}}if(!r){let m=this.editorView.coordsAtPos(this.cursorPos),v=this.width/2*l;r={left:m.left-v,right:m.left+v,top:m.top,bottom:m.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let f,p;if(!d||d==document.body&&getComputedStyle(d).position=="static")f=-pageXOffset,p=-pageYOffset;else{let m=d.getBoundingClientRect(),v=m.width/d.offsetWidth,w=m.height/d.offsetHeight;f=m.left-d.scrollLeft*v,p=m.top-d.scrollTop*w}this.element.style.left=(r.left-f)/l+"px",this.element.style.top=(r.top-p)/c+"px",this.element.style.width=(r.right-r.left)/l+"px",this.element.style.height=(r.bottom-r.top)/c+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let l=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let c=UN(this.editorView.state.doc,l,this.editorView.dragging.slice);c!=null&&(l=c)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class $t extends Ue{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return $t.valid(r)?new $t(r):Ue.near(r)}content(){return be.empty}eq(e){return e instanceof $t&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new $t(e.resolve(n.pos))}getBookmark(){return new Vb(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!cF(e)||!uF(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&$t.valid(e))return e;let i=e.pos,s=null;for(let l=e.depth;;l--){let c=e.node(l);if(n>0?e.indexAfter(l)<c.childCount:e.index(l)>0){s=c.child(n>0?e.indexAfter(l):e.index(l)-1);break}else if(l==0)return null;i+=n;let d=e.doc.resolve(i);if($t.valid(d))return d}for(;;){let l=n>0?s.firstChild:s.lastChild;if(!l){if(s.isAtom&&!s.isText&&!De.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=l,i+=n;let c=e.doc.resolve(i);if($t.valid(c))return c}return null}}}$t.prototype.visible=!1;$t.findFrom=$t.findGapCursorFrom;Ue.jsonID("gapcursor",$t);class Vb{constructor(e){this.pos=e}map(e){return new Vb(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return $t.valid(n)?new $t(n):Ue.near(n)}}function cF(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function uF(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function dF(){return new jt({props:{decorations:mF,createSelectionBetween(t,e,n){return e.pos==n.pos&&$t.valid(n)?new $t(n):null},handleClick:hF,handleKeyDown:fF,handleDOMEvents:{beforeinput:pF}}})}const fF=gb({ArrowLeft:Zh("horiz",-1),ArrowRight:Zh("horiz",1),ArrowUp:Zh("vert",-1),ArrowDown:Zh("vert",1)});function Zh(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let l=r.selection,c=e>0?l.$to:l.$from,d=l.empty;if(l instanceof Ve){if(!s.endOfTextblock(n)||c.depth==0)return!1;d=!1,c=r.doc.resolve(e>0?c.after():c.before())}let f=$t.findGapCursorFrom(c,e,d);return f?(i&&i(r.tr.setSelection(new $t(f))),!0):!1}}function hF(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!$t.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&De.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new $t(r))),!0)}function pF(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof $t))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=fe.empty;for(let l=r.length-1;l>=0;l--)i=fe.from(r[l].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new be(i,0,0));return s.setSelection(Ve.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function mF(t){if(!(t.selection instanceof $t))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",zt.create(t.doc,[Un.widget(t.selection.head,e,{key:"gapcursor"})])}var km=200,pn=function(){};pn.prototype.append=function(e){return e.length?(e=pn.from(e),!this.length&&e||e.length<km&&this.leafAppend(e)||this.length<km&&e.leafPrepend(this)||this.appendInner(e)):this};pn.prototype.prepend=function(e){return e.length?pn.from(e).append(this):this};pn.prototype.appendInner=function(e){return new gF(this,e)};pn.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?pn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};pn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};pn.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};pn.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,l){return i.push(e(s,l))},n,r),i};pn.from=function(e){return e instanceof pn?e:e&&e.length?new $O(e):pn.empty};var $O=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,l,c){for(var d=s;d<l;d++)if(i(this.values[d],c+d)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,l,c){for(var d=s-1;d>=l;d--)if(i(this.values[d],c+d)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=km)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=km)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(pn);pn.empty=new $O([]);var gF=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,l){var c=this.left.length;if(i<c&&this.left.forEachInner(r,i,Math.min(s,c),l)===!1||s>c&&this.right.forEachInner(r,Math.max(i-c,0),Math.min(this.length,s)-c,l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,l){var c=this.left.length;if(i>c&&this.right.forEachInvertedInner(r,i-c,Math.max(s,c)-c,l+c)===!1||s<c&&this.left.forEachInvertedInner(r,Math.min(i,c),s,l)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(pn);const yF=500;class ni{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let l=e.tr,c,d,f=[],p=[];return this.items.forEach((m,v)=>{if(!m.step){i||(i=this.remapping(r,v+1),s=i.maps.length),s--,p.push(m);return}if(i){p.push(new Ri(m.map));let w=m.step.map(i.slice(s)),x;w&&l.maybeStep(w).doc&&(x=l.mapping.maps[l.mapping.maps.length-1],f.push(new Ri(x,void 0,void 0,f.length+p.length))),s--,x&&i.appendMap(x,s)}else l.maybeStep(m.step);if(m.selection)return c=i?m.selection.map(i.slice(s)):m.selection,d=new ni(this.items.slice(0,r).append(p.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:l,selection:c}}addTransform(e,n,r,i){let s=[],l=this.eventCount,c=this.items,d=!i&&c.length?c.get(c.length-1):null;for(let p=0;p<e.steps.length;p++){let m=e.steps[p].invert(e.docs[p]),v=new Ri(e.mapping.maps[p],m,n),w;(w=d&&d.merge(v))&&(v=w,p?s.pop():c=c.slice(0,c.length-1)),s.push(v),n&&(l++,n=void 0),i||(d=v)}let f=l-r.depth;return f>bF&&(c=vF(c,f),l-=f),new ni(c.append(s),l)}remapping(e,n){let r=new jd;return this.items.forEach((i,s)=>{let l=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,l)},e,n),r}addMaps(e){return this.eventCount==0?this:new ni(this.items.append(e.map(n=>new Ri(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,l=e.steps.length,c=this.eventCount;this.items.forEach(v=>{v.selection&&c--},i);let d=n;this.items.forEach(v=>{let w=s.getMirror(--d);if(w==null)return;l=Math.min(l,w);let x=s.maps[w];if(v.step){let E=e.steps[w].invert(e.docs[w]),C=v.selection&&v.selection.map(s.slice(d+1,w));C&&c++,r.push(new Ri(x,E,C))}else r.push(new Ri(x))},i);let f=[];for(let v=n;v<l;v++)f.push(new Ri(s.maps[v]));let p=this.items.slice(0,i).append(f).append(r),m=new ni(p,c);return m.emptyItemCount()>yF&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((l,c)=>{if(c>=e)i.push(l),l.selection&&s++;else if(l.step){let d=l.step.map(n.slice(r)),f=d&&d.getMap();if(r--,f&&n.appendMap(f,r),d){let p=l.selection&&l.selection.map(n.slice(r));p&&s++;let m=new Ri(f.invert(),d,p),v,w=i.length-1;(v=i.length&&i[w].merge(m))?i[w]=v:i.push(m)}}else l.map&&r--},this.items.length,0),new ni(pn.from(i.reverse()),s)}}ni.empty=new ni(pn.empty,0);function vF(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class Ri{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Ri(n.getMap().invert(),n,this.selection)}}}class _o{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const bF=20;function wF(t,e,n,r){let i=n.getMeta(il),s;if(i)return i.historyState;n.getMeta(EF)&&(t=new _o(t.done,t.undone,null,0,-1));let l=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(l&&l.getMeta(il))return l.getMeta(il).redo?new _o(t.done.addTransform(n,void 0,r,Ep(e)),t.undone,DC(n.mapping.maps),t.prevTime,t.prevComposition):new _o(t.done,t.undone.addTransform(n,void 0,r,Ep(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let c=n.getMeta("composition"),d=t.prevTime==0||!l&&t.prevComposition!=c&&(t.prevTime<(n.time||0)-r.newGroupDelay||!SF(n,t.prevRanges)),f=l?lv(t.prevRanges,n.mapping):DC(n.mapping.maps);return new _o(t.done.addTransform(n,d?e.selection.getBookmark():void 0,r,Ep(e)),ni.empty,f,n.time,c??t.prevComposition)}else return(s=n.getMeta("rebased"))?new _o(t.done.rebased(n,s),t.undone.rebased(n,s),lv(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new _o(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),lv(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function SF(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function DC(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,l)=>e.push(s,l));return e}function lv(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function xF(t,e,n){let r=Ep(e),i=il.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let l=s.selection.resolve(s.transform.doc),c=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),d=new _o(n?c:s.remaining,n?s.remaining:c,null,0,-1);return s.transform.setSelection(l).setMeta(il,{redo:n,historyState:d})}let cv=!1,IC=null;function Ep(t){let e=t.plugins;if(IC!=e){cv=!1,IC=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){cv=!0;break}}return cv}const il=new Ut("history"),EF=new Ut("closeHistory");function TF(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new jt({key:il,state:{init(){return new _o(ni.empty,ni.empty,null,0,-1)},apply(e,n,r){return wF(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?qO:r=="historyRedo"?WO:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function FO(t,e){return(n,r)=>{let i=il.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=xF(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const qO=FO(!1,!0),WO=FO(!0,!0);wt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new jt({key:new Ut("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const s=this.storage.characters({node:r.doc});if(s>i){const l=s-i,c=0,d=l;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const f=r.tr.deleteRange(c,d);return t=!0,f}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),s=this.storage.characters({node:e.doc});if(s<=r||i>r&&s>r&&s<=i)return!0;if(i>r&&s>r&&s>i||!e.getMeta("paste"))return!1;const c=e.selection.$head.pos,d=s-r,f=c-d,p=c;return e.deleteRange(f,p),!(this.storage.characters({node:e.doc})>r)}})]}});var CF=wt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[aF(this.options)]}});wt.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new jt({key:new Ut("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,s=[];if(!n||!r)return zt.create(t,[]);let l=0;this.options.mode==="deepest"&&t.descendants((d,f)=>{if(d.isText)return;if(!(i>=f&&i<=f+d.nodeSize-1))return!1;l+=1});let c=0;return t.descendants((d,f)=>{if(d.isText||!(i>=f&&i<=f+d.nodeSize-1))return!1;if(c+=1,this.options.mode==="deepest"&&l-c>0||this.options.mode==="shallowest"&&c>1)return this.options.mode==="deepest";s.push(Un.node(f,f+d.nodeSize,{class:this.options.className}))}),zt.create(t,s)}}})]}});var AF=wt.create({name:"gapCursor",addProseMirrorPlugins(){return[dF()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=bt(Re(t,"allowGapCursor",n)))!=null?e:null}}});wt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new jt({key:new Ut("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((l,c)=>{const d=r>=c&&r<=c+l.nodeSize,f=!l.isLeaf&&rg(l);if((d||!this.options.showOnlyCurrent)&&f){const p=[this.options.emptyNodeClass];s&&p.push(this.options.emptyEditorClass);const m=Un.node(c,c+l.nodeSize,{class:p.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:l,pos:c,hasAnchor:d}):this.options.placeholder});i.push(m)}return this.options.includeChildren}),zt.create(t,i)}}})]}});wt.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new jt({key:new Ut("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||QM(n.selection)||t.view.dragging?null:zt.create(n.doc,[Un.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function LC({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var kF=wt.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const t=new Ut(this.name),e=Object.entries(this.editor.schema.nodes).map(([,n])=>n).filter(n=>(this.options.notAfter||[]).concat(this.options.node).includes(n.name));return[new jt({key:t,appendTransaction:(n,r,i)=>{const{doc:s,tr:l,schema:c}=i,d=t.getState(i),f=s.content.size,p=c.nodes[this.options.node];if(d)return l.insert(f,p.create())},state:{init:(n,r)=>{const i=r.tr.doc.lastChild;return!LC({node:i,types:e})},apply:(n,r)=>{if(!n.docChanged)return r;const i=n.doc.lastChild;return!LC({node:i,types:e})}}})]}}),NF=wt.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>qO(t,e),redo:()=>({state:t,dispatch:e})=>WO(t,e)}},addProseMirrorPlugins(){return[TF(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),MF=wt.create({name:"starterKit",addExtensions(){var t,e,n,r;const i=[];return this.options.bold!==!1&&i.push(s$.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(e$.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(DO.configure(this.options.bulletList)),this.options.code!==!1&&i.push(l$.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(d$.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(f$.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(CF.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(AF.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(h$.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(p$.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(NF.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(m$.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(w$.configure(this.options.italic)),this.options.listItem!==!1&&i.push(IO.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(BO.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(q$.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(HO.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(VO.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(iF.configure(this.options.strike)),this.options.text!==!1&&i.push(sF.configure(this.options.text)),this.options.underline!==!1&&i.push(oF.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(kF.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),OF=MF;const _F=[{subset:"latin"},{capability:"WOFF2"}],RF=async(t=_F)=>{const e=t.reduce((r,i)=>(Object.entries(i).forEach(([s,l])=>r.push(`${s}=${l}`)),r),[]).join("&"),n=await fetch(`https://www.googleapis.com/webfonts/v1/webfonts?key=${X3}&${e}`);if(n.ok)return(await n.json())?.items},DF=t=>`https://fonts.googleapis.com/css2?family=${jF(t).join("&family=")}`,IF=t=>t==="regular"?{wght:400,ital:0}:t==="italic"?{wght:400,ital:1}:t.endsWith("italic")?{wght:t==="italic"?Ja.FONT_DEF_WEIGHT:parseInt(t,10)||Ja.FONT_DEF_WEIGHT,ital:1}:{wght:parseInt(t,10)||Ja.FONT_DEF_WEIGHT,ital:0},LF=(t,e)=>{const n=Array.from(e).map(IF);if(n.some(s=>s.ital===1)){const s=n.sort((l,c)=>l.ital-c.ital||l.wght-c.wght).map(l=>`${l.ital},${l.wght}`).join(";");return s==="1,400"?`${t.replace(/\s+/g,"+")}:ital@1`:`${t.replace(/\s+/g,"+")}:ital,wght@${s}`}const i=n.map(s=>s.wght).sort((s,l)=>s-l).join(";");return i==="400"?t.replace(/\s+/g,"+"):`${t.replace(/\s+/g,"+")}:wght@${i}`},jF=t=>Object.entries(t).map(([e,n])=>LF(e,n));function PF({children:t}){const e=Be(f=>f.domain),{js:n,css:r,fonts:i}=Be(f=>f.config),s=A.useRef(null),[l,c]=A.useState(null),d=A.useRef(!1);return A.useEffect(()=>{const f=s.current;if(d.current||!f||!f.contentDocument)return;const p=f.contentDocument.createElement("base");if(p.href=`https://${e}/`,f.contentDocument.head.appendChild(p),r.length>0){const m=f.contentDocument.createElement("style");m.textContent=[...Q3,r].join(`
`),f.contentDocument.head.appendChild(m)}if(Object.keys(i).length>0){const m=f.contentDocument.createElement("link");m.href=DF(i),m.rel="stylesheet",f.contentDocument.head.appendChild(m)}if(n.length>0){const m=f.contentDocument.createElement("script");m.textContent=n,f.contentDocument.head.appendChild(m)}c(f.contentDocument.body),f.contentDocument.body.focus(),f.contentWindow?.focus(),d.current=!0},[r,n,i,e]),b.jsxs(b.Fragment,{children:[b.jsx("iframe",{ref:s,className:"grow bg-base-200"}),l&&qc.createPortal(t,l)]})}const GO=["top","right","bottom","left"],jC=["start","end"],PC=GO.reduce((t,e)=>t.concat(e,e+"-"+jC[0],e+"-"+jC[1]),[]),di=Math.min,Nn=Math.max,Nm=Math.round,ep=Math.floor,Ui=t=>({x:t,y:t}),zF={left:"right",right:"left",bottom:"top",top:"bottom"},UF={start:"end",end:"start"};function h1(t,e,n){return Nn(t,di(e,n))}function fi(t,e){return typeof t=="function"?t(e):t}function Sr(t){return t.split("-")[0]}function ci(t){return t.split("-")[1]}function $b(t){return t==="x"?"y":"x"}function Fb(t){return t==="y"?"height":"width"}const BF=new Set(["top","bottom"]);function oi(t){return BF.has(Sr(t))?"y":"x"}function qb(t){return $b(oi(t))}function KO(t,e,n){n===void 0&&(n=!1);const r=ci(t),i=qb(t),s=Fb(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(l=Om(l)),[l,Om(l)]}function HF(t){const e=Om(t);return[Mm(t),e,Mm(e)]}function Mm(t){return t.replace(/start|end/g,e=>UF[e])}const zC=["left","right"],UC=["right","left"],VF=["top","bottom"],$F=["bottom","top"];function FF(t,e,n){switch(t){case"top":case"bottom":return n?e?UC:zC:e?zC:UC;case"left":case"right":return e?VF:$F;default:return[]}}function qF(t,e,n,r){const i=ci(t);let s=FF(Sr(t),n==="start",r);return i&&(s=s.map(l=>l+"-"+i),e&&(s=s.concat(s.map(Mm)))),s}function Om(t){return t.replace(/left|right|bottom|top/g,e=>zF[e])}function WF(t){return{top:0,right:0,bottom:0,left:0,...t}}function Wb(t){return typeof t!="number"?WF(t):{top:t,right:t,bottom:t,left:t}}function Uc(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function BC(t,e,n){let{reference:r,floating:i}=t;const s=oi(e),l=qb(e),c=Fb(l),d=Sr(e),f=s==="y",p=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,v=r[c]/2-i[c]/2;let w;switch(d){case"top":w={x:p,y:r.y-i.height};break;case"bottom":w={x:p,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:m};break;case"left":w={x:r.x-i.width,y:m};break;default:w={x:r.x,y:r.y}}switch(ci(e)){case"start":w[l]-=v*(n&&f?-1:1);break;case"end":w[l]+=v*(n&&f?-1:1);break}return w}const GF=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:l}=n,c=s.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let f=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:p,y:m}=BC(f,r,d),v=r,w={},x=0;for(let E=0;E<c.length;E++){const{name:C,fn:O}=c[E],{x:I,y:j,data:U,reset:P}=await O({x:p,y:m,initialPlacement:r,placement:v,strategy:i,middlewareData:w,rects:f,platform:l,elements:{reference:t,floating:e}});p=I??p,m=j??m,w={...w,[C]:{...w[C],...U}},P&&x<=50&&(x++,typeof P=="object"&&(P.placement&&(v=P.placement),P.rects&&(f=P.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):P.rects),{x:p,y:m}=BC(f,v,d)),E=-1)}return{x:p,y:m,placement:v,strategy:i,middlewareData:w}};async function Bc(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:l,elements:c,strategy:d}=t,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:v=!1,padding:w=0}=fi(e,t),x=Wb(w),C=c[v?m==="floating"?"reference":"floating":m],O=Uc(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(C)))==null||n?C:C.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:f,rootBoundary:p,strategy:d})),I=m==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,j=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),U=await(s.isElement==null?void 0:s.isElement(j))?await(s.getScale==null?void 0:s.getScale(j))||{x:1,y:1}:{x:1,y:1},P=Uc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:I,offsetParent:j,strategy:d}):I);return{top:(O.top-P.top+x.top)/U.y,bottom:(P.bottom-O.bottom+x.bottom)/U.y,left:(O.left-P.left+x.left)/U.x,right:(P.right-O.right+x.right)/U.x}}const KF=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:l,elements:c,middlewareData:d}=e,{element:f,padding:p=0}=fi(t,e)||{};if(f==null)return{};const m=Wb(p),v={x:n,y:r},w=qb(i),x=Fb(w),E=await l.getDimensions(f),C=w==="y",O=C?"top":"left",I=C?"bottom":"right",j=C?"clientHeight":"clientWidth",U=s.reference[x]+s.reference[w]-v[w]-s.floating[x],P=v[w]-s.reference[w],L=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let _=L?L[j]:0;(!_||!await(l.isElement==null?void 0:l.isElement(L)))&&(_=c.floating[j]||s.floating[x]);const M=U/2-P/2,D=_/2-E[x]/2-1,R=di(m[O],D),V=di(m[I],D),q=R,H=_-E[x]-V,ye=_/2-E[x]/2+M,ge=h1(q,ye,H),G=!d.arrow&&ci(i)!=null&&ye!==ge&&s.reference[x]/2-(ye<q?R:V)-E[x]/2<0,oe=G?ye<q?ye-q:ye-H:0;return{[w]:v[w]+oe,data:{[w]:ge,centerOffset:ye-ge-oe,...G&&{alignmentOffset:oe}},reset:G}}});function YF(t,e,n){return(t?[...n.filter(i=>ci(i)===t),...n.filter(i=>ci(i)!==t)]:n.filter(i=>Sr(i)===i)).filter(i=>t?ci(i)===t||(e?Mm(i)!==i:!1):!0)}const XF=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,r,i;const{rects:s,middlewareData:l,placement:c,platform:d,elements:f}=e,{crossAxis:p=!1,alignment:m,allowedPlacements:v=PC,autoAlignment:w=!0,...x}=fi(t,e),E=m!==void 0||v===PC?YF(m||null,w,v):v,C=await Bc(e,x),O=((n=l.autoPlacement)==null?void 0:n.index)||0,I=E[O];if(I==null)return{};const j=KO(I,s,await(d.isRTL==null?void 0:d.isRTL(f.floating)));if(c!==I)return{reset:{placement:E[0]}};const U=[C[Sr(I)],C[j[0]],C[j[1]]],P=[...((r=l.autoPlacement)==null?void 0:r.overflows)||[],{placement:I,overflows:U}],L=E[O+1];if(L)return{data:{index:O+1,overflows:P},reset:{placement:L}};const _=P.map(R=>{const V=ci(R.placement);return[R.placement,V&&p?R.overflows.slice(0,2).reduce((q,H)=>q+H,0):R.overflows[0],R.overflows]}).sort((R,V)=>R[1]-V[1]),D=((i=_.filter(R=>R[2].slice(0,ci(R[0])?2:3).every(V=>V<=0))[0])==null?void 0:i[0])||_[0][0];return D!==c?{data:{index:O+1,overflows:P},reset:{placement:D}}:{}}}},JF=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:l,initialPlacement:c,platform:d,elements:f}=e,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:E=!0,...C}=fi(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const O=Sr(i),I=oi(c),j=Sr(c)===c,U=await(d.isRTL==null?void 0:d.isRTL(f.floating)),P=v||(j||!E?[Om(c)]:HF(c)),L=x!=="none";!v&&L&&P.push(...qF(c,E,x,U));const _=[c,...P],M=await Bc(e,C),D=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(p&&D.push(M[O]),m){const ye=KO(i,l,U);D.push(M[ye[0]],M[ye[1]])}if(R=[...R,{placement:i,overflows:D}],!D.every(ye=>ye<=0)){var V,q;const ye=(((V=s.flip)==null?void 0:V.index)||0)+1,ge=_[ye];if(ge&&(!(m==="alignment"?I!==oi(ge):!1)||R.every(ce=>oi(ce.placement)===I?ce.overflows[0]>0:!0)))return{data:{index:ye,overflows:R},reset:{placement:ge}};let G=(q=R.filter(oe=>oe.overflows[0]<=0).sort((oe,ce)=>oe.overflows[1]-ce.overflows[1])[0])==null?void 0:q.placement;if(!G)switch(w){case"bestFit":{var H;const oe=(H=R.filter(ce=>{if(L){const Te=oi(ce.placement);return Te===I||Te==="y"}return!0}).map(ce=>[ce.placement,ce.overflows.filter(Te=>Te>0).reduce((Te,F)=>Te+F,0)]).sort((ce,Te)=>ce[1]-Te[1])[0])==null?void 0:H[0];oe&&(G=oe);break}case"initialPlacement":G=c;break}if(i!==G)return{reset:{placement:G}}}return{}}}};function HC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function VC(t){return GO.some(e=>t[e]>=0)}const QF=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=fi(t,e);switch(r){case"referenceHidden":{const s=await Bc(e,{...i,elementContext:"reference"}),l=HC(s,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:VC(l)}}}case"escaped":{const s=await Bc(e,{...i,altBoundary:!0}),l=HC(s,n.floating);return{data:{escapedOffsets:l,escaped:VC(l)}}}default:return{}}}}};function YO(t){const e=di(...t.map(s=>s.left)),n=di(...t.map(s=>s.top)),r=Nn(...t.map(s=>s.right)),i=Nn(...t.map(s=>s.bottom));return{x:e,y:n,width:r-e,height:i-n}}function ZF(t){const e=t.slice().sort((i,s)=>i.y-s.y),n=[];let r=null;for(let i=0;i<e.length;i++){const s=e[i];!r||s.y-r.y>r.height/2?n.push([s]):n[n.length-1].push(s),r=s}return n.map(i=>Uc(YO(i)))}const eq=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){const{placement:n,elements:r,rects:i,platform:s,strategy:l}=e,{padding:c=2,x:d,y:f}=fi(t,e),p=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(r.reference))||[]),m=ZF(p),v=Uc(YO(p)),w=Wb(c);function x(){if(m.length===2&&m[0].left>m[1].right&&d!=null&&f!=null)return m.find(C=>d>C.left-w.left&&d<C.right+w.right&&f>C.top-w.top&&f<C.bottom+w.bottom)||v;if(m.length>=2){if(oi(n)==="y"){const R=m[0],V=m[m.length-1],q=Sr(n)==="top",H=R.top,ye=V.bottom,ge=q?R.left:V.left,G=q?R.right:V.right,oe=G-ge,ce=ye-H;return{top:H,bottom:ye,left:ge,right:G,width:oe,height:ce,x:ge,y:H}}const C=Sr(n)==="left",O=Nn(...m.map(R=>R.right)),I=di(...m.map(R=>R.left)),j=m.filter(R=>C?R.left===I:R.right===O),U=j[0].top,P=j[j.length-1].bottom,L=I,_=O,M=_-L,D=P-U;return{top:U,bottom:P,left:L,right:_,width:M,height:D,x:L,y:U}}return v}const E=await s.getElementRects({reference:{getBoundingClientRect:x},floating:r.floating,strategy:l});return i.reference.x!==E.reference.x||i.reference.y!==E.reference.y||i.reference.width!==E.reference.width||i.reference.height!==E.reference.height?{reset:{rects:E}}:{}}}},XO=new Set(["left","top"]);async function tq(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Sr(n),c=ci(n),d=oi(n)==="y",f=XO.has(l)?-1:1,p=s&&d?-1:1,m=fi(e,t);let{mainAxis:v,crossAxis:w,alignmentAxis:x}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof x=="number"&&(w=c==="end"?x*-1:x),d?{x:w*p,y:v*f}:{x:v*f,y:w*p}}const nq=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:l,middlewareData:c}=e,d=await tq(e,t);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:s+d.y,data:{...d,placement:l}}}}},rq=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:l=!1,limiter:c={fn:C=>{let{x:O,y:I}=C;return{x:O,y:I}}},...d}=fi(t,e),f={x:n,y:r},p=await Bc(e,d),m=oi(Sr(i)),v=$b(m);let w=f[v],x=f[m];if(s){const C=v==="y"?"top":"left",O=v==="y"?"bottom":"right",I=w+p[C],j=w-p[O];w=h1(I,w,j)}if(l){const C=m==="y"?"top":"left",O=m==="y"?"bottom":"right",I=x+p[C],j=x-p[O];x=h1(I,x,j)}const E=c.fn({...e,[v]:w,[m]:x});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[v]:s,[m]:l}}}}}},iq=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:l}=e,{offset:c=0,mainAxis:d=!0,crossAxis:f=!0}=fi(t,e),p={x:n,y:r},m=oi(i),v=$b(m);let w=p[v],x=p[m];const E=fi(c,e),C=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(d){const j=v==="y"?"height":"width",U=s.reference[v]-s.floating[j]+C.mainAxis,P=s.reference[v]+s.reference[j]-C.mainAxis;w<U?w=U:w>P&&(w=P)}if(f){var O,I;const j=v==="y"?"width":"height",U=XO.has(Sr(i)),P=s.reference[m]-s.floating[j]+(U&&((O=l.offset)==null?void 0:O[m])||0)+(U?0:C.crossAxis),L=s.reference[m]+s.reference[j]+(U?0:((I=l.offset)==null?void 0:I[m])||0)-(U?C.crossAxis:0);x<P?x=P:x>L&&(x=L)}return{[v]:w,[m]:x}}}},sq=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:l,elements:c}=e,{apply:d=()=>{},...f}=fi(t,e),p=await Bc(e,f),m=Sr(i),v=ci(i),w=oi(i)==="y",{width:x,height:E}=s.floating;let C,O;m==="top"||m==="bottom"?(C=m,O=v===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(O=m,C=v==="end"?"top":"bottom");const I=E-p.top-p.bottom,j=x-p.left-p.right,U=di(E-p[C],I),P=di(x-p[O],j),L=!e.middlewareData.shift;let _=U,M=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(M=j),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(_=I),L&&!v){const R=Nn(p.left,0),V=Nn(p.right,0),q=Nn(p.top,0),H=Nn(p.bottom,0);w?M=x-2*(R!==0||V!==0?R+V:Nn(p.left,p.right)):_=E-2*(q!==0||H!==0?q+H:Nn(p.top,p.bottom))}await d({...e,availableWidth:M,availableHeight:_});const D=await l.getDimensions(c.floating);return x!==D.width||E!==D.height?{reset:{rects:!0}}:{}}}};function ag(){return typeof window<"u"}function Yc(t){return JO(t)?(t.nodeName||"").toLowerCase():"#document"}function wr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Wi(t){var e;return(e=(JO(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function JO(t){return ag()?t instanceof Node||t instanceof wr(t).Node:!1}function hi(t){return ag()?t instanceof Element||t instanceof wr(t).Element:!1}function $i(t){return ag()?t instanceof HTMLElement||t instanceof wr(t).HTMLElement:!1}function $C(t){return!ag()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof wr(t).ShadowRoot}const oq=new Set(["inline","contents"]);function ff(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=pi(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!oq.has(i)}const aq=new Set(["table","td","th"]);function lq(t){return aq.has(Yc(t))}const cq=[":popover-open",":modal"];function lg(t){return cq.some(e=>{try{return t.matches(e)}catch{return!1}})}const uq=["transform","translate","scale","rotate","perspective"],dq=["transform","translate","scale","rotate","perspective","filter"],fq=["paint","layout","strict","content"];function Gb(t){const e=Kb(),n=hi(t)?pi(t):t;return uq.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||dq.some(r=>(n.willChange||"").includes(r))||fq.some(r=>(n.contain||"").includes(r))}function hq(t){let e=na(t);for(;$i(e)&&!Hc(e);){if(Gb(e))return e;if(lg(e))return null;e=na(e)}return null}function Kb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const pq=new Set(["html","body","#document"]);function Hc(t){return pq.has(Yc(t))}function pi(t){return wr(t).getComputedStyle(t)}function cg(t){return hi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function na(t){if(Yc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||$C(t)&&t.host||Wi(t);return $C(e)?e.host:e}function QO(t){const e=na(t);return Hc(e)?t.ownerDocument?t.ownerDocument.body:t.body:$i(e)&&ff(e)?e:QO(e)}function qd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=QO(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),l=wr(i);if(s){const c=p1(l);return e.concat(l,l.visualViewport||[],ff(i)?i:[],c&&n?qd(c):[])}return e.concat(i,qd(i,[],n))}function p1(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ZO(t){const e=pi(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=$i(t),s=i?t.offsetWidth:n,l=i?t.offsetHeight:r,c=Nm(n)!==s||Nm(r)!==l;return c&&(n=s,r=l),{width:n,height:r,$:c}}function Yb(t){return hi(t)?t:t.contextElement}function Nc(t){const e=Yb(t);if(!$i(e))return Ui(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=ZO(e);let l=(s?Nm(n.width):n.width)/r,c=(s?Nm(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const mq=Ui(0);function e_(t){const e=wr(t);return!Kb()||!e.visualViewport?mq:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function gq(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==wr(t)?!1:e}function ml(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Yb(t);let l=Ui(1);e&&(r?hi(r)&&(l=Nc(r)):l=Nc(t));const c=gq(s,n,r)?e_(s):Ui(0);let d=(i.left+c.x)/l.x,f=(i.top+c.y)/l.y,p=i.width/l.x,m=i.height/l.y;if(s){const v=wr(s),w=r&&hi(r)?wr(r):r;let x=v,E=p1(x);for(;E&&r&&w!==x;){const C=Nc(E),O=E.getBoundingClientRect(),I=pi(E),j=O.left+(E.clientLeft+parseFloat(I.paddingLeft))*C.x,U=O.top+(E.clientTop+parseFloat(I.paddingTop))*C.y;d*=C.x,f*=C.y,p*=C.x,m*=C.y,d+=j,f+=U,x=wr(E),E=p1(x)}}return Uc({width:p,height:m,x:d,y:f})}function ug(t,e){const n=cg(t).scrollLeft;return e?e.left+n:ml(Wi(t)).left+n}function t_(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-ug(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function yq(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",l=Wi(r),c=e?lg(e.floating):!1;if(r===l||c&&s)return n;let d={scrollLeft:0,scrollTop:0},f=Ui(1);const p=Ui(0),m=$i(r);if((m||!m&&!s)&&((Yc(r)!=="body"||ff(l))&&(d=cg(r)),$i(r))){const w=ml(r);f=Nc(r),p.x=w.x+r.clientLeft,p.y=w.y+r.clientTop}const v=l&&!m&&!s?t_(l,d):Ui(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+p.x+v.x,y:n.y*f.y-d.scrollTop*f.y+p.y+v.y}}function vq(t){return Array.from(t.getClientRects())}function bq(t){const e=Wi(t),n=cg(t),r=t.ownerDocument.body,i=Nn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Nn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+ug(t);const c=-n.scrollTop;return pi(r).direction==="rtl"&&(l+=Nn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:l,y:c}}const FC=25;function wq(t,e){const n=wr(t),r=Wi(t),i=n.visualViewport;let s=r.clientWidth,l=r.clientHeight,c=0,d=0;if(i){s=i.width,l=i.height;const p=Kb();(!p||p&&e==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}const f=ug(r);if(f<=0){const p=r.ownerDocument,m=p.body,v=getComputedStyle(m),w=p.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,x=Math.abs(r.clientWidth-m.clientWidth-w);x<=FC&&(s-=x)}else f<=FC&&(s+=f);return{width:s,height:l,x:c,y:d}}const Sq=new Set(["absolute","fixed"]);function xq(t,e){const n=ml(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=$i(t)?Nc(t):Ui(1),l=t.clientWidth*s.x,c=t.clientHeight*s.y,d=i*s.x,f=r*s.y;return{width:l,height:c,x:d,y:f}}function qC(t,e,n){let r;if(e==="viewport")r=wq(t,n);else if(e==="document")r=bq(Wi(t));else if(hi(e))r=xq(e,n);else{const i=e_(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Uc(r)}function n_(t,e){const n=na(t);return n===e||!hi(n)||Hc(n)?!1:pi(n).position==="fixed"||n_(n,e)}function Eq(t,e){const n=e.get(t);if(n)return n;let r=qd(t,[],!1).filter(c=>hi(c)&&Yc(c)!=="body"),i=null;const s=pi(t).position==="fixed";let l=s?na(t):t;for(;hi(l)&&!Hc(l);){const c=pi(l),d=Gb(l);!d&&c.position==="fixed"&&(i=null),(s?!d&&!i:!d&&c.position==="static"&&!!i&&Sq.has(i.position)||ff(l)&&!d&&n_(t,l))?r=r.filter(p=>p!==l):i=c,l=na(l)}return e.set(t,r),r}function Tq(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const l=[...n==="clippingAncestors"?lg(e)?[]:Eq(e,this._c):[].concat(n),r],c=l[0],d=l.reduce((f,p)=>{const m=qC(e,p,i);return f.top=Nn(m.top,f.top),f.right=di(m.right,f.right),f.bottom=di(m.bottom,f.bottom),f.left=Nn(m.left,f.left),f},qC(e,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Cq(t){const{width:e,height:n}=ZO(t);return{width:e,height:n}}function Aq(t,e,n){const r=$i(e),i=Wi(e),s=n==="fixed",l=ml(t,!0,s,e);let c={scrollLeft:0,scrollTop:0};const d=Ui(0);function f(){d.x=ug(i)}if(r||!r&&!s)if((Yc(e)!=="body"||ff(i))&&(c=cg(e)),r){const w=ml(e,!0,s,e);d.x=w.x+e.clientLeft,d.y=w.y+e.clientTop}else i&&f();s&&!r&&i&&f();const p=i&&!r&&!s?t_(i,c):Ui(0),m=l.left+c.scrollLeft-d.x-p.x,v=l.top+c.scrollTop-d.y-p.y;return{x:m,y:v,width:l.width,height:l.height}}function uv(t){return pi(t).position==="static"}function WC(t,e){if(!$i(t)||pi(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Wi(t)===n&&(n=n.ownerDocument.body),n}function r_(t,e){const n=wr(t);if(lg(t))return n;if(!$i(t)){let i=na(t);for(;i&&!Hc(i);){if(hi(i)&&!uv(i))return i;i=na(i)}return n}let r=WC(t,e);for(;r&&lq(r)&&uv(r);)r=WC(r,e);return r&&Hc(r)&&uv(r)&&!Gb(r)?n:r||hq(t)||n}const kq=async function(t){const e=this.getOffsetParent||r_,n=this.getDimensions,r=await n(t.floating);return{reference:Aq(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Nq(t){return pi(t).direction==="rtl"}const Mq={convertOffsetParentRelativeRectToViewportRelativeRect:yq,getDocumentElement:Wi,getClippingRect:Tq,getOffsetParent:r_,getElementRects:kq,getClientRects:vq,getDimensions:Cq,getScale:Nc,isElement:hi,isRTL:Nq};function i_(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Oq(t,e){let n=null,r;const i=Wi(t);function s(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),s();const f=t.getBoundingClientRect(),{left:p,top:m,width:v,height:w}=f;if(c||e(),!v||!w)return;const x=ep(m),E=ep(i.clientWidth-(p+v)),C=ep(i.clientHeight-(m+w)),O=ep(p),j={rootMargin:-x+"px "+-E+"px "+-C+"px "+-O+"px",threshold:Nn(0,di(1,d))||1};let U=!0;function P(L){const _=L[0].intersectionRatio;if(_!==d){if(!U)return l();_?l(!1,_):r=setTimeout(()=>{l(!1,1e-7)},1e3)}_===1&&!i_(f,t.getBoundingClientRect())&&l(),U=!1}try{n=new IntersectionObserver(P,{...j,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,j)}n.observe(t)}return l(!0),s}function _q(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=Yb(t),p=i||s?[...f?qd(f):[],...qd(e)]:[];p.forEach(O=>{i&&O.addEventListener("scroll",n,{passive:!0}),s&&O.addEventListener("resize",n)});const m=f&&c?Oq(f,n):null;let v=-1,w=null;l&&(w=new ResizeObserver(O=>{let[I]=O;I&&I.target===f&&w&&(w.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var j;(j=w)==null||j.observe(e)})),n()}),f&&!d&&w.observe(f),w.observe(e));let x,E=d?ml(t):null;d&&C();function C(){const O=ml(t);E&&!i_(E,O)&&n(),E=O,x=requestAnimationFrame(C)}return n(),()=>{var O;p.forEach(I=>{i&&I.removeEventListener("scroll",n),s&&I.removeEventListener("resize",n)}),m?.(),(O=w)==null||O.disconnect(),w=null,d&&cancelAnimationFrame(x)}}const Xb=nq,s_=XF,Jb=rq,Qb=JF,Zb=sq,ew=QF,_m=KF,o_=eq,Rq=iq,tw=(t,e,n)=>{const r=new Map,i={platform:Mq,...n},s={...i.platform,_c:r};return GF(t,e,{...i,platform:s})};var m1,g1;if(typeof WeakMap<"u"){let t=new WeakMap;m1=e=>t.get(e),g1=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;m1=r=>{for(let i=0;i<t.length;i+=2)if(t[i]==r)return t[i+1]},g1=(r,i)=>(n==10&&(n=0),t[n++]=r,t[n++]=i)}var Cs=class{constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,i=e/this.width|0;let s=r+1,l=i+1;for(let c=1;s<this.width&&this.map[e+c]==n;c++)s++;for(let c=1;l<this.height&&this.map[e+this.width*c]==n;c++)l++;return{left:r,top:i,right:s,bottom:l}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:i,top:s,bottom:l}=this.findCell(t);return e=="horiz"?(n<0?r==0:i==this.width)?null:this.map[s*this.width+(n<0?r-1:i)]:(n<0?s==0:l==this.height)?null:this.map[r+this.width*(n<0?s-1:l)]}rectBetween(t,e){const{left:n,right:r,top:i,bottom:s}=this.findCell(t),{left:l,right:c,top:d,bottom:f}=this.findCell(e);return{left:Math.min(n,l),top:Math.min(i,d),right:Math.max(r,c),bottom:Math.max(s,f)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let i=t.left;i<t.right;i++){const s=r*this.width+i,l=this.map[s];n[l]||(n[l]=!0,!(i==t.left&&i&&this.map[s-1]==l||r==t.top&&r&&this.map[s-this.width]==l)&&e.push(l))}return e}positionAt(t,e,n){for(let r=0,i=0;;r++){const s=i+n.child(r).nodeSize;if(r==t){let l=e+t*this.width;const c=(t+1)*this.width;for(;l<c&&this.map[l]<i;)l++;return l==c?s-1:this.map[l]}i=s}}static get(t){return m1(t)||g1(t,Dq(t))}};function Dq(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=Iq(t),n=t.childCount,r=[];let i=0,s=null;const l=[];for(let f=0,p=e*n;f<p;f++)r[f]=0;for(let f=0,p=0;f<n;f++){const m=t.child(f);p++;for(let x=0;;x++){for(;i<r.length&&r[i]!=0;)i++;if(x==m.childCount)break;const E=m.child(x),{colspan:C,rowspan:O,colwidth:I}=E.attrs;for(let j=0;j<O;j++){if(j+f>=n){(s||(s=[])).push({type:"overlong_rowspan",pos:p,n:O-j});break}const U=i+j*e;for(let P=0;P<C;P++){r[U+P]==0?r[U+P]=p:(s||(s=[])).push({type:"collision",row:f,pos:p,n:C-P});const L=I&&I[P];if(L){const _=(U+P)%e*2,M=l[_];M==null||M!=L&&l[_+1]==1?(l[_]=L,l[_+1]=1):M==L&&l[_+1]++}}}i+=C,p+=E.nodeSize}const v=(f+1)*e;let w=0;for(;i<v;)r[i++]==0&&w++;w&&(s||(s=[])).push({type:"missing",row:f,n:w}),p++}(e===0||n===0)&&(s||(s=[])).push({type:"zero_sized"});const c=new Cs(e,n,r,s);let d=!1;for(let f=0;!d&&f<l.length;f+=2)l[f]!=null&&l[f+1]<n&&(d=!0);return d&&Lq(c,l,t),c}function Iq(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const i=t.child(r);let s=0;if(n)for(let l=0;l<r;l++){const c=t.child(l);for(let d=0;d<c.childCount;d++){const f=c.child(d);l+f.attrs.rowspan>r&&(s+=f.attrs.colspan)}}for(let l=0;l<i.childCount;l++){const c=i.child(l);s+=c.attrs.colspan,c.attrs.rowspan>1&&(n=!0)}e==-1?e=s:e!=s&&(e=Math.max(e,s))}return e}function Lq(t,e,n){t.problems||(t.problems=[]);const r={};for(let i=0;i<t.map.length;i++){const s=t.map[i];if(r[s])continue;r[s]=!0;const l=n.nodeAt(s);if(!l)throw new RangeError(`No cell with offset ${s} found`);let c=null;const d=l.attrs;for(let f=0;f<d.colspan;f++){const p=(i+f)%t.width,m=e[p*2];m!=null&&(!d.colwidth||d.colwidth[f]!=m)&&((c||(c=jq(d)))[f]=m)}c&&t.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:c})}}function jq(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function nw(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],i=r.spec.tableRole;i&&(e[i]=r)}}return e}new Ut("selectingCells");function Pq(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function a_(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function zq(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=Pq(e.$head)||Uq(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function Uq(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function GC(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function l_(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function c_(t,e,n){const r=t.node(-1),i=Cs.get(r),s=t.start(-1),l=i.nextCell(t.pos-s,e,n);return l==null?null:t.node(0).resolve(s+l)}function KC(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}var Bi=class Es extends Ue{constructor(e,n=e){const r=e.node(-1),i=Cs.get(r),s=e.start(-1),l=i.rectBetween(e.pos-s,n.pos-s),c=e.node(0),d=i.cellsInRect(l).filter(p=>p!=n.pos-s);d.unshift(n.pos-s);const f=d.map(p=>{const m=r.nodeAt(p);if(!m)throw RangeError(`No cell with offset ${p} found`);const v=s+p+1;return new qN(c.resolve(v),c.resolve(v+m.content.size))});super(f[0].$from,f[0].$to,f),this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),i=e.resolve(n.map(this.$headCell.pos));if(GC(r)&&GC(i)&&l_(r,i)){const s=this.$anchorCell.node(-1)!=r.node(-1);return s&&this.isRowSelection()?Es.rowSelection(r,i):s&&this.isColSelection()?Es.colSelection(r,i):new Es(r,i)}return Ve.between(r,i)}content(){const e=this.$anchorCell.node(-1),n=Cs.get(e),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),s={},l=[];for(let d=i.top;d<i.bottom;d++){const f=[];for(let p=d*n.width+i.left,m=i.left;m<i.right;m++,p++){const v=n.map[p];if(s[v])continue;s[v]=!0;const w=n.findCell(v);let x=e.nodeAt(v);if(!x)throw RangeError(`No cell with offset ${v} found`);const E=i.left-w.left,C=w.right-i.right;if(E>0||C>0){let O=x.attrs;if(E>0&&(O=KC(O,0,E)),C>0&&(O=KC(O,O.colspan-C,C)),w.left<i.left){if(x=x.type.createAndFill(O),!x)throw RangeError(`Could not create cell with attrs ${JSON.stringify(O)}`)}else x=x.type.create(O,x.content)}if(w.top<i.top||w.bottom>i.bottom){const O={...x.attrs,rowspan:Math.min(w.bottom,i.bottom)-Math.max(w.top,i.top)};w.top<i.top?x=x.type.createAndFill(O):x=x.type.create(O,x.content)}f.push(x)}l.push(e.child(d).copy(fe.from(f)))}const c=this.isColSelection()&&this.isRowSelection()?e:l;return new be(fe.from(c),1,1)}replace(e,n=be.empty){const r=e.steps.length,i=this.ranges;for(let l=0;l<i.length;l++){const{$from:c,$to:d}=i[l],f=e.mapping.slice(r);e.replace(f.map(c.pos),f.map(d.pos),l?be.empty:n)}const s=Ue.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);s&&e.setSelection(s)}replaceWith(e,n){this.replace(e,new be(fe.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=Cs.get(n),i=this.$anchorCell.start(-1),s=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let l=0;l<s.length;l++)e(n.nodeAt(s[l]),i+s[l])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=e.node(-1),i=Cs.get(r),s=e.start(-1),l=i.findCell(e.pos-s),c=i.findCell(n.pos-s),d=e.node(0);return l.top<=c.top?(l.top>0&&(e=d.resolve(s+i.map[l.left])),c.bottom<i.height&&(n=d.resolve(s+i.map[i.width*(i.height-1)+c.right-1]))):(c.top>0&&(n=d.resolve(s+i.map[c.left])),l.bottom<i.height&&(e=d.resolve(s+i.map[i.width*(i.height-1)+l.right-1]))),new Es(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=Cs.get(e),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),s=n.colCount(this.$headCell.pos-r);if(Math.min(i,s)>0)return!1;const l=i+this.$anchorCell.nodeAfter.attrs.colspan,c=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(l,c)==n.width}eq(e){return e instanceof Es&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=e.node(-1),i=Cs.get(r),s=e.start(-1),l=i.findCell(e.pos-s),c=i.findCell(n.pos-s),d=e.node(0);return l.left<=c.left?(l.left>0&&(e=d.resolve(s+i.map[l.top*i.width])),c.right<i.width&&(n=d.resolve(s+i.map[i.width*(c.top+1)-1]))):(c.left>0&&(n=d.resolve(s+i.map[c.top*i.width])),l.right<i.width&&(e=d.resolve(s+i.map[i.width*(l.top+1)-1]))),new Es(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new Es(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new Es(e.resolve(n),e.resolve(r))}getBookmark(){return new Bq(this.$anchorCell.pos,this.$headCell.pos)}};Bi.prototype.visible=!1;Ue.jsonID("cell",Bi);var Bq=class u_{constructor(e,n){this.anchor=e,this.head=n}map(e){return new u_(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&l_(n,r)?new Bi(n,r):Ue.near(r,1)}};new Ut("fix-tables");function d_(t){const e=t.selection,n=zq(t),r=n.node(-1),i=n.start(-1),s=Cs.get(r);return{...e instanceof Bi?s.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):s.findCell(n.pos-i),tableStart:i,map:s,table:r}}function Hq(t){return function(e,n){if(!a_(e))return!1;if(n){const r=nw(e.schema),i=d_(e),s=e.tr,l=i.map.cellsInRect(t=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:t=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),c=l.map(d=>i.table.nodeAt(d));for(let d=0;d<l.length;d++)c[d].type==r.header_cell&&s.setNodeMarkup(i.tableStart+l[d],r.cell,c[d].attrs);if(s.steps.length==0)for(let d=0;d<l.length;d++)s.setNodeMarkup(i.tableStart+l[d],r.header_cell,c[d].attrs);n(s)}return!0}}function YC(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let i=0;i<r.length;i++){const s=e.table.nodeAt(r[i]);if(s&&s.type!==n.header_cell)return!1}return!0}function rw(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?Hq(t):function(n,r){if(!a_(n))return!1;if(r){const i=nw(n.schema),s=d_(n),l=n.tr,c=YC("row",s,i),d=YC("column",s,i),p=(t==="column"?c:t==="row"?d:!1)?1:0,m=t=="column"?{left:0,top:p,right:1,bottom:s.map.height}:t=="row"?{left:p,top:0,right:s.map.width,bottom:1}:s,v=t=="column"?d?i.cell:i.header_cell:t=="row"?c?i.cell:i.header_cell:i.cell;s.map.cellsInRect(m).forEach(w=>{const x=w+s.tableStart,E=l.doc.nodeAt(x);E&&l.setNodeMarkup(x,v,E.attrs)}),r(l)}return!0}}rw("row",{useDeprecatedLogic:!0});rw("column",{useDeprecatedLogic:!0});rw("cell",{useDeprecatedLogic:!0});function tp(t,e){const n=t.selection;if(!(n instanceof Bi))return!1;if(e){const r=t.tr,i=nw(t.schema).cell.createAndFill().content;n.forEachCell((s,l)=>{s.content.eq(i)||r.replace(r.mapping.map(l+1),r.mapping.map(l+s.nodeSize-1),new be(i,0,0))}),r.docChanged&&e(r)}return!0}gb({ArrowLeft:np("horiz",-1),ArrowRight:np("horiz",1),ArrowUp:np("vert",-1),ArrowDown:np("vert",1),"Shift-ArrowLeft":rp("horiz",-1),"Shift-ArrowRight":rp("horiz",1),"Shift-ArrowUp":rp("vert",-1),"Shift-ArrowDown":rp("vert",1),Backspace:tp,"Mod-Backspace":tp,Delete:tp,"Mod-Delete":tp});function Tp(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function np(t,e){return(n,r,i)=>{if(!i)return!1;const s=n.selection;if(s instanceof Bi)return Tp(n,r,Ue.near(s.$headCell,e));if(t!="horiz"&&!s.empty)return!1;const l=f_(i,t,e);if(l==null)return!1;if(t=="horiz")return Tp(n,r,Ue.near(n.doc.resolve(s.head+e),e));{const c=n.doc.resolve(l),d=c_(c,t,e);let f;return d?f=Ue.near(d,1):e<0?f=Ue.near(n.doc.resolve(c.before(-1)),-1):f=Ue.near(n.doc.resolve(c.after(-1)),1),Tp(n,r,f)}}}function rp(t,e){return(n,r,i)=>{if(!i)return!1;const s=n.selection;let l;if(s instanceof Bi)l=s;else{const d=f_(i,t,e);if(d==null)return!1;l=new Bi(n.doc.resolve(d))}const c=c_(l.$headCell,t,e);return c?Tp(n,r,new Bi(l.$anchorCell,c)):!1}}function f_(t,e,n){if(!(t.state.selection instanceof Ve))return null;const{$head:r}=t.state.selection;for(let i=r.depth-1;i>=0;i--){const s=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const c=r.before(i),d=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(d)?c:null}}return null}new Ut("tableColumnResizing");function Vq(t,e){const n=Math.min(t.top,e.top),r=Math.max(t.bottom,e.bottom),i=Math.min(t.left,e.left),l=Math.max(t.right,e.right)-i,c=r-n,d=i,f=n;return new DOMRect(d,f,l,c)}var $q=class{constructor({editor:t,element:e,view:n,updateDelay:r=250,resizeDelay:i=60,shouldShow:s,appendTo:l,options:c}){this.preventHide=!1,this.isVisible=!1,this.floatingUIOptions={strategy:"absolute",placement:"top",offset:8,flip:{},shift:{},arrow:!1,size:!1,autoPlacement:!1,hide:!1,inline:!1,onShow:void 0,onHide:void 0,onUpdate:void 0,onDestroy:void 0},this.shouldShow=({view:d,state:f,from:p,to:m})=>{const{doc:v,selection:w}=f,{empty:x}=w,E=!v.textBetween(p,m).length&&Mb(f.selection),C=this.element.contains(document.activeElement);return!(!(d.hasFocus()||C)||x||E||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.resizeHandler=()=>{this.resizeDebounceTimer&&clearTimeout(this.resizeDebounceTimer),this.resizeDebounceTimer=window.setTimeout(()=>{this.updatePosition()},this.resizeDelay)},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:d})=>{var f;if(this.preventHide){this.preventHide=!1;return}d?.relatedTarget&&((f=this.element.parentNode)!=null&&f.contains(d.relatedTarget))||d?.relatedTarget!==this.editor.view.dom&&this.hide()},this.handleDebouncedUpdate=(d,f)=>{const p=!f?.selection.eq(d.state.selection),m=!f?.doc.eq(d.state.doc);!p&&!m||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(d,p,m,f)},this.updateDelay))},this.updateHandler=(d,f,p,m)=>{const{composing:v}=d;if(v||!f&&!p)return;if(!this.getShouldShow(m)){this.hide();return}this.updatePosition(),this.show()},this.editor=t,this.element=e,this.view=n,this.updateDelay=r,this.resizeDelay=i,this.appendTo=l,this.floatingUIOptions={...this.floatingUIOptions,...c},this.element.tabIndex=0,s&&(this.shouldShow=s),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),window.addEventListener("resize",this.resizeHandler),this.update(n,n.state),this.getShouldShow()&&this.show()}get middlewares(){const t=[];return this.floatingUIOptions.flip&&t.push(Qb(typeof this.floatingUIOptions.flip!="boolean"?this.floatingUIOptions.flip:void 0)),this.floatingUIOptions.shift&&t.push(Jb(typeof this.floatingUIOptions.shift!="boolean"?this.floatingUIOptions.shift:void 0)),this.floatingUIOptions.offset&&t.push(Xb(typeof this.floatingUIOptions.offset!="boolean"?this.floatingUIOptions.offset:void 0)),this.floatingUIOptions.arrow&&t.push(_m(this.floatingUIOptions.arrow)),this.floatingUIOptions.size&&t.push(Zb(typeof this.floatingUIOptions.size!="boolean"?this.floatingUIOptions.size:void 0)),this.floatingUIOptions.autoPlacement&&t.push(s_(typeof this.floatingUIOptions.autoPlacement!="boolean"?this.floatingUIOptions.autoPlacement:void 0)),this.floatingUIOptions.hide&&t.push(ew(typeof this.floatingUIOptions.hide!="boolean"?this.floatingUIOptions.hide:void 0)),this.floatingUIOptions.inline&&t.push(o_(typeof this.floatingUIOptions.inline!="boolean"?this.floatingUIOptions.inline:void 0)),t}updatePosition(){const{selection:t}=this.editor.state,e=ZM(this.view,t.from,t.to);let n={getBoundingClientRect:()=>e,getClientRects:()=>[e]};if(t instanceof De){let r=this.view.nodeDOM(t.from);const i=r.dataset.nodeViewWrapper?r:r.querySelector("[data-node-view-wrapper]");i&&(r=i),r&&(n={getBoundingClientRect:()=>r.getBoundingClientRect(),getClientRects:()=>[r.getBoundingClientRect()]})}if(t instanceof Bi){const{$anchorCell:r,$headCell:i}=t,s=r?r.pos:i.pos,l=i?i.pos:r.pos,c=this.view.nodeDOM(s),d=this.view.nodeDOM(l);if(!c||!d)return;const f=c===d?c.getBoundingClientRect():Vq(c.getBoundingClientRect(),d.getBoundingClientRect());n={getBoundingClientRect:()=>f,getClientRects:()=>[f]}}tw(n,this.element,{placement:this.floatingUIOptions.placement,strategy:this.floatingUIOptions.strategy,middleware:this.middlewares}).then(({x:r,y:i,strategy:s})=>{this.element.style.width="max-content",this.element.style.position=s,this.element.style.left=`${r}px`,this.element.style.top=`${i}px`,this.isVisible&&this.floatingUIOptions.onUpdate&&this.floatingUIOptions.onUpdate()})}update(t,e){const{state:n}=t,r=n.selection.from!==n.selection.to;if(this.updateDelay>0&&r){this.handleDebouncedUpdate(t,e);return}const i=!e?.selection.eq(t.state.selection),s=!e?.doc.eq(t.state.doc);this.updateHandler(t,i,s,e)}getShouldShow(t){var e;const{state:n}=this.view,{selection:r}=n,{ranges:i}=r,s=Math.min(...i.map(d=>d.$from.pos)),l=Math.max(...i.map(d=>d.$to.pos));return(e=this.shouldShow)==null?void 0:e.call(this,{editor:this.editor,element:this.element,view:this.view,state:n,oldState:t,from:s,to:l})}show(){var t,e;this.isVisible||(this.element.style.visibility="visible",this.element.style.opacity="1",(e=(t=this.appendTo)!=null?t:this.view.dom.parentElement)==null||e.appendChild(this.element),this.floatingUIOptions.onShow&&this.floatingUIOptions.onShow(),this.isVisible=!0)}hide(){this.isVisible&&(this.element.style.visibility="hidden",this.element.style.opacity="0",this.element.remove(),this.floatingUIOptions.onHide&&this.floatingUIOptions.onHide(),this.isVisible=!1)}destroy(){this.hide(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),window.removeEventListener("resize",this.resizeHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.floatingUIOptions.onDestroy&&this.floatingUIOptions.onDestroy()}},h_=t=>new jt({key:typeof t.pluginKey=="string"?new Ut(t.pluginKey):t.pluginKey,view:e=>new $q({view:e,...t})});wt.create({name:"bubbleMenu",addOptions(){return{element:null,pluginKey:"bubbleMenu",updateDelay:void 0,appendTo:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[h_({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,updateDelay:this.options.updateDelay,options:this.options.options,appendTo:this.options.appendTo,shouldShow:this.options.shouldShow})]:[]}});var Fq=class{constructor({editor:t,element:e,view:n,options:r,shouldShow:i}){this.preventHide=!1,this.isVisible=!1,this.shouldShow=({view:s,state:l})=>{const{selection:c}=l,{$anchor:d,empty:f}=c,p=d.depth===1,m=d.parent.isTextblock&&!d.parent.type.spec.code&&!d.parent.textContent&&d.parent.childCount===0&&!this.getTextContent(d.parent);return!(!s.hasFocus()||!f||!p||!m||!this.editor.isEditable)},this.floatingUIOptions={strategy:"absolute",placement:"right",offset:8,flip:{},shift:{},arrow:!1,size:!1,autoPlacement:!1,hide:!1,inline:!1},this.updateHandler=(s,l,c,d)=>{const{composing:f}=s;if(f||!l&&!c)return;if(!this.getShouldShow(d)){this.hide();return}this.updatePosition(),this.show()},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:s})=>{var l;if(this.preventHide){this.preventHide=!1;return}s?.relatedTarget&&((l=this.element.parentNode)!=null&&l.contains(s.relatedTarget))||s?.relatedTarget!==this.editor.view.dom&&this.hide()},this.editor=t,this.element=e,this.view=n,this.floatingUIOptions={...this.floatingUIOptions,...r},this.element.tabIndex=0,i&&(this.shouldShow=i),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.update(n,n.state),this.getShouldShow()&&this.show()}getTextContent(t){return GM(t,{textSerializers:Cb(this.editor.schema)})}get middlewares(){const t=[];return this.floatingUIOptions.flip&&t.push(Qb(typeof this.floatingUIOptions.flip!="boolean"?this.floatingUIOptions.flip:void 0)),this.floatingUIOptions.shift&&t.push(Jb(typeof this.floatingUIOptions.shift!="boolean"?this.floatingUIOptions.shift:void 0)),this.floatingUIOptions.offset&&t.push(Xb(typeof this.floatingUIOptions.offset!="boolean"?this.floatingUIOptions.offset:void 0)),this.floatingUIOptions.arrow&&t.push(_m(this.floatingUIOptions.arrow)),this.floatingUIOptions.size&&t.push(Zb(typeof this.floatingUIOptions.size!="boolean"?this.floatingUIOptions.size:void 0)),this.floatingUIOptions.autoPlacement&&t.push(s_(typeof this.floatingUIOptions.autoPlacement!="boolean"?this.floatingUIOptions.autoPlacement:void 0)),this.floatingUIOptions.hide&&t.push(ew(typeof this.floatingUIOptions.hide!="boolean"?this.floatingUIOptions.hide:void 0)),this.floatingUIOptions.inline&&t.push(o_(typeof this.floatingUIOptions.inline!="boolean"?this.floatingUIOptions.inline:void 0)),t}getShouldShow(t){var e;const{state:n}=this.view,{selection:r}=n,{ranges:i}=r,s=Math.min(...i.map(d=>d.$from.pos)),l=Math.max(...i.map(d=>d.$to.pos));return(e=this.shouldShow)==null?void 0:e.call(this,{editor:this.editor,view:this.view,state:n,oldState:t,from:s,to:l})}updatePosition(){const{selection:t}=this.editor.state,e=ZM(this.view,t.from,t.to);tw({getBoundingClientRect:()=>e,getClientRects:()=>[e]},this.element,{placement:this.floatingUIOptions.placement,strategy:this.floatingUIOptions.strategy,middleware:this.middlewares}).then(({x:r,y:i,strategy:s})=>{this.element.style.width="max-content",this.element.style.position=s,this.element.style.left=`${r}px`,this.element.style.top=`${i}px`,this.isVisible&&this.floatingUIOptions.onUpdate&&this.floatingUIOptions.onUpdate()})}update(t,e){const n=!e?.selection.eq(t.state.selection),r=!e?.doc.eq(t.state.doc);this.updateHandler(t,n,r,e)}show(){var t;this.isVisible||(this.element.style.visibility="visible",this.element.style.opacity="1",(t=this.view.dom.parentElement)==null||t.appendChild(this.element),this.floatingUIOptions.onShow&&this.floatingUIOptions.onShow(),this.isVisible=!0)}hide(){this.isVisible&&(this.element.style.visibility="hidden",this.element.style.opacity="0",this.element.remove(),this.floatingUIOptions.onHide&&this.floatingUIOptions.onHide(),this.isVisible=!1)}destroy(){this.hide(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.floatingUIOptions.onDestroy&&this.floatingUIOptions.onDestroy()}},p_=t=>new jt({key:typeof t.pluginKey=="string"?new Ut(t.pluginKey):t.pluginKey,view:e=>new Fq({view:e,...t})});wt.create({name:"floatingMenu",addOptions(){return{element:null,options:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[p_({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,options:this.options.options,shouldShow:this.options.shouldShow})]:[]}});_t.forwardRef(({pluginKey:t="bubbleMenu",editor:e,updateDelay:n,resizeDelay:r,shouldShow:i=null,options:s,children:l,...c},d)=>{const f=A.useRef(document.createElement("div"));typeof d=="function"?d(f.current):d&&(d.current=f.current);const{editor:p}=EO();return A.useEffect(()=>{const m=f.current;if(m.style.visibility="hidden",m.style.position="absolute",e?.isDestroyed||p?.isDestroyed)return;const v=e||p;if(!v){console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");return}const w=h_({updateDelay:n,resizeDelay:r,editor:v,element:m,pluginKey:t,shouldShow:i,options:s});return v.registerPlugin(w),()=>{v.unregisterPlugin(t),window.requestAnimationFrame(()=>{m.parentNode&&m.parentNode.removeChild(m)})}},[e,p]),qc.createPortal(b.jsx("div",{...c,children:l}),f.current)});var qq=_t.forwardRef(({pluginKey:t="floatingMenu",editor:e,shouldShow:n=null,options:r,children:i,...s},l)=>{const c=A.useRef(document.createElement("div"));typeof l=="function"?l(c.current):l&&(l.current=c.current);const{editor:d}=EO();return A.useEffect(()=>{const f=c.current;if(f.style.visibility="hidden",f.style.position="absolute",e?.isDestroyed||d?.isDestroyed)return;const p=e||d;if(!p){console.warn("FloatingMenu component is not rendered inside of an editor component or does not have editor prop.");return}const m=p_({editor:p,element:f,pluginKey:t,shouldShow:n,options:r});return p.registerPlugin(m),()=>{p.unregisterPlugin(t),window.requestAnimationFrame(()=>{f.parentNode&&f.parentNode.removeChild(f)})}},[e,d]),qc.createPortal(b.jsx("div",{...s,children:i}),c.current)});function Wq({editor:t}){return b.jsx(qq,{editor:t,children:b.jsxs("div",{className:"floating-menu","data-testid":"floating-menu",children:[b.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:t.isActive("heading",{level:1})?"is-active":"",children:"H1"}),b.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:t.isActive("heading",{level:2})?"is-active":"",children:"H2"}),b.jsx("button",{onClick:()=>t.chain().focus().toggleBulletList().run(),className:t.isActive("bulletList")?"is-active":"",children:"Bullet list"})]})})}function Qo(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function XC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function m_(...t){return e=>{let n=!1;const r=t.map(i=>{const s=XC(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():XC(t[i],null)}}}}function ca(...t){return A.useCallback(m_(...t),t)}function g_(t,e=[]){let n=[];function r(s,l){const c=A.createContext(l),d=n.length;n=[...n,l];const f=m=>{const{scope:v,children:w,...x}=m,E=v?.[t]?.[d]||c,C=A.useMemo(()=>x,Object.values(x));return b.jsx(E.Provider,{value:C,children:w})};f.displayName=s+"Provider";function p(m,v){const w=v?.[t]?.[d]||c,x=A.useContext(w);if(x)return x;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[f,p]}const i=()=>{const s=n.map(l=>A.createContext(l));return function(c){const d=c?.[t]||s;return A.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[r,Gq(i,...e)]}function Gq(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const l=r.reduce((c,{useScope:d,scopeName:f})=>{const m=d(s)[`__scope${f}`];return{...c,...m}},{});return A.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function y_(t){const e=Kq(t),n=A.forwardRef((r,i)=>{const{children:s,...l}=r,c=A.Children.toArray(s),d=c.find(Xq);if(d){const f=d.props.children,p=c.map(m=>m===d?A.Children.count(f)>1?A.Children.only(null):A.isValidElement(f)?f.props.children:null:m);return b.jsx(e,{...l,ref:i,children:A.isValidElement(f)?A.cloneElement(f,void 0,p):null})}return b.jsx(e,{...l,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function Kq(t){const e=A.forwardRef((n,r)=>{const{children:i,...s}=n;if(A.isValidElement(i)){const l=Qq(i),c=Jq(s,i.props);return i.type!==A.Fragment&&(c.ref=r?m_(r,l):l),A.cloneElement(i,c)}return A.Children.count(i)>1?A.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Yq=Symbol("radix.slottable");function Xq(t){return A.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Yq}function Jq(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...c)=>{const d=s(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Qq(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Zq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Hs=Zq.reduce((t,e)=>{const n=y_(`Primitive.${e}`),r=A.forwardRef((i,s)=>{const{asChild:l,...c}=i,d=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),b.jsx(d,{...c,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function eW(t,e){t&&qc.flushSync(()=>t.dispatchEvent(e))}function Vc(t){const e=A.useRef(t);return A.useEffect(()=>{e.current=t}),A.useMemo(()=>(...n)=>e.current?.(...n),[])}function tW(t,e=globalThis?.document){const n=Vc(t);A.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var nW="DismissableLayer",y1="dismissableLayer.update",rW="dismissableLayer.pointerDownOutside",iW="dismissableLayer.focusOutside",JC,v_=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),b_=A.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:l,onDismiss:c,...d}=t,f=A.useContext(v_),[p,m]=A.useState(null),v=p?.ownerDocument??globalThis?.document,[,w]=A.useState({}),x=ca(e,_=>m(_)),E=Array.from(f.layers),[C]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),O=E.indexOf(C),I=p?E.indexOf(p):-1,j=f.layersWithOutsidePointerEventsDisabled.size>0,U=I>=O,P=aW(_=>{const M=_.target,D=[...f.branches].some(R=>R.contains(M));!U||D||(i?.(_),l?.(_),_.defaultPrevented||c?.())},v),L=lW(_=>{const M=_.target;[...f.branches].some(R=>R.contains(M))||(s?.(_),l?.(_),_.defaultPrevented||c?.())},v);return tW(_=>{I===f.layers.size-1&&(r?.(_),!_.defaultPrevented&&c&&(_.preventDefault(),c()))},v),A.useEffect(()=>{if(p)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(JC=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),QC(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=JC)}},[p,v,n,f]),A.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),QC())},[p,f]),A.useEffect(()=>{const _=()=>w({});return document.addEventListener(y1,_),()=>document.removeEventListener(y1,_)},[]),b.jsx(Hs.div,{...d,ref:x,style:{pointerEvents:j?U?"auto":"none":void 0,...t.style},onFocusCapture:Qo(t.onFocusCapture,L.onFocusCapture),onBlurCapture:Qo(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Qo(t.onPointerDownCapture,P.onPointerDownCapture)})});b_.displayName=nW;var sW="DismissableLayerBranch",oW=A.forwardRef((t,e)=>{const n=A.useContext(v_),r=A.useRef(null),i=ca(e,r);return A.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),b.jsx(Hs.div,{...t,ref:i})});oW.displayName=sW;function aW(t,e=globalThis?.document){const n=Vc(t),r=A.useRef(!1),i=A.useRef(()=>{});return A.useEffect(()=>{const s=c=>{if(c.target&&!r.current){let d=function(){w_(rW,n,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=d,e.addEventListener("click",i.current,{once:!0})):d()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function lW(t,e=globalThis?.document){const n=Vc(t),r=A.useRef(!1);return A.useEffect(()=>{const i=s=>{s.target&&!r.current&&w_(iW,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function QC(){const t=new CustomEvent(y1);document.dispatchEvent(t)}function w_(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?eW(i,s):i.dispatchEvent(s)}var dv=0;function cW(){A.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ZC()),document.body.insertAdjacentElement("beforeend",t[1]??ZC()),dv++,()=>{dv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),dv--}},[])}function ZC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var fv="focusScope.autoFocusOnMount",hv="focusScope.autoFocusOnUnmount",eA={bubbles:!1,cancelable:!0},uW="FocusScope",S_=A.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...l}=t,[c,d]=A.useState(null),f=Vc(i),p=Vc(s),m=A.useRef(null),v=ca(e,E=>d(E)),w=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(r){let E=function(j){if(w.paused||!c)return;const U=j.target;c.contains(U)?m.current=U:No(m.current,{select:!0})},C=function(j){if(w.paused||!c)return;const U=j.relatedTarget;U!==null&&(c.contains(U)||No(m.current,{select:!0}))},O=function(j){if(document.activeElement===document.body)for(const P of j)P.removedNodes.length>0&&No(c)};document.addEventListener("focusin",E),document.addEventListener("focusout",C);const I=new MutationObserver(O);return c&&I.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",C),I.disconnect()}}},[r,c,w.paused]),A.useEffect(()=>{if(c){nA.add(w);const E=document.activeElement;if(!c.contains(E)){const O=new CustomEvent(fv,eA);c.addEventListener(fv,f),c.dispatchEvent(O),O.defaultPrevented||(dW(gW(x_(c)),{select:!0}),document.activeElement===E&&No(c))}return()=>{c.removeEventListener(fv,f),setTimeout(()=>{const O=new CustomEvent(hv,eA);c.addEventListener(hv,p),c.dispatchEvent(O),O.defaultPrevented||No(E??document.body,{select:!0}),c.removeEventListener(hv,p),nA.remove(w)},0)}}},[c,f,p,w]);const x=A.useCallback(E=>{if(!n&&!r||w.paused)return;const C=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,O=document.activeElement;if(C&&O){const I=E.currentTarget,[j,U]=fW(I);j&&U?!E.shiftKey&&O===U?(E.preventDefault(),n&&No(j,{select:!0})):E.shiftKey&&O===j&&(E.preventDefault(),n&&No(U,{select:!0})):O===I&&E.preventDefault()}},[n,r,w.paused]);return b.jsx(Hs.div,{tabIndex:-1,...l,ref:v,onKeyDown:x})});S_.displayName=uW;function dW(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(No(r,{select:e}),document.activeElement!==n)return}function fW(t){const e=x_(t),n=tA(e,t),r=tA(e.reverse(),t);return[n,r]}function x_(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function tA(t,e){for(const n of t)if(!hW(n,{upTo:e}))return n}function hW(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function pW(t){return t instanceof HTMLInputElement&&"select"in t}function No(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&pW(t)&&e&&t.select()}}var nA=mW();function mW(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=rA(t,e),t.unshift(e)},remove(e){t=rA(t,e),t[0]?.resume()}}}function rA(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function gW(t){return t.filter(e=>e.tagName!=="A")}var ra=globalThis?.document?A.useLayoutEffect:()=>{},yW=gA[" useId ".trim().toString()]||(()=>{}),vW=0;function bW(t){const[e,n]=A.useState(yW());return ra(()=>{n(r=>r??String(vW++))},[t]),t||(e?`radix-${e}`:"")}var wW=typeof document<"u",SW=function(){},Cp=wW?A.useLayoutEffect:SW;function Rm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Rm(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Rm(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function E_(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function iA(t,e){const n=E_(t);return Math.round(e*n)/n}function pv(t){const e=A.useRef(t);return Cp(()=>{e.current=t}),e}function xW(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:l}={},transform:c=!0,whileElementsMounted:d,open:f}=t,[p,m]=A.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,w]=A.useState(r);Rm(v,r)||w(r);const[x,E]=A.useState(null),[C,O]=A.useState(null),I=A.useCallback(ce=>{ce!==L.current&&(L.current=ce,E(ce))},[]),j=A.useCallback(ce=>{ce!==_.current&&(_.current=ce,O(ce))},[]),U=s||x,P=l||C,L=A.useRef(null),_=A.useRef(null),M=A.useRef(p),D=d!=null,R=pv(d),V=pv(i),q=pv(f),H=A.useCallback(()=>{if(!L.current||!_.current)return;const ce={placement:e,strategy:n,middleware:v};V.current&&(ce.platform=V.current),tw(L.current,_.current,ce).then(Te=>{const F={...Te,isPositioned:q.current!==!1};ye.current&&!Rm(M.current,F)&&(M.current=F,qc.flushSync(()=>{m(F)}))})},[v,e,n,V,q]);Cp(()=>{f===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,m(ce=>({...ce,isPositioned:!1})))},[f]);const ye=A.useRef(!1);Cp(()=>(ye.current=!0,()=>{ye.current=!1}),[]),Cp(()=>{if(U&&(L.current=U),P&&(_.current=P),U&&P){if(R.current)return R.current(U,P,H);H()}},[U,P,H,R,D]);const ge=A.useMemo(()=>({reference:L,floating:_,setReference:I,setFloating:j}),[I,j]),G=A.useMemo(()=>({reference:U,floating:P}),[U,P]),oe=A.useMemo(()=>{const ce={position:n,left:0,top:0};if(!G.floating)return ce;const Te=iA(G.floating,p.x),F=iA(G.floating,p.y);return c?{...ce,transform:"translate("+Te+"px, "+F+"px)",...E_(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Te,top:F}},[n,c,G.floating,p.x,p.y]);return A.useMemo(()=>({...p,update:H,refs:ge,elements:G,floatingStyles:oe}),[p,H,ge,G,oe])}const EW=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?_m({element:r.current,padding:i}).fn(n):{}:r?_m({element:r,padding:i}).fn(n):{}}}},TW=(t,e)=>({...Xb(t),options:[t,e]}),CW=(t,e)=>({...Jb(t),options:[t,e]}),AW=(t,e)=>({...Rq(t),options:[t,e]}),kW=(t,e)=>({...Qb(t),options:[t,e]}),NW=(t,e)=>({...Zb(t),options:[t,e]}),MW=(t,e)=>({...ew(t),options:[t,e]}),OW=(t,e)=>({...EW(t),options:[t,e]});var _W="Arrow",T_=A.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return b.jsx(Hs.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:b.jsx("polygon",{points:"0,0 30,0 15,10"})})});T_.displayName=_W;var RW=T_;function DW(t){const[e,n]=A.useState(void 0);return ra(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let l,c;if("borderBoxSize"in s){const d=s.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,c=f.blockSize}else l=t.offsetWidth,c=t.offsetHeight;n({width:l,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var iw="Popper",[C_,A_]=g_(iw),[IW,k_]=C_(iw),N_=t=>{const{__scopePopper:e,children:n}=t,[r,i]=A.useState(null);return b.jsx(IW,{scope:e,anchor:r,onAnchorChange:i,children:n})};N_.displayName=iw;var M_="PopperAnchor",O_=A.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=k_(M_,n),l=A.useRef(null),c=ca(e,l),d=A.useRef(null);return A.useEffect(()=>{const f=d.current;d.current=r?.current||l.current,f!==d.current&&s.onAnchorChange(d.current)}),r?null:b.jsx(Hs.div,{...i,ref:c})});O_.displayName=M_;var sw="PopperContent",[LW,jW]=C_(sw),__=A.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:v=!1,updatePositionStrategy:w="optimized",onPlaced:x,...E}=t,C=k_(sw,n),[O,I]=A.useState(null),j=ca(e,Nt=>I(Nt)),[U,P]=A.useState(null),L=DW(U),_=L?.width??0,M=L?.height??0,D=r+(s!=="center"?"-"+s:""),R=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},V=Array.isArray(f)?f:[f],q=V.length>0,H={padding:R,boundary:V.filter(zW),altBoundary:q},{refs:ye,floatingStyles:ge,placement:G,isPositioned:oe,middlewareData:ce}=xW({strategy:"fixed",placement:D,whileElementsMounted:(...Nt)=>_q(...Nt,{animationFrame:w==="always"}),elements:{reference:C.anchor},middleware:[TW({mainAxis:i+M,alignmentAxis:l}),d&&CW({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?AW():void 0,...H}),d&&kW({...H}),NW({...H,apply:({elements:Nt,rects:lt,availableWidth:Fn,availableHeight:Ct})=>{const{width:rn,height:xr}=lt.reference,qn=Nt.floating.style;qn.setProperty("--radix-popper-available-width",`${Fn}px`),qn.setProperty("--radix-popper-available-height",`${Ct}px`),qn.setProperty("--radix-popper-anchor-width",`${rn}px`),qn.setProperty("--radix-popper-anchor-height",`${xr}px`)}}),U&&OW({element:U,padding:c}),UW({arrowWidth:_,arrowHeight:M}),v&&MW({strategy:"referenceHidden",...H})]}),[Te,F]=I_(G),ie=Vc(x);ra(()=>{oe&&ie?.()},[oe,ie]);const he=ce.arrow?.x,de=ce.arrow?.y,Se=ce.arrow?.centerOffset!==0,[$e,Ie]=A.useState();return ra(()=>{O&&Ie(window.getComputedStyle(O).zIndex)},[O]),b.jsx("div",{ref:ye.setFloating,"data-radix-popper-content-wrapper":"",style:{...ge,transform:oe?ge.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:$e,"--radix-popper-transform-origin":[ce.transformOrigin?.x,ce.transformOrigin?.y].join(" "),...ce.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:b.jsx(LW,{scope:n,placedSide:Te,onArrowChange:P,arrowX:he,arrowY:de,shouldHideArrow:Se,children:b.jsx(Hs.div,{"data-side":Te,"data-align":F,...E,ref:j,style:{...E.style,animation:oe?void 0:"none"}})})})});__.displayName=sw;var R_="PopperArrow",PW={top:"bottom",right:"left",bottom:"top",left:"right"},D_=A.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=jW(R_,r),l=PW[s.placedSide];return b.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:b.jsx(RW,{...i,ref:n,style:{...i.style,display:"block"}})})});D_.displayName=R_;function zW(t){return t!==null}var UW=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,l=i.arrow?.centerOffset!==0,c=l?0:t.arrowWidth,d=l?0:t.arrowHeight,[f,p]=I_(n),m={start:"0%",center:"50%",end:"100%"}[p],v=(i.arrow?.x??0)+c/2,w=(i.arrow?.y??0)+d/2;let x="",E="";return f==="bottom"?(x=l?m:`${v}px`,E=`${-d}px`):f==="top"?(x=l?m:`${v}px`,E=`${r.floating.height+d}px`):f==="right"?(x=`${-d}px`,E=l?m:`${w}px`):f==="left"&&(x=`${r.floating.width+d}px`,E=l?m:`${w}px`),{data:{x,y:E}}}});function I_(t){const[e,n="center"]=t.split("-");return[e,n]}var BW=N_,L_=O_,HW=__,VW=D_,$W="Portal",j_=A.forwardRef((t,e)=>{const{container:n,...r}=t,[i,s]=A.useState(!1);ra(()=>s(!0),[]);const l=n||i&&globalThis?.document?.body;return l?GA.createPortal(b.jsx(Hs.div,{...r,ref:e}),l):null});j_.displayName=$W;function FW(t,e){return A.useReducer((n,r)=>e[n][r]??n,t)}var ow=t=>{const{present:e,children:n}=t,r=qW(e),i=typeof n=="function"?n({present:r.isPresent}):A.Children.only(n),s=ca(r.ref,WW(i));return typeof n=="function"||r.isPresent?A.cloneElement(i,{ref:s}):null};ow.displayName="Presence";function qW(t){const[e,n]=A.useState(),r=A.useRef(null),i=A.useRef(t),s=A.useRef("none"),l=t?"mounted":"unmounted",[c,d]=FW(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const f=ip(r.current);s.current=c==="mounted"?f:"none"},[c]),ra(()=>{const f=r.current,p=i.current;if(p!==t){const v=s.current,w=ip(f);t?d("MOUNT"):w==="none"||f?.display==="none"?d("UNMOUNT"):d(p&&v!==w?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,d]),ra(()=>{if(e){let f;const p=e.ownerDocument.defaultView??window,m=w=>{const E=ip(r.current).includes(CSS.escape(w.animationName));if(w.target===e&&E&&(d("ANIMATION_END"),!i.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",f=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},v=w=>{w.target===e&&(s.current=ip(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{p.clearTimeout(f),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:A.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function ip(t){return t?.animationName||"none"}function WW(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var GW=gA[" useInsertionEffect ".trim().toString()]||ra;function KW({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,l]=YW({defaultProp:e,onChange:n}),c=t!==void 0,d=c?t:i;{const p=A.useRef(t!==void 0);A.useEffect(()=>{const m=p.current;m!==c&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,r])}const f=A.useCallback(p=>{if(c){const m=XW(p)?p(t):p;m!==t&&l.current?.(m)}else s(p)},[c,t,s,l]);return[d,f]}function YW({defaultProp:t,onChange:e}){const[n,r]=A.useState(t),i=A.useRef(n),s=A.useRef(e);return GW(()=>{s.current=e},[e]),A.useEffect(()=>{i.current!==n&&(s.current?.(n),i.current=n)},[n,i]),[n,r,s]}function XW(t){return typeof t=="function"}var JW=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ac=new WeakMap,sp=new WeakMap,op={},mv=0,P_=function(t){return t&&(t.host||P_(t.parentNode))},QW=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=P_(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},ZW=function(t,e,n,r){var i=QW(e,Array.isArray(t)?t:[t]);op[n]||(op[n]=new WeakMap);var s=op[n],l=[],c=new Set,d=new Set(i),f=function(m){!m||c.has(m)||(c.add(m),f(m.parentNode))};i.forEach(f);var p=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(v){if(c.has(v))p(v);else try{var w=v.getAttribute(r),x=w!==null&&w!=="false",E=(ac.get(v)||0)+1,C=(s.get(v)||0)+1;ac.set(v,E),s.set(v,C),l.push(v),E===1&&x&&sp.set(v,!0),C===1&&v.setAttribute(n,"true"),x||v.setAttribute(r,"true")}catch(O){console.error("aria-hidden: cannot operate on ",v,O)}})};return p(e),c.clear(),mv++,function(){l.forEach(function(m){var v=ac.get(m)-1,w=s.get(m)-1;ac.set(m,v),s.set(m,w),v||(sp.has(m)||m.removeAttribute(r),sp.delete(m)),w||m.removeAttribute(n)}),mv--,mv||(ac=new WeakMap,ac=new WeakMap,sp=new WeakMap,op={})}},eG=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=JW(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),ZW(r,i,n,"aria-hidden")):function(){return null}},Ap="right-scroll-bar-position",kp="width-before-scroll-bar",tG="with-scroll-bars-hidden",nG="--removed-body-scroll-bar-size";function gv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function rG(t,e){var n=A.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var iG=typeof window<"u"?A.useLayoutEffect:A.useEffect,sA=new WeakMap;function sG(t,e){var n=rG(null,function(r){return t.forEach(function(i){return gv(i,r)})});return iG(function(){var r=sA.get(n);if(r){var i=new Set(r),s=new Set(t),l=n.current;i.forEach(function(c){s.has(c)||gv(c,null)}),s.forEach(function(c){i.has(c)||gv(c,l)})}sA.set(n,t)},[t]),n}function oG(t){return t}function aG(t,e){e===void 0&&(e=oG);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var l=e(s,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(s){for(r=!0;n.length;){var l=n;n=[],l.forEach(s)}n={push:function(c){return s(c)},filter:function(){return n}}},assignMedium:function(s){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(s),l=n}var d=function(){var p=l;l=[],p.forEach(s)},f=function(){return Promise.resolve().then(d)};f(),n={push:function(p){l.push(p),f()},filter:function(p){return l=l.filter(p),n}}}};return i}function lG(t){t===void 0&&(t={});var e=aG(null);return e.options=Li({async:!0,ssr:!1},t),e}var z_=function(t){var e=t.sideCar,n=Zd(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return A.createElement(r,Li({},n))};z_.isSideCarExport=!0;function cG(t,e){return t.useMedium(e),z_}var U_=lG(),yv=function(){},dg=A.forwardRef(function(t,e){var n=A.useRef(null),r=A.useState({onScrollCapture:yv,onWheelCapture:yv,onTouchMoveCapture:yv}),i=r[0],s=r[1],l=t.forwardProps,c=t.children,d=t.className,f=t.removeScrollBar,p=t.enabled,m=t.shards,v=t.sideCar,w=t.noRelative,x=t.noIsolation,E=t.inert,C=t.allowPinchZoom,O=t.as,I=O===void 0?"div":O,j=t.gapMode,U=Zd(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=v,L=sG([n,e]),_=Li(Li({},U),i);return A.createElement(A.Fragment,null,p&&A.createElement(P,{sideCar:U_,removeScrollBar:f,shards:m,noRelative:w,noIsolation:x,inert:E,setCallbacks:s,allowPinchZoom:!!C,lockRef:n,gapMode:j}),l?A.cloneElement(A.Children.only(c),Li(Li({},_),{ref:L})):A.createElement(I,Li({},_,{className:d,ref:L}),c))});dg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dg.classNames={fullWidth:kp,zeroRight:Ap};var uG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function dG(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=uG();return e&&t.setAttribute("nonce",e),t}function fG(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function hG(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var pG=function(){var t=0,e=null;return{add:function(n){t==0&&(e=dG())&&(fG(e,n),hG(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},mG=function(){var t=pG();return function(e,n){A.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},B_=function(){var t=mG(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},gG={left:0,top:0,right:0,gap:0},vv=function(t){return parseInt(t||"",10)||0},yG=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[vv(n),vv(r),vv(i)]},vG=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return gG;var e=yG(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},bG=B_(),Mc="data-scroll-locked",wG=function(t,e,n,r){var i=t.left,s=t.top,l=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(tG,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Mc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ap,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(kp,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Ap," .").concat(Ap,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(kp," .").concat(kp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Mc,`] {
    `).concat(nG,": ").concat(c,`px;
  }
`)},oA=function(){var t=parseInt(document.body.getAttribute(Mc)||"0",10);return isFinite(t)?t:0},SG=function(){A.useEffect(function(){return document.body.setAttribute(Mc,(oA()+1).toString()),function(){var t=oA()-1;t<=0?document.body.removeAttribute(Mc):document.body.setAttribute(Mc,t.toString())}},[])},xG=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;SG();var s=A.useMemo(function(){return vG(i)},[i]);return A.createElement(bG,{styles:wG(s,!e,i,n?"":"!important")})},v1=!1;if(typeof window<"u")try{var ap=Object.defineProperty({},"passive",{get:function(){return v1=!0,!0}});window.addEventListener("test",ap,ap),window.removeEventListener("test",ap,ap)}catch{v1=!1}var lc=v1?{passive:!1}:!1,EG=function(t){return t.tagName==="TEXTAREA"},H_=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!EG(t)&&n[e]==="visible")},TG=function(t){return H_(t,"overflowY")},CG=function(t){return H_(t,"overflowX")},aA=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=V_(t,r);if(i){var s=$_(t,r),l=s[1],c=s[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},AG=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},kG=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},V_=function(t,e){return t==="v"?TG(e):CG(e)},$_=function(t,e){return t==="v"?AG(e):kG(e)},NG=function(t,e){return t==="h"&&e==="rtl"?-1:1},MG=function(t,e,n,r,i){var s=NG(t,window.getComputedStyle(e).direction),l=s*r,c=n.target,d=e.contains(c),f=!1,p=l>0,m=0,v=0;do{if(!c)break;var w=$_(t,c),x=w[0],E=w[1],C=w[2],O=E-C-s*x;(x||O)&&V_(t,c)&&(m+=O,v+=x);var I=c.parentNode;c=I&&I.nodeType===Node.DOCUMENT_FRAGMENT_NODE?I.host:I}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(p&&Math.abs(m)<1||!p&&Math.abs(v)<1)&&(f=!0),f},lp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},lA=function(t){return[t.deltaX,t.deltaY]},cA=function(t){return t&&"current"in t?t.current:t},OG=function(t,e){return t[0]===e[0]&&t[1]===e[1]},_G=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},RG=0,cc=[];function DG(t){var e=A.useRef([]),n=A.useRef([0,0]),r=A.useRef(),i=A.useState(RG++)[0],s=A.useState(B_)[0],l=A.useRef(t);A.useEffect(function(){l.current=t},[t]),A.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var E=PI([t.lockRef.current],(t.shards||[]).map(cA),!0).filter(Boolean);return E.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),E.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var c=A.useCallback(function(E,C){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!l.current.allowPinchZoom;var O=lp(E),I=n.current,j="deltaX"in E?E.deltaX:I[0]-O[0],U="deltaY"in E?E.deltaY:I[1]-O[1],P,L=E.target,_=Math.abs(j)>Math.abs(U)?"h":"v";if("touches"in E&&_==="h"&&L.type==="range")return!1;var M=aA(_,L);if(!M)return!0;if(M?P=_:(P=_==="v"?"h":"v",M=aA(_,L)),!M)return!1;if(!r.current&&"changedTouches"in E&&(j||U)&&(r.current=P),!P)return!0;var D=r.current||P;return MG(D,C,E,D==="h"?j:U)},[]),d=A.useCallback(function(E){var C=E;if(!(!cc.length||cc[cc.length-1]!==s)){var O="deltaY"in C?lA(C):lp(C),I=e.current.filter(function(P){return P.name===C.type&&(P.target===C.target||C.target===P.shadowParent)&&OG(P.delta,O)})[0];if(I&&I.should){C.cancelable&&C.preventDefault();return}if(!I){var j=(l.current.shards||[]).map(cA).filter(Boolean).filter(function(P){return P.contains(C.target)}),U=j.length>0?c(C,j[0]):!l.current.noIsolation;U&&C.cancelable&&C.preventDefault()}}},[]),f=A.useCallback(function(E,C,O,I){var j={name:E,delta:C,target:O,should:I,shadowParent:IG(O)};e.current.push(j),setTimeout(function(){e.current=e.current.filter(function(U){return U!==j})},1)},[]),p=A.useCallback(function(E){n.current=lp(E),r.current=void 0},[]),m=A.useCallback(function(E){f(E.type,lA(E),E.target,c(E,t.lockRef.current))},[]),v=A.useCallback(function(E){f(E.type,lp(E),E.target,c(E,t.lockRef.current))},[]);A.useEffect(function(){return cc.push(s),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:v}),document.addEventListener("wheel",d,lc),document.addEventListener("touchmove",d,lc),document.addEventListener("touchstart",p,lc),function(){cc=cc.filter(function(E){return E!==s}),document.removeEventListener("wheel",d,lc),document.removeEventListener("touchmove",d,lc),document.removeEventListener("touchstart",p,lc)}},[]);var w=t.removeScrollBar,x=t.inert;return A.createElement(A.Fragment,null,x?A.createElement(s,{styles:_G(i)}):null,w?A.createElement(xG,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function IG(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const LG=cG(U_,DG);var F_=A.forwardRef(function(t,e){return A.createElement(dg,Li({},t,{ref:e,sideCar:LG}))});F_.classNames=dg.classNames;var fg="Popover",[q_,QK]=g_(fg,[A_]),hf=A_(),[jG,ua]=q_(fg),W_=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:l=!1}=t,c=hf(e),d=A.useRef(null),[f,p]=A.useState(!1),[m,v]=KW({prop:r,defaultProp:i??!1,onChange:s,caller:fg});return b.jsx(BW,{...c,children:b.jsx(jG,{scope:e,contentId:bW(),triggerRef:d,open:m,onOpenChange:v,onOpenToggle:A.useCallback(()=>v(w=>!w),[v]),hasCustomAnchor:f,onCustomAnchorAdd:A.useCallback(()=>p(!0),[]),onCustomAnchorRemove:A.useCallback(()=>p(!1),[]),modal:l,children:n})})};W_.displayName=fg;var G_="PopoverAnchor",PG=A.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=ua(G_,n),s=hf(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=i;return A.useEffect(()=>(l(),()=>c()),[l,c]),b.jsx(L_,{...s,...r,ref:e})});PG.displayName=G_;var K_="PopoverTrigger",Y_=A.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=ua(K_,n),s=hf(n),l=ca(e,i.triggerRef),c=b.jsx(Hs.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":eR(i.open),...r,ref:l,onClick:Qo(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?c:b.jsx(L_,{asChild:!0,...s,children:c})});Y_.displayName=K_;var aw="PopoverPortal",[zG,UG]=q_(aw,{forceMount:void 0}),X_=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,s=ua(aw,e);return b.jsx(zG,{scope:e,forceMount:n,children:b.jsx(ow,{present:n||s.open,children:b.jsx(j_,{asChild:!0,container:i,children:r})})})};X_.displayName=aw;var $c="PopoverContent",J_=A.forwardRef((t,e)=>{const n=UG($c,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,s=ua($c,t.__scopePopover);return b.jsx(ow,{present:r||s.open,children:s.modal?b.jsx(HG,{...i,ref:e}):b.jsx(VG,{...i,ref:e})})});J_.displayName=$c;var BG=y_("PopoverContent.RemoveScroll"),HG=A.forwardRef((t,e)=>{const n=ua($c,t.__scopePopover),r=A.useRef(null),i=ca(e,r),s=A.useRef(!1);return A.useEffect(()=>{const l=r.current;if(l)return eG(l)},[]),b.jsx(F_,{as:BG,allowPinchZoom:!0,children:b.jsx(Q_,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Qo(t.onCloseAutoFocus,l=>{l.preventDefault(),s.current||n.triggerRef.current?.focus()}),onPointerDownOutside:Qo(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,f=c.button===2||d;s.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:Qo(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),VG=A.forwardRef((t,e)=>{const n=ua($c,t.__scopePopover),r=A.useRef(!1),i=A.useRef(!1);return b.jsx(Q_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=s.target;n.triggerRef.current?.contains(l)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),Q_=A.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,...m}=t,v=ua($c,n),w=hf(n);return cW(),b.jsx(S_,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:b.jsx(b_,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:p,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onDismiss:()=>v.onOpenChange(!1),children:b.jsx(HW,{"data-state":eR(v.open),role:"dialog",id:v.contentId,...w,...m,ref:e,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Z_="PopoverClose",$G=A.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=ua(Z_,n);return b.jsx(Hs.button,{type:"button",...r,ref:e,onClick:Qo(t.onClick,()=>i.onOpenChange(!1))})});$G.displayName=Z_;var FG="PopoverArrow",qG=A.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=hf(n);return b.jsx(VW,{...i,...r,ref:e})});qG.displayName=FG;function eR(t){return t?"open":"closed"}var WG=W_,GG=Y_,KG=X_,YG=J_;function XG({...t}){return b.jsx(WG,{...t})}function JG({...t}){return b.jsx(GG,{...t})}function QG({className:t,align:e="center",sideOffset:n=4,...r}){return b.jsx(KG,{children:b.jsx(YG,{align:e,sideOffset:n,className:"z-50 rounded-box bg-base-200 shadow",...r})})}const ZG=(t,e)=>e?.schema?e.schema.spec.marks.get(t)!==void 0:!1,eK=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function tK(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return!t||t.replace(eK,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}function nK(t,e,n){try{const r=new URL(t,e);if(tK(r.href,n))return r.href}catch{}return"#"}const rK=tF.extend({addAttributes(){return{...this.parent?.(),class:{default:null,parseHTML:t=>t.getAttribute("class"),renderHTML:t=>t.class?{class:t.class}:{}}}}}),iK=En.create({name:"div",group:"block",content:"block*",parseHTML:()=>[{tag:"div"}],renderHTML:({HTMLAttributes:t})=>["div",t],addAttributes(){return{...this.parent?.(),class:{default:null,parseHTML:t=>t.getAttribute("class"),renderHTML:t=>t.class?{class:t.class}:{}}}}}),sK=En.create({name:"section",group:"block",content:"block*",parseHTML:()=>[{tag:"section"}],renderHTML:({HTMLAttributes:t})=>["section",t],addAttributes(){return{...this.parent?.(),class:{default:null,parseHTML:t=>t.getAttribute("class"),renderHTML:t=>t.class?{class:t.class}:{}}}}}),oK=Bs.create({name:"small",inclusive:!0,parseHTML:()=>[{tag:"small"}],renderHTML:({HTMLAttributes:t})=>["small",t],addAttributes(){return{...this.parent?.(),class:{default:null,parseHTML:t=>t.getAttribute("class"),renderHTML:t=>t.class?{class:t.class}:{}}}}}),aK=En.create({name:"area",group:"block",selectable:!1,isolating:!0,parseHTML:()=>[{tag:"area"}],renderHTML:({HTMLAttributes:t})=>["area",t],addAttributes(){return{alt:{default:null,parseHTML:t=>t.getAttribute("alt"),renderHTML:t=>t.alt?{alt:t.alt}:{}}}}});function tR(t){return t?.isEditable?t.can().setMark("link"):!1}function nR(t){return t?.isEditable?t.isActive("link"):!1}function lK(t){const{editor:e,hideWhenUnavailable:n}=t;return ZG("link",e)&&e?n&&!e.isActive("code")?tR(e):!0:!1}function cK(t){const{editor:e,onSetLink:n}=t,[r,i]=A.useState(null);A.useEffect(()=>{if(!e)return;const{href:d}=e.getAttributes("link");nR(e)&&r===null&&i(d||"")},[e,r]),A.useEffect(()=>{if(!e)return;const d=()=>{const{href:f}=e.getAttributes("link");i(f||"")};return e.on("selectionUpdate",d),()=>{e.off("selectionUpdate",d)}},[e]);const s=A.useCallback(()=>{if(!(r&&e))return;const{selection:d}=e.state,f=d.empty;let p=e.chain().focus();p=p.extendMarkRange("link").setLink({href:r}),f&&(p=p.insertContent({type:"text",text:r})),p.run(),i(null),n?.()},[e,n,r]),l=A.useCallback(()=>{e&&(e.chain().focus().extendMarkRange("link").unsetLink().setMeta("preventAutolink",!0).run(),i(""))},[e]),c=A.useCallback((d="_blank",f="noopener,noreferrer")=>{if(!r)return;const p=nK(r,window.location.href);p!=="#"&&window.open(p,d,f)},[r]);return{url:r||"",setUrl:i,setLink:s,removeLink:l,openLink:c}}function uK(t){const{editor:e,hideWhenUnavailable:n=!1}=t,r=tR(e),i=nR(e),[s,l]=A.useState(!1);return A.useEffect(()=>{if(!e)return;const c=()=>{l(lK({editor:e,hideWhenUnavailable:n}))};return c(),e.on("selectionUpdate",c),()=>{e.off("selectionUpdate",c)}},[e,n]),{isVisible:s,canSet:r,isActive:i}}function dK(t){const{editor:e=null,hideWhenUnavailable:n=!1,onSetLink:r}=t||{},{isVisible:i,canSet:s,isActive:l}=uK({editor:e,hideWhenUnavailable:n}),c=cK({editor:e,onSetLink:r});return{isVisible:i,canSet:s,isActive:l,label:"Link",Icon:Qk,...c}}const fK=({url:t,setUrl:e,setLink:n,removeLink:r,openLink:i,isActive:s})=>{const l=c=>{c.key==="Enter"&&(c.preventDefault(),n())};return b.jsxs("div",{className:"button-group p-1",children:[b.jsx("input",{type:"url",placeholder:"Paste a link...",value:t,className:"tiptap-input",onChange:c=>e(c.target.value),onKeyDown:l,autoFocus:!0,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off"}),b.jsx("button",{type:"button",onClick:n,title:"Apply link",disabled:!(t||s),className:"btn btnbtn btn-square btn-ghost btn-sm",children:b.jsx(b9,{})}),b.jsx("div",{className:"group-separator"}),b.jsx("button",{type:"button",onClick:i,title:"Open in new window",disabled:!(t||s),className:"btn btnbtn btn-square btn-ghost btn-sm",children:b.jsx(K9,{})}),b.jsx("button",{type:"button",onClick:r,title:"Remove link",disabled:!(t||s),className:"btn btnbtn btn-square btn-ghost btn-sm",children:b.jsx(y9,{})})]})},hK=_t.forwardRef(({editor:t,hideWhenUnavailable:e=!1,onSetLink:n,onOpenChange:r,autoOpenOnLinkActive:i=!0,onClick:s,children:l,...c},d)=>{const[f,p]=_t.useState(!1),{isVisible:m,canSet:v,isActive:w,url:x,setUrl:E,setLink:C,removeLink:O,openLink:I,label:j}=dK({editor:t,hideWhenUnavailable:e,onSetLink:n}),U=_t.useCallback(_=>{p(_),r?.(_)},[r]),P=_t.useCallback(()=>{C(),p(!1)},[C]),L=_t.useCallback(_=>{s?.(_),!_.defaultPrevented&&p(!f)},[s,f]);return _t.useEffect(()=>{i&&w&&p(!0),t?.isActive("link")||p(!1)},[i,w,t?.isActive]),m?b.jsxs(XG,{open:f,onOpenChange:U,children:[b.jsx(JG,{asChild:!0,children:b.jsx("button",{disabled:!v,onClick:L,"aria-label":j,className:`btn btn-square btn-ghost btn-sm ${w?"btn-soft":""}`,ref:d,...c,children:b.jsx(Qk,{})})}),b.jsx(QG,{onCloseAutoFocus:_=>_.preventDefault(),children:b.jsx(fK,{url:x,setUrl:E,setLink:P,removeLink:O,openLink:I,isActive:w})})]}):null});function pK({editor:t,showTree:e,handleTree:n}){const r=wO({editor:t,selector:i=>({isBold:i.editor.isActive("bold")??!1,canBold:i.editor.can().chain().toggleBold().run()??!1,isItalic:i.editor.isActive("italic")??!1,canItalic:i.editor.can().chain().toggleItalic().run()??!1,isStrike:i.editor.isActive("strike")??!1,canStrike:i.editor.can().chain().toggleStrike().run()??!1,isCode:i.editor.isActive("code")??!1,canCode:i.editor.can().chain().toggleCode().run()??!1,canClearMarks:i.editor.can().chain().unsetAllMarks().run()??!1,isParagraph:i.editor.isActive("paragraph")??!1,isHeading1:i.editor.isActive("heading",{level:1})??!1,isHeading2:i.editor.isActive("heading",{level:2})??!1,isHeading3:i.editor.isActive("heading",{level:3})??!1,isHeading4:i.editor.isActive("heading",{level:4})??!1,isHeading5:i.editor.isActive("heading",{level:5})??!1,isHeading6:i.editor.isActive("heading",{level:6})??!1,isBulletList:i.editor.isActive("bulletList")??!1,isOrderedList:i.editor.isActive("orderedList")??!1,isCodeBlock:i.editor.isActive("codeBlock")??!1,isBlockquote:i.editor.isActive("blockquote")??!1,canUndo:i.editor.can().chain().undo().run()??!1,canRedo:i.editor.can().chain().redo().run()??!1})});return b.jsxs("div",{className:"control-group flex items-center justify-between bg-base-200",children:[b.jsx("div",{className:"flex-grow",children:b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:n,children:e?b.jsx(k9,{}):b.jsx(M9,{})})}),b.jsxs("div",{className:"flex overflow-hidden",children:[b.jsxs("div",{className:"button-group",children:[b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:()=>t.chain().focus().undo().run(),disabled:!r.canUndo,children:b.jsx(nb,{})}),b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:()=>t.chain().focus().redo().run(),disabled:!r.canRedo,children:b.jsx(eN,{})})]}),b.jsx("div",{className:"group-separator"}),b.jsxs("div",{className:"button-group",children:[b.jsx("button",{onClick:()=>t.chain().focus().toggleBold().run(),disabled:!r.canBold,className:`btn btn-square btn-ghost btn-sm ${r.isBold?"btn-soft":""}`,children:b.jsx(xP,{})}),b.jsx("button",{onClick:()=>t.chain().focus().toggleItalic().run(),disabled:!r.canItalic,className:`btn btn-square btn-ghost btn-sm ${r.isItalic?"btn-soft":""}`,children:b.jsx(m9,{})}),b.jsx("button",{onClick:()=>t.chain().focus().toggleStrike().run(),disabled:!r.canStrike,className:`btn btn-square btn-ghost btn-sm ${r.isStrike?"btn-soft":""}`,children:b.jsx(i7,{})}),b.jsx("button",{onClick:()=>t.chain().focus().toggleCode().run(),disabled:!r.canCode,className:`btn btn-square btn-ghost btn-sm ${r.isCode?"btn-soft":""}`,children:b.jsx(tT,{})}),b.jsx(hK,{editor:t,hideWhenUnavailable:!0,autoOpenOnLinkActive:!0}),b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:()=>t.chain().focus().unsetAllMarks().run(),children:b.jsx(e7,{})}),b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:()=>t.chain().focus().clearNodes().run(),children:b.jsx(TP,{})}),b.jsx("button",{onClick:()=>t.chain().focus().setParagraph().run(),className:`btn btn-square btn-ghost btn-sm ${r.isParagraph?"btn-soft":""}`,children:""}),b.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:`btn btn-square btn-ghost btn-sm ${r.isHeading1?"btn-soft":""}`,children:"H1"}),b.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:`btn btn-square btn-ghost btn-sm ${r.isHeading2?"btn-soft":""}`,children:"H2"}),b.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:`btn btn-square btn-ghost btn-sm ${r.isHeading3?"btn-soft":""}`,children:"H3"}),b.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:4}).run(),className:`btn btn-square btn-ghost btn-sm ${r.isHeading4?"btn-soft":""}`,children:"H4"}),b.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:5}).run(),className:`btn btn-square btn-ghost btn-sm ${r.isHeading5?"btn-soft":""}`,children:"H5"}),b.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:6}).run(),className:`btn btn-square btn-ghost btn-sm ${r.isHeading6?"btn-soft":""}`,children:"H6"}),b.jsx("button",{onClick:()=>t.chain().focus().toggleBulletList().run(),className:`btn btn-square btn-ghost btn-sm ${r.isBulletList?"btn-soft":""}`,children:""}),b.jsx("button",{onClick:()=>t.chain().focus().toggleOrderedList().run(),className:`btn btn-square btn-ghost btn-sm ${r.isOrderedList?"btn-soft":""}`,children:"1"}),b.jsx("button",{onClick:()=>t.chain().focus().toggleCodeBlock().run(),className:`btn btn-square btn-ghost btn-sm ${r.isCodeBlock?"btn-soft":""}`,children:b.jsx(tT,{})}),b.jsx("button",{onClick:()=>t.chain().focus().toggleBlockquote().run(),className:`btn btn-square btn-ghost btn-sm ${r.isBlockquote?"btn-soft":""}`,children:b.jsx(I9,{})}),b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:()=>t.chain().focus().setHorizontalRule().run(),children:b.jsx(U9,{})}),b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:()=>t.chain().focus().setHardBreak().run(),children:b.jsx(W9,{})})]})]}),b.jsx("div",{className:"flex-grow text-right",children:b.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:()=>t.chain().focus().undo().run(),children:b.jsx(FP,{})})})]})}const mK=t=>{let e=0n;for(let n=0;n<t.length;n++)e=e*131n+BigInt(t.charCodeAt(n))&0x1fffffffffffffn;return e.toString(36)},gK=[RV,OF.configure({link:{autolink:!1,openOnClick:!1,enableClickSelection:!0,defaultProtocol:"https",shouldAutoLink:t=>t.startsWith("https://"),protocols:["http","https","ftp","app",{scheme:"mailto",optionalSlashes:!0},{scheme:"tel",optionalSlashes:!0}]},paragraph:!1}),xV,TV,rK,sK,oK,aK,iK],rR=A.forwardRef(({children:t,content:e,page:n,className:r=""},i)=>{const[s,l]=A.useState(!0),c=()=>l(x=>!x),d=XV({extensions:gK,content:e,autofocus:!1},[e]),f=Be(x=>x.setUpdatingPage),p=Be(x=>x.setConfigPage),m=Be(x=>x.setFeedItem),v=A.useCallback(()=>{typeof n=="number"?m({time:n,text:d.getHTML()}):(f(""),p({path:n,content:d.getHTML()}))},[n,d,f,p,m]),w=Fm(v,zn.DEBOUNCE,()=>typeof n=="string"&&f(n));return d.on("update",w),A.useImperativeHandle(i,()=>({flush:()=>w.flush()})),b.jsx("div",{className:"shine",children:b.jsxs("div",{className:"editor shadow",children:[b.jsx(pK,{editor:d,showTree:s,handleTree:c}),b.jsxs("div",{className:"flex flex-row",children:[s?t:null,b.jsxs(PF,{children:[b.jsx(Wq,{editor:d}),r==="feed"?b.jsx("section",{className:r,children:b.jsx(SC,{editor:d})}):b.jsx(SC,{editor:d,className:typeof n=="string"?`_${mK(n)}`:r})]})]})]})})}),yK=(t,e,n,r)=>{const i=`${n}${r}/`;return e?.length&&e===i?!0:!t.some(l=>l.path===i)},uA=(t="/")=>{const e=t.split("/"),n=e.splice(e.length-2,1)[0];return{prevSegment:e.join("/"),lastSegment:n}},iR=t=>{if(t&&"current"in t&&t.current instanceof HTMLDialogElement){t.current.close();const e=t.current.querySelector("form");e&&e instanceof HTMLFormElement&&setTimeout(()=>e.reset(),zn.BLUR)}},vK=(t,e)=>t.reduce((n,r)=>{if(r.path.startsWith(e)&&r.path!==e){const i=r.path.replace(e,"").split("/")[0];i&&!n.includes(i)&&n.push(i)}return n},[]),bK=({ref:t,edit:e,pages:n,setEdit:r})=>{const i=Be(R=>R.setConfigPage),s=()=>{iR(t),setTimeout(()=>{j("/"),w(""),E(""),O(""),r(void 0)},zn.BLUR)},[l,c]=A.useState(e==="/"),[d,f]=A.useState(e||"/"),[p,m]=A.useState(""),[v,w]=A.useState(""),[x,E]=A.useState(""),[C,O]=A.useState(""),I=A.useMemo(()=>e==="/"?x.length:v.length&&x.length&&yK(n,e,d,v),[n,e,d,v,x]),j=A.useCallback(R=>{const{lastSegment:V}=uA(e),q=typeof R=="string"?R:R?.currentTarget.value,H=vK(n,q).filter(ye=>ye!==V);m(H.reduce((ye,ge)=>`${ye}(?!${ge}$)`,"")),f(q)},[n,e]),U=A.useRef(null);A.useEffect(()=>c(e==="/"),[e]),A.useEffect(()=>{if(typeof e=="string"){if(e===""&&j("/"),e.length){const{prevSegment:R,lastSegment:V}=uA(e);j(R||"/"),w(V);const q=n.find(H=>H.path===e);q&&(E(q.title),O(q.description||""))}setTimeout(()=>U.current instanceof HTMLInputElement?U.current.focus():void 0,zn.FOCUS)}},[j,e,n]);const P=R=>w(R.currentTarget.value.toLocaleLowerCase()),L=R=>E(R.currentTarget.value),_=R=>O(R.currentTarget.value),M=R=>{R.preventDefault(),setTimeout((V=>()=>i(V))({path:`${d}${v}/`,title:x,description:C,oldPath:e}),zn.BLUR),s()},D=R=>{R.preventDefault(),R.stopPropagation(),setTimeout((V=>()=>i(V))({path:"",oldPath:e}),zn.BLUR),s()};return b.jsxs("dialog",{ref:t,className:"modal",children:[b.jsxs("form",{className:"modal-box",onSubmit:M,children:[b.jsx("button",{type:"button",className:"btn btn-sm btn-circle btn-ghost absolute top-2 right-2",onClick:s,children:""}),b.jsx("h3",{className:"font-bold text-lg",children:e?.length?"Page edit":"New page creation"}),b.jsxs("fieldset",{className:"fieldset",children:[b.jsx("legend",{className:"fieldset-legend",children:"Do you need a page or a chronological collection of articles?"}),b.jsxs("label",{className:"select",children:[b.jsx("span",{className:"label",children:"Type"}),b.jsxs("select",{children:[b.jsx("option",{children:"Single Page"}),b.jsx("option",{disabled:!0,children:"Blog (collection of articles)"}),b.jsx("option",{disabled:!0,children:"Microblog (page with dynamic content)"})]})]})]}),b.jsxs("fieldset",{className:"fieldset",children:[b.jsxs("div",{className:"flex w-full",children:[b.jsx("div",{className:"w-1/2",children:b.jsx("legend",{className:"fieldset-legend",children:"URL section relative to other pages"})}),b.jsx("div",{className:"w-1/2 pl-1",children:b.jsx("legend",{className:"fieldset-legend",children:"Page URL"})})]}),b.jsxs("div",{className:"join validator w-full",children:[b.jsx("select",{className:"select join-item",value:d,onChange:j,disabled:l,children:n.map(R=>b.jsx("option",{disabled:e===R.path,children:R.path},R.path))}),b.jsxs("label",{className:"input join-item validator",children:[b.jsx("input",{type:"text",placeholder:l?"(website root page)":"hello-world",required:!0,minLength:1,ref:U,disabled:l,autoComplete:"off",autoCapitalize:"off",pattern:`^${p}[\\w\\-]+$`,value:v,onChange:P}),b.jsx("span",{className:"label",children:"/"})]})]}),b.jsx("span",{className:"validator-hint mt-0",children:"Page URL must be unique and contain only letters, digits, minus and underscore"})]}),b.jsxs("fieldset",{className:"fieldset",children:[b.jsx("legend",{className:"fieldset-legend",children:"Page title"}),b.jsxs("label",{className:"input validator w-full",children:[b.jsx("input",{type:"text",placeholder:"Hello World!",required:!0,value:x,onChange:L}),b.jsxs("span",{className:"label",children:[x.length," characters"]})]})]}),b.jsxs("fieldset",{className:"fieldset",children:[b.jsx("legend",{className:"fieldset-legend optional",children:"Page description"}),b.jsxs("div",{className:"relative",children:[b.jsx("textarea",{className:"textarea w-full",placeholder:"Enter a brief description of your webpage (max 160 characters). This description will appear in search engine results and should summarize the content effectively.",value:C,onChange:_}),b.jsxs("span",{className:"label absolute right-3 bottom-1",children:[C.length," characters"]})]})]}),b.jsxs("div",{className:"mt-4 flex justify-evenly",children:[b.jsx("button",{type:"submit",className:"btn btn-neutral w-1/3",disabled:!I,children:e?.length?"Update Page":"Create Page"}),b.jsxs("button",{type:"button",className:"btn btn-error btn-outline w-1/3",disabled:!e||e.length<2,onClick:D,children:[b.jsx(tb,{})," Delete Page"]})]})]}),b.jsx("form",{method:"dialog",className:"modal-backdrop",children:b.jsx("button",{onClick:s,children:"close"})})]})},wK=t=>t.reduce((e,n)=>(n.path.replace(/^[^\w-]+|[^\w-]+$/g,"").split("/").reduce((r,i)=>(r[i]||(r[i]={}),r[i]),e),e),{}),sR=({node:t,prefix:e,active:n,setActive:r,updatingPage:i,pageDiff:s,handleEdit:l,activeRef:c})=>b.jsx("ul",{children:Object.entries(t).map(([d,f])=>{const p=`${e}/${d}`,m=p==="/"?"/":`${p}/`,v=n===m?"grad30":void 0,w=i===m?b.jsx(WP,{}):s.indexOf(m)<0?b.jsx(e9,{}):b.jsx(VP,{});return b.jsxs("li",{children:[b.jsxs("button",{ref:c,className:v,onClick:()=>r(m),children:[w,m,b.jsx(eb,{className:"float-right opacity-0",onClick:x=>(x.preventDefault(),l(m))})]}),Object.keys(f).length>0&&sR({node:f,prefix:p,active:n,setActive:r,updatingPage:i,pageDiff:s,handleEdit:l,activeRef:c})]},m)})});function SK({pages:t,active:e,setActive:n}){const r=A.useMemo(()=>t?wK(t):{},[t]),[i,s]=A.useState(void 0),l=A.useRef(null),c=A.useRef(null),d=x=>(s(x),n(x),c?.current?.showModal()),f=()=>d(""),p=Be(x=>x.config),m=Be(x=>x.pageDiff),v=Be(x=>x.updatingPage),w=Be(x=>x.setUpdatingPage);return A.useEffect(()=>{t&&t.findIndex(x=>x.path===e)===-1&&(n(t.findIndex(x=>x.path===v)!==-1?v:"/"),w(""),setTimeout(()=>l.current instanceof HTMLButtonElement&&l.current.focus(),zn.FOCUS))},[t,e,v,n,w]),b.jsxs("div",{className:"menu menu-xs bg-base-300/90",children:[b.jsx("ul",{children:b.jsx("li",{children:b.jsxs("button",{onClick:f,children:[b.jsx(Zk,{}),"Create a new page"]})})}),b.jsx("hr",{}),sR({node:r,prefix:"",active:e,setActive:n,updatingPage:v,pageDiff:m,handleEdit:d,activeRef:l}),b.jsx(bK,{pages:p.pages,edit:i,setEdit:s,ref:c})]})}function xK(){const t=Be(s=>s.config),e=A.useRef(null),[n,r]=A.useState("/"),i=A.useMemo(()=>(e.current?.flush(),t.pages.find(s=>s.path===n)?.content||""),[n]);return b.jsx(rR,{ref:e,content:i,page:n,children:b.jsx(SK,{pages:t.pages,active:n,setActive:r})})}const EK=({ref:t,edit:e,setAct:n})=>{const[r,i]=A.useState(null);A.useEffect(()=>i(new Date(e*qa.TRIM)),[e]);const[s,l]=A.useMemo(()=>[r?.toJSON().slice(...qa.DATE),r?.toJSON().slice(...qa.TIME)],[r]),c=Be(w=>w.setFeedItem),d=()=>iR(t),f=w=>{const x=w.target.value.split("-").map(E=>Number(E));if(r&&x.every(E=>Number.isInteger(E))){const E=new Date(Date.UTC(x[0],x[1]-1,x[2]));E.setUTCHours(r.getUTCHours(),r.getUTCMinutes()),i(E)}},p=w=>{const x=w.target.value.split(":").map(E=>Number(E));if(r&&x.every(E=>Number.isInteger(E))){const E=new Date(r);E.setUTCHours(x[0],x[1]),i(E)}},m=w=>{if(w.preventDefault(),r){const x=Math.ceil(r.getTime()/qa.TRIM);setTimeout((E=>()=>c(E)??n(E.newTime))({time:e,newTime:x}),zn.BLUR)}d()},v=w=>{r&&(w.preventDefault(),w.stopPropagation(),setTimeout((x=>()=>c(x)??n(0))({time:e}),zn.BLUR)),d()};return b.jsxs("dialog",{ref:t,className:"modal",children:[b.jsxs("form",{className:"modal-box",onSubmit:m,children:[b.jsx("button",{type:"button",className:"btn btn-sm btn-circle btn-ghost absolute top-2 right-2",onClick:d,children:""}),b.jsx("h3",{className:"font-bold text-lg",children:"Edit Post"}),b.jsxs("fieldset",{className:"fieldset",children:[b.jsx("legend",{className:"fieldset-legend",children:"Set the date for this post. Posts in the feed are sorted chronologically."}),b.jsxs("div",{className:"flex flex-row gap-2",children:[b.jsxs("label",{className:"input validator w-3/5",children:[b.jsx("span",{className:"label",children:"Date"}),b.jsx("input",{type:"date",className:"validate",required:!0,max:"9999-12-31",defaultValue:s,onChange:f})]}),b.jsxs("label",{className:"input w-2/5",children:[b.jsx("span",{className:"label",children:"Time"}),b.jsx("input",{type:"time",defaultValue:l,onChange:p})]})]})]}),b.jsxs("div",{className:"mt-4 flex justify-evenly",children:[b.jsx("button",{type:"submit",className:"btn btn-neutral w-1/3",children:"Update Post"}),b.jsxs("button",{type:"button",className:"btn btn-error btn-outline w-1/3",onClick:v,children:[b.jsx(tb,{})," Delete Post"]})]})]}),b.jsx("form",{method:"dialog",className:"modal-backdrop",children:b.jsx("button",{onClick:d,children:"close"})})]})},TK=({feed:t,active:e,setActive:n})=>{const r=Be(f=>f.setFeedItem),i=A.useRef(null),[s,l]=A.useState(0),c=f=>{l(f),i?.current?.showModal()},d=()=>{const f=Math.ceil((Date.now()-new Date().getTimezoneOffset()*qa.ZONE_OFFSET_MS)/qa.TRIM);r({time:f,text:""}),n(f)};return t===void 0?null:b.jsxs("div",{className:"menu menu-xs flex-nowrap bg-base-300/90",children:[b.jsx("ul",{children:b.jsx("li",{children:b.jsxs("button",{onClick:d,children:[b.jsx(Zk,{}),"Create a new post"]})})}),b.jsx("hr",{}),b.jsx("ul",{children:t.list.map(f=>b.jsx("li",{children:b.jsxs("button",{className:f.time===e?"grad30":"",onClick:()=>n(f.time),children:[b.jsx(E9,{}),b.jsx("time",{children:new Date(f.time*qa.TRIM).toLocaleString(t?.locale,t?.format)}),b.jsx(eb,{className:"float-right opacity-0",onClick:p=>(p.preventDefault(),c(f.time))})]})},f.time))}),b.jsx(EK,{edit:s,ref:i,setAct:n})]})};function CK(){const t=Be(s=>s.config.feed),e=A.useRef(null),[n,r]=A.useState(t?.list[0].time||0),i=A.useMemo(()=>{if(e.current?.flush(),n===0){const s=t?.list[0];if(s)return r(s.time),s.text}return t?.list.find(s=>s.time===n)?.text||""},[n]);return b.jsx(rR,{ref:e,content:i,page:n,className:"feed",children:b.jsx(TK,{feed:t,active:n,setActive:r})})}const AK=async()=>{const t=$m();if(t)try{const e=await t.getIdToken(),n=await fetch(`${Pm}/file/`,{headers:new Headers({Authorization:`Bearer ${e}`}),method:"GET"});if(!n.ok)throw new Error("Loading files failed");return await n.json()}catch(e){console.error(e)}return[]},kK=(t,e)=>e[t]?`${e[t]}.${t.split(".").pop()}`:t,NK=async(t,e,n)=>{const r=$m();if(r)try{const i=await r.getIdToken(),s={...e},l=t.reduce((d,f)=>{const p=kK(f.name,s);return d.append("files",f,p),p!==f.name&&delete s[f.name],d},new FormData);Object.entries(s).forEach(([d,f])=>l.append(d,`${f}.${d.split(".").pop()}`)),n.forEach(d=>l.append(d,""));const c=await fetch(`${Pm}/file/`,{headers:new Headers({Authorization:`Bearer ${i}`}),method:"POST",body:l});if(!c.ok)throw new Error("Upload failed");return c.json()}catch(i){console.error(i)}return""},dA=t=>{const e=Array.from(document.querySelectorAll('[tabindex="0"]')),r=e.indexOf(document.activeElement)+t,i=r<0?e.length-1:r>=e.length?0:r;e[i]&&e[i].focus()},fA=t=>{t.key==="ArrowDown"?(t.preventDefault(),dA(1)):t.key==="ArrowUp"&&(t.preventDefault(),dA(-1))},MK=(t,e,n)=>{if(!e.length)return[];const r=t.filter(s=>s.toLowerCase().startsWith(e)&&!n.includes(s)).slice(0,Ja.SHOW_FONTS),i=Ja.SHOW_FONTS-r.length;if(i){const s=t.filter(l=>l.toLowerCase().includes(e)&&!n.includes(l)&&!r.includes(l)).slice(0,i);r.push(...s)}return r},OK=(t,e,n)=>{const r=t.length,i=e.length,s=Object.keys(n).length;let l=!1;return[r?i?s?`Upload ${r}, rename ${s}, delete ${i} files`:`Upload ${r} and delete ${i} files`:`Upload ${r} file(s)`:i?s?`Rename ${s} and delete ${i} files`:`Delete ${i} file(s)`:s?`Rename ${s} file(s)`:(l=!0,"All files are synced"),l]};function _K(){const t=A.useRef(null),e=A.useRef(null),[n,r]=A.useState(!1),[i,s]=A.useState([]),[l,c]=A.useState(null),[d,f]=A.useState([]),[p,m]=A.useState({}),[v,w]=A.useMemo(()=>OK(i,d,p),[i,d,p]);A.useEffect(()=>{AK().then(j=>c(j)).catch(j=>console.error(j))},[]);const x=j=>{j.preventDefault(),s(U=>[...j.dataTransfer.items].reduce((P,L)=>{const _=L.getAsFile();return _?.lastModified&&P.push(_),P},[...U]))};A.useEffect(()=>{window.addEventListener("dragover",j=>j.preventDefault()),window.addEventListener("drop",j=>j.preventDefault())},[]);const E=(j,U)=>{j.target.setCustomValidity(""),m(P=>{if(j.target.value===U.split(".").slice(0,-1).join(".")){delete P[U];const L=j.target.parentNode?.parentNode;L instanceof HTMLFormElement&&L.reset()}else P[U]=j.target.value;return{...P}})},C=j=>m(U=>(delete U[j],{...U})),O=async()=>{const j=e.current?.querySelectorAll("form input");if(j){const U=j.values().find(P=>!P.reportValidity());if(U)U.setCustomValidity("Please use only lowercase letters, digits, dashes, underscores, or dots.");else{r(!0);const P=await NK(i,p,d);if(P&&!Array.isArray(P)){const L=i.every(D=>P[D.name]===!0),_=Object.entries(p).every(([D,R])=>P[D]===!1&&P[`${R}.${D.split(".").pop()?.toLowerCase()}`]===!0),M=d.every(D=>P[D]===!1);if(L&&_&&M){c(R=>{if(R!==null){const V=R.map(H=>({...H,name:p[H.name]?`${p[H.name]}.${H.name.split(".").pop()?.toLowerCase()}`:H.name})),q=i.map(({name:H,type:ye,size:ge,lastModified:G})=>({name:p[H]?`${p[H]}.${H.split(".").pop()?.toLowerCase()}`:H,type:ye,size:ge,lastModified:G,webkitRelativePath:void 0}));return[...V,...q]}return R}),s([]),f([]),m({});const D=e.current?.querySelectorAll("form");D&&(D.forEach(R=>R.reset()),r(!1))}}}}},I=j=>{i.find(U=>U.name===j)?s(U=>U.filter(P=>P.name!==j)):(f(U=>[...U,j]),c(U=>U.filter(P=>P.name!==j))),m(U=>U[j]?(delete U[j],{...U}):U)};return b.jsxs("div",{className:"flex flex-row gap-6",children:[b.jsxs("div",{className:"flex w-1/3 flex-col gap-6",children:[b.jsxs("div",{className:"card justify-center bg-base-100 shadow",ref:t,onDrop:x,children:[b.jsx(i9,{className:"mx-auto my-8 block size-20 opacity-20"}),b.jsx("span",{className:"mx-auto mb-8 font-extralight text-2xl opacity-40",children:"Drag new files here"})]}),b.jsxs("div",{className:"card",children:[b.jsx("div",{className:"p-1 text-center text-xs opacity-60",children:"Plan Limits"}),b.jsxs("div",{className:"stats bg-base-100 shadow",children:[b.jsxs("div",{className:"stat place-items-center",children:[b.jsx("div",{className:"stat-title",children:"Max Files"}),b.jsx("div",{className:"stat-value",children:"5"}),b.jsx("div",{className:"stat-desc opacity-50",children:"any format"})]}),b.jsxs("div",{className:"stat place-items-center",children:[b.jsx("div",{className:"stat-title",children:"File Size"}),b.jsx("div",{className:"stat-value",children:"5"}),b.jsx("div",{className:"stat-desc opacity-50",children:"Mb"})]}),b.jsxs("div",{className:"stat place-items-center",children:[b.jsx("div",{className:"stat-title",children:"Total Size"}),b.jsx("div",{className:"stat-value",children:"5"}),b.jsx("div",{className:"stat-desc opacity-50",children:"Mb"})]})]})]})]}),b.jsx("div",{className:"w-2/3",children:b.jsxs("table",{className:"table-xs table whitespace-nowrap bg-base-100 shadow",ref:e,children:[b.jsx("thead",{children:b.jsxs("tr",{className:"py-2",children:[b.jsx("th",{}),b.jsx("th",{children:b.jsx(eT,{})}),b.jsx("th",{className:"w-full",children:"Name"}),b.jsx("th",{children:"Type"}),b.jsx("th",{children:"Size"}),b.jsx("th",{})]})}),b.jsx("tbody",{children:l?[...l,...i].map((j,U)=>{const P=j.webkitRelativePath!==void 0,L=p[j.name]!==void 0,_=L?p[j.name]:j.name.split(".").slice(0,-1).join(".");return b.jsxs("tr",{children:[b.jsx("th",{children:U+1}),b.jsx("td",{children:P?b.jsx(KP,{}):b.jsx(eT,{className:"opacity-30"})}),b.jsx("td",{children:b.jsxs("form",{className:"join w-full",onReset:()=>C(j.name),children:[b.jsxs("label",{className:"input input-sm validator join-item w-full",children:[b.jsx("input",{type:"text",required:!0,pattern:"^[a-z0-9\\-\\\\_\\.]+$",placeholder:"filename",value:_,disabled:n,onChange:M=>E(M,j.name)}),".",j.name.split(".").pop()?.toLowerCase()]}),b.jsx("button",{type:"reset",className:"btn btn-sm btn-square join-item",disabled:!L||n,children:b.jsx(nb,{})})]})}),b.jsx("td",{children:j.type.split(";")[0]}),b.jsx("td",{children:Lv(j.size)}),b.jsx("td",{className:"flex gap-2",children:b.jsx("button",{className:"btn btn-sm btn-square",onClick:()=>I(j.name),disabled:n,children:b.jsx(tb,{})})})]},j.name)}):b.jsx("tr",{children:b.jsx("td",{colSpan:6,className:"text-center",children:b.jsx("span",{className:"loading loading-spinner loading-md my-8"})})})}),b.jsx("tfoot",{children:b.jsxs("tr",{className:"py-2",children:[b.jsx("td",{}),b.jsx("td",{}),b.jsx("td",{children:b.jsx("button",{className:"btn btn-sm w-full",onClick:O,disabled:w||n,children:n?b.jsx("span",{className:"loading loading-spinner"}):v})}),b.jsx("td",{}),b.jsx("td",{children:l?Lv([...l,...i].reduce((j,U)=>j+U.size,0)):null})]})})]})})]})}const hA=t=>`font-${t.replace(/\s+/g,"-").toLowerCase()}`;function RK(t,e){A.useEffect(()=>{const n=new Set(t.map(r=>hA(r.family)));t.forEach(r=>{const i=hA(r.family);if(!document.getElementById(i)){const s=document.createElement("style");let l=r.menu;if(e[r.family].length===1&&e[r.family][0]!=="regular"){const c=r.files[e[r.family][0]];c&&(l=c)}s.id=i,s.textContent=`@font-face {font-family:'${r.family.replace(/\s+/g,"-")}';src:url('${l}') format('truetype')}`,document.head.appendChild(s)}}),document.querySelectorAll("style[id^='font-']").forEach(r=>{n.has(r.id)||r.remove()})},[t,e])}function DK(){const{fonts:t}=Be(I=>I.config),e=Be(I=>I.setConfigKey),n=A.useRef([]),r=A.useRef([]),[i,s]=A.useState([]),[l,c]=A.useState([]);A.useEffect(()=>{RF().then(I=>{I&&(n.current=I,r.current=I.map(j=>j.family),s(I.filter(j=>t[j.family])))})},[]),RK(i,t);const[d,f]=A.useState(""),[p,m]=A.useState([]),v=A.useRef(null);A.useEffect(()=>v.current?.scrollIntoView(),[p]);const w=I=>{const j=I.target.value.toLowerCase();f(j),m(MK(r.current,j,Object.keys(t)))},x=I=>{const j=n.current.find(U=>U.family===I);if(j){const U=j?.variants.includes("regular")?"regular":j?.variants[0];s(P=>[...P,j]),e({key:"fonts",value:Object.assign(t,{[I]:[U]})}),f(""),m([])}},E=I=>{const j={...t};delete j[I],e({key:"fonts",value:j})},C=I=>c(j=>j.includes(I)?j.filter(U=>U!==I):[...j,I]),O=(I,j)=>{const U=i.find(P=>P.family===I)?.variants;if(U&&U.length>1){const P=U.includes("regular")?"regular":U[0],L=t[I],M=L.includes(j)?L.filter(D=>D!==j):[...L,j].sort();e({key:"fonts",value:{...t,[I]:M.length?M:[P]}})}};return b.jsxs("ul",{className:"list rounded-box bg-base-100 shadow-md",children:[b.jsx("li",{className:"p-4 pb-2 text-xs tracking-wide opacity-60",children:"Fonts added to your website:"}),Object.entries(t).map(([I,j],U)=>{const{category:P,variants:L,subsets:_}=i.find(M=>M.family===I)||{};return b.jsxs("li",{className:"list-row",children:[b.jsx("div",{className:"font-thin text-4xl tabular-nums opacity-30",children:String(U+1).padStart(2,"0")}),b.jsxs("div",{className:"min-w-32",children:[b.jsx("div",{children:I}),b.jsx("div",{className:"font-semibold text-xs uppercase opacity-60",children:P})]}),b.jsxs("div",{className:"flex flex-col justify-around",children:[b.jsxs("button",{className:`btn btn-xs size-5 w-full ${l.includes(I)?"btn-neutral":"btn-ghost"}`,onClick:()=>C(I),children:["Variants: ",j.length," of ",L?.length]}),b.jsxs("button",{className:"btn btn-xs btn-ghost size-5 w-full",children:["Subsets: ",_?.length]})]}),b.jsx("div",{className:"list-col-grow text-center",children:b.jsx("span",{style:{fontFamily:I.replace(/\s+/g,"-")},children:I})}),b.jsx("button",{className:"btn btn-square btn-ghost",onClick:()=>E(I),children:b.jsx(u7,{})}),l.includes(I)?b.jsx("div",{className:"flex list-col-wrap list-new-row flex-wrap gap-1",children:L?.map(M=>b.jsx("button",{className:`btn btn-xs ${j?.includes(M)?"btn-neutral":""}`,onClick:()=>O(I,M),children:M},M))}):null]},I)}),b.jsxs("li",{className:"list-row",children:[b.jsx("div",{children:b.jsx(_P,{className:"m-1 size-8"})}),b.jsxs("div",{children:[b.jsxs("label",{className:"input",children:[b.jsx(tN,{className:"opacity-50"}),b.jsx("input",{type:"text",value:d,onChange:w,onKeyDown:fA,tabIndex:0,placeholder:"Enter a font name: e.g. Roboto"})]}),p.length?b.jsx("ul",{className:"menu absolute w-56 rounded-box bg-base-200 shadow-md",ref:v,children:p.map(I=>b.jsx("li",{children:b.jsx("button",{onClick:()=>x(I),onKeyDown:fA,tabIndex:0,children:I})},I))}):null]})]})]})}function IK(){const t=Be(R=>R.config),e=Be(R=>R.setConfigKey),n=A.useRef(null),r=A.useRef(null),i=A.useRef(null),[s,l]=A.useState(0),[c,d]=A.useState(0),f=R=>{n.current=R,i.current=R,R.onDidFocusEditorWidget(()=>i.current=R),l(vc(R.getValue()))},p=R=>{r.current=R,R.onDidFocusEditorWidget(()=>i.current=R),d(vc(R.getValue()))},[m,v]=A.useState(!0),[w,x]=A.useState(!0),[E,C]=A.useState(!1),[O,I]=A.useState(!1),[j,U]=A.useMemo(()=>[t.header.content,t.footer.content],[t]),P=A.useCallback(()=>{const R=n.current?.getValue(),V=r.current?.getValue();typeof R!="string"||typeof V!="string"||(R!==j&&e({key:"header",value:R}),V!==U&&e({key:"footer",value:V}),l(vc(R)),d(vc(V)),v(!0))},[e,j,U]),L=Fm(P,zn.DEBOUNCE,()=>v(!1)),_=A.useCallback(()=>L(),[L]),M=A.useRef(null),{dismissModal:D}=fN({isBlocked:!m,ref:M,stop:L.cancel});return b.jsxs("div",{className:"shine",children:[b.jsxs("div",{className:"editor shadow",children:[b.jsx(uN,{codeRef:i,bytes:s+c,handleSync:P,isSync:m,isDark:w,setIsDark:x,isWrap:E,setIsWrap:C,showMap:O,setShowMap:I}),b.jsx(jv,{height:"40vh",className:"my-0.5",theme:w?"vs-dark":"light",language:"html",loading:b.jsx("span",{className:"loading loading-spinner loading-xl"}),value:j,onMount:f,onChange:_,options:{tabSize:2,minimap:{enabled:O},wordWrap:E?"on":"off",scrollBeyondLastLine:!1,wrappingIndent:"same"}}),b.jsx(jv,{height:"40vh",theme:w?"vs-dark":"light",language:"html",loading:b.jsx("span",{className:"loading loading-spinner loading-xl"}),value:U,onMount:p,onChange:_,options:{tabSize:2,minimap:{enabled:O},wordWrap:E?"on":"off",scrollBeyondLastLine:!1,wrappingIndent:"same"}})]}),b.jsx(dN,{ref:M,dismissModal:D})]})}function LK({login:t,setLogin:e}){const[n,r]=A.useState(""),i=l=>r(l.target.value),s=l=>{l.preventDefault(),e(1),jj(n,window.location.href).then(()=>window.localStorage.setItem(Tv.EMAIL,n)).catch(c=>{console.error(c),e(0)}).finally(()=>e(2))};return b.jsxs("form",{onSubmit:s,className:"fieldset gap-2 p-0",children:[b.jsxs("label",{className:"floating-label",children:[b.jsx("span",{children:"Your Email"}),b.jsx("input",{type:"email",name:"email",value:n,required:!0,disabled:t>0,onChange:i,autoComplete:"email",placeholder:"m.curie@proton.me",className:"input input-md validator w-full"})]}),b.jsx("button",{type:"submit",className:"btn btn-neutral",disabled:t>0,children:t>0?"Logging in...":"Login"})]})}function jK(){const t=Be(c=>c.user),[e,n]=A.useState(0),[r,i]=A.useState(!1),s=()=>i(c=>!c);UA(t!==!0);const l=async()=>{await Pj(),window.location.pathname="/app/"};return e===2?b.jsx("center",{children:"Check your email"}):b.jsx("div",{className:"hero",children:b.jsxs("div",{className:"hero-content flex-col gap-16 lg:flex-row",children:[b.jsxs("div",{className:"w-full max-w-sm shrink-0",children:[b.jsx("h2",{className:"mb-6 text-center font-bold text-3xl",children:"Log in to get started"}),b.jsx("div",{className:"card bg-base-100 shadow-2xs",children:b.jsx("div",{className:"shine",children:b.jsxs("div",{className:"card-body",children:[b.jsx("fieldset",{className:"fieldset mb-3 rounded-box border border-base-300 bg-base-200 p-4",children:b.jsxs("label",{className:"label gap-4",children:[b.jsx("input",{type:"checkbox",className:"checkbox validator bg-base-100",required:!0,title:"Required",checked:r,onChange:s}),b.jsxs("p",{className:"whitespace-normal",children:["To proceed confirm you have read and agree to the"," ",b.jsx("a",{href:"/terms/",target:"_blank",rel:"noopener",className:"link",children:"Terms of Service"})," ","and"," ",b.jsx("a",{href:"/privacy/",target:"_blank",rel:"noopener",className:"link",children:"Privacy Policy"}),"."]})]})}),b.jsxs("fieldset",{className:"fieldset gap-2",disabled:!r,children:[b.jsx("legend",{className:"fieldset-legend mb-0.5 p-0 text-center",children:"Login with a confirmation link"}),b.jsx(LK,{login:e,setLogin:n}),b.jsx("div",{className:"divider",children:"OR"}),b.jsxs("button",{type:"button",onClick:l,className:`btn btn-neutral ${e===2?"disabled":""}`,children:[b.jsxs("svg",{"aria-label":"Google logo",width:"16",height:"16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"logo",children:[b.jsx("path",{fill:"#34a853",d:"M153 292c30 82 118 95 171 60h62v48A192 192 0 0190 341"}),b.jsx("path",{fill:"#4285f4",d:"m386 400a140 175 0 0053-179H260v74h102q-7 37-38 57"}),b.jsx("path",{fill:"#fbbc02",d:"m90 341a208 200 0 010-171l63 49q-12 37 0 73"}),b.jsx("path",{fill:"#ea4335",d:"m153 219c22-69 116-109 179-50l55-54c-78-75-230-72-297 55"})]}),"Login with Google"]})]})]})})})]}),b.jsxs("div",{className:"max-w-xl lg:w-full lg:pt-12",children:[b.jsx("p",{className:"my-4",children:"You've poured your heart and soul into building something special..."}),b.jsx("p",{className:"my-4",children:"Now, it's time to take that passion beyond your neighborhood and give it the spotlight it deserves. Imagine a professional online storefront that's always open: an online presence that adds scale & power to your vision."}),b.jsxs("ul",{className:"steps steps-vertical login-steps",children:[b.jsx("li",{className:"step step-neutral step-primary",children:"Register in 6 clicks, no credit card needed"}),b.jsx("li",{className:"step step-neutral",children:b.jsxs("span",{children:["Choose a plan ",b.jsx("span",{className:"badge badge-sm badge-outline font-medium",children:"from 0/year"})]})}),b.jsx("li",{className:"step step-neutral",children:"Select a domain name or bring yours for free"}),b.jsx("li",{className:"step step-neutral",children:"Start editing you own website"})]})]})]})})}const Ba=b.jsx(n7,{}),uc=b.jsx(X9,{}),bv=b.jsx(Z1,{className:"animate-spin"}),PK=()=>{const t=Be(c=>c.pid),e=Be(c=>c.sid),n=Be(c=>c.config),r=Be(c=>c.status),i=Be(c=>c.pageDiff),s=Be(c=>c.updatingPage),l=A.useMemo(()=>n.pages.length>1||n.pages[0].content!=="",[n]);return b.jsxs("ul",{className:"menu menu-md justify-evenly rounded-box bg-base-100 shadow",children:[b.jsx("li",{children:b.jsxs("button",{type:"button",children:[r?uc:Ba," Domain name is configured"]})}),b.jsx("li",{children:b.jsxs("button",{type:"button",children:[r>=et.NS_DONE?uc:r?bv:Ba," Domain records are propagated"]})}),b.jsx("li",{children:b.jsxs("button",{type:"button",children:[r>=et.PID_OLD?uc:r>=et.DOMAIN_POLL?bv:Ba," Domain is active & publicly available"]})}),b.jsx("li",{children:b.jsxs("button",{type:"button",children:[l?s===""?uc:bv:Ba," All changes are saved locally"]})}),b.jsx("li",{children:b.jsxs("button",{type:"button",children:[l&&!i.length&&e?uc:Ba," All changes are uploaded to cloud"]})}),b.jsx("li",{children:b.jsxs("button",{type:"button",children:[t===er.INIT||i.length?Ba:uc," All changes are published"]})})]})};let oR=null;class aR{}aR.render=function(t,e){oR(t,e)};self.QrCreator=aR;(function(t){function e(c,d,f,p){var m={},v=t(f,d);v.u(c),v.J(),p=p||0;var w=v.h(),x=v.h()+2*p;return m.text=c,m.level=d,m.version=f,m.O=x,m.a=function(E,C){return E-=p,C-=p,0>E||E>=w||0>C||C>=w?!1:v.a(E,C)},m}function n(c,d,f,p,m,v,w,x,E,C){function O(I,j,U,P,L,_,M){I?(c.lineTo(j+_,U+M),c.arcTo(j,U,P,L,v)):c.lineTo(j,U)}w?c.moveTo(d+v,f):c.moveTo(d,f),O(x,p,f,p,m,-v,0),O(E,p,m,d,m,0,-v),O(C,d,m,d,f,v,0),O(w,d,f,p,f,0,v)}function r(c,d,f,p,m,v,w,x,E,C){function O(I,j,U,P){c.moveTo(I+U,j),c.lineTo(I,j),c.lineTo(I,j+P),c.arcTo(I,j,I+U,j,v)}w&&O(d,f,v,v),x&&O(p,f,-v,v),E&&O(p,m,-v,-v),C&&O(d,m,v,-v)}function i(c,d){var f=d.fill;if(typeof f=="string")c.fillStyle=f;else{var p=f.type,m=f.colorStops;if(f=f.position.map(w=>Math.round(w*d.size)),p==="linear-gradient")var v=c.createLinearGradient.apply(c,f);else if(p==="radial-gradient")v=c.createRadialGradient.apply(c,f);else throw Error("Unsupported fill");m.forEach(([w,x])=>{v.addColorStop(w,x)}),c.fillStyle=v}}function s(c,d){e:{var f=d.text,p=d.v,m=d.N,v=d.K,w=d.P;for(m=Math.max(1,m||1),v=Math.min(40,v||40);m<=v;m+=1)try{var x=e(f,p,m,w);break e}catch{}x=void 0}if(!x)return null;for(f=c.getContext("2d"),d.background&&(f.fillStyle=d.background,f.fillRect(d.left,d.top,d.size,d.size)),p=x.O,v=d.size/p,f.beginPath(),w=0;w<p;w+=1)for(m=0;m<p;m+=1){var E=f,C=d.left+m*v,O=d.top+w*v,I=w,j=m,U=x.a,P=C+v,L=O+v,_=I-1,M=I+1,D=j-1,R=j+1,V=Math.floor(Math.min(.5,Math.max(0,d.R))*v),q=U(I,j),H=U(_,D),ye=U(_,j);_=U(_,R);var ge=U(I,R);R=U(M,R),j=U(M,j),M=U(M,D),I=U(I,D),C=Math.round(C),O=Math.round(O),P=Math.round(P),L=Math.round(L),q?n(E,C,O,P,L,V,!ye&&!I,!ye&&!ge,!j&&!ge,!j&&!I):r(E,C,O,P,L,V,ye&&I&&H,ye&&ge&&_,j&&ge&&R,j&&I&&M)}return i(f,d),f.fill(),c}var l={minVersion:1,maxVersion:40,ecLevel:"L",left:0,top:0,size:200,fill:"#000",background:null,text:"no text",radius:.5,quiet:0};oR=function(c,d){var f={};Object.assign(f,l,c),f.N=f.minVersion,f.K=f.maxVersion,f.v=f.ecLevel,f.left=f.left,f.top=f.top,f.size=f.size,f.fill=f.fill,f.background=f.background,f.text=f.text,f.R=f.radius,f.P=f.quiet,d instanceof HTMLCanvasElement?((d.width!==f.size||d.height!==f.size)&&(d.width=f.size,d.height=f.size),d.getContext("2d").clearRect(0,0,d.width,d.height),s(d,f)):(c=document.createElement("canvas"),c.width=f.size,c.height=f.size,f=s(c,f),d.appendChild(f))}})((function(){function t(d){var f=n.s(d);return{S:function(){return 4},b:function(){return f.length},write:function(p){for(var m=0;m<f.length;m+=1)p.put(f[m],8)}}}function e(){var d=[],f=0,p={B:function(){return d},c:function(m){return(d[Math.floor(m/8)]>>>7-m%8&1)==1},put:function(m,v){for(var w=0;w<v;w+=1)p.m((m>>>v-w-1&1)==1)},f:function(){return f},m:function(m){var v=Math.floor(f/8);d.length<=v&&d.push(0),m&&(d[v]|=128>>>f%8),f+=1}};return p}function n(d,f){function p(I,j){for(var U=-1;7>=U;U+=1)if(!(-1>=I+U||x<=I+U))for(var P=-1;7>=P;P+=1)-1>=j+P||x<=j+P||(w[I+U][j+P]=0<=U&&6>=U&&(P==0||P==6)||0<=P&&6>=P&&(U==0||U==6)||2<=U&&4>=U&&2<=P&&4>=P)}function m(I,j){for(var U=x=4*d+17,P=Array(U),L=0;L<U;L+=1){P[L]=Array(U);for(var _=0;_<U;_+=1)P[L][_]=null}for(w=P,p(0,0),p(x-7,0),p(0,x-7),U=s.G(d),P=0;P<U.length;P+=1)for(L=0;L<U.length;L+=1){_=U[P];var M=U[L];if(w[_][M]==null)for(var D=-2;2>=D;D+=1)for(var R=-2;2>=R;R+=1)w[_+D][M+R]=D==-2||D==2||R==-2||R==2||D==0&&R==0}for(U=8;U<x-8;U+=1)w[U][6]==null&&(w[U][6]=U%2==0);for(U=8;U<x-8;U+=1)w[6][U]==null&&(w[6][U]=U%2==0);for(U=s.w(v<<3|j),P=0;15>P;P+=1)L=!I&&(U>>P&1)==1,w[6>P?P:8>P?P+1:x-15+P][8]=L,w[8][8>P?x-P-1:9>P?15-P:14-P]=L;if(w[x-8][8]=!I,7<=d){for(U=s.A(d),P=0;18>P;P+=1)L=!I&&(U>>P&1)==1,w[Math.floor(P/3)][P%3+x-8-3]=L;for(P=0;18>P;P+=1)L=!I&&(U>>P&1)==1,w[P%3+x-8-3][Math.floor(P/3)]=L}if(E==null){for(I=c.I(d,v),U=e(),P=0;P<C.length;P+=1)L=C[P],U.put(4,4),U.put(L.b(),s.f(4,d)),L.write(U);for(P=L=0;P<I.length;P+=1)L+=I[P].j;if(U.f()>8*L)throw Error("code length overflow. ("+U.f()+">"+8*L+")");for(U.f()+4<=8*L&&U.put(0,4);U.f()%8!=0;)U.m(!1);for(;!(U.f()>=8*L)&&(U.put(236,8),!(U.f()>=8*L));)U.put(17,8);var V=0;for(L=P=0,_=Array(I.length),M=Array(I.length),D=0;D<I.length;D+=1){var q=I[D].j,H=I[D].o-q;for(P=Math.max(P,q),L=Math.max(L,H),_[D]=Array(q),R=0;R<_[D].length;R+=1)_[D][R]=255&U.B()[R+V];for(V+=q,R=s.C(H),q=r(_[D],R.b()-1).l(R),M[D]=Array(R.b()-1),R=0;R<M[D].length;R+=1)H=R+q.b()-M[D].length,M[D][R]=0<=H?q.c(H):0}for(R=U=0;R<I.length;R+=1)U+=I[R].o;for(U=Array(U),R=V=0;R<P;R+=1)for(D=0;D<I.length;D+=1)R<_[D].length&&(U[V]=_[D][R],V+=1);for(R=0;R<L;R+=1)for(D=0;D<I.length;D+=1)R<M[D].length&&(U[V]=M[D][R],V+=1);E=U}for(I=E,U=-1,P=x-1,L=7,_=0,j=s.F(j),M=x-1;0<M;M-=2)for(M==6&&--M;;){for(D=0;2>D;D+=1)w[P][M-D]==null&&(R=!1,_<I.length&&(R=(I[_]>>>L&1)==1),j(P,M-D)&&(R=!R),w[P][M-D]=R,--L,L==-1&&(_+=1,L=7));if(P+=U,0>P||x<=P){P-=U,U=-U;break}}}var v=i[f],w=null,x=0,E=null,C=[],O={u:function(I){I=t(I),C.push(I),E=null},a:function(I,j){if(0>I||x<=I||0>j||x<=j)throw Error(I+","+j);return w[I][j]},h:function(){return x},J:function(){for(var I=0,j=0,U=0;8>U;U+=1){m(!0,U);var P=s.D(O);(U==0||I>P)&&(I=P,j=U)}m(!1,j)}};return O}function r(d,f){if(typeof d.length>"u")throw Error(d.length+"/"+f);var p=(function(){for(var v=0;v<d.length&&d[v]==0;)v+=1;for(var w=Array(d.length-v+f),x=0;x<d.length-v;x+=1)w[x]=d[x+v];return w})(),m={c:function(v){return p[v]},b:function(){return p.length},multiply:function(v){for(var w=Array(m.b()+v.b()-1),x=0;x<m.b();x+=1)for(var E=0;E<v.b();E+=1)w[x+E]^=l.i(l.g(m.c(x))+l.g(v.c(E)));return r(w,0)},l:function(v){if(0>m.b()-v.b())return m;for(var w=l.g(m.c(0))-l.g(v.c(0)),x=Array(m.b()),E=0;E<m.b();E+=1)x[E]=m.c(E);for(E=0;E<v.b();E+=1)x[E]^=l.i(l.g(v.c(E))+w);return r(x,0).l(v)}};return m}n.s=function(d){for(var f=[],p=0;p<d.length;p++){var m=d.charCodeAt(p);128>m?f.push(m):2048>m?f.push(192|m>>6,128|m&63):55296>m||57344<=m?f.push(224|m>>12,128|m>>6&63,128|m&63):(p++,m=65536+((m&1023)<<10|d.charCodeAt(p)&1023),f.push(240|m>>18,128|m>>12&63,128|m>>6&63,128|m&63))}return f};var i={L:1,M:0,Q:3,H:2},s=(function(){function d(m){for(var v=0;m!=0;)v+=1,m>>>=1;return v}var f=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],p={w:function(m){for(var v=m<<10;0<=d(v)-d(1335);)v^=1335<<d(v)-d(1335);return(m<<10|v)^21522},A:function(m){for(var v=m<<12;0<=d(v)-d(7973);)v^=7973<<d(v)-d(7973);return m<<12|v},G:function(m){return f[m-1]},F:function(m){switch(m){case 0:return function(v,w){return(v+w)%2==0};case 1:return function(v){return v%2==0};case 2:return function(v,w){return w%3==0};case 3:return function(v,w){return(v+w)%3==0};case 4:return function(v,w){return(Math.floor(v/2)+Math.floor(w/3))%2==0};case 5:return function(v,w){return v*w%2+v*w%3==0};case 6:return function(v,w){return(v*w%2+v*w%3)%2==0};case 7:return function(v,w){return(v*w%3+(v+w)%2)%2==0};default:throw Error("bad maskPattern:"+m)}},C:function(m){for(var v=r([1],0),w=0;w<m;w+=1)v=v.multiply(r([1,l.i(w)],0));return v},f:function(m,v){if(m!=4||1>v||40<v)throw Error("mode: "+m+"; type: "+v);return 10>v?8:16},D:function(m){for(var v=m.h(),w=0,x=0;x<v;x+=1)for(var E=0;E<v;E+=1){for(var C=0,O=m.a(x,E),I=-1;1>=I;I+=1)if(!(0>x+I||v<=x+I))for(var j=-1;1>=j;j+=1)0>E+j||v<=E+j||(I!=0||j!=0)&&O==m.a(x+I,E+j)&&(C+=1);5<C&&(w+=3+C-5)}for(x=0;x<v-1;x+=1)for(E=0;E<v-1;E+=1)C=0,m.a(x,E)&&(C+=1),m.a(x+1,E)&&(C+=1),m.a(x,E+1)&&(C+=1),m.a(x+1,E+1)&&(C+=1),(C==0||C==4)&&(w+=3);for(x=0;x<v;x+=1)for(E=0;E<v-6;E+=1)m.a(x,E)&&!m.a(x,E+1)&&m.a(x,E+2)&&m.a(x,E+3)&&m.a(x,E+4)&&!m.a(x,E+5)&&m.a(x,E+6)&&(w+=40);for(E=0;E<v;E+=1)for(x=0;x<v-6;x+=1)m.a(x,E)&&!m.a(x+1,E)&&m.a(x+2,E)&&m.a(x+3,E)&&m.a(x+4,E)&&!m.a(x+5,E)&&m.a(x+6,E)&&(w+=40);for(E=C=0;E<v;E+=1)for(x=0;x<v;x+=1)m.a(x,E)&&(C+=1);return w+=Math.abs(100*C/v/v-50)/5*10}};return p})(),l=(function(){for(var d=Array(256),f=Array(256),p=0;8>p;p+=1)d[p]=1<<p;for(p=8;256>p;p+=1)d[p]=d[p-4]^d[p-5]^d[p-6]^d[p-8];for(p=0;255>p;p+=1)f[d[p]]=p;return{g:function(m){if(1>m)throw Error("glog("+m+")");return f[m]},i:function(m){for(;0>m;)m+=255;for(;256<=m;)m-=255;return d[m]}}})(),c=(function(){function d(m,v){switch(v){case i.L:return f[4*(m-1)];case i.M:return f[4*(m-1)+1];case i.Q:return f[4*(m-1)+2];case i.H:return f[4*(m-1)+3]}}var f=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],p={I:function(m,v){var w=d(m,v);if(typeof w>"u")throw Error("bad rs block @ typeNumber:"+m+"/errorCorrectLevel:"+v);m=w.length/3,v=[];for(var x=0;x<m;x+=1)for(var E=w[3*x],C=w[3*x+1],O=w[3*x+2],I=0;I<E;I+=1){var j=O,U={};U.o=C,U.j=j,v.push(U)}return v}};return p})();return n})());const zK=QrCreator,UK=(t,e)=>{t.length&&e&&e.childElementCount===0&&zK.render({text:t,radius:0,ecLevel:"M",fill:"#ffffff",background:null,size:200},e)},BK=()=>{const t=A.useRef(null),e=Be(s=>s.sid),n=Be(s=>s.pid),r=Be(s=>s.domain),i=Be(s=>s.config);return A.useEffect(()=>UK(r,t.current),[r]),b.jsxs("div",{className:"gap flex flex-col",children:[b.jsxs("div",{className:"gap flex flex-row",children:[b.jsxs("div",{className:"gap flex grow flex-col",children:[b.jsxs("div",{className:"gap flex flex-row",children:[b.jsx("div",{className:"card grow rounded-box bg-base-100 p-6 shadow",children:r?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"mx-auto font-bold text-2xl",children:"Your domain is set:"}),b.jsx("a",{href:`https://${r}/`,target:"_blank",className:"example link mx-auto w-fit font-semibold text-xl",children:`https://${r}/`})]}):b.jsx("div",{className:"mx-auto font-bold text-2xl",children:"Set up your domain"})}),r?b.jsx("output",{ref:t,className:"rounded-box p-1.5 shadow"}):null]}),b.jsxs("div",{className:"gap flex flex-row",children:[b.jsxs("div",{className:"card grow rounded-box bg-base-100 px-8 py-4 text-center shadow",children:[b.jsx("div",{className:"stat-title",children:"Last sync with cloud"}),b.jsx("div",{className:"stat-value",children:X2(yc(e))||"Not yet"}),b.jsx("div",{className:"stat-desc",children:Y2(yc(e))||""})]}),b.jsxs("div",{className:"card grow rounded-box bg-base-100 px-8 py-4 text-center shadow",children:[b.jsx("div",{className:"stat-title",children:"Last website publication"}),b.jsx("div",{className:"stat-value",children:X2(yc(n))||"Not yet"}),b.jsx("div",{className:"stat-desc",children:Y2(yc(n))||""})]})]})]}),b.jsx(PK,{})]}),b.jsxs("div",{className:"stats w-full bg-base-100 shadow",children:[b.jsxs("div",{className:"stat",children:[b.jsx("div",{className:"stat-figure text-primary",children:b.jsx(QP,{className:"size-10"})}),b.jsx("div",{className:"stat-title",children:"Created Pages"}),b.jsx("div",{className:"stat-value text-primary",children:i.pages.length}),b.jsx("div",{className:"stat-actions",children:b.jsx("a",{href:"/app/edit/",className:"btn btn-xs",children:"Add or edit pages"})})]}),b.jsxs("div",{className:"stat",children:[b.jsx("div",{className:"stat-figure",children:b.jsx(Jk,{className:"size-10"})}),b.jsx("div",{className:"stat-title",children:"Uploaded Images"}),b.jsx("div",{className:"stat-value",children:3}),b.jsx("div",{className:"stat-desc",children:"Overview is coming soon"})]}),b.jsxs("div",{className:"stat",children:[b.jsx("div",{className:"stat-figure",children:b.jsx(XP,{className:"size-10"})}),b.jsx("div",{className:"stat-title",children:"Uploaded Files"}),b.jsx("div",{className:"stat-value",children:0}),b.jsx("div",{className:"stat-desc",children:"Overview is coming soon"})]}),b.jsxs("div",{className:"stat",children:[b.jsx("div",{className:"stat-figure",children:b.jsx(f7,{className:"size-10"})}),b.jsx("div",{className:"stat-title",children:"Selected Fonts"}),b.jsx("div",{className:"stat-value",children:Object.keys(i.fonts).length}),b.jsx("div",{className:"stat-actions",children:b.jsx("a",{href:"/app/fonts/",className:"btn btn-xs",children:"Edit selected fonts"})})]})]})]})};function HK(){return Be(e=>e.user)?b.jsx(BK,{}):b.jsx(jK,{})}const pA=[{path:"select",Component:T7,index:!0},{path:"config",Component:v7},{path:"check",Component:g7},{path:"done",Component:b7}],VK=[{path:"app",lazy:{loader:async()=>(await Ph(async()=>{const{init:t}=await import("./initApplication-C9T7qVa0.js");return{init:t}},[])).init,Component:async()=>(await Ph(async()=>{const{App:t}=await import("./App-CBqlgTp0.js");return{App:t}},[])).App},shouldRevalidate:t=>{const{user:e}=Be.getState();return e!==!0||t.defaultShouldRevalidate},HydrateFallback:KA,children:[{index:!0,Component:HK},{path:"domain",lazy:{loader:async()=>(await Ph(async()=>{const{domainStep:t}=await import("./domainSteps-wtfT_rEc.js");return{domainStep:t}},[])).domainStep(pA),Component:async()=>(await Ph(async()=>{const{Domain:t}=await import("./Domain-CjNkK8-j.js");return{Domain:t}},__vite__mapDeps([0,1]))).Domain},shouldRevalidate:t=>t.defaultShouldRevalidate,action:async()=>(await new Promise(t=>t),!0),children:pA},{path:"edit",Component:xK},{path:"feed",Component:CK},{path:"files",Component:_K},{path:"style",Component:cT},{path:"fonts",Component:DK},{path:"script",Component:cT},{path:"layout",Component:IK}]},{path:"*",loader:()=>gD("/app/")}],mA=document.body.firstElementChild;mA&&V4.createRoot(mA).render(b.jsx(A.StrictMode,{children:b.jsx(A.Suspense,{fallback:b.jsx(fP,{}),children:b.jsx(dP,{children:b.jsx(p3,{router:B3(VK)})})})}));export{Pm as A,XP as F,M1 as H,hp as N,GK as O,er as P,_t as R,et as S,zn as T,A as _,zj as a,f7 as b,Me as c,XK as d,$K as e,fP as f,$m as g,FK as h,qK as i,b as j,XD as k,YK as l,UA as m,gD as r,KK as s,Be as u};
