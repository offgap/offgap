const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Domain-DVx2Vx7K.js","assets/domainSteps-Bm33M_O0.js"])))=>i.map(i=>d[i]);
function vD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function f1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var i0={exports:{}},Fu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ox;function bD(){if(ox)return Fu;ox=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var c in i)c!=="key"&&(o[c]=i[c])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:o}}return Fu.Fragment=e,Fu.jsx=n,Fu.jsxs=n,Fu}var ax;function SD(){return ax||(ax=1,i0.exports=bD()),i0.exports}var x=SD(),s0={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lx;function wD(){if(lx)return qe;lx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function v($){return $===null||typeof $!="object"?null:($=y&&$[y]||$["@@iterator"],typeof $=="function"?$:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,T={};function A($,ie,he){this.props=$,this.context=ie,this.refs=T,this.updater=he||S}A.prototype.isReactComponent={},A.prototype.setState=function($,ie){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,ie,"setState")},A.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function N(){}N.prototype=A.prototype;function L($,ie,he){this.props=$,this.context=ie,this.refs=T,this.updater=he||S}var U=L.prototype=new N;U.constructor=L,w(U,A.prototype),U.isPureReactComponent=!0;var K=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function _($,ie,he,fe,we,Ve){return he=Ve.ref,{$$typeof:t,type:$,key:ie,ref:he!==void 0?he:null,props:Ve}}function O($,ie){return _($.type,ie,void 0,void 0,void 0,$.props)}function I($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function R($){var ie={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(he){return ie[he]})}var B=/\/+/g;function q($,ie){return typeof $=="object"&&$!==null&&$.key!=null?R(""+$.key):ie.toString(36)}function z(){}function ve($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(z,z):($.status="pending",$.then(function(ie){$.status==="pending"&&($.status="fulfilled",$.value=ie)},function(ie){$.status==="pending"&&($.status="rejected",$.reason=ie)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function ge($,ie,he,fe,we){var Ve=typeof $;(Ve==="undefined"||Ve==="boolean")&&($=null);var De=!1;if($===null)De=!0;else switch(Ve){case"bigint":case"string":case"number":De=!0;break;case"object":switch($.$$typeof){case t:case e:De=!0;break;case p:return De=$._init,ge(De($._payload),ie,he,fe,we)}}if(De)return we=we($),De=fe===""?"."+q($,0):fe,K(we)?(he="",De!=null&&(he=De.replace(B,"$&/")+"/"),ge(we,ie,he,"",function($n){return $n})):we!=null&&(I(we)&&(we=O(we,he+(we.key==null||$&&$.key===we.key?"":(""+we.key).replace(B,"$&/")+"/")+De)),ie.push(we)),1;De=0;var Mt=fe===""?".":fe+":";if(K($))for(var at=0;at<$.length;at++)fe=$[at],Ve=Mt+q(fe,at),De+=ge(fe,ie,he,Ve,we);else if(at=v($),typeof at=="function")for($=at.call($),at=0;!(fe=$.next()).done;)fe=fe.value,Ve=Mt+q(fe,at++),De+=ge(fe,ie,he,Ve,we);else if(Ve==="object"){if(typeof $.then=="function")return ge(ve($),ie,he,fe,we);throw ie=String($),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return De}function G($,ie,he){if($==null)return $;var fe=[],we=0;return ge($,fe,"","",function(Ve){return ie.call(he,Ve,we++)}),fe}function oe($){if($._status===-1){var ie=$._result;ie=ie(),ie.then(function(he){($._status===0||$._status===-1)&&($._status=1,$._result=he)},function(he){($._status===0||$._status===-1)&&($._status=2,$._result=he)}),$._status===-1&&($._status=0,$._result=ie)}if($._status===1)return $._result.default;throw $._result}var ce=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)};function Te(){}return qe.Children={map:G,forEach:function($,ie,he){G($,function(){ie.apply(this,arguments)},he)},count:function($){var ie=0;return G($,function(){ie++}),ie},toArray:function($){return G($,function(ie){return ie})||[]},only:function($){if(!I($))throw Error("React.Children.only expected to receive a single React element child.");return $}},qe.Component=A,qe.Fragment=n,qe.Profiler=i,qe.PureComponent=L,qe.StrictMode=r,qe.Suspense=f,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,qe.__COMPILER_RUNTIME={__proto__:null,c:function($){return H.H.useMemoCache($)}},qe.cache=function($){return function(){return $.apply(null,arguments)}},qe.cloneElement=function($,ie,he){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var fe=w({},$.props),we=$.key,Ve=void 0;if(ie!=null)for(De in ie.ref!==void 0&&(Ve=void 0),ie.key!==void 0&&(we=""+ie.key),ie)!j.call(ie,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&ie.ref===void 0||(fe[De]=ie[De]);var De=arguments.length-2;if(De===1)fe.children=he;else if(1<De){for(var Mt=Array(De),at=0;at<De;at++)Mt[at]=arguments[at+2];fe.children=Mt}return _($.type,we,void 0,void 0,Ve,fe)},qe.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:o,_context:$},$},qe.createElement=function($,ie,he){var fe,we={},Ve=null;if(ie!=null)for(fe in ie.key!==void 0&&(Ve=""+ie.key),ie)j.call(ie,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(we[fe]=ie[fe]);var De=arguments.length-2;if(De===1)we.children=he;else if(1<De){for(var Mt=Array(De),at=0;at<De;at++)Mt[at]=arguments[at+2];we.children=Mt}if($&&$.defaultProps)for(fe in De=$.defaultProps,De)we[fe]===void 0&&(we[fe]=De[fe]);return _($,Ve,void 0,void 0,null,we)},qe.createRef=function(){return{current:null}},qe.forwardRef=function($){return{$$typeof:c,render:$}},qe.isValidElement=I,qe.lazy=function($){return{$$typeof:p,_payload:{_status:-1,_result:$},_init:oe}},qe.memo=function($,ie){return{$$typeof:h,type:$,compare:ie===void 0?null:ie}},qe.startTransition=function($){var ie=H.T,he={};H.T=he;try{var fe=$(),we=H.S;we!==null&&we(he,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(Te,ce)}catch(Ve){ce(Ve)}finally{H.T=ie}},qe.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},qe.use=function($){return H.H.use($)},qe.useActionState=function($,ie,he){return H.H.useActionState($,ie,he)},qe.useCallback=function($,ie){return H.H.useCallback($,ie)},qe.useContext=function($){return H.H.useContext($)},qe.useDebugValue=function(){},qe.useDeferredValue=function($,ie){return H.H.useDeferredValue($,ie)},qe.useEffect=function($,ie,he){var fe=H.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return fe.useEffect($,ie)},qe.useId=function(){return H.H.useId()},qe.useImperativeHandle=function($,ie,he){return H.H.useImperativeHandle($,ie,he)},qe.useInsertionEffect=function($,ie){return H.H.useInsertionEffect($,ie)},qe.useLayoutEffect=function($,ie){return H.H.useLayoutEffect($,ie)},qe.useMemo=function($,ie){return H.H.useMemo($,ie)},qe.useOptimistic=function($,ie){return H.H.useOptimistic($,ie)},qe.useReducer=function($,ie,he){return H.H.useReducer($,ie,he)},qe.useRef=function($){return H.H.useRef($)},qe.useState=function($){return H.H.useState($)},qe.useSyncExternalStore=function($,ie,he){return H.H.useSyncExternalStore($,ie,he)},qe.useTransition=function(){return H.H.useTransition()},qe.version="19.1.1",qe}var cx;function $f(){return cx||(cx=1,s0.exports=wD()),s0.exports}var k=$f();const _t=f1(k),tA=vD({__proto__:null,default:_t},[k]);var o0={exports:{}},qu={},a0={exports:{}},l0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ux;function ED(){return ux||(ux=1,(function(t){function e(G,oe){var ce=G.length;G.push(oe);e:for(;0<ce;){var Te=ce-1>>>1,$=G[Te];if(0<i($,oe))G[Te]=oe,G[ce]=$,ce=Te;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var oe=G[0],ce=G.pop();if(ce!==oe){G[0]=ce;e:for(var Te=0,$=G.length,ie=$>>>1;Te<ie;){var he=2*(Te+1)-1,fe=G[he],we=he+1,Ve=G[we];if(0>i(fe,ce))we<$&&0>i(Ve,fe)?(G[Te]=Ve,G[we]=ce,Te=we):(G[Te]=fe,G[he]=ce,Te=he);else if(we<$&&0>i(Ve,ce))G[Te]=Ve,G[we]=ce,Te=we;else break e}}return oe}function i(G,oe){var ce=G.sortIndex-oe.sortIndex;return ce!==0?ce:G.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],h=[],p=1,y=null,v=3,S=!1,w=!1,T=!1,A=!1,N=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function K(G){for(var oe=n(h);oe!==null;){if(oe.callback===null)r(h);else if(oe.startTime<=G)r(h),oe.sortIndex=oe.expirationTime,e(f,oe);else break;oe=n(h)}}function H(G){if(T=!1,K(G),!w)if(n(f)!==null)w=!0,j||(j=!0,q());else{var oe=n(h);oe!==null&&ge(H,oe.startTime-G)}}var j=!1,_=-1,O=5,I=-1;function R(){return A?!0:!(t.unstable_now()-I<O)}function B(){if(A=!1,j){var G=t.unstable_now();I=G;var oe=!0;try{e:{w=!1,T&&(T=!1,L(_),_=-1),S=!0;var ce=v;try{t:{for(K(G),y=n(f);y!==null&&!(y.expirationTime>G&&R());){var Te=y.callback;if(typeof Te=="function"){y.callback=null,v=y.priorityLevel;var $=Te(y.expirationTime<=G);if(G=t.unstable_now(),typeof $=="function"){y.callback=$,K(G),oe=!0;break t}y===n(f)&&r(f),K(G)}else r(f);y=n(f)}if(y!==null)oe=!0;else{var ie=n(h);ie!==null&&ge(H,ie.startTime-G),oe=!1}}break e}finally{y=null,v=ce,S=!1}oe=void 0}}finally{oe?q():j=!1}}}var q;if(typeof U=="function")q=function(){U(B)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ve=z.port2;z.port1.onmessage=B,q=function(){ve.postMessage(null)}}else q=function(){N(B,0)};function ge(G,oe){_=N(function(){G(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(G){switch(v){case 1:case 2:case 3:var oe=3;break;default:oe=v}var ce=v;v=oe;try{return G()}finally{v=ce}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(G,oe){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ce=v;v=G;try{return oe()}finally{v=ce}},t.unstable_scheduleCallback=function(G,oe,ce){var Te=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Te+ce:Te):ce=Te,G){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=ce+$,G={id:p++,callback:oe,priorityLevel:G,startTime:ce,expirationTime:$,sortIndex:-1},ce>Te?(G.sortIndex=ce,e(h,G),n(f)===null&&G===n(h)&&(T?(L(_),_=-1):T=!0,ge(H,ce-Te))):(G.sortIndex=$,e(f,G),w||S||(w=!0,j||(j=!0,q()))),G},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(G){var oe=v;return function(){var ce=v;v=oe;try{return G.apply(this,arguments)}finally{v=ce}}}})(l0)),l0}var fx;function xD(){return fx||(fx=1,a0.exports=ED()),a0.exports}var c0={exports:{}},Cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dx;function TD(){if(dx)return Cn;dx=1;var t=$f();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,h,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:f,containerInfo:h,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Cn.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(f,h,null,p)},Cn.flushSync=function(f){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=p,r.d.f()}},Cn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},Cn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Cn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,y=c(p,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,S=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:S}):p==="script"&&r.d.X(f,{crossOrigin:y,integrity:v,fetchPriority:S,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Cn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=c(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},Cn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,y=c(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Cn.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=c(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},Cn.requestFormReset=function(f){r.d.r(f)},Cn.unstable_batchedUpdates=function(f,h){return f(h)},Cn.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},Cn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Cn.version="19.1.1",Cn}var hx;function nA(){if(hx)return c0.exports;hx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),c0.exports=TD(),c0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var px;function CD(){if(px)return qu;px=1;var t=xD(),e=$f(),n=nA();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function l(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function c(s){if(o(s)!==s)throw Error(r(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(r(188));return a!==s?null:s}for(var u=s,d=a;;){var g=u.return;if(g===null)break;var b=g.alternate;if(b===null){if(d=g.return,d!==null){u=d;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===u)return c(g),s;if(b===d)return c(g),a;b=b.sibling}throw Error(r(188))}if(u.return!==d.return)u=g,d=b;else{for(var M=!1,D=g.child;D;){if(D===u){M=!0,u=g,d=b;break}if(D===d){M=!0,d=g,u=b;break}D=D.sibling}if(!M){for(D=b.child;D;){if(D===u){M=!0,u=b,d=g;break}if(D===d){M=!0,d=b,u=g;break}D=D.sibling}if(!M)throw Error(r(189))}}if(u.alternate!==d)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:a}function h(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=h(s),a!==null)return a;s=s.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),U=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function q(s){return s===null||typeof s!="object"?null:(s=B&&s[B]||s["@@iterator"],typeof s=="function"?s:null)}var z=Symbol.for("react.client.reference");function ve(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===z?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case A:return"Profiler";case T:return"StrictMode";case H:return"Suspense";case j:return"SuspenseList";case I:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case U:return(s.displayName||"Context")+".Provider";case L:return(s._context.displayName||"Context")+".Consumer";case K:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case _:return a=s.displayName||null,a!==null?a:ve(s.type)||"Memo";case O:a=s._payload,s=s._init;try{return ve(s(a))}catch{}}return null}var ge=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Te=[],$=-1;function ie(s){return{current:s}}function he(s){0>$||(s.current=Te[$],Te[$]=null,$--)}function fe(s,a){$++,Te[$]=s.current,s.current=a}var we=ie(null),Ve=ie(null),De=ie(null),Mt=ie(null);function at(s,a){switch(fe(De,a),fe(Ve,s),fe(we,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?IE(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=IE(a),s=LE(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}he(we),fe(we,s)}function $n(){he(we),he(Ve),he(De)}function Ct(s){s.memoizedState!==null&&fe(Mt,s);var a=we.current,u=LE(a,s.type);a!==u&&(fe(Ve,s),fe(we,u))}function rn(s){Ve.current===s&&(he(we),he(Ve)),Mt.current===s&&(he(Mt),Uu._currentValue=ce)}var wr=Object.prototype.hasOwnProperty,Fn=t.unstable_scheduleCallback,_n=t.unstable_cancelCallback,fa=t.unstable_shouldYield,yl=t.unstable_requestPaint,Rn=t.unstable_now,Gc=t.unstable_getCurrentPriorityLevel,da=t.unstable_ImmediatePriority,Vs=t.unstable_UserBlockingPriority,Gi=t.unstable_NormalPriority,Gr=t.unstable_LowPriority,Er=t.unstable_IdlePriority,$s=t.log,Fs=t.unstable_setDisableYieldValue,lt=null,Ge=null;function xn(s){if(typeof $s=="function"&&Fs(s),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(lt,s)}catch{}}var Gt=Math.clz32?Math.clz32:mi,vl=Math.log,xr=Math.LN2;function mi(s){return s>>>=0,s===0?32:31-(vl(s)/xr|0)|0}var gi=256,yi=4194304;function nr(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ki(s,a,u){var d=s.pendingLanes;if(d===0)return 0;var g=0,b=s.suspendedLanes,M=s.pingedLanes;s=s.warmLanes;var D=d&134217727;return D!==0?(d=D&~b,d!==0?g=nr(d):(M&=D,M!==0?g=nr(M):u||(u=D&~s,u!==0&&(g=nr(u))))):(D=d&~b,D!==0?g=nr(D):M!==0?g=nr(M):u||(u=d&~s,u!==0&&(g=nr(u)))),g===0?0:a!==0&&a!==g&&(a&b)===0&&(b=g&-g,u=a&-a,b>=u||b===32&&(u&4194048)!==0)?a:g}function Tr(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function qs(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yi(){var s=gi;return gi<<=1,(gi&4194048)===0&&(gi=256),s}function bl(){var s=yi;return yi<<=1,(yi&62914560)===0&&(yi=4194304),s}function Cr(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function Kr(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ws(s,a,u,d,g,b){var M=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var D=s.entanglements,V=s.expirationTimes,Z=s.hiddenUpdates;for(u=M&~u;0<u;){var se=31-Gt(u),le=1<<se;D[se]=0,V[se]=-1;var te=Z[se];if(te!==null)for(Z[se]=null,se=0;se<te.length;se++){var ne=te[se];ne!==null&&(ne.lane&=-536870913)}u&=~le}d!==0&&qn(s,d,0),b!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=b&~(M&~a))}function qn(s,a,u){s.pendingLanes|=a,s.suspendedLanes&=~a;var d=31-Gt(a);s.entangledLanes|=a,s.entanglements[d]=s.entanglements[d]|1073741824|u&4194090}function vi(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var d=31-Gt(u),g=1<<d;g&a|s[d]&a&&(s[d]|=a),u&=~g}}function Xi(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Gs(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function F(){var s=oe.p;return s!==0?s:(s=window.event,s===void 0?32:ex(s.type))}function X(s,a){var u=oe.p;try{return oe.p=s,a()}finally{oe.p=u}}var ee=Math.random().toString(36).slice(2),ue="__reactFiber$"+ee,pe="__reactProps$"+ee,Se="__reactContainer$"+ee,Me="__reactEvents$"+ee,Ce="__reactListeners$"+ee,Ae="__reactHandles$"+ee,Ie="__reactResources$"+ee,ke="__reactMarker$"+ee;function Ee(s){delete s[ue],delete s[pe],delete s[Me],delete s[Ce],delete s[Ae]}function Fe(s){var a=s[ue];if(a)return a;for(var u=s.parentNode;u;){if(a=u[Se]||u[ue]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=UE(s);s!==null;){if(u=s[ue])return u;s=UE(s)}return a}s=u,u=s.parentNode}return null}function et(s){if(s=s[ue]||s[Se]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function pt(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function ct(s){var a=s[Ie];return a||(a=s[Ie]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function $e(s){s[ke]=!0}var ut=new Set,Wn={};function mn(s,a){sn(s,a),sn(s+"Capture",a)}function sn(s,a){for(Wn[s]=a,s=0;s<a.length;s++)ut.add(a[s])}var Dn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ks={},rr={};function Ar(s){return wr.call(rr,s)?!0:wr.call(Ks,s)?!1:Dn.test(s)?rr[s]=!0:(Ks[s]=!0,!1)}function ir(s,a,u){if(Ar(a))if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+u)}}function In(s,a,u){if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+u)}}function je(s,a,u,d){if(d===null)s.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(a,u,""+d)}}var Dt,Yr;function gn(s){if(Dt===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);Dt=a&&a[1]||"",Yr=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dt+s+Yr}var Ot=!1;function Xr(s,a){if(!s||Ot)return"";Ot=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(ne){var te=ne}Reflect.construct(s,[],le)}else{try{le.call()}catch(ne){te=ne}s.call(le.prototype)}}else{try{throw Error()}catch(ne){te=ne}(le=s())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),M=b[0],D=b[1];if(M&&D){var V=M.split(`
`),Z=D.split(`
`);for(g=d=0;d<V.length&&!V[d].includes("DetermineComponentFrameRoot");)d++;for(;g<Z.length&&!Z[g].includes("DetermineComponentFrameRoot");)g++;if(d===V.length||g===Z.length)for(d=V.length-1,g=Z.length-1;1<=d&&0<=g&&V[d]!==Z[g];)g--;for(;1<=d&&0<=g;d--,g--)if(V[d]!==Z[g]){if(d!==1||g!==1)do if(d--,g--,0>g||V[d]!==Z[g]){var se=`
`+V[d].replace(" at new "," at ");return s.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",s.displayName)),se}while(1<=d&&0<=g);break}}}finally{Ot=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?gn(u):""}function Ys(s){switch(s.tag){case 26:case 27:case 5:return gn(s.type);case 16:return gn("Lazy");case 13:return gn("Suspense");case 19:return gn("SuspenseList");case 0:case 15:return Xr(s.type,!1);case 11:return Xr(s.type.render,!1);case 1:return Xr(s.type,!0);case 31:return gn("Activity");default:return""}}function Xs(s){try{var a="";do a+=Ys(s),s=s.return;while(s);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Ln(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Kc(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function lg(s){var a=Kc(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),d=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,b=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(M){d=""+M,b.call(this,M)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(M){d=""+M},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Sl(s){s._valueTracker||(s._valueTracker=lg(s))}function Yc(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),d="";return s&&(d=Kc(s)?s.checked?"true":"false":s.value),s=d,s!==u?(a.setValue(s),!0):!1}function ha(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var cg=/[\n"\\]/g;function Kt(s){return s.replace(cg,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function sr(s,a,u,d,g,b,M,D){s.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?s.type=M:s.removeAttribute("type"),a!=null?M==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Ln(a)):s.value!==""+Ln(a)&&(s.value=""+Ln(a)):M!=="submit"&&M!=="reset"||s.removeAttribute("value"),a!=null?Js(s,M,Ln(a)):u!=null?Js(s,M,Ln(u)):d!=null&&s.removeAttribute("value"),g==null&&b!=null&&(s.defaultChecked=!!b),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?s.name=""+Ln(D):s.removeAttribute("name")}function pa(s,a,u,d,g,b,M,D){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),a!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||a!=null))return;u=u!=null?""+Ln(u):"",a=a!=null?""+Ln(a):u,D||a===s.value||(s.value=a),s.defaultValue=a}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=D?s.checked:!!d,s.defaultChecked=!!d,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(s.name=M)}function Js(s,a,u){a==="number"&&ha(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Ji(s,a,u,d){if(s=s.options,a){a={};for(var g=0;g<u.length;g++)a["$"+u[g]]=!0;for(u=0;u<s.length;u++)g=a.hasOwnProperty("$"+s[u].value),s[u].selected!==g&&(s[u].selected=g),g&&d&&(s[u].defaultSelected=!0)}else{for(u=""+Ln(u),a=null,g=0;g<s.length;g++){if(s[g].value===u){s[g].selected=!0,d&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function wt(s,a,u){if(a!=null&&(a=""+Ln(a),a!==s.value&&(s.value=a),u==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=u!=null?""+Ln(u):""}function ma(s,a,u,d){if(a==null){if(d!=null){if(u!=null)throw Error(r(92));if(ge(d)){if(1<d.length)throw Error(r(93));d=d[0]}u=d}u==null&&(u=""),a=u}u=Ln(a),s.defaultValue=u,d=s.textContent,d===u&&d!==""&&d!==null&&(s.value=d)}function kr(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var ga=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cd(s,a,u){var d=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":d?s.setProperty(a,u):typeof u!="number"||u===0||ga.has(a)?a==="float"?s.cssFloat=u:s[a]=(""+u).trim():s[a]=u+"px"}function Xc(s,a,u){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var g in a)d=a[g],a.hasOwnProperty(g)&&u[g]!==d&&cd(s,g,d)}else for(var b in a)a.hasOwnProperty(b)&&cd(s,b,a[b])}function Jc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ug=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wl(s){return fg.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Qi=null;function Mr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Zi=null,es=null;function Qc(s){var a=et(s);if(a&&(s=a.stateNode)){var u=s[pe]||null;e:switch(s=a.stateNode,a.type){case"input":if(sr(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Kt(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var d=u[a];if(d!==s&&d.form===s.form){var g=d[pe]||null;if(!g)throw Error(r(90));sr(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<u.length;a++)d=u[a],d.form===s.form&&Yc(d)}break e;case"textarea":wt(s,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&Ji(s,!!u.multiple,a,!1)}}}var bi=!1;function ud(s,a,u){if(bi)return s(a,u);bi=!0;try{var d=s(a);return d}finally{if(bi=!1,(Zi!==null||es!==null)&&(rh(),Zi&&(a=Zi,s=es,es=Zi=null,Qc(a),s)))for(a=0;a<s.length;a++)Qc(s[a])}}function ya(s,a){var u=s.stateNode;if(u===null)return null;var d=u[pe]||null;if(d===null)return null;u=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,a,typeof u));return u}var Jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Or=!1;if(Jr)try{var va={};Object.defineProperty(va,"passive",{get:function(){Or=!0}}),window.addEventListener("test",va,va),window.removeEventListener("test",va,va)}catch{Or=!1}var Si=null,Qs=null,ts=null;function Zc(){if(ts)return ts;var s,a=Qs,u=a.length,d,g="value"in Si?Si.value:Si.textContent,b=g.length;for(s=0;s<u&&a[s]===g[s];s++);var M=u-s;for(d=1;d<=M&&a[u-d]===g[b-d];d++);return ts=g.slice(s,1<d?1-d:void 0)}function wi(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Ei(){return!0}function eu(){return!1}function on(s){function a(u,d,g,b,M){this._reactName=u,this._targetInst=g,this.type=d,this.nativeEvent=b,this.target=M,this.currentTarget=null;for(var D in s)s.hasOwnProperty(D)&&(u=s[D],this[D]=u?u(b):b[D]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ei:eu,this.isPropagationStopped=eu,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),a}var mt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},El=on(mt),ba=p({},mt,{view:0,detail:0}),fd=on(ba),xl,Tl,xi,Sa=p({},ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xa,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==xi&&(xi&&s.type==="mousemove"?(xl=s.screenX-xi.screenX,Tl=s.screenY-xi.screenY):Tl=xl=0,xi=s),xl)},movementY:function(s){return"movementY"in s?s.movementY:Tl}}),Nr=on(Sa),dd=p({},Sa,{dataTransfer:0}),dg=on(dd),wa=p({},ba,{relatedTarget:0}),Cl=on(wa),tu=p({},mt,{animationName:0,elapsedTime:0,pseudoElement:0}),Al=on(tu),hd=p({},mt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),kl=on(hd),hg=p({},mt,{data:0}),nu=on(hg),Ea={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},md={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ru(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=md[s])?!!a[s]:!1}function xa(){return ru}var gd=p({},ba,{key:function(s){if(s.key){var a=Ea[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=wi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?pd[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xa,charCode:function(s){return s.type==="keypress"?wi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?wi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ml=on(gd),yd=p({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iu=on(yd),ns=p({},ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xa}),vd=on(ns),bd=p({},mt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sd=on(bd),wd=p({},Sa,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Gn=on(wd),Ed=p({},mt,{newState:0,oldState:0}),xd=on(Ed),Zs=[9,13,27,32],m=Jr&&"CompositionEvent"in window,E=null;Jr&&"documentMode"in document&&(E=document.documentMode);var C=Jr&&"TextEvent"in window&&!E,P=Jr&&(!m||E&&8<E&&11>=E),J=" ",re=!1;function ye(s,a){switch(s){case"keyup":return Zs.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dt(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var It=!1;function tt(s,a){switch(s){case"compositionend":return dt(a);case"keypress":return a.which!==32?null:(re=!0,J);case"textInput":return s=a.data,s===J&&re?null:s;default:return null}}function an(s,a){if(It)return s==="compositionend"||!m&&ye(s,a)?(s=Zc(),ts=Qs=Si=null,It=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return P&&a.locale!=="ko"?null:a.data;default:return null}}var ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rs(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!ln[s.type]:a==="textarea"}function Kn(s,a,u,d){Zi?es?es.push(d):es=[d]:Zi=d,a=ch(a,"onChange"),0<a.length&&(u=new El("onChange","change",null,u,d),s.push({event:u,listeners:a}))}var Ti=null,is=null;function G_(s){OE(s,0)}function Td(s){var a=pt(s);if(Yc(a))return s}function Xb(s,a){if(s==="change")return a}var Jb=!1;if(Jr){var pg;if(Jr){var mg="oninput"in document;if(!mg){var Qb=document.createElement("div");Qb.setAttribute("oninput","return;"),mg=typeof Qb.oninput=="function"}pg=mg}else pg=!1;Jb=pg&&(!document.documentMode||9<document.documentMode)}function Zb(){Ti&&(Ti.detachEvent("onpropertychange",eS),is=Ti=null)}function eS(s){if(s.propertyName==="value"&&Td(is)){var a=[];Kn(a,is,s,Mr(s)),ud(G_,a)}}function K_(s,a,u){s==="focusin"?(Zb(),Ti=a,is=u,Ti.attachEvent("onpropertychange",eS)):s==="focusout"&&Zb()}function Y_(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Td(is)}function X_(s,a){if(s==="click")return Td(a)}function J_(s,a){if(s==="input"||s==="change")return Td(a)}function Q_(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var or=typeof Object.is=="function"?Object.is:Q_;function su(s,a){if(or(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),d=Object.keys(a);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var g=u[d];if(!wr.call(a,g)||!or(s[g],a[g]))return!1}return!0}function tS(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function nS(s,a){var u=tS(s);s=0;for(var d;u;){if(u.nodeType===3){if(d=s+u.textContent.length,s<=a&&d>=a)return{node:u,offset:a-s};s=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=tS(u)}}function rS(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?rS(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function iS(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=ha(s.document);a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=ha(s.document)}return a}function gg(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var Z_=Jr&&"documentMode"in document&&11>=document.documentMode,Ol=null,yg=null,ou=null,vg=!1;function sS(s,a,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;vg||Ol==null||Ol!==ha(d)||(d=Ol,"selectionStart"in d&&gg(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ou&&su(ou,d)||(ou=d,d=ch(yg,"onSelect"),0<d.length&&(a=new El("onSelect","select",null,a,u),s.push({event:a,listeners:d}),a.target=Ol)))}function Ta(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Nl={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionrun:Ta("Transition","TransitionRun"),transitionstart:Ta("Transition","TransitionStart"),transitioncancel:Ta("Transition","TransitionCancel"),transitionend:Ta("Transition","TransitionEnd")},bg={},oS={};Jr&&(oS=document.createElement("div").style,"AnimationEvent"in window||(delete Nl.animationend.animation,delete Nl.animationiteration.animation,delete Nl.animationstart.animation),"TransitionEvent"in window||delete Nl.transitionend.transition);function Ca(s){if(bg[s])return bg[s];if(!Nl[s])return s;var a=Nl[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in oS)return bg[s]=a[u];return s}var aS=Ca("animationend"),lS=Ca("animationiteration"),cS=Ca("animationstart"),eR=Ca("transitionrun"),tR=Ca("transitionstart"),nR=Ca("transitioncancel"),uS=Ca("transitionend"),fS=new Map,Sg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sg.push("scrollEnd");function Qr(s,a){fS.set(s,a),mn(a,[s])}var dS=new WeakMap;function _r(s,a){if(typeof s=="object"&&s!==null){var u=dS.get(s);return u!==void 0?u:(a={value:s,source:a,stack:Xs(a)},dS.set(s,a),a)}return{value:s,source:a,stack:Xs(a)}}var Rr=[],_l=0,wg=0;function Cd(){for(var s=_l,a=wg=_l=0;a<s;){var u=Rr[a];Rr[a++]=null;var d=Rr[a];Rr[a++]=null;var g=Rr[a];Rr[a++]=null;var b=Rr[a];if(Rr[a++]=null,d!==null&&g!==null){var M=d.pending;M===null?g.next=g:(g.next=M.next,M.next=g),d.pending=g}b!==0&&hS(u,g,b)}}function Ad(s,a,u,d){Rr[_l++]=s,Rr[_l++]=a,Rr[_l++]=u,Rr[_l++]=d,wg|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function Eg(s,a,u,d){return Ad(s,a,u,d),kd(s)}function Rl(s,a){return Ad(s,null,null,a),kd(s)}function hS(s,a,u){s.lanes|=u;var d=s.alternate;d!==null&&(d.lanes|=u);for(var g=!1,b=s.return;b!==null;)b.childLanes|=u,d=b.alternate,d!==null&&(d.childLanes|=u),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(g=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,g&&a!==null&&(g=31-Gt(u),s=b.hiddenUpdates,d=s[g],d===null?s[g]=[a]:d.push(a),a.lane=u|536870912),b):null}function kd(s){if(50<_u)throw _u=0,My=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Dl={};function rR(s,a,u,d){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(s,a,u,d){return new rR(s,a,u,d)}function xg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ss(s,a){var u=s.alternate;return u===null?(u=ar(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function pS(s,a){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,a=u.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Md(s,a,u,d,g,b){var M=0;if(d=s,typeof s=="function")xg(s)&&(M=1);else if(typeof s=="string")M=sD(s,u,we.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case I:return s=ar(31,u,a,g),s.elementType=I,s.lanes=b,s;case w:return Aa(u.children,g,b,a);case T:M=8,g|=24;break;case A:return s=ar(12,u,a,g|2),s.elementType=A,s.lanes=b,s;case H:return s=ar(13,u,a,g),s.elementType=H,s.lanes=b,s;case j:return s=ar(19,u,a,g),s.elementType=j,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case N:case U:M=10;break e;case L:M=9;break e;case K:M=11;break e;case _:M=14;break e;case O:M=16,d=null;break e}M=29,u=Error(r(130,s===null?"null":typeof s,"")),d=null}return a=ar(M,u,a,g),a.elementType=s,a.type=d,a.lanes=b,a}function Aa(s,a,u,d){return s=ar(7,s,d,a),s.lanes=u,s}function Tg(s,a,u){return s=ar(6,s,null,a),s.lanes=u,s}function Cg(s,a,u){return a=ar(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Il=[],Ll=0,Od=null,Nd=0,Dr=[],Ir=0,ka=null,as=1,ls="";function Ma(s,a){Il[Ll++]=Nd,Il[Ll++]=Od,Od=s,Nd=a}function mS(s,a,u){Dr[Ir++]=as,Dr[Ir++]=ls,Dr[Ir++]=ka,ka=s;var d=as;s=ls;var g=32-Gt(d)-1;d&=~(1<<g),u+=1;var b=32-Gt(a)+g;if(30<b){var M=g-g%5;b=(d&(1<<M)-1).toString(32),d>>=M,g-=M,as=1<<32-Gt(a)+g|u<<g|d,ls=b+s}else as=1<<b|u<<g|d,ls=s}function Ag(s){s.return!==null&&(Ma(s,1),mS(s,1,0))}function kg(s){for(;s===Od;)Od=Il[--Ll],Il[Ll]=null,Nd=Il[--Ll],Il[Ll]=null;for(;s===ka;)ka=Dr[--Ir],Dr[Ir]=null,ls=Dr[--Ir],Dr[Ir]=null,as=Dr[--Ir],Dr[Ir]=null}var Pn=null,Bt=null,ft=!1,Oa=null,Ci=!1,Mg=Error(r(519));function Na(s){var a=Error(r(418,""));throw cu(_r(a,s)),Mg}function gS(s){var a=s.stateNode,u=s.type,d=s.memoizedProps;switch(a[ue]=s,a[pe]=d,u){case"dialog":Qe("cancel",a),Qe("close",a);break;case"iframe":case"object":case"embed":Qe("load",a);break;case"video":case"audio":for(u=0;u<Du.length;u++)Qe(Du[u],a);break;case"source":Qe("error",a);break;case"img":case"image":case"link":Qe("error",a),Qe("load",a);break;case"details":Qe("toggle",a);break;case"input":Qe("invalid",a),pa(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Sl(a);break;case"select":Qe("invalid",a);break;case"textarea":Qe("invalid",a),ma(a,d.value,d.defaultValue,d.children),Sl(a)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||d.suppressHydrationWarning===!0||DE(a.textContent,u)?(d.popover!=null&&(Qe("beforetoggle",a),Qe("toggle",a)),d.onScroll!=null&&Qe("scroll",a),d.onScrollEnd!=null&&Qe("scrollend",a),d.onClick!=null&&(a.onclick=uh),a=!0):a=!1,a||Na(s)}function yS(s){for(Pn=s.return;Pn;)switch(Pn.tag){case 5:case 13:Ci=!1;return;case 27:case 3:Ci=!0;return;default:Pn=Pn.return}}function au(s){if(s!==Pn)return!1;if(!ft)return yS(s),ft=!0,!1;var a=s.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||Fy(s.type,s.memoizedProps)),u=!u),u&&Bt&&Na(s),yS(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(u=s.data,u==="/$"){if(a===0){Bt=ei(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++;s=s.nextSibling}Bt=null}}else a===27?(a=Bt,go(s.type)?(s=Ky,Ky=null,Bt=s):Bt=a):Bt=Pn?ei(s.stateNode.nextSibling):null;return!0}function lu(){Bt=Pn=null,ft=!1}function vS(){var s=Oa;return s!==null&&(Jn===null?Jn=s:Jn.push.apply(Jn,s),Oa=null),s}function cu(s){Oa===null?Oa=[s]:Oa.push(s)}var Og=ie(null),_a=null,cs=null;function eo(s,a,u){fe(Og,a._currentValue),a._currentValue=u}function us(s){s._currentValue=Og.current,he(Og)}function Ng(s,a,u){for(;s!==null;){var d=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),s===u)break;s=s.return}}function _g(s,a,u,d){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var b=g.dependencies;if(b!==null){var M=g.child;b=b.firstContext;e:for(;b!==null;){var D=b;b=g;for(var V=0;V<a.length;V++)if(D.context===a[V]){b.lanes|=u,D=b.alternate,D!==null&&(D.lanes|=u),Ng(b.return,u,s),d||(M=null);break e}b=D.next}}else if(g.tag===18){if(M=g.return,M===null)throw Error(r(341));M.lanes|=u,b=M.alternate,b!==null&&(b.lanes|=u),Ng(M,u,s),M=null}else M=g.child;if(M!==null)M.return=g;else for(M=g;M!==null;){if(M===s){M=null;break}if(g=M.sibling,g!==null){g.return=M.return,M=g;break}M=M.return}g=M}}function uu(s,a,u,d){s=null;for(var g=a,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var M=g.alternate;if(M===null)throw Error(r(387));if(M=M.memoizedProps,M!==null){var D=g.type;or(g.pendingProps.value,M.value)||(s!==null?s.push(D):s=[D])}}else if(g===Mt.current){if(M=g.alternate,M===null)throw Error(r(387));M.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(Uu):s=[Uu])}g=g.return}s!==null&&_g(a,s,u,d),a.flags|=262144}function _d(s){for(s=s.firstContext;s!==null;){if(!or(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ra(s){_a=s,cs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Tn(s){return bS(_a,s)}function Rd(s,a){return _a===null&&Ra(s),bS(s,a)}function bS(s,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},cs===null){if(s===null)throw Error(r(308));cs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else cs=cs.next=a;return u}var iR=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(u,d){s.push(d)}};this.abort=function(){a.aborted=!0,s.forEach(function(u){return u()})}},sR=t.unstable_scheduleCallback,oR=t.unstable_NormalPriority,tn={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rg(){return{controller:new iR,data:new Map,refCount:0}}function fu(s){s.refCount--,s.refCount===0&&sR(oR,function(){s.controller.abort()})}var du=null,Dg=0,Pl=0,jl=null;function aR(s,a){if(du===null){var u=du=[];Dg=0,Pl=Ly(),jl={status:"pending",value:void 0,then:function(d){u.push(d)}}}return Dg++,a.then(SS,SS),a}function SS(){if(--Dg===0&&du!==null){jl!==null&&(jl.status="fulfilled");var s=du;du=null,Pl=0,jl=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function lR(s,a){var u=[],d={status:"pending",value:null,reason:null,then:function(g){u.push(g)}};return s.then(function(){d.status="fulfilled",d.value=a;for(var g=0;g<u.length;g++)(0,u[g])(a)},function(g){for(d.status="rejected",d.reason=g,g=0;g<u.length;g++)(0,u[g])(void 0)}),d}var wS=G.S;G.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&aR(s,a),wS!==null&&wS(s,a)};var Da=ie(null);function Ig(){var s=Da.current;return s!==null?s:Nt.pooledCache}function Dd(s,a){a===null?fe(Da,Da.current):fe(Da,a.pool)}function ES(){var s=Ig();return s===null?null:{parent:tn._currentValue,pool:s}}var hu=Error(r(460)),xS=Error(r(474)),Id=Error(r(542)),Lg={then:function(){}};function TS(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Ld(){}function CS(s,a,u){switch(u=s[u],u===void 0?s.push(a):u!==a&&(a.then(Ld,Ld),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,kS(s),s;default:if(typeof a.status=="string")a.then(Ld,Ld);else{if(s=Nt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(d){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=d}},function(d){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,kS(s),s}throw pu=a,hu}}var pu=null;function AS(){if(pu===null)throw Error(r(459));var s=pu;return pu=null,s}function kS(s){if(s===hu||s===Id)throw Error(r(483))}var to=!1;function Pg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jg(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function no(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ro(s,a,u){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(gt&2)!==0){var g=d.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),d.pending=a,a=kd(s),hS(s,null,u),a}return Ad(s,d,a,u),kd(s)}function mu(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var d=a.lanes;d&=s.pendingLanes,u|=d,a.lanes=u,vi(s,u)}}function zg(s,a){var u=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var g=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var M={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?g=b=M:b=b.next=M,u=u.next}while(u!==null);b===null?g=b=a:b=b.next=a}else g=b=a;u={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}var Ug=!1;function gu(){if(Ug){var s=jl;if(s!==null)throw s}}function yu(s,a,u,d){Ug=!1;var g=s.updateQueue;to=!1;var b=g.firstBaseUpdate,M=g.lastBaseUpdate,D=g.shared.pending;if(D!==null){g.shared.pending=null;var V=D,Z=V.next;V.next=null,M===null?b=Z:M.next=Z,M=V;var se=s.alternate;se!==null&&(se=se.updateQueue,D=se.lastBaseUpdate,D!==M&&(D===null?se.firstBaseUpdate=Z:D.next=Z,se.lastBaseUpdate=V))}if(b!==null){var le=g.baseState;M=0,se=Z=V=null,D=b;do{var te=D.lane&-536870913,ne=te!==D.lane;if(ne?(nt&te)===te:(d&te)===te){te!==0&&te===Pl&&(Ug=!0),se!==null&&(se=se.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Be=s,Le=D;te=a;var Tt=u;switch(Le.tag){case 1:if(Be=Le.payload,typeof Be=="function"){le=Be.call(Tt,le,te);break e}le=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Le.payload,te=typeof Be=="function"?Be.call(Tt,le,te):Be,te==null)break e;le=p({},le,te);break e;case 2:to=!0}}te=D.callback,te!==null&&(s.flags|=64,ne&&(s.flags|=8192),ne=g.callbacks,ne===null?g.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:D.tag,payload:D.payload,callback:D.callback,next:null},se===null?(Z=se=ne,V=le):se=se.next=ne,M|=te;if(D=D.next,D===null){if(D=g.shared.pending,D===null)break;ne=D,D=ne.next,ne.next=null,g.lastBaseUpdate=ne,g.shared.pending=null}}while(!0);se===null&&(V=le),g.baseState=V,g.firstBaseUpdate=Z,g.lastBaseUpdate=se,b===null&&(g.shared.lanes=0),fo|=M,s.lanes=M,s.memoizedState=le}}function MS(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function OS(s,a){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)MS(u[s],a)}var zl=ie(null),Pd=ie(0);function NS(s,a){s=ys,fe(Pd,s),fe(zl,a),ys=s|a.baseLanes}function Bg(){fe(Pd,ys),fe(zl,zl.current)}function Hg(){ys=Pd.current,he(zl),he(Pd)}var io=0,Ke=null,Et=null,Yt=null,jd=!1,Ul=!1,Ia=!1,zd=0,vu=0,Bl=null,cR=0;function qt(){throw Error(r(321))}function Vg(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!or(s[u],a[u]))return!1;return!0}function $g(s,a,u,d,g,b){return io=b,Ke=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,G.H=s===null||s.memoizedState===null?hw:pw,Ia=!1,b=u(d,g),Ia=!1,Ul&&(b=RS(a,u,d,g)),_S(s),b}function _S(s){G.H=Fd;var a=Et!==null&&Et.next!==null;if(io=0,Yt=Et=Ke=null,jd=!1,vu=0,Bl=null,a)throw Error(r(300));s===null||cn||(s=s.dependencies,s!==null&&_d(s)&&(cn=!0))}function RS(s,a,u,d){Ke=s;var g=0;do{if(Ul&&(Bl=null),vu=0,Ul=!1,25<=g)throw Error(r(301));if(g+=1,Yt=Et=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}G.H=gR,b=a(u,d)}while(Ul);return b}function uR(){var s=G.H,a=s.useState()[0];return a=typeof a.then=="function"?bu(a):a,s=s.useState()[0],(Et!==null?Et.memoizedState:null)!==s&&(Ke.flags|=1024),a}function Fg(){var s=zd!==0;return zd=0,s}function qg(s,a,u){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~u}function Wg(s){if(jd){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}jd=!1}io=0,Yt=Et=Ke=null,Ul=!1,vu=zd=0,Bl=null}function Yn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Ke.memoizedState=Yt=s:Yt=Yt.next=s,Yt}function Xt(){if(Et===null){var s=Ke.alternate;s=s!==null?s.memoizedState:null}else s=Et.next;var a=Yt===null?Ke.memoizedState:Yt.next;if(a!==null)Yt=a,Et=s;else{if(s===null)throw Ke.alternate===null?Error(r(467)):Error(r(310));Et=s,s={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Yt===null?Ke.memoizedState=Yt=s:Yt=Yt.next=s}return Yt}function Gg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bu(s){var a=vu;return vu+=1,Bl===null&&(Bl=[]),s=CS(Bl,s,a),a=Ke,(Yt===null?a.memoizedState:Yt.next)===null&&(a=a.alternate,G.H=a===null||a.memoizedState===null?hw:pw),s}function Ud(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return bu(s);if(s.$$typeof===U)return Tn(s)}throw Error(r(438,String(s)))}function Kg(s){var a=null,u=Ke.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var d=Ke.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=Gg(),Ke.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(s),d=0;d<s;d++)u[d]=R;return a.index++,u}function fs(s,a){return typeof a=="function"?a(s):a}function Bd(s){var a=Xt();return Yg(a,Et,s)}function Yg(s,a,u){var d=s.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=u;var g=s.baseQueue,b=d.pending;if(b!==null){if(g!==null){var M=g.next;g.next=b.next,b.next=M}a.baseQueue=g=b,d.pending=null}if(b=s.baseState,g===null)s.memoizedState=b;else{a=g.next;var D=M=null,V=null,Z=a,se=!1;do{var le=Z.lane&-536870913;if(le!==Z.lane?(nt&le)===le:(io&le)===le){var te=Z.revertLane;if(te===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),le===Pl&&(se=!0);else if((io&te)===te){Z=Z.next,te===Pl&&(se=!0);continue}else le={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},V===null?(D=V=le,M=b):V=V.next=le,Ke.lanes|=te,fo|=te;le=Z.action,Ia&&u(b,le),b=Z.hasEagerState?Z.eagerState:u(b,le)}else te={lane:le,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},V===null?(D=V=te,M=b):V=V.next=te,Ke.lanes|=le,fo|=le;Z=Z.next}while(Z!==null&&Z!==a);if(V===null?M=b:V.next=D,!or(b,s.memoizedState)&&(cn=!0,se&&(u=jl,u!==null)))throw u;s.memoizedState=b,s.baseState=M,s.baseQueue=V,d.lastRenderedState=b}return g===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function Xg(s){var a=Xt(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var d=u.dispatch,g=u.pending,b=a.memoizedState;if(g!==null){u.pending=null;var M=g=g.next;do b=s(b,M.action),M=M.next;while(M!==g);or(b,a.memoizedState)||(cn=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),u.lastRenderedState=b}return[b,d]}function DS(s,a,u){var d=Ke,g=Xt(),b=ft;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=a();var M=!or((Et||g).memoizedState,u);M&&(g.memoizedState=u,cn=!0),g=g.queue;var D=PS.bind(null,d,g,s);if(Su(2048,8,D,[s]),g.getSnapshot!==a||M||Yt!==null&&Yt.memoizedState.tag&1){if(d.flags|=2048,Hl(9,Hd(),LS.bind(null,d,g,u,a),null),Nt===null)throw Error(r(349));b||(io&124)!==0||IS(d,a,u)}return u}function IS(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=Ke.updateQueue,a===null?(a=Gg(),Ke.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function LS(s,a,u,d){a.value=u,a.getSnapshot=d,jS(a)&&zS(s)}function PS(s,a,u){return u(function(){jS(a)&&zS(s)})}function jS(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!or(s,u)}catch{return!0}}function zS(s){var a=Rl(s,2);a!==null&&dr(a,s,2)}function Jg(s){var a=Yn();if(typeof s=="function"){var u=s;if(s=u(),Ia){xn(!0);try{u()}finally{xn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:s},a}function US(s,a,u,d){return s.baseState=u,Yg(s,Et,typeof d=="function"?d:fs)}function fR(s,a,u,d,g){if($d(s))throw Error(r(485));if(s=a.action,s!==null){var b={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){b.listeners.push(M)}};G.T!==null?u(!0):b.isTransition=!1,d(b),u=a.pending,u===null?(b.next=a.pending=b,BS(a,b)):(b.next=u.next,a.pending=u.next=b)}}function BS(s,a){var u=a.action,d=a.payload,g=s.state;if(a.isTransition){var b=G.T,M={};G.T=M;try{var D=u(g,d),V=G.S;V!==null&&V(M,D),HS(s,a,D)}catch(Z){Qg(s,a,Z)}finally{G.T=b}}else try{b=u(g,d),HS(s,a,b)}catch(Z){Qg(s,a,Z)}}function HS(s,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){VS(s,a,d)},function(d){return Qg(s,a,d)}):VS(s,a,u)}function VS(s,a,u){a.status="fulfilled",a.value=u,$S(a),s.state=u,a=s.pending,a!==null&&(u=a.next,u===a?s.pending=null:(u=u.next,a.next=u,BS(s,u)))}function Qg(s,a,u){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=u,$S(a),a=a.next;while(a!==d)}s.action=null}function $S(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function FS(s,a){return a}function qS(s,a){if(ft){var u=Nt.formState;if(u!==null){e:{var d=Ke;if(ft){if(Bt){t:{for(var g=Bt,b=Ci;g.nodeType!==8;){if(!b){g=null;break t}if(g=ei(g.nextSibling),g===null){g=null;break t}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){Bt=ei(g.nextSibling),d=g.data==="F!";break e}}Na(d)}d=!1}d&&(a=u[0])}}return u=Yn(),u.memoizedState=u.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:FS,lastRenderedState:a},u.queue=d,u=uw.bind(null,Ke,d),d.dispatch=u,d=Jg(!1),b=ry.bind(null,Ke,!1,d.queue),d=Yn(),g={state:a,dispatch:null,action:s,pending:null},d.queue=g,u=fR.bind(null,Ke,g,b,u),g.dispatch=u,d.memoizedState=s,[a,u,!1]}function WS(s){var a=Xt();return GS(a,Et,s)}function GS(s,a,u){if(a=Yg(s,a,FS)[0],s=Bd(fs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=bu(a)}catch(M){throw M===hu?Id:M}else d=a;a=Xt();var g=a.queue,b=g.dispatch;return u!==a.memoizedState&&(Ke.flags|=2048,Hl(9,Hd(),dR.bind(null,g,u),null)),[d,b,s]}function dR(s,a){s.action=a}function KS(s){var a=Xt(),u=Et;if(u!==null)return GS(a,u,s);Xt(),a=a.memoizedState,u=Xt();var d=u.queue.dispatch;return u.memoizedState=s,[a,d,!1]}function Hl(s,a,u,d){return s={tag:s,create:u,deps:d,inst:a,next:null},a=Ke.updateQueue,a===null&&(a=Gg(),Ke.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=s.next=s:(d=u.next,u.next=s,s.next=d,a.lastEffect=s),s}function Hd(){return{destroy:void 0,resource:void 0}}function YS(){return Xt().memoizedState}function Vd(s,a,u,d){var g=Yn();d=d===void 0?null:d,Ke.flags|=s,g.memoizedState=Hl(1|a,Hd(),u,d)}function Su(s,a,u,d){var g=Xt();d=d===void 0?null:d;var b=g.memoizedState.inst;Et!==null&&d!==null&&Vg(d,Et.memoizedState.deps)?g.memoizedState=Hl(a,b,u,d):(Ke.flags|=s,g.memoizedState=Hl(1|a,b,u,d))}function XS(s,a){Vd(8390656,8,s,a)}function JS(s,a){Su(2048,8,s,a)}function QS(s,a){return Su(4,2,s,a)}function ZS(s,a){return Su(4,4,s,a)}function ew(s,a){if(typeof a=="function"){s=s();var u=a(s);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function tw(s,a,u){u=u!=null?u.concat([s]):null,Su(4,4,ew.bind(null,a,s),u)}function Zg(){}function nw(s,a){var u=Xt();a=a===void 0?null:a;var d=u.memoizedState;return a!==null&&Vg(a,d[1])?d[0]:(u.memoizedState=[s,a],s)}function rw(s,a){var u=Xt();a=a===void 0?null:a;var d=u.memoizedState;if(a!==null&&Vg(a,d[1]))return d[0];if(d=s(),Ia){xn(!0);try{s()}finally{xn(!1)}}return u.memoizedState=[d,a],d}function ey(s,a,u){return u===void 0||(io&1073741824)!==0?s.memoizedState=a:(s.memoizedState=u,s=oE(),Ke.lanes|=s,fo|=s,u)}function iw(s,a,u,d){return or(u,a)?u:zl.current!==null?(s=ey(s,u,d),or(s,a)||(cn=!0),s):(io&42)===0?(cn=!0,s.memoizedState=u):(s=oE(),Ke.lanes|=s,fo|=s,a)}function sw(s,a,u,d,g){var b=oe.p;oe.p=b!==0&&8>b?b:8;var M=G.T,D={};G.T=D,ry(s,!1,a,u);try{var V=g(),Z=G.S;if(Z!==null&&Z(D,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var se=lR(V,d);wu(s,a,se,fr(s))}else wu(s,a,d,fr(s))}catch(le){wu(s,a,{then:function(){},status:"rejected",reason:le},fr())}finally{oe.p=b,G.T=M}}function hR(){}function ty(s,a,u,d){if(s.tag!==5)throw Error(r(476));var g=ow(s).queue;sw(s,g,a,ce,u===null?hR:function(){return aw(s),u(d)})}function ow(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:ce},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:u},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function aw(s){var a=ow(s).next.queue;wu(s,a,{},fr())}function ny(){return Tn(Uu)}function lw(){return Xt().memoizedState}function cw(){return Xt().memoizedState}function pR(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var u=fr();s=no(u);var d=ro(a,s,u);d!==null&&(dr(d,a,u),mu(d,a,u)),a={cache:Rg()},s.payload=a;return}a=a.return}}function mR(s,a,u){var d=fr();u={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},$d(s)?fw(a,u):(u=Eg(s,a,u,d),u!==null&&(dr(u,s,d),dw(u,a,d)))}function uw(s,a,u){var d=fr();wu(s,a,u,d)}function wu(s,a,u,d){var g={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if($d(s))fw(a,g);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var M=a.lastRenderedState,D=b(M,u);if(g.hasEagerState=!0,g.eagerState=D,or(D,M))return Ad(s,a,g,0),Nt===null&&Cd(),!1}catch{}finally{}if(u=Eg(s,a,g,d),u!==null)return dr(u,s,d),dw(u,a,d),!0}return!1}function ry(s,a,u,d){if(d={lane:2,revertLane:Ly(),action:d,hasEagerState:!1,eagerState:null,next:null},$d(s)){if(a)throw Error(r(479))}else a=Eg(s,u,d,2),a!==null&&dr(a,s,2)}function $d(s){var a=s.alternate;return s===Ke||a!==null&&a===Ke}function fw(s,a){Ul=jd=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function dw(s,a,u){if((u&4194048)!==0){var d=a.lanes;d&=s.pendingLanes,u|=d,a.lanes=u,vi(s,u)}}var Fd={readContext:Tn,use:Ud,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useLayoutEffect:qt,useInsertionEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useSyncExternalStore:qt,useId:qt,useHostTransitionStatus:qt,useFormState:qt,useActionState:qt,useOptimistic:qt,useMemoCache:qt,useCacheRefresh:qt},hw={readContext:Tn,use:Ud,useCallback:function(s,a){return Yn().memoizedState=[s,a===void 0?null:a],s},useContext:Tn,useEffect:XS,useImperativeHandle:function(s,a,u){u=u!=null?u.concat([s]):null,Vd(4194308,4,ew.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Vd(4194308,4,s,a)},useInsertionEffect:function(s,a){Vd(4,2,s,a)},useMemo:function(s,a){var u=Yn();a=a===void 0?null:a;var d=s();if(Ia){xn(!0);try{s()}finally{xn(!1)}}return u.memoizedState=[d,a],d},useReducer:function(s,a,u){var d=Yn();if(u!==void 0){var g=u(a);if(Ia){xn(!0);try{u(a)}finally{xn(!1)}}}else g=a;return d.memoizedState=d.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},d.queue=s,s=s.dispatch=mR.bind(null,Ke,s),[d.memoizedState,s]},useRef:function(s){var a=Yn();return s={current:s},a.memoizedState=s},useState:function(s){s=Jg(s);var a=s.queue,u=uw.bind(null,Ke,a);return a.dispatch=u,[s.memoizedState,u]},useDebugValue:Zg,useDeferredValue:function(s,a){var u=Yn();return ey(u,s,a)},useTransition:function(){var s=Jg(!1);return s=sw.bind(null,Ke,s.queue,!0,!1),Yn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,u){var d=Ke,g=Yn();if(ft){if(u===void 0)throw Error(r(407));u=u()}else{if(u=a(),Nt===null)throw Error(r(349));(nt&124)!==0||IS(d,a,u)}g.memoizedState=u;var b={value:u,getSnapshot:a};return g.queue=b,XS(PS.bind(null,d,b,s),[s]),d.flags|=2048,Hl(9,Hd(),LS.bind(null,d,b,u,a),null),u},useId:function(){var s=Yn(),a=Nt.identifierPrefix;if(ft){var u=ls,d=as;u=(d&~(1<<32-Gt(d)-1)).toString(32)+u,a="«"+a+"R"+u,u=zd++,0<u&&(a+="H"+u.toString(32)),a+="»"}else u=cR++,a="«"+a+"r"+u.toString(32)+"»";return s.memoizedState=a},useHostTransitionStatus:ny,useFormState:qS,useActionState:qS,useOptimistic:function(s){var a=Yn();a.memoizedState=a.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=ry.bind(null,Ke,!0,u),u.dispatch=a,[s,a]},useMemoCache:Kg,useCacheRefresh:function(){return Yn().memoizedState=pR.bind(null,Ke)}},pw={readContext:Tn,use:Ud,useCallback:nw,useContext:Tn,useEffect:JS,useImperativeHandle:tw,useInsertionEffect:QS,useLayoutEffect:ZS,useMemo:rw,useReducer:Bd,useRef:YS,useState:function(){return Bd(fs)},useDebugValue:Zg,useDeferredValue:function(s,a){var u=Xt();return iw(u,Et.memoizedState,s,a)},useTransition:function(){var s=Bd(fs)[0],a=Xt().memoizedState;return[typeof s=="boolean"?s:bu(s),a]},useSyncExternalStore:DS,useId:lw,useHostTransitionStatus:ny,useFormState:WS,useActionState:WS,useOptimistic:function(s,a){var u=Xt();return US(u,Et,s,a)},useMemoCache:Kg,useCacheRefresh:cw},gR={readContext:Tn,use:Ud,useCallback:nw,useContext:Tn,useEffect:JS,useImperativeHandle:tw,useInsertionEffect:QS,useLayoutEffect:ZS,useMemo:rw,useReducer:Xg,useRef:YS,useState:function(){return Xg(fs)},useDebugValue:Zg,useDeferredValue:function(s,a){var u=Xt();return Et===null?ey(u,s,a):iw(u,Et.memoizedState,s,a)},useTransition:function(){var s=Xg(fs)[0],a=Xt().memoizedState;return[typeof s=="boolean"?s:bu(s),a]},useSyncExternalStore:DS,useId:lw,useHostTransitionStatus:ny,useFormState:KS,useActionState:KS,useOptimistic:function(s,a){var u=Xt();return Et!==null?US(u,Et,s,a):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:Kg,useCacheRefresh:cw},Vl=null,Eu=0;function qd(s){var a=Eu;return Eu+=1,Vl===null&&(Vl=[]),CS(Vl,s,a)}function xu(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Wd(s,a){throw a.$$typeof===y?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function mw(s){var a=s._init;return a(s._payload)}function gw(s){function a(Y,W){if(s){var Q=Y.deletions;Q===null?(Y.deletions=[W],Y.flags|=16):Q.push(W)}}function u(Y,W){if(!s)return null;for(;W!==null;)a(Y,W),W=W.sibling;return null}function d(Y){for(var W=new Map;Y!==null;)Y.key!==null?W.set(Y.key,Y):W.set(Y.index,Y),Y=Y.sibling;return W}function g(Y,W){return Y=ss(Y,W),Y.index=0,Y.sibling=null,Y}function b(Y,W,Q){return Y.index=Q,s?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<W?(Y.flags|=67108866,W):Q):(Y.flags|=67108866,W)):(Y.flags|=1048576,W)}function M(Y){return s&&Y.alternate===null&&(Y.flags|=67108866),Y}function D(Y,W,Q,ae){return W===null||W.tag!==6?(W=Tg(Q,Y.mode,ae),W.return=Y,W):(W=g(W,Q),W.return=Y,W)}function V(Y,W,Q,ae){var xe=Q.type;return xe===w?se(Y,W,Q.props.children,ae,Q.key):W!==null&&(W.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===O&&mw(xe)===W.type)?(W=g(W,Q.props),xu(W,Q),W.return=Y,W):(W=Md(Q.type,Q.key,Q.props,null,Y.mode,ae),xu(W,Q),W.return=Y,W)}function Z(Y,W,Q,ae){return W===null||W.tag!==4||W.stateNode.containerInfo!==Q.containerInfo||W.stateNode.implementation!==Q.implementation?(W=Cg(Q,Y.mode,ae),W.return=Y,W):(W=g(W,Q.children||[]),W.return=Y,W)}function se(Y,W,Q,ae,xe){return W===null||W.tag!==7?(W=Aa(Q,Y.mode,ae,xe),W.return=Y,W):(W=g(W,Q),W.return=Y,W)}function le(Y,W,Q){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Tg(""+W,Y.mode,Q),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return Q=Md(W.type,W.key,W.props,null,Y.mode,Q),xu(Q,W),Q.return=Y,Q;case S:return W=Cg(W,Y.mode,Q),W.return=Y,W;case O:var ae=W._init;return W=ae(W._payload),le(Y,W,Q)}if(ge(W)||q(W))return W=Aa(W,Y.mode,Q,null),W.return=Y,W;if(typeof W.then=="function")return le(Y,qd(W),Q);if(W.$$typeof===U)return le(Y,Rd(Y,W),Q);Wd(Y,W)}return null}function te(Y,W,Q,ae){var xe=W!==null?W.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return xe!==null?null:D(Y,W,""+Q,ae);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:return Q.key===xe?V(Y,W,Q,ae):null;case S:return Q.key===xe?Z(Y,W,Q,ae):null;case O:return xe=Q._init,Q=xe(Q._payload),te(Y,W,Q,ae)}if(ge(Q)||q(Q))return xe!==null?null:se(Y,W,Q,ae,null);if(typeof Q.then=="function")return te(Y,W,qd(Q),ae);if(Q.$$typeof===U)return te(Y,W,Rd(Y,Q),ae);Wd(Y,Q)}return null}function ne(Y,W,Q,ae,xe){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Y=Y.get(Q)||null,D(W,Y,""+ae,xe);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case v:return Y=Y.get(ae.key===null?Q:ae.key)||null,V(W,Y,ae,xe);case S:return Y=Y.get(ae.key===null?Q:ae.key)||null,Z(W,Y,ae,xe);case O:var Ye=ae._init;return ae=Ye(ae._payload),ne(Y,W,Q,ae,xe)}if(ge(ae)||q(ae))return Y=Y.get(Q)||null,se(W,Y,ae,xe,null);if(typeof ae.then=="function")return ne(Y,W,Q,qd(ae),xe);if(ae.$$typeof===U)return ne(Y,W,Q,Rd(W,ae),xe);Wd(W,ae)}return null}function Be(Y,W,Q,ae){for(var xe=null,Ye=null,Oe=W,ze=W=0,fn=null;Oe!==null&&ze<Q.length;ze++){Oe.index>ze?(fn=Oe,Oe=null):fn=Oe.sibling;var ot=te(Y,Oe,Q[ze],ae);if(ot===null){Oe===null&&(Oe=fn);break}s&&Oe&&ot.alternate===null&&a(Y,Oe),W=b(ot,W,ze),Ye===null?xe=ot:Ye.sibling=ot,Ye=ot,Oe=fn}if(ze===Q.length)return u(Y,Oe),ft&&Ma(Y,ze),xe;if(Oe===null){for(;ze<Q.length;ze++)Oe=le(Y,Q[ze],ae),Oe!==null&&(W=b(Oe,W,ze),Ye===null?xe=Oe:Ye.sibling=Oe,Ye=Oe);return ft&&Ma(Y,ze),xe}for(Oe=d(Oe);ze<Q.length;ze++)fn=ne(Oe,Y,ze,Q[ze],ae),fn!==null&&(s&&fn.alternate!==null&&Oe.delete(fn.key===null?ze:fn.key),W=b(fn,W,ze),Ye===null?xe=fn:Ye.sibling=fn,Ye=fn);return s&&Oe.forEach(function(wo){return a(Y,wo)}),ft&&Ma(Y,ze),xe}function Le(Y,W,Q,ae){if(Q==null)throw Error(r(151));for(var xe=null,Ye=null,Oe=W,ze=W=0,fn=null,ot=Q.next();Oe!==null&&!ot.done;ze++,ot=Q.next()){Oe.index>ze?(fn=Oe,Oe=null):fn=Oe.sibling;var wo=te(Y,Oe,ot.value,ae);if(wo===null){Oe===null&&(Oe=fn);break}s&&Oe&&wo.alternate===null&&a(Y,Oe),W=b(wo,W,ze),Ye===null?xe=wo:Ye.sibling=wo,Ye=wo,Oe=fn}if(ot.done)return u(Y,Oe),ft&&Ma(Y,ze),xe;if(Oe===null){for(;!ot.done;ze++,ot=Q.next())ot=le(Y,ot.value,ae),ot!==null&&(W=b(ot,W,ze),Ye===null?xe=ot:Ye.sibling=ot,Ye=ot);return ft&&Ma(Y,ze),xe}for(Oe=d(Oe);!ot.done;ze++,ot=Q.next())ot=ne(Oe,Y,ze,ot.value,ae),ot!==null&&(s&&ot.alternate!==null&&Oe.delete(ot.key===null?ze:ot.key),W=b(ot,W,ze),Ye===null?xe=ot:Ye.sibling=ot,Ye=ot);return s&&Oe.forEach(function(yD){return a(Y,yD)}),ft&&Ma(Y,ze),xe}function Tt(Y,W,Q,ae){if(typeof Q=="object"&&Q!==null&&Q.type===w&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:e:{for(var xe=Q.key;W!==null;){if(W.key===xe){if(xe=Q.type,xe===w){if(W.tag===7){u(Y,W.sibling),ae=g(W,Q.props.children),ae.return=Y,Y=ae;break e}}else if(W.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===O&&mw(xe)===W.type){u(Y,W.sibling),ae=g(W,Q.props),xu(ae,Q),ae.return=Y,Y=ae;break e}u(Y,W);break}else a(Y,W);W=W.sibling}Q.type===w?(ae=Aa(Q.props.children,Y.mode,ae,Q.key),ae.return=Y,Y=ae):(ae=Md(Q.type,Q.key,Q.props,null,Y.mode,ae),xu(ae,Q),ae.return=Y,Y=ae)}return M(Y);case S:e:{for(xe=Q.key;W!==null;){if(W.key===xe)if(W.tag===4&&W.stateNode.containerInfo===Q.containerInfo&&W.stateNode.implementation===Q.implementation){u(Y,W.sibling),ae=g(W,Q.children||[]),ae.return=Y,Y=ae;break e}else{u(Y,W);break}else a(Y,W);W=W.sibling}ae=Cg(Q,Y.mode,ae),ae.return=Y,Y=ae}return M(Y);case O:return xe=Q._init,Q=xe(Q._payload),Tt(Y,W,Q,ae)}if(ge(Q))return Be(Y,W,Q,ae);if(q(Q)){if(xe=q(Q),typeof xe!="function")throw Error(r(150));return Q=xe.call(Q),Le(Y,W,Q,ae)}if(typeof Q.then=="function")return Tt(Y,W,qd(Q),ae);if(Q.$$typeof===U)return Tt(Y,W,Rd(Y,Q),ae);Wd(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,W!==null&&W.tag===6?(u(Y,W.sibling),ae=g(W,Q),ae.return=Y,Y=ae):(u(Y,W),ae=Tg(Q,Y.mode,ae),ae.return=Y,Y=ae),M(Y)):u(Y,W)}return function(Y,W,Q,ae){try{Eu=0;var xe=Tt(Y,W,Q,ae);return Vl=null,xe}catch(Oe){if(Oe===hu||Oe===Id)throw Oe;var Ye=ar(29,Oe,null,Y.mode);return Ye.lanes=ae,Ye.return=Y,Ye}finally{}}}var $l=gw(!0),yw=gw(!1),Lr=ie(null),Ai=null;function so(s){var a=s.alternate;fe(nn,nn.current&1),fe(Lr,s),Ai===null&&(a===null||zl.current!==null||a.memoizedState!==null)&&(Ai=s)}function vw(s){if(s.tag===22){if(fe(nn,nn.current),fe(Lr,s),Ai===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Ai=s)}}else oo()}function oo(){fe(nn,nn.current),fe(Lr,Lr.current)}function ds(s){he(Lr),Ai===s&&(Ai=null),he(nn)}var nn=ie(0);function Gd(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Gy(u)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function iy(s,a,u,d){a=s.memoizedState,u=u(d,a),u=u==null?a:p({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var sy={enqueueSetState:function(s,a,u){s=s._reactInternals;var d=fr(),g=no(d);g.payload=a,u!=null&&(g.callback=u),a=ro(s,g,d),a!==null&&(dr(a,s,d),mu(a,s,d))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var d=fr(),g=no(d);g.tag=1,g.payload=a,u!=null&&(g.callback=u),a=ro(s,g,d),a!==null&&(dr(a,s,d),mu(a,s,d))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=fr(),d=no(u);d.tag=2,a!=null&&(d.callback=a),a=ro(s,d,u),a!==null&&(dr(a,s,u),mu(a,s,u))}};function bw(s,a,u,d,g,b,M){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,b,M):a.prototype&&a.prototype.isPureReactComponent?!su(u,d)||!su(g,b):!0}function Sw(s,a,u,d){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,d),a.state!==s&&sy.enqueueReplaceState(a,a.state,null)}function La(s,a){var u=a;if("ref"in a){u={};for(var d in a)d!=="ref"&&(u[d]=a[d])}if(s=s.defaultProps){u===a&&(u=p({},u));for(var g in s)u[g]===void 0&&(u[g]=s[g])}return u}var Kd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function ww(s){Kd(s)}function Ew(s){console.error(s)}function xw(s){Kd(s)}function Yd(s,a){try{var u=s.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function Tw(s,a,u){try{var d=s.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function oy(s,a,u){return u=no(u),u.tag=3,u.payload={element:null},u.callback=function(){Yd(s,a)},u}function Cw(s){return s=no(s),s.tag=3,s}function Aw(s,a,u,d){var g=u.type.getDerivedStateFromError;if(typeof g=="function"){var b=d.value;s.payload=function(){return g(b)},s.callback=function(){Tw(a,u,d)}}var M=u.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(s.callback=function(){Tw(a,u,d),typeof g!="function"&&(ho===null?ho=new Set([this]):ho.add(this));var D=d.stack;this.componentDidCatch(d.value,{componentStack:D!==null?D:""})})}function yR(s,a,u,d,g){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=u.alternate,a!==null&&uu(a,u,g,!0),u=Lr.current,u!==null){switch(u.tag){case 13:return Ai===null?Ny():u.alternate===null&&Ht===0&&(Ht=3),u.flags&=-257,u.flags|=65536,u.lanes=g,d===Lg?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([d]):a.add(d),Ry(s,d,g)),!1;case 22:return u.flags|=65536,d===Lg?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([d]):u.add(d)),Ry(s,d,g)),!1}throw Error(r(435,u.tag))}return Ry(s,d,g),Ny(),!1}if(ft)return a=Lr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,d!==Mg&&(s=Error(r(422),{cause:d}),cu(_r(s,u)))):(d!==Mg&&(a=Error(r(423),{cause:d}),cu(_r(a,u))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,d=_r(d,u),g=oy(s.stateNode,d,g),zg(s,g),Ht!==4&&(Ht=2)),!1;var b=Error(r(520),{cause:d});if(b=_r(b,u),Nu===null?Nu=[b]:Nu.push(b),Ht!==4&&(Ht=2),a===null)return!0;d=_r(d,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,s=g&-g,u.lanes|=s,s=oy(u.stateNode,d,s),zg(u,s),!1;case 1:if(a=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ho===null||!ho.has(b))))return u.flags|=65536,g&=-g,u.lanes|=g,g=Cw(g),Aw(g,s,u,d),zg(u,g),!1}u=u.return}while(u!==null);return!1}var kw=Error(r(461)),cn=!1;function yn(s,a,u,d){a.child=s===null?yw(a,null,u,d):$l(a,s.child,u,d)}function Mw(s,a,u,d,g){u=u.render;var b=a.ref;if("ref"in d){var M={};for(var D in d)D!=="ref"&&(M[D]=d[D])}else M=d;return Ra(a),d=$g(s,a,u,M,b,g),D=Fg(),s!==null&&!cn?(qg(s,a,g),hs(s,a,g)):(ft&&D&&Ag(a),a.flags|=1,yn(s,a,d,g),a.child)}function Ow(s,a,u,d,g){if(s===null){var b=u.type;return typeof b=="function"&&!xg(b)&&b.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=b,Nw(s,a,b,d,g)):(s=Md(u.type,null,d,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(b=s.child,!py(s,g)){var M=b.memoizedProps;if(u=u.compare,u=u!==null?u:su,u(M,d)&&s.ref===a.ref)return hs(s,a,g)}return a.flags|=1,s=ss(b,d),s.ref=a.ref,s.return=a,a.child=s}function Nw(s,a,u,d,g){if(s!==null){var b=s.memoizedProps;if(su(b,d)&&s.ref===a.ref)if(cn=!1,a.pendingProps=d=b,py(s,g))(s.flags&131072)!==0&&(cn=!0);else return a.lanes=s.lanes,hs(s,a,g)}return ay(s,a,u,d,g)}function _w(s,a,u){var d=a.pendingProps,g=d.children,b=s!==null?s.memoizedState:null;if(d.mode==="hidden"){if((a.flags&128)!==0){if(d=b!==null?b.baseLanes|u:u,s!==null){for(g=a.child=s.child,b=0;g!==null;)b=b|g.lanes|g.childLanes,g=g.sibling;a.childLanes=b&~d}else a.childLanes=0,a.child=null;return Rw(s,a,d,u)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Dd(a,b!==null?b.cachePool:null),b!==null?NS(a,b):Bg(),vw(a);else return a.lanes=a.childLanes=536870912,Rw(s,a,b!==null?b.baseLanes|u:u,u)}else b!==null?(Dd(a,b.cachePool),NS(a,b),oo(),a.memoizedState=null):(s!==null&&Dd(a,null),Bg(),oo());return yn(s,a,g,u),a.child}function Rw(s,a,u,d){var g=Ig();return g=g===null?null:{parent:tn._currentValue,pool:g},a.memoizedState={baseLanes:u,cachePool:g},s!==null&&Dd(a,null),Bg(),vw(a),s!==null&&uu(s,a,d,!0),null}function Xd(s,a){var u=a.ref;if(u===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(s===null||s.ref!==u)&&(a.flags|=4194816)}}function ay(s,a,u,d,g){return Ra(a),u=$g(s,a,u,d,void 0,g),d=Fg(),s!==null&&!cn?(qg(s,a,g),hs(s,a,g)):(ft&&d&&Ag(a),a.flags|=1,yn(s,a,u,g),a.child)}function Dw(s,a,u,d,g,b){return Ra(a),a.updateQueue=null,u=RS(a,d,u,g),_S(s),d=Fg(),s!==null&&!cn?(qg(s,a,b),hs(s,a,b)):(ft&&d&&Ag(a),a.flags|=1,yn(s,a,u,b),a.child)}function Iw(s,a,u,d,g){if(Ra(a),a.stateNode===null){var b=Dl,M=u.contextType;typeof M=="object"&&M!==null&&(b=Tn(M)),b=new u(d,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=sy,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=d,b.state=a.memoizedState,b.refs={},Pg(a),M=u.contextType,b.context=typeof M=="object"&&M!==null?Tn(M):Dl,b.state=a.memoizedState,M=u.getDerivedStateFromProps,typeof M=="function"&&(iy(a,u,M,d),b.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(M=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),M!==b.state&&sy.enqueueReplaceState(b,b.state,null),yu(a,d,b,g),gu(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(s===null){b=a.stateNode;var D=a.memoizedProps,V=La(u,D);b.props=V;var Z=b.context,se=u.contextType;M=Dl,typeof se=="object"&&se!==null&&(M=Tn(se));var le=u.getDerivedStateFromProps;se=typeof le=="function"||typeof b.getSnapshotBeforeUpdate=="function",D=a.pendingProps!==D,se||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(D||Z!==M)&&Sw(a,b,d,M),to=!1;var te=a.memoizedState;b.state=te,yu(a,d,b,g),gu(),Z=a.memoizedState,D||te!==Z||to?(typeof le=="function"&&(iy(a,u,le,d),Z=a.memoizedState),(V=to||bw(a,u,V,d,te,Z,M))?(se||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=Z),b.props=d,b.state=Z,b.context=M,d=V):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{b=a.stateNode,jg(s,a),M=a.memoizedProps,se=La(u,M),b.props=se,le=a.pendingProps,te=b.context,Z=u.contextType,V=Dl,typeof Z=="object"&&Z!==null&&(V=Tn(Z)),D=u.getDerivedStateFromProps,(Z=typeof D=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(M!==le||te!==V)&&Sw(a,b,d,V),to=!1,te=a.memoizedState,b.state=te,yu(a,d,b,g),gu();var ne=a.memoizedState;M!==le||te!==ne||to||s!==null&&s.dependencies!==null&&_d(s.dependencies)?(typeof D=="function"&&(iy(a,u,D,d),ne=a.memoizedState),(se=to||bw(a,u,se,d,te,ne,V)||s!==null&&s.dependencies!==null&&_d(s.dependencies))?(Z||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,ne,V),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,ne,V)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||M===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=ne),b.props=d,b.state=ne,b.context=V,d=se):(typeof b.componentDidUpdate!="function"||M===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),d=!1)}return b=d,Xd(s,a),d=(a.flags&128)!==0,b||d?(b=a.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,s!==null&&d?(a.child=$l(a,s.child,null,g),a.child=$l(a,null,u,g)):yn(s,a,u,g),a.memoizedState=b.state,s=a.child):s=hs(s,a,g),s}function Lw(s,a,u,d){return lu(),a.flags|=256,yn(s,a,u,d),a.child}var ly={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cy(s){return{baseLanes:s,cachePool:ES()}}function uy(s,a,u){return s=s!==null?s.childLanes&~u:0,a&&(s|=Pr),s}function Pw(s,a,u){var d=a.pendingProps,g=!1,b=(a.flags&128)!==0,M;if((M=b)||(M=s!==null&&s.memoizedState===null?!1:(nn.current&2)!==0),M&&(g=!0,a.flags&=-129),M=(a.flags&32)!==0,a.flags&=-33,s===null){if(ft){if(g?so(a):oo(),ft){var D=Bt,V;if(V=D){e:{for(V=D,D=Ci;V.nodeType!==8;){if(!D){D=null;break e}if(V=ei(V.nextSibling),V===null){D=null;break e}}D=V}D!==null?(a.memoizedState={dehydrated:D,treeContext:ka!==null?{id:as,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},V=ar(18,null,null,0),V.stateNode=D,V.return=a,a.child=V,Pn=a,Bt=null,V=!0):V=!1}V||Na(a)}if(D=a.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return Gy(D)?a.lanes=32:a.lanes=536870912,null;ds(a)}return D=d.children,d=d.fallback,g?(oo(),g=a.mode,D=Jd({mode:"hidden",children:D},g),d=Aa(d,g,u,null),D.return=a,d.return=a,D.sibling=d,a.child=D,g=a.child,g.memoizedState=cy(u),g.childLanes=uy(s,M,u),a.memoizedState=ly,d):(so(a),fy(a,D))}if(V=s.memoizedState,V!==null&&(D=V.dehydrated,D!==null)){if(b)a.flags&256?(so(a),a.flags&=-257,a=dy(s,a,u)):a.memoizedState!==null?(oo(),a.child=s.child,a.flags|=128,a=null):(oo(),g=d.fallback,D=a.mode,d=Jd({mode:"visible",children:d.children},D),g=Aa(g,D,u,null),g.flags|=2,d.return=a,g.return=a,d.sibling=g,a.child=d,$l(a,s.child,null,u),d=a.child,d.memoizedState=cy(u),d.childLanes=uy(s,M,u),a.memoizedState=ly,a=g);else if(so(a),Gy(D)){if(M=D.nextSibling&&D.nextSibling.dataset,M)var Z=M.dgst;M=Z,d=Error(r(419)),d.stack="",d.digest=M,cu({value:d,source:null,stack:null}),a=dy(s,a,u)}else if(cn||uu(s,a,u,!1),M=(u&s.childLanes)!==0,cn||M){if(M=Nt,M!==null&&(d=u&-u,d=(d&42)!==0?1:Xi(d),d=(d&(M.suspendedLanes|u))!==0?0:d,d!==0&&d!==V.retryLane))throw V.retryLane=d,Rl(s,d),dr(M,s,d),kw;D.data==="$?"||Ny(),a=dy(s,a,u)}else D.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=V.treeContext,Bt=ei(D.nextSibling),Pn=a,ft=!0,Oa=null,Ci=!1,s!==null&&(Dr[Ir++]=as,Dr[Ir++]=ls,Dr[Ir++]=ka,as=s.id,ls=s.overflow,ka=a),a=fy(a,d.children),a.flags|=4096);return a}return g?(oo(),g=d.fallback,D=a.mode,V=s.child,Z=V.sibling,d=ss(V,{mode:"hidden",children:d.children}),d.subtreeFlags=V.subtreeFlags&65011712,Z!==null?g=ss(Z,g):(g=Aa(g,D,u,null),g.flags|=2),g.return=a,d.return=a,d.sibling=g,a.child=d,d=g,g=a.child,D=s.child.memoizedState,D===null?D=cy(u):(V=D.cachePool,V!==null?(Z=tn._currentValue,V=V.parent!==Z?{parent:Z,pool:Z}:V):V=ES(),D={baseLanes:D.baseLanes|u,cachePool:V}),g.memoizedState=D,g.childLanes=uy(s,M,u),a.memoizedState=ly,d):(so(a),u=s.child,s=u.sibling,u=ss(u,{mode:"visible",children:d.children}),u.return=a,u.sibling=null,s!==null&&(M=a.deletions,M===null?(a.deletions=[s],a.flags|=16):M.push(s)),a.child=u,a.memoizedState=null,u)}function fy(s,a){return a=Jd({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Jd(s,a){return s=ar(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function dy(s,a,u){return $l(a,s.child,null,u),s=fy(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function jw(s,a,u){s.lanes|=a;var d=s.alternate;d!==null&&(d.lanes|=a),Ng(s.return,a,u)}function hy(s,a,u,d,g){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:g}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=d,b.tail=u,b.tailMode=g)}function zw(s,a,u){var d=a.pendingProps,g=d.revealOrder,b=d.tail;if(yn(s,a,d.children,u),d=nn.current,(d&2)!==0)d=d&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&jw(s,u,a);else if(s.tag===19)jw(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}switch(fe(nn,d),g){case"forwards":for(u=a.child,g=null;u!==null;)s=u.alternate,s!==null&&Gd(s)===null&&(g=u),u=u.sibling;u=g,u===null?(g=a.child,a.child=null):(g=u.sibling,u.sibling=null),hy(a,!1,g,u,b);break;case"backwards":for(u=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Gd(s)===null){a.child=g;break}s=g.sibling,g.sibling=u,u=g,g=s}hy(a,!0,u,null,b);break;case"together":hy(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function hs(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),fo|=a.lanes,(u&a.childLanes)===0)if(s!==null){if(uu(s,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,u=ss(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=ss(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function py(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&_d(s)))}function vR(s,a,u){switch(a.tag){case 3:at(a,a.stateNode.containerInfo),eo(a,tn,s.memoizedState.cache),lu();break;case 27:case 5:Ct(a);break;case 4:at(a,a.stateNode.containerInfo);break;case 10:eo(a,a.type,a.memoizedProps.value);break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(so(a),a.flags|=128,null):(u&a.child.childLanes)!==0?Pw(s,a,u):(so(a),s=hs(s,a,u),s!==null?s.sibling:null);so(a);break;case 19:var g=(s.flags&128)!==0;if(d=(u&a.childLanes)!==0,d||(uu(s,a,u,!1),d=(u&a.childLanes)!==0),g){if(d)return zw(s,a,u);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),fe(nn,nn.current),d)break;return null;case 22:case 23:return a.lanes=0,_w(s,a,u);case 24:eo(a,tn,s.memoizedState.cache)}return hs(s,a,u)}function Uw(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps)cn=!0;else{if(!py(s,u)&&(a.flags&128)===0)return cn=!1,vR(s,a,u);cn=(s.flags&131072)!==0}else cn=!1,ft&&(a.flags&1048576)!==0&&mS(a,Nd,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var d=a.elementType,g=d._init;if(d=g(d._payload),a.type=d,typeof d=="function")xg(d)?(s=La(d,s),a.tag=1,a=Iw(null,a,d,s,u)):(a.tag=0,a=ay(null,a,d,s,u));else{if(d!=null){if(g=d.$$typeof,g===K){a.tag=11,a=Mw(null,a,d,s,u);break e}else if(g===_){a.tag=14,a=Ow(null,a,d,s,u);break e}}throw a=ve(d)||d,Error(r(306,a,""))}}return a;case 0:return ay(s,a,a.type,a.pendingProps,u);case 1:return d=a.type,g=La(d,a.pendingProps),Iw(s,a,d,g,u);case 3:e:{if(at(a,a.stateNode.containerInfo),s===null)throw Error(r(387));d=a.pendingProps;var b=a.memoizedState;g=b.element,jg(s,a),yu(a,d,null,u);var M=a.memoizedState;if(d=M.cache,eo(a,tn,d),d!==b.cache&&_g(a,[tn],u,!0),gu(),d=M.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:M.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=Lw(s,a,d,u);break e}else if(d!==g){g=_r(Error(r(424)),a),cu(g),a=Lw(s,a,d,u);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Bt=ei(s.firstChild),Pn=a,ft=!0,Oa=null,Ci=!0,u=yw(a,null,d,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(lu(),d===g){a=hs(s,a,u);break e}yn(s,a,d,u)}a=a.child}return a;case 26:return Xd(s,a),s===null?(u=$E(a.type,null,a.pendingProps,null))?a.memoizedState=u:ft||(u=a.type,s=a.pendingProps,d=fh(De.current).createElement(u),d[ue]=a,d[pe]=s,bn(d,u,s),$e(d),a.stateNode=d):a.memoizedState=$E(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Ct(a),s===null&&ft&&(d=a.stateNode=BE(a.type,a.pendingProps,De.current),Pn=a,Ci=!0,g=Bt,go(a.type)?(Ky=g,Bt=ei(d.firstChild)):Bt=g),yn(s,a,a.pendingProps.children,u),Xd(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&ft&&((g=d=Bt)&&(d=WR(d,a.type,a.pendingProps,Ci),d!==null?(a.stateNode=d,Pn=a,Bt=ei(d.firstChild),Ci=!1,g=!0):g=!1),g||Na(a)),Ct(a),g=a.type,b=a.pendingProps,M=s!==null?s.memoizedProps:null,d=b.children,Fy(g,b)?d=null:M!==null&&Fy(g,M)&&(a.flags|=32),a.memoizedState!==null&&(g=$g(s,a,uR,null,null,u),Uu._currentValue=g),Xd(s,a),yn(s,a,d,u),a.child;case 6:return s===null&&ft&&((s=u=Bt)&&(u=GR(u,a.pendingProps,Ci),u!==null?(a.stateNode=u,Pn=a,Bt=null,s=!0):s=!1),s||Na(a)),null;case 13:return Pw(s,a,u);case 4:return at(a,a.stateNode.containerInfo),d=a.pendingProps,s===null?a.child=$l(a,null,d,u):yn(s,a,d,u),a.child;case 11:return Mw(s,a,a.type,a.pendingProps,u);case 7:return yn(s,a,a.pendingProps,u),a.child;case 8:return yn(s,a,a.pendingProps.children,u),a.child;case 12:return yn(s,a,a.pendingProps.children,u),a.child;case 10:return d=a.pendingProps,eo(a,a.type,d.value),yn(s,a,d.children,u),a.child;case 9:return g=a.type._context,d=a.pendingProps.children,Ra(a),g=Tn(g),d=d(g),a.flags|=1,yn(s,a,d,u),a.child;case 14:return Ow(s,a,a.type,a.pendingProps,u);case 15:return Nw(s,a,a.type,a.pendingProps,u);case 19:return zw(s,a,u);case 31:return d=a.pendingProps,u=a.mode,d={mode:d.mode,children:d.children},s===null?(u=Jd(d,u),u.ref=a.ref,a.child=u,u.return=a,a=u):(u=ss(s.child,d),u.ref=a.ref,a.child=u,u.return=a,a=u),a;case 22:return _w(s,a,u);case 24:return Ra(a),d=Tn(tn),s===null?(g=Ig(),g===null&&(g=Nt,b=Rg(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=u),g=b),a.memoizedState={parent:d,cache:g},Pg(a),eo(a,tn,g)):((s.lanes&u)!==0&&(jg(s,a),yu(a,null,null,u),gu()),g=s.memoizedState,b=a.memoizedState,g.parent!==d?(g={parent:d,cache:d},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),eo(a,tn,d)):(d=b.cache,eo(a,tn,d),d!==g.cache&&_g(a,[tn],u,!0))),yn(s,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function ps(s){s.flags|=4}function Bw(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!KE(a)){if(a=Lr.current,a!==null&&((nt&4194048)===nt?Ai!==null:(nt&62914560)!==nt&&(nt&536870912)===0||a!==Ai))throw pu=Lg,xS;s.flags|=8192}}function Qd(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?bl():536870912,s.lanes|=a,Gl|=a)}function Tu(s,a){if(!ft)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function jt(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,d=0;if(a)for(var g=s.child;g!==null;)u|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)u|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=d,s.childLanes=u,a}function bR(s,a,u){var d=a.pendingProps;switch(kg(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(a),null;case 1:return jt(a),null;case 3:return u=a.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),us(tn),$n(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(au(a)?ps(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,vS())),jt(a),null;case 26:return u=a.memoizedState,s===null?(ps(a),u!==null?(jt(a),Bw(a,u)):(jt(a),a.flags&=-16777217)):u?u!==s.memoizedState?(ps(a),jt(a),Bw(a,u)):(jt(a),a.flags&=-16777217):(s.memoizedProps!==d&&ps(a),jt(a),a.flags&=-16777217),null;case 27:rn(a),u=De.current;var g=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==d&&ps(a);else{if(!d){if(a.stateNode===null)throw Error(r(166));return jt(a),null}s=we.current,au(a)?gS(a):(s=BE(g,d,u),a.stateNode=s,ps(a))}return jt(a),null;case 5:if(rn(a),u=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==d&&ps(a);else{if(!d){if(a.stateNode===null)throw Error(r(166));return jt(a),null}if(s=we.current,au(a))gS(a);else{switch(g=fh(De.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof d.is=="string"?g.createElement("select",{is:d.is}):g.createElement("select"),d.multiple?s.multiple=!0:d.size&&(s.size=d.size);break;default:s=typeof d.is=="string"?g.createElement(u,{is:d.is}):g.createElement(u)}}s[ue]=a,s[pe]=d;e:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break e;for(;g.sibling===null;){if(g.return===null||g.return===a)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=s;e:switch(bn(s,u,d),u){case"button":case"input":case"select":case"textarea":s=!!d.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ps(a)}}return jt(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==d&&ps(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(r(166));if(s=De.current,au(a)){if(s=a.stateNode,u=a.memoizedProps,d=null,g=Pn,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}s[ue]=a,s=!!(s.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||DE(s.nodeValue,u)),s||Na(a)}else s=fh(s).createTextNode(d),s[ue]=a,a.stateNode=s}return jt(a),null;case 13:if(d=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=au(a),d!==null&&d.dehydrated!==null){if(s===null){if(!g)throw Error(r(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[ue]=a}else lu(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;jt(a),g=!1}else g=vS(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(ds(a),a):(ds(a),null)}if(ds(a),(a.flags&128)!==0)return a.lanes=u,a;if(u=d!==null,s=s!==null&&s.memoizedState!==null,u){d=a.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool);var b=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==g&&(d.flags|=2048)}return u!==s&&u&&(a.child.flags|=8192),Qd(a,a.updateQueue),jt(a),null;case 4:return $n(),s===null&&Uy(a.stateNode.containerInfo),jt(a),null;case 10:return us(a.type),jt(a),null;case 19:if(he(nn),g=a.memoizedState,g===null)return jt(a),null;if(d=(a.flags&128)!==0,b=g.rendering,b===null)if(d)Tu(g,!1);else{if(Ht!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(b=Gd(s),b!==null){for(a.flags|=128,Tu(g,!1),s=b.updateQueue,a.updateQueue=s,Qd(a,s),a.subtreeFlags=0,s=u,u=a.child;u!==null;)pS(u,s),u=u.sibling;return fe(nn,nn.current&1|2),a.child}s=s.sibling}g.tail!==null&&Rn()>th&&(a.flags|=128,d=!0,Tu(g,!1),a.lanes=4194304)}else{if(!d)if(s=Gd(b),s!==null){if(a.flags|=128,d=!0,s=s.updateQueue,a.updateQueue=s,Qd(a,s),Tu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!b.alternate&&!ft)return jt(a),null}else 2*Rn()-g.renderingStartTime>th&&u!==536870912&&(a.flags|=128,d=!0,Tu(g,!1),a.lanes=4194304);g.isBackwards?(b.sibling=a.child,a.child=b):(s=g.last,s!==null?s.sibling=b:a.child=b,g.last=b)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=Rn(),a.sibling=null,s=nn.current,fe(nn,d?s&1|2:s&1),a):(jt(a),null);case 22:case 23:return ds(a),Hg(),d=a.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(u&536870912)!==0&&(a.flags&128)===0&&(jt(a),a.subtreeFlags&6&&(a.flags|=8192)):jt(a),u=a.updateQueue,u!==null&&Qd(a,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==u&&(a.flags|=2048),s!==null&&he(Da),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),us(tn),jt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function SR(s,a){switch(kg(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return us(tn),$n(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return rn(a),null;case 13:if(ds(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));lu()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return he(nn),null;case 4:return $n(),null;case 10:return us(a.type),null;case 22:case 23:return ds(a),Hg(),s!==null&&he(Da),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return us(tn),null;case 25:return null;default:return null}}function Hw(s,a){switch(kg(a),a.tag){case 3:us(tn),$n();break;case 26:case 27:case 5:rn(a);break;case 4:$n();break;case 13:ds(a);break;case 19:he(nn);break;case 10:us(a.type);break;case 22:case 23:ds(a),Hg(),s!==null&&he(Da);break;case 24:us(tn)}}function Cu(s,a){try{var u=a.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&s)===s){d=void 0;var b=u.create,M=u.inst;d=b(),M.destroy=d}u=u.next}while(u!==g)}}catch(D){At(a,a.return,D)}}function ao(s,a,u){try{var d=a.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var b=g.next;d=b;do{if((d.tag&s)===s){var M=d.inst,D=M.destroy;if(D!==void 0){M.destroy=void 0,g=a;var V=u,Z=D;try{Z()}catch(se){At(g,V,se)}}}d=d.next}while(d!==b)}}catch(se){At(a,a.return,se)}}function Vw(s){var a=s.updateQueue;if(a!==null){var u=s.stateNode;try{OS(a,u)}catch(d){At(s,s.return,d)}}}function $w(s,a,u){u.props=La(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(d){At(s,a,d)}}function Au(s,a){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof u=="function"?s.refCleanup=u(d):u.current=d}}catch(g){At(s,a,g)}}function ki(s,a){var u=s.ref,d=s.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(g){At(s,a,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(g){At(s,a,g)}else u.current=null}function Fw(s){var a=s.type,u=s.memoizedProps,d=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(g){At(s,s.return,g)}}function my(s,a,u){try{var d=s.stateNode;HR(d,s.type,u,a),d[pe]=a}catch(g){At(s,s.return,g)}}function qw(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&go(s.type)||s.tag===4}function gy(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||qw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&go(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function yy(s,a,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(s),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=uh));else if(d!==4&&(d===27&&go(s.type)&&(u=s.stateNode,a=null),s=s.child,s!==null))for(yy(s,a,u),s=s.sibling;s!==null;)yy(s,a,u),s=s.sibling}function Zd(s,a,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(d!==4&&(d===27&&go(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(Zd(s,a,u),s=s.sibling;s!==null;)Zd(s,a,u),s=s.sibling}function Ww(s){var a=s.stateNode,u=s.memoizedProps;try{for(var d=s.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);bn(a,d,u),a[ue]=s,a[pe]=u}catch(b){At(s,s.return,b)}}var ms=!1,Wt=!1,vy=!1,Gw=typeof WeakSet=="function"?WeakSet:Set,un=null;function wR(s,a){if(s=s.containerInfo,Vy=yh,s=iS(s),gg(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var g=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var M=0,D=-1,V=-1,Z=0,se=0,le=s,te=null;t:for(;;){for(var ne;le!==u||g!==0&&le.nodeType!==3||(D=M+g),le!==b||d!==0&&le.nodeType!==3||(V=M+d),le.nodeType===3&&(M+=le.nodeValue.length),(ne=le.firstChild)!==null;)te=le,le=ne;for(;;){if(le===s)break t;if(te===u&&++Z===g&&(D=M),te===b&&++se===d&&(V=M),(ne=le.nextSibling)!==null)break;le=te,te=le.parentNode}le=ne}u=D===-1||V===-1?null:{start:D,end:V}}else u=null}u=u||{start:0,end:0}}else u=null;for($y={focusedElem:s,selectionRange:u},yh=!1,un=a;un!==null;)if(a=un,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,un=s;else for(;un!==null;){switch(a=un,b=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,u=a,g=b.memoizedProps,b=b.memoizedState,d=u.stateNode;try{var Be=La(u.type,g,u.elementType===u.type);s=d.getSnapshotBeforeUpdate(Be,b),d.__reactInternalSnapshotBeforeUpdate=s}catch(Le){At(u,u.return,Le)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,u=s.nodeType,u===9)Wy(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Wy(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,un=s;break}un=a.return}}function Kw(s,a,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:lo(s,u),d&4&&Cu(5,u);break;case 1:if(lo(s,u),d&4)if(s=u.stateNode,a===null)try{s.componentDidMount()}catch(M){At(u,u.return,M)}else{var g=La(u.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(g,a,s.__reactInternalSnapshotBeforeUpdate)}catch(M){At(u,u.return,M)}}d&64&&Vw(u),d&512&&Au(u,u.return);break;case 3:if(lo(s,u),d&64&&(s=u.updateQueue,s!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{OS(s,a)}catch(M){At(u,u.return,M)}}break;case 27:a===null&&d&4&&Ww(u);case 26:case 5:lo(s,u),a===null&&d&4&&Fw(u),d&512&&Au(u,u.return);break;case 12:lo(s,u);break;case 13:lo(s,u),d&4&&Jw(s,u),d&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=NR.bind(null,u),KR(s,u))));break;case 22:if(d=u.memoizedState!==null||ms,!d){a=a!==null&&a.memoizedState!==null||Wt,g=ms;var b=Wt;ms=d,(Wt=a)&&!b?co(s,u,(u.subtreeFlags&8772)!==0):lo(s,u),ms=g,Wt=b}break;case 30:break;default:lo(s,u)}}function Yw(s){var a=s.alternate;a!==null&&(s.alternate=null,Yw(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Ee(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Lt=null,Xn=!1;function gs(s,a,u){for(u=u.child;u!==null;)Xw(s,a,u),u=u.sibling}function Xw(s,a,u){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(lt,u)}catch{}switch(u.tag){case 26:Wt||ki(u,a),gs(s,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Wt||ki(u,a);var d=Lt,g=Xn;go(u.type)&&(Lt=u.stateNode,Xn=!1),gs(s,a,u),Lu(u.stateNode),Lt=d,Xn=g;break;case 5:Wt||ki(u,a);case 6:if(d=Lt,g=Xn,Lt=null,gs(s,a,u),Lt=d,Xn=g,Lt!==null)if(Xn)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(u.stateNode)}catch(b){At(u,a,b)}else try{Lt.removeChild(u.stateNode)}catch(b){At(u,a,b)}break;case 18:Lt!==null&&(Xn?(s=Lt,zE(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),$u(s)):zE(Lt,u.stateNode));break;case 4:d=Lt,g=Xn,Lt=u.stateNode.containerInfo,Xn=!0,gs(s,a,u),Lt=d,Xn=g;break;case 0:case 11:case 14:case 15:Wt||ao(2,u,a),Wt||ao(4,u,a),gs(s,a,u);break;case 1:Wt||(ki(u,a),d=u.stateNode,typeof d.componentWillUnmount=="function"&&$w(u,a,d)),gs(s,a,u);break;case 21:gs(s,a,u);break;case 22:Wt=(d=Wt)||u.memoizedState!==null,gs(s,a,u),Wt=d;break;default:gs(s,a,u)}}function Jw(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{$u(s)}catch(u){At(a,a.return,u)}}function ER(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new Gw),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new Gw),a;default:throw Error(r(435,s.tag))}}function by(s,a){var u=ER(s);a.forEach(function(d){var g=_R.bind(null,s,d);u.has(d)||(u.add(d),d.then(g,g))})}function lr(s,a){var u=a.deletions;if(u!==null)for(var d=0;d<u.length;d++){var g=u[d],b=s,M=a,D=M;e:for(;D!==null;){switch(D.tag){case 27:if(go(D.type)){Lt=D.stateNode,Xn=!1;break e}break;case 5:Lt=D.stateNode,Xn=!1;break e;case 3:case 4:Lt=D.stateNode.containerInfo,Xn=!0;break e}D=D.return}if(Lt===null)throw Error(r(160));Xw(b,M,g),Lt=null,Xn=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Qw(a,s),a=a.sibling}var Zr=null;function Qw(s,a){var u=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:lr(a,s),cr(s),d&4&&(ao(3,s,s.return),Cu(3,s),ao(5,s,s.return));break;case 1:lr(a,s),cr(s),d&512&&(Wt||u===null||ki(u,u.return)),d&64&&ms&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var g=Zr;if(lr(a,s),cr(s),d&512&&(Wt||u===null||ki(u,u.return)),d&4){var b=u!==null?u.memoizedState:null;if(d=s.memoizedState,u===null)if(d===null)if(s.stateNode===null){e:{d=s.type,u=s.memoizedProps,g=g.ownerDocument||g;t:switch(d){case"title":b=g.getElementsByTagName("title")[0],(!b||b[ke]||b[ue]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(d),g.head.insertBefore(b,g.querySelector("head > title"))),bn(b,d,u),b[ue]=s,$e(b),d=b;break e;case"link":var M=WE("link","href",g).get(d+(u.href||""));if(M){for(var D=0;D<M.length;D++)if(b=M[D],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){M.splice(D,1);break t}}b=g.createElement(d),bn(b,d,u),g.head.appendChild(b);break;case"meta":if(M=WE("meta","content",g).get(d+(u.content||""))){for(D=0;D<M.length;D++)if(b=M[D],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){M.splice(D,1);break t}}b=g.createElement(d),bn(b,d,u),g.head.appendChild(b);break;default:throw Error(r(468,d))}b[ue]=s,$e(b),d=b}s.stateNode=d}else GE(g,s.type,s.stateNode);else s.stateNode=qE(g,d,s.memoizedProps);else b!==d?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,d===null?GE(g,s.type,s.stateNode):qE(g,d,s.memoizedProps)):d===null&&s.stateNode!==null&&my(s,s.memoizedProps,u.memoizedProps)}break;case 27:lr(a,s),cr(s),d&512&&(Wt||u===null||ki(u,u.return)),u!==null&&d&4&&my(s,s.memoizedProps,u.memoizedProps);break;case 5:if(lr(a,s),cr(s),d&512&&(Wt||u===null||ki(u,u.return)),s.flags&32){g=s.stateNode;try{kr(g,"")}catch(ne){At(s,s.return,ne)}}d&4&&s.stateNode!=null&&(g=s.memoizedProps,my(s,g,u!==null?u.memoizedProps:g)),d&1024&&(vy=!0);break;case 6:if(lr(a,s),cr(s),d&4){if(s.stateNode===null)throw Error(r(162));d=s.memoizedProps,u=s.stateNode;try{u.nodeValue=d}catch(ne){At(s,s.return,ne)}}break;case 3:if(ph=null,g=Zr,Zr=dh(a.containerInfo),lr(a,s),Zr=g,cr(s),d&4&&u!==null&&u.memoizedState.isDehydrated)try{$u(a.containerInfo)}catch(ne){At(s,s.return,ne)}vy&&(vy=!1,Zw(s));break;case 4:d=Zr,Zr=dh(s.stateNode.containerInfo),lr(a,s),cr(s),Zr=d;break;case 12:lr(a,s),cr(s);break;case 13:lr(a,s),cr(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Cy=Rn()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,by(s,d)));break;case 22:g=s.memoizedState!==null;var V=u!==null&&u.memoizedState!==null,Z=ms,se=Wt;if(ms=Z||g,Wt=se||V,lr(a,s),Wt=se,ms=Z,cr(s),d&8192)e:for(a=s.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(u===null||V||ms||Wt||Pa(s)),u=null,a=s;;){if(a.tag===5||a.tag===26){if(u===null){V=u=a;try{if(b=V.stateNode,g)M=b.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{D=V.stateNode;var le=V.memoizedProps.style,te=le!=null&&le.hasOwnProperty("display")?le.display:null;D.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){At(V,V.return,ne)}}}else if(a.tag===6){if(u===null){V=a;try{V.stateNode.nodeValue=g?"":V.memoizedProps}catch(ne){At(V,V.return,ne)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=s.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,by(s,u))));break;case 19:lr(a,s),cr(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,by(s,d)));break;case 30:break;case 21:break;default:lr(a,s),cr(s)}}function cr(s){var a=s.flags;if(a&2){try{for(var u,d=s.return;d!==null;){if(qw(d)){u=d;break}d=d.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var g=u.stateNode,b=gy(s);Zd(s,b,g);break;case 5:var M=u.stateNode;u.flags&32&&(kr(M,""),u.flags&=-33);var D=gy(s);Zd(s,D,M);break;case 3:case 4:var V=u.stateNode.containerInfo,Z=gy(s);yy(s,Z,V);break;default:throw Error(r(161))}}catch(se){At(s,s.return,se)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function Zw(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;Zw(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function lo(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Kw(s,a.alternate,a),a=a.sibling}function Pa(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:ao(4,a,a.return),Pa(a);break;case 1:ki(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&$w(a,a.return,u),Pa(a);break;case 27:Lu(a.stateNode);case 26:case 5:ki(a,a.return),Pa(a);break;case 22:a.memoizedState===null&&Pa(a);break;case 30:Pa(a);break;default:Pa(a)}s=s.sibling}}function co(s,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,g=s,b=a,M=b.flags;switch(b.tag){case 0:case 11:case 15:co(g,b,u),Cu(4,b);break;case 1:if(co(g,b,u),d=b,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Z){At(d,d.return,Z)}if(d=b,g=d.updateQueue,g!==null){var D=d.stateNode;try{var V=g.shared.hiddenCallbacks;if(V!==null)for(g.shared.hiddenCallbacks=null,g=0;g<V.length;g++)MS(V[g],D)}catch(Z){At(d,d.return,Z)}}u&&M&64&&Vw(b),Au(b,b.return);break;case 27:Ww(b);case 26:case 5:co(g,b,u),u&&d===null&&M&4&&Fw(b),Au(b,b.return);break;case 12:co(g,b,u);break;case 13:co(g,b,u),u&&M&4&&Jw(g,b);break;case 22:b.memoizedState===null&&co(g,b,u),Au(b,b.return);break;case 30:break;default:co(g,b,u)}a=a.sibling}}function Sy(s,a){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&fu(u))}function wy(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&fu(s))}function Mi(s,a,u,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)eE(s,a,u,d),a=a.sibling}function eE(s,a,u,d){var g=a.flags;switch(a.tag){case 0:case 11:case 15:Mi(s,a,u,d),g&2048&&Cu(9,a);break;case 1:Mi(s,a,u,d);break;case 3:Mi(s,a,u,d),g&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&fu(s)));break;case 12:if(g&2048){Mi(s,a,u,d),s=a.stateNode;try{var b=a.memoizedProps,M=b.id,D=b.onPostCommit;typeof D=="function"&&D(M,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(V){At(a,a.return,V)}}else Mi(s,a,u,d);break;case 13:Mi(s,a,u,d);break;case 23:break;case 22:b=a.stateNode,M=a.alternate,a.memoizedState!==null?b._visibility&2?Mi(s,a,u,d):ku(s,a):b._visibility&2?Mi(s,a,u,d):(b._visibility|=2,Fl(s,a,u,d,(a.subtreeFlags&10256)!==0)),g&2048&&Sy(M,a);break;case 24:Mi(s,a,u,d),g&2048&&wy(a.alternate,a);break;default:Mi(s,a,u,d)}}function Fl(s,a,u,d,g){for(g=g&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var b=s,M=a,D=u,V=d,Z=M.flags;switch(M.tag){case 0:case 11:case 15:Fl(b,M,D,V,g),Cu(8,M);break;case 23:break;case 22:var se=M.stateNode;M.memoizedState!==null?se._visibility&2?Fl(b,M,D,V,g):ku(b,M):(se._visibility|=2,Fl(b,M,D,V,g)),g&&Z&2048&&Sy(M.alternate,M);break;case 24:Fl(b,M,D,V,g),g&&Z&2048&&wy(M.alternate,M);break;default:Fl(b,M,D,V,g)}a=a.sibling}}function ku(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=s,d=a,g=d.flags;switch(d.tag){case 22:ku(u,d),g&2048&&Sy(d.alternate,d);break;case 24:ku(u,d),g&2048&&wy(d.alternate,d);break;default:ku(u,d)}a=a.sibling}}var Mu=8192;function ql(s){if(s.subtreeFlags&Mu)for(s=s.child;s!==null;)tE(s),s=s.sibling}function tE(s){switch(s.tag){case 26:ql(s),s.flags&Mu&&s.memoizedState!==null&&aD(Zr,s.memoizedState,s.memoizedProps);break;case 5:ql(s);break;case 3:case 4:var a=Zr;Zr=dh(s.stateNode.containerInfo),ql(s),Zr=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Mu,Mu=16777216,ql(s),Mu=a):ql(s));break;default:ql(s)}}function nE(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Ou(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var d=a[u];un=d,iE(d,s)}nE(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)rE(s),s=s.sibling}function rE(s){switch(s.tag){case 0:case 11:case 15:Ou(s),s.flags&2048&&ao(9,s,s.return);break;case 3:Ou(s);break;case 12:Ou(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,eh(s)):Ou(s);break;default:Ou(s)}}function eh(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var d=a[u];un=d,iE(d,s)}nE(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:ao(8,a,a.return),eh(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,eh(a));break;default:eh(a)}s=s.sibling}}function iE(s,a){for(;un!==null;){var u=un;switch(u.tag){case 0:case 11:case 15:ao(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:fu(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,un=d;else e:for(u=s;un!==null;){d=un;var g=d.sibling,b=d.return;if(Yw(d),d===u){un=null;break e}if(g!==null){g.return=b,un=g;break e}un=b}}}var xR={getCacheForType:function(s){var a=Tn(tn),u=a.data.get(s);return u===void 0&&(u=s(),a.data.set(s,u)),u}},TR=typeof WeakMap=="function"?WeakMap:Map,gt=0,Nt=null,Je=null,nt=0,yt=0,ur=null,uo=!1,Wl=!1,Ey=!1,ys=0,Ht=0,fo=0,ja=0,xy=0,Pr=0,Gl=0,Nu=null,Jn=null,Ty=!1,Cy=0,th=1/0,nh=null,ho=null,vn=0,po=null,Kl=null,Yl=0,Ay=0,ky=null,sE=null,_u=0,My=null;function fr(){if((gt&2)!==0&&nt!==0)return nt&-nt;if(G.T!==null){var s=Pl;return s!==0?s:Ly()}return F()}function oE(){Pr===0&&(Pr=(nt&536870912)===0||ft?Yi():536870912);var s=Lr.current;return s!==null&&(s.flags|=32),Pr}function dr(s,a,u){(s===Nt&&(yt===2||yt===9)||s.cancelPendingCommit!==null)&&(Xl(s,0),mo(s,nt,Pr,!1)),Kr(s,u),((gt&2)===0||s!==Nt)&&(s===Nt&&((gt&2)===0&&(ja|=u),Ht===4&&mo(s,nt,Pr,!1)),Oi(s))}function aE(s,a,u){if((gt&6)!==0)throw Error(r(327));var d=!u&&(a&124)===0&&(a&s.expiredLanes)===0||Tr(s,a),g=d?kR(s,a):_y(s,a,!0),b=d;do{if(g===0){Wl&&!d&&mo(s,a,0,!1);break}else{if(u=s.current.alternate,b&&!CR(u)){g=_y(s,a,!1),b=!1;continue}if(g===2){if(b=a,s.errorRecoveryDisabledLanes&b)var M=0;else M=s.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){a=M;e:{var D=s;g=Nu;var V=D.current.memoizedState.isDehydrated;if(V&&(Xl(D,M).flags|=256),M=_y(D,M,!1),M!==2){if(Ey&&!V){D.errorRecoveryDisabledLanes|=b,ja|=b,g=4;break e}b=Jn,Jn=g,b!==null&&(Jn===null?Jn=b:Jn.push.apply(Jn,b))}g=M}if(b=!1,g!==2)continue}}if(g===1){Xl(s,0),mo(s,a,0,!0);break}e:{switch(d=s,b=g,b){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:mo(d,a,Pr,!uo);break e;case 2:Jn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(g=Cy+300-Rn(),10<g)){if(mo(d,a,Pr,!uo),Ki(d,0,!0)!==0)break e;d.timeoutHandle=PE(lE.bind(null,d,u,Jn,nh,Ty,a,Pr,ja,Gl,uo,b,2,-0,0),g);break e}lE(d,u,Jn,nh,Ty,a,Pr,ja,Gl,uo,b,0,-0,0)}}break}while(!0);Oi(s)}function lE(s,a,u,d,g,b,M,D,V,Z,se,le,te,ne){if(s.timeoutHandle=-1,le=a.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(zu={stylesheets:null,count:0,unsuspend:oD},tE(a),le=lD(),le!==null)){s.cancelPendingCommit=le(mE.bind(null,s,a,b,u,d,g,M,D,V,se,1,te,ne)),mo(s,b,M,!Z);return}mE(s,a,b,u,d,g,M,D,V)}function CR(s){for(var a=s;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var g=u[d],b=g.getSnapshot;g=g.value;try{if(!or(b(),g))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function mo(s,a,u,d){a&=~xy,a&=~ja,s.suspendedLanes|=a,s.pingedLanes&=~a,d&&(s.warmLanes|=a),d=s.expirationTimes;for(var g=a;0<g;){var b=31-Gt(g),M=1<<b;d[b]=-1,g&=~M}u!==0&&qn(s,u,a)}function rh(){return(gt&6)===0?(Ru(0),!1):!0}function Oy(){if(Je!==null){if(yt===0)var s=Je.return;else s=Je,cs=_a=null,Wg(s),Vl=null,Eu=0,s=Je;for(;s!==null;)Hw(s.alternate,s),s=s.return;Je=null}}function Xl(s,a){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,$R(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),Oy(),Nt=s,Je=u=ss(s.current,null),nt=a,yt=0,ur=null,uo=!1,Wl=Tr(s,a),Ey=!1,Gl=Pr=xy=ja=fo=Ht=0,Jn=Nu=null,Ty=!1,(a&8)!==0&&(a|=a&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=a;0<d;){var g=31-Gt(d),b=1<<g;a|=s[g],d&=~b}return ys=a,Cd(),u}function cE(s,a){Ke=null,G.H=Fd,a===hu||a===Id?(a=AS(),yt=3):a===xS?(a=AS(),yt=4):yt=a===kw?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ur=a,Je===null&&(Ht=1,Yd(s,_r(a,s.current)))}function uE(){var s=G.H;return G.H=Fd,s===null?Fd:s}function fE(){var s=G.A;return G.A=xR,s}function Ny(){Ht=4,uo||(nt&4194048)!==nt&&Lr.current!==null||(Wl=!0),(fo&134217727)===0&&(ja&134217727)===0||Nt===null||mo(Nt,nt,Pr,!1)}function _y(s,a,u){var d=gt;gt|=2;var g=uE(),b=fE();(Nt!==s||nt!==a)&&(nh=null,Xl(s,a)),a=!1;var M=Ht;e:do try{if(yt!==0&&Je!==null){var D=Je,V=ur;switch(yt){case 8:Oy(),M=6;break e;case 3:case 2:case 9:case 6:Lr.current===null&&(a=!0);var Z=yt;if(yt=0,ur=null,Jl(s,D,V,Z),u&&Wl){M=0;break e}break;default:Z=yt,yt=0,ur=null,Jl(s,D,V,Z)}}AR(),M=Ht;break}catch(se){cE(s,se)}while(!0);return a&&s.shellSuspendCounter++,cs=_a=null,gt=d,G.H=g,G.A=b,Je===null&&(Nt=null,nt=0,Cd()),M}function AR(){for(;Je!==null;)dE(Je)}function kR(s,a){var u=gt;gt|=2;var d=uE(),g=fE();Nt!==s||nt!==a?(nh=null,th=Rn()+500,Xl(s,a)):Wl=Tr(s,a);e:do try{if(yt!==0&&Je!==null){a=Je;var b=ur;t:switch(yt){case 1:yt=0,ur=null,Jl(s,a,b,1);break;case 2:case 9:if(TS(b)){yt=0,ur=null,hE(a);break}a=function(){yt!==2&&yt!==9||Nt!==s||(yt=7),Oi(s)},b.then(a,a);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:TS(b)?(yt=0,ur=null,hE(a)):(yt=0,ur=null,Jl(s,a,b,7));break;case 5:var M=null;switch(Je.tag){case 26:M=Je.memoizedState;case 5:case 27:var D=Je;if(!M||KE(M)){yt=0,ur=null;var V=D.sibling;if(V!==null)Je=V;else{var Z=D.return;Z!==null?(Je=Z,ih(Z)):Je=null}break t}}yt=0,ur=null,Jl(s,a,b,5);break;case 6:yt=0,ur=null,Jl(s,a,b,6);break;case 8:Oy(),Ht=6;break e;default:throw Error(r(462))}}MR();break}catch(se){cE(s,se)}while(!0);return cs=_a=null,G.H=d,G.A=g,gt=u,Je!==null?0:(Nt=null,nt=0,Cd(),Ht)}function MR(){for(;Je!==null&&!fa();)dE(Je)}function dE(s){var a=Uw(s.alternate,s,ys);s.memoizedProps=s.pendingProps,a===null?ih(s):Je=a}function hE(s){var a=s,u=a.alternate;switch(a.tag){case 15:case 0:a=Dw(u,a,a.pendingProps,a.type,void 0,nt);break;case 11:a=Dw(u,a,a.pendingProps,a.type.render,a.ref,nt);break;case 5:Wg(a);default:Hw(u,a),a=Je=pS(a,ys),a=Uw(u,a,ys)}s.memoizedProps=s.pendingProps,a===null?ih(s):Je=a}function Jl(s,a,u,d){cs=_a=null,Wg(a),Vl=null,Eu=0;var g=a.return;try{if(yR(s,g,a,u,nt)){Ht=1,Yd(s,_r(u,s.current)),Je=null;return}}catch(b){if(g!==null)throw Je=g,b;Ht=1,Yd(s,_r(u,s.current)),Je=null;return}a.flags&32768?(ft||d===1?s=!0:Wl||(nt&536870912)!==0?s=!1:(uo=s=!0,(d===2||d===9||d===3||d===6)&&(d=Lr.current,d!==null&&d.tag===13&&(d.flags|=16384))),pE(a,s)):ih(a)}function ih(s){var a=s;do{if((a.flags&32768)!==0){pE(a,uo);return}s=a.return;var u=bR(a.alternate,a,ys);if(u!==null){Je=u;return}if(a=a.sibling,a!==null){Je=a;return}Je=a=s}while(a!==null);Ht===0&&(Ht=5)}function pE(s,a){do{var u=SR(s.alternate,s);if(u!==null){u.flags&=32767,Je=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(s=s.sibling,s!==null)){Je=s;return}Je=s=u}while(s!==null);Ht=6,Je=null}function mE(s,a,u,d,g,b,M,D,V){s.cancelPendingCommit=null;do sh();while(vn!==0);if((gt&6)!==0)throw Error(r(327));if(a!==null){if(a===s.current)throw Error(r(177));if(b=a.lanes|a.childLanes,b|=wg,Ws(s,u,b,M,D,V),s===Nt&&(Je=Nt=null,nt=0),Kl=a,po=s,Yl=u,Ay=b,ky=g,sE=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,RR(Gi,function(){return SE(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=G.T,G.T=null,g=oe.p,oe.p=2,M=gt,gt|=4;try{wR(s,a,u)}finally{gt=M,oe.p=g,G.T=d}}vn=1,gE(),yE(),vE()}}function gE(){if(vn===1){vn=0;var s=po,a=Kl,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=G.T,G.T=null;var d=oe.p;oe.p=2;var g=gt;gt|=4;try{Qw(a,s);var b=$y,M=iS(s.containerInfo),D=b.focusedElem,V=b.selectionRange;if(M!==D&&D&&D.ownerDocument&&rS(D.ownerDocument.documentElement,D)){if(V!==null&&gg(D)){var Z=V.start,se=V.end;if(se===void 0&&(se=Z),"selectionStart"in D)D.selectionStart=Z,D.selectionEnd=Math.min(se,D.value.length);else{var le=D.ownerDocument||document,te=le&&le.defaultView||window;if(te.getSelection){var ne=te.getSelection(),Be=D.textContent.length,Le=Math.min(V.start,Be),Tt=V.end===void 0?Le:Math.min(V.end,Be);!ne.extend&&Le>Tt&&(M=Tt,Tt=Le,Le=M);var Y=nS(D,Le),W=nS(D,Tt);if(Y&&W&&(ne.rangeCount!==1||ne.anchorNode!==Y.node||ne.anchorOffset!==Y.offset||ne.focusNode!==W.node||ne.focusOffset!==W.offset)){var Q=le.createRange();Q.setStart(Y.node,Y.offset),ne.removeAllRanges(),Le>Tt?(ne.addRange(Q),ne.extend(W.node,W.offset)):(Q.setEnd(W.node,W.offset),ne.addRange(Q))}}}}for(le=[],ne=D;ne=ne.parentNode;)ne.nodeType===1&&le.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<le.length;D++){var ae=le[D];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}yh=!!Vy,$y=Vy=null}finally{gt=g,oe.p=d,G.T=u}}s.current=a,vn=2}}function yE(){if(vn===2){vn=0;var s=po,a=Kl,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=G.T,G.T=null;var d=oe.p;oe.p=2;var g=gt;gt|=4;try{Kw(s,a.alternate,a)}finally{gt=g,oe.p=d,G.T=u}}vn=3}}function vE(){if(vn===4||vn===3){vn=0,yl();var s=po,a=Kl,u=Yl,d=sE;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?vn=5:(vn=0,Kl=po=null,bE(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(ho=null),Gs(u),a=a.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(lt,a,void 0,(a.current.flags&128)===128)}catch{}if(d!==null){a=G.T,g=oe.p,oe.p=2,G.T=null;try{for(var b=s.onRecoverableError,M=0;M<d.length;M++){var D=d[M];b(D.value,{componentStack:D.stack})}}finally{G.T=a,oe.p=g}}(Yl&3)!==0&&sh(),Oi(s),g=s.pendingLanes,(u&4194090)!==0&&(g&42)!==0?s===My?_u++:(_u=0,My=s):_u=0,Ru(0)}}function bE(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,fu(a)))}function sh(s){return gE(),yE(),vE(),SE()}function SE(){if(vn!==5)return!1;var s=po,a=Ay;Ay=0;var u=Gs(Yl),d=G.T,g=oe.p;try{oe.p=32>u?32:u,G.T=null,u=ky,ky=null;var b=po,M=Yl;if(vn=0,Kl=po=null,Yl=0,(gt&6)!==0)throw Error(r(331));var D=gt;if(gt|=4,rE(b.current),eE(b,b.current,M,u),gt=D,Ru(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(lt,b)}catch{}return!0}finally{oe.p=g,G.T=d,bE(s,a)}}function wE(s,a,u){a=_r(u,a),a=oy(s.stateNode,a,2),s=ro(s,a,2),s!==null&&(Kr(s,2),Oi(s))}function At(s,a,u){if(s.tag===3)wE(s,s,u);else for(;a!==null;){if(a.tag===3){wE(a,s,u);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ho===null||!ho.has(d))){s=_r(u,s),u=Cw(2),d=ro(a,u,2),d!==null&&(Aw(u,d,a,s),Kr(d,2),Oi(d));break}}a=a.return}}function Ry(s,a,u){var d=s.pingCache;if(d===null){d=s.pingCache=new TR;var g=new Set;d.set(a,g)}else g=d.get(a),g===void 0&&(g=new Set,d.set(a,g));g.has(u)||(Ey=!0,g.add(u),s=OR.bind(null,s,a,u),a.then(s,s))}function OR(s,a,u){var d=s.pingCache;d!==null&&d.delete(a),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,Nt===s&&(nt&u)===u&&(Ht===4||Ht===3&&(nt&62914560)===nt&&300>Rn()-Cy?(gt&2)===0&&Xl(s,0):xy|=u,Gl===nt&&(Gl=0)),Oi(s)}function EE(s,a){a===0&&(a=bl()),s=Rl(s,a),s!==null&&(Kr(s,a),Oi(s))}function NR(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),EE(s,u)}function _R(s,a){var u=0;switch(s.tag){case 13:var d=s.stateNode,g=s.memoizedState;g!==null&&(u=g.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(a),EE(s,u)}function RR(s,a){return Fn(s,a)}var oh=null,Ql=null,Dy=!1,ah=!1,Iy=!1,za=0;function Oi(s){s!==Ql&&s.next===null&&(Ql===null?oh=Ql=s:Ql=Ql.next=s),ah=!0,Dy||(Dy=!0,IR())}function Ru(s,a){if(!Iy&&ah){Iy=!0;do for(var u=!1,d=oh;d!==null;){if(s!==0){var g=d.pendingLanes;if(g===0)var b=0;else{var M=d.suspendedLanes,D=d.pingedLanes;b=(1<<31-Gt(42|s)+1)-1,b&=g&~(M&~D),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,AE(d,b))}else b=nt,b=Ki(d,d===Nt?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||Tr(d,b)||(u=!0,AE(d,b));d=d.next}while(u);Iy=!1}}function DR(){xE()}function xE(){ah=Dy=!1;var s=0;za!==0&&(VR()&&(s=za),za=0);for(var a=Rn(),u=null,d=oh;d!==null;){var g=d.next,b=TE(d,a);b===0?(d.next=null,u===null?oh=g:u.next=g,g===null&&(Ql=u)):(u=d,(s!==0||(b&3)!==0)&&(ah=!0)),d=g}Ru(s)}function TE(s,a){for(var u=s.suspendedLanes,d=s.pingedLanes,g=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var M=31-Gt(b),D=1<<M,V=g[M];V===-1?((D&u)===0||(D&d)!==0)&&(g[M]=qs(D,a)):V<=a&&(s.expiredLanes|=D),b&=~D}if(a=Nt,u=nt,u=Ki(s,s===a?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,u===0||s===a&&(yt===2||yt===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&_n(d),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||Tr(s,u)){if(a=u&-u,a===s.callbackPriority)return a;switch(d!==null&&_n(d),Gs(u)){case 2:case 8:u=Vs;break;case 32:u=Gi;break;case 268435456:u=Er;break;default:u=Gi}return d=CE.bind(null,s),u=Fn(u,d),s.callbackPriority=a,s.callbackNode=u,a}return d!==null&&d!==null&&_n(d),s.callbackPriority=2,s.callbackNode=null,2}function CE(s,a){if(vn!==0&&vn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(sh()&&s.callbackNode!==u)return null;var d=nt;return d=Ki(s,s===Nt?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(aE(s,d,a),TE(s,Rn()),s.callbackNode!=null&&s.callbackNode===u?CE.bind(null,s):null)}function AE(s,a){if(sh())return null;aE(s,a,!0)}function IR(){FR(function(){(gt&6)!==0?Fn(da,DR):xE()})}function Ly(){return za===0&&(za=Yi()),za}function kE(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:wl(""+s)}function ME(s,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,s.id&&u.setAttribute("form",s.id),a.parentNode.insertBefore(u,a),s=new FormData(s),u.parentNode.removeChild(u),s}function LR(s,a,u,d,g){if(a==="submit"&&u&&u.stateNode===g){var b=kE((g[pe]||null).action),M=d.submitter;M&&(a=(a=M[pe]||null)?kE(a.formAction):M.getAttribute("formAction"),a!==null&&(b=a,M=null));var D=new El("action","action",null,d,g);s.push({event:D,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(za!==0){var V=M?ME(g,M):new FormData(g);ty(u,{pending:!0,data:V,method:g.method,action:b},null,V)}}else typeof b=="function"&&(D.preventDefault(),V=M?ME(g,M):new FormData(g),ty(u,{pending:!0,data:V,method:g.method,action:b},b,V))},currentTarget:g}]})}}for(var Py=0;Py<Sg.length;Py++){var jy=Sg[Py],PR=jy.toLowerCase(),jR=jy[0].toUpperCase()+jy.slice(1);Qr(PR,"on"+jR)}Qr(aS,"onAnimationEnd"),Qr(lS,"onAnimationIteration"),Qr(cS,"onAnimationStart"),Qr("dblclick","onDoubleClick"),Qr("focusin","onFocus"),Qr("focusout","onBlur"),Qr(eR,"onTransitionRun"),Qr(tR,"onTransitionStart"),Qr(nR,"onTransitionCancel"),Qr(uS,"onTransitionEnd"),sn("onMouseEnter",["mouseout","mouseover"]),sn("onMouseLeave",["mouseout","mouseover"]),sn("onPointerEnter",["pointerout","pointerover"]),sn("onPointerLeave",["pointerout","pointerover"]),mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function OE(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var d=s[u],g=d.event;d=d.listeners;e:{var b=void 0;if(a)for(var M=d.length-1;0<=M;M--){var D=d[M],V=D.instance,Z=D.currentTarget;if(D=D.listener,V!==b&&g.isPropagationStopped())break e;b=D,g.currentTarget=Z;try{b(g)}catch(se){Kd(se)}g.currentTarget=null,b=V}else for(M=0;M<d.length;M++){if(D=d[M],V=D.instance,Z=D.currentTarget,D=D.listener,V!==b&&g.isPropagationStopped())break e;b=D,g.currentTarget=Z;try{b(g)}catch(se){Kd(se)}g.currentTarget=null,b=V}}}}function Qe(s,a){var u=a[Me];u===void 0&&(u=a[Me]=new Set);var d=s+"__bubble";u.has(d)||(NE(a,s,2,!1),u.add(d))}function zy(s,a,u){var d=0;a&&(d|=4),NE(u,s,d,a)}var lh="_reactListening"+Math.random().toString(36).slice(2);function Uy(s){if(!s[lh]){s[lh]=!0,ut.forEach(function(u){u!=="selectionchange"&&(zR.has(u)||zy(u,!1,s),zy(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[lh]||(a[lh]=!0,zy("selectionchange",!1,a))}}function NE(s,a,u,d){switch(ex(a)){case 2:var g=fD;break;case 8:g=dD;break;default:g=Zy}u=g.bind(null,a,u,s),g=void 0,!Or||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),d?g!==void 0?s.addEventListener(a,u,{capture:!0,passive:g}):s.addEventListener(a,u,!0):g!==void 0?s.addEventListener(a,u,{passive:g}):s.addEventListener(a,u,!1)}function By(s,a,u,d,g){var b=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var M=d.tag;if(M===3||M===4){var D=d.stateNode.containerInfo;if(D===g)break;if(M===4)for(M=d.return;M!==null;){var V=M.tag;if((V===3||V===4)&&M.stateNode.containerInfo===g)return;M=M.return}for(;D!==null;){if(M=Fe(D),M===null)return;if(V=M.tag,V===5||V===6||V===26||V===27){d=b=M;continue e}D=D.parentNode}}d=d.return}ud(function(){var Z=b,se=Mr(u),le=[];e:{var te=fS.get(s);if(te!==void 0){var ne=El,Be=s;switch(s){case"keypress":if(wi(u)===0)break e;case"keydown":case"keyup":ne=Ml;break;case"focusin":Be="focus",ne=Cl;break;case"focusout":Be="blur",ne=Cl;break;case"beforeblur":case"afterblur":ne=Cl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=dg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=vd;break;case aS:case lS:case cS:ne=Al;break;case uS:ne=Sd;break;case"scroll":case"scrollend":ne=fd;break;case"wheel":ne=Gn;break;case"copy":case"cut":case"paste":ne=kl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=iu;break;case"toggle":case"beforetoggle":ne=xd}var Le=(a&4)!==0,Tt=!Le&&(s==="scroll"||s==="scrollend"),Y=Le?te!==null?te+"Capture":null:te;Le=[];for(var W=Z,Q;W!==null;){var ae=W;if(Q=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||Q===null||Y===null||(ae=ya(W,Y),ae!=null&&Le.push(Iu(W,ae,Q))),Tt)break;W=W.return}0<Le.length&&(te=new ne(te,Be,null,u,se),le.push({event:te,listeners:Le}))}}if((a&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",ne=s==="mouseout"||s==="pointerout",te&&u!==Qi&&(Be=u.relatedTarget||u.fromElement)&&(Fe(Be)||Be[Se]))break e;if((ne||te)&&(te=se.window===se?se:(te=se.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(Be=u.relatedTarget||u.toElement,ne=Z,Be=Be?Fe(Be):null,Be!==null&&(Tt=o(Be),Le=Be.tag,Be!==Tt||Le!==5&&Le!==27&&Le!==6)&&(Be=null)):(ne=null,Be=Z),ne!==Be)){if(Le=Nr,ae="onMouseLeave",Y="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(Le=iu,ae="onPointerLeave",Y="onPointerEnter",W="pointer"),Tt=ne==null?te:pt(ne),Q=Be==null?te:pt(Be),te=new Le(ae,W+"leave",ne,u,se),te.target=Tt,te.relatedTarget=Q,ae=null,Fe(se)===Z&&(Le=new Le(Y,W+"enter",Be,u,se),Le.target=Q,Le.relatedTarget=Tt,ae=Le),Tt=ae,ne&&Be)t:{for(Le=ne,Y=Be,W=0,Q=Le;Q;Q=Zl(Q))W++;for(Q=0,ae=Y;ae;ae=Zl(ae))Q++;for(;0<W-Q;)Le=Zl(Le),W--;for(;0<Q-W;)Y=Zl(Y),Q--;for(;W--;){if(Le===Y||Y!==null&&Le===Y.alternate)break t;Le=Zl(Le),Y=Zl(Y)}Le=null}else Le=null;ne!==null&&_E(le,te,ne,Le,!1),Be!==null&&Tt!==null&&_E(le,Tt,Be,Le,!0)}}e:{if(te=Z?pt(Z):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var xe=Xb;else if(rs(te))if(Jb)xe=J_;else{xe=Y_;var Ye=K_}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?Z&&Jc(Z.elementType)&&(xe=Xb):xe=X_;if(xe&&(xe=xe(s,Z))){Kn(le,xe,u,se);break e}Ye&&Ye(s,te,Z),s==="focusout"&&Z&&te.type==="number"&&Z.memoizedProps.value!=null&&Js(te,"number",te.value)}switch(Ye=Z?pt(Z):window,s){case"focusin":(rs(Ye)||Ye.contentEditable==="true")&&(Ol=Ye,yg=Z,ou=null);break;case"focusout":ou=yg=Ol=null;break;case"mousedown":vg=!0;break;case"contextmenu":case"mouseup":case"dragend":vg=!1,sS(le,u,se);break;case"selectionchange":if(Z_)break;case"keydown":case"keyup":sS(le,u,se)}var Oe;if(m)e:{switch(s){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else It?ye(s,u)&&(ze="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(ze="onCompositionStart");ze&&(P&&u.locale!=="ko"&&(It||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&It&&(Oe=Zc()):(Si=se,Qs="value"in Si?Si.value:Si.textContent,It=!0)),Ye=ch(Z,ze),0<Ye.length&&(ze=new nu(ze,s,null,u,se),le.push({event:ze,listeners:Ye}),Oe?ze.data=Oe:(Oe=dt(u),Oe!==null&&(ze.data=Oe)))),(Oe=C?tt(s,u):an(s,u))&&(ze=ch(Z,"onBeforeInput"),0<ze.length&&(Ye=new nu("onBeforeInput","beforeinput",null,u,se),le.push({event:Ye,listeners:ze}),Ye.data=Oe)),LR(le,s,Z,u,se)}OE(le,a)})}function Iu(s,a,u){return{instance:s,listener:a,currentTarget:u}}function ch(s,a){for(var u=a+"Capture",d=[];s!==null;){var g=s,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=ya(s,u),g!=null&&d.unshift(Iu(s,g,b)),g=ya(s,a),g!=null&&d.push(Iu(s,g,b))),s.tag===3)return d;s=s.return}return[]}function Zl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function _E(s,a,u,d,g){for(var b=a._reactName,M=[];u!==null&&u!==d;){var D=u,V=D.alternate,Z=D.stateNode;if(D=D.tag,V!==null&&V===d)break;D!==5&&D!==26&&D!==27||Z===null||(V=Z,g?(Z=ya(u,b),Z!=null&&M.unshift(Iu(u,Z,V))):g||(Z=ya(u,b),Z!=null&&M.push(Iu(u,Z,V)))),u=u.return}M.length!==0&&s.push({event:a,listeners:M})}var UR=/\r\n?/g,BR=/\u0000|\uFFFD/g;function RE(s){return(typeof s=="string"?s:""+s).replace(UR,`
`).replace(BR,"")}function DE(s,a){return a=RE(a),RE(s)===a}function uh(){}function xt(s,a,u,d,g,b){switch(u){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||kr(s,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&kr(s,""+d);break;case"className":In(s,"class",d);break;case"tabIndex":In(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":In(s,u,d);break;case"style":Xc(s,d,b);break;case"data":if(a!=="object"){In(s,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||u!=="href")){s.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(u);break}d=wl(""+d),s.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(a!=="input"&&xt(s,a,"name",g.name,g,null),xt(s,a,"formEncType",g.formEncType,g,null),xt(s,a,"formMethod",g.formMethod,g,null),xt(s,a,"formTarget",g.formTarget,g,null)):(xt(s,a,"encType",g.encType,g,null),xt(s,a,"method",g.method,g,null),xt(s,a,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(u);break}d=wl(""+d),s.setAttribute(u,d);break;case"onClick":d!=null&&(s.onclick=uh);break;case"onScroll":d!=null&&Qe("scroll",s);break;case"onScrollEnd":d!=null&&Qe("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}u=wl(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(u,""+d):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":d===!0?s.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(u,d):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(u,d):s.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(u):s.setAttribute(u,d);break;case"popover":Qe("beforetoggle",s),Qe("toggle",s),ir(s,"popover",d);break;case"xlinkActuate":je(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":je(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":je(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":je(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":je(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":je(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":je(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":je(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":je(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":ir(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=ug.get(u)||u,ir(s,u,d))}}function Hy(s,a,u,d,g,b){switch(u){case"style":Xc(s,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"children":typeof d=="string"?kr(s,d):(typeof d=="number"||typeof d=="bigint")&&kr(s,""+d);break;case"onScroll":d!=null&&Qe("scroll",s);break;case"onScrollEnd":d!=null&&Qe("scrollend",s);break;case"onClick":d!=null&&(s.onclick=uh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wn.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(g=u.endsWith("Capture"),a=u.slice(2,g?u.length-7:void 0),b=s[pe]||null,b=b!=null?b[u]:null,typeof b=="function"&&s.removeEventListener(a,b,g),typeof d=="function")){typeof b!="function"&&b!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(a,d,g);break e}u in s?s[u]=d:d===!0?s.setAttribute(u,""):ir(s,u,d)}}}function bn(s,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",s),Qe("load",s);var d=!1,g=!1,b;for(b in u)if(u.hasOwnProperty(b)){var M=u[b];if(M!=null)switch(b){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:xt(s,a,b,M,u,null)}}g&&xt(s,a,"srcSet",u.srcSet,u,null),d&&xt(s,a,"src",u.src,u,null);return;case"input":Qe("invalid",s);var D=b=M=g=null,V=null,Z=null;for(d in u)if(u.hasOwnProperty(d)){var se=u[d];if(se!=null)switch(d){case"name":g=se;break;case"type":M=se;break;case"checked":V=se;break;case"defaultChecked":Z=se;break;case"value":b=se;break;case"defaultValue":D=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,a));break;default:xt(s,a,d,se,u,null)}}pa(s,b,D,V,Z,M,g,!1),Sl(s);return;case"select":Qe("invalid",s),d=M=b=null;for(g in u)if(u.hasOwnProperty(g)&&(D=u[g],D!=null))switch(g){case"value":b=D;break;case"defaultValue":M=D;break;case"multiple":d=D;default:xt(s,a,g,D,u,null)}a=b,u=M,s.multiple=!!d,a!=null?Ji(s,!!d,a,!1):u!=null&&Ji(s,!!d,u,!0);return;case"textarea":Qe("invalid",s),b=g=d=null;for(M in u)if(u.hasOwnProperty(M)&&(D=u[M],D!=null))switch(M){case"value":d=D;break;case"defaultValue":g=D;break;case"children":b=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:xt(s,a,M,D,u,null)}ma(s,d,g,b),Sl(s);return;case"option":for(V in u)if(u.hasOwnProperty(V)&&(d=u[V],d!=null))switch(V){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:xt(s,a,V,d,u,null)}return;case"dialog":Qe("beforetoggle",s),Qe("toggle",s),Qe("cancel",s),Qe("close",s);break;case"iframe":case"object":Qe("load",s);break;case"video":case"audio":for(d=0;d<Du.length;d++)Qe(Du[d],s);break;case"image":Qe("error",s),Qe("load",s);break;case"details":Qe("toggle",s);break;case"embed":case"source":case"link":Qe("error",s),Qe("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in u)if(u.hasOwnProperty(Z)&&(d=u[Z],d!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:xt(s,a,Z,d,u,null)}return;default:if(Jc(a)){for(se in u)u.hasOwnProperty(se)&&(d=u[se],d!==void 0&&Hy(s,a,se,d,u,void 0));return}}for(D in u)u.hasOwnProperty(D)&&(d=u[D],d!=null&&xt(s,a,D,d,u,null))}function HR(s,a,u,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,M=null,D=null,V=null,Z=null,se=null;for(ne in u){var le=u[ne];if(u.hasOwnProperty(ne)&&le!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":V=le;default:d.hasOwnProperty(ne)||xt(s,a,ne,null,d,le)}}for(var te in d){var ne=d[te];if(le=u[te],d.hasOwnProperty(te)&&(ne!=null||le!=null))switch(te){case"type":b=ne;break;case"name":g=ne;break;case"checked":Z=ne;break;case"defaultChecked":se=ne;break;case"value":M=ne;break;case"defaultValue":D=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,a));break;default:ne!==le&&xt(s,a,te,ne,d,le)}}sr(s,M,D,V,Z,se,b,g);return;case"select":ne=M=D=te=null;for(b in u)if(V=u[b],u.hasOwnProperty(b)&&V!=null)switch(b){case"value":break;case"multiple":ne=V;default:d.hasOwnProperty(b)||xt(s,a,b,null,d,V)}for(g in d)if(b=d[g],V=u[g],d.hasOwnProperty(g)&&(b!=null||V!=null))switch(g){case"value":te=b;break;case"defaultValue":D=b;break;case"multiple":M=b;default:b!==V&&xt(s,a,g,b,d,V)}a=D,u=M,d=ne,te!=null?Ji(s,!!u,te,!1):!!d!=!!u&&(a!=null?Ji(s,!!u,a,!0):Ji(s,!!u,u?[]:"",!1));return;case"textarea":ne=te=null;for(D in u)if(g=u[D],u.hasOwnProperty(D)&&g!=null&&!d.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:xt(s,a,D,null,d,g)}for(M in d)if(g=d[M],b=u[M],d.hasOwnProperty(M)&&(g!=null||b!=null))switch(M){case"value":te=g;break;case"defaultValue":ne=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==b&&xt(s,a,M,g,d,b)}wt(s,te,ne);return;case"option":for(var Be in u)if(te=u[Be],u.hasOwnProperty(Be)&&te!=null&&!d.hasOwnProperty(Be))switch(Be){case"selected":s.selected=!1;break;default:xt(s,a,Be,null,d,te)}for(V in d)if(te=d[V],ne=u[V],d.hasOwnProperty(V)&&te!==ne&&(te!=null||ne!=null))switch(V){case"selected":s.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:xt(s,a,V,te,d,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in u)te=u[Le],u.hasOwnProperty(Le)&&te!=null&&!d.hasOwnProperty(Le)&&xt(s,a,Le,null,d,te);for(Z in d)if(te=d[Z],ne=u[Z],d.hasOwnProperty(Z)&&te!==ne&&(te!=null||ne!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,a));break;default:xt(s,a,Z,te,d,ne)}return;default:if(Jc(a)){for(var Tt in u)te=u[Tt],u.hasOwnProperty(Tt)&&te!==void 0&&!d.hasOwnProperty(Tt)&&Hy(s,a,Tt,void 0,d,te);for(se in d)te=d[se],ne=u[se],!d.hasOwnProperty(se)||te===ne||te===void 0&&ne===void 0||Hy(s,a,se,te,d,ne);return}}for(var Y in u)te=u[Y],u.hasOwnProperty(Y)&&te!=null&&!d.hasOwnProperty(Y)&&xt(s,a,Y,null,d,te);for(le in d)te=d[le],ne=u[le],!d.hasOwnProperty(le)||te===ne||te==null&&ne==null||xt(s,a,le,te,d,ne)}var Vy=null,$y=null;function fh(s){return s.nodeType===9?s:s.ownerDocument}function IE(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function LE(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Fy(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var qy=null;function VR(){var s=window.event;return s&&s.type==="popstate"?s===qy?!1:(qy=s,!0):(qy=null,!1)}var PE=typeof setTimeout=="function"?setTimeout:void 0,$R=typeof clearTimeout=="function"?clearTimeout:void 0,jE=typeof Promise=="function"?Promise:void 0,FR=typeof queueMicrotask=="function"?queueMicrotask:typeof jE<"u"?function(s){return jE.resolve(null).then(s).catch(qR)}:PE;function qR(s){setTimeout(function(){throw s})}function go(s){return s==="head"}function zE(s,a){var u=a,d=0,g=0;do{var b=u.nextSibling;if(s.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"){if(0<d&&8>d){u=d;var M=s.ownerDocument;if(u&1&&Lu(M.documentElement),u&2&&Lu(M.body),u&4)for(u=M.head,Lu(u),M=u.firstChild;M;){var D=M.nextSibling,V=M.nodeName;M[ke]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&M.rel.toLowerCase()==="stylesheet"||u.removeChild(M),M=D}}if(g===0){s.removeChild(b),$u(a);return}g--}else u==="$"||u==="$?"||u==="$!"?g++:d=u.charCodeAt(0)-48;else d=0;u=b}while(u);$u(a)}function Wy(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Wy(u),Ee(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function WR(s,a,u,d){for(;s.nodeType===1;){var g=u;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[ke])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=ei(s.nextSibling),s===null)break}return null}function GR(s,a,u){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=ei(s.nextSibling),s===null))return null;return s}function Gy(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function KR(s,a){var u=s.ownerDocument;if(s.data!=="$?"||u.readyState==="complete")a();else{var d=function(){a(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function ei(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var Ky=null;function UE(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}function BE(s,a,u){switch(a=fh(u),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Lu(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Ee(s)}var jr=new Map,HE=new Set;function dh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var vs=oe.d;oe.d={f:YR,r:XR,D:JR,C:QR,L:ZR,m:eD,X:nD,S:tD,M:rD};function YR(){var s=vs.f(),a=rh();return s||a}function XR(s){var a=et(s);a!==null&&a.tag===5&&a.type==="form"?aw(a):vs.r(s)}var ec=typeof document>"u"?null:document;function VE(s,a,u){var d=ec;if(d&&typeof a=="string"&&a){var g=Kt(a);g='link[rel="'+s+'"][href="'+g+'"]',typeof u=="string"&&(g+='[crossorigin="'+u+'"]'),HE.has(g)||(HE.add(g),s={rel:s,crossOrigin:u,href:a},d.querySelector(g)===null&&(a=d.createElement("link"),bn(a,"link",s),$e(a),d.head.appendChild(a)))}}function JR(s){vs.D(s),VE("dns-prefetch",s,null)}function QR(s,a){vs.C(s,a),VE("preconnect",s,a)}function ZR(s,a,u){vs.L(s,a,u);var d=ec;if(d&&s&&a){var g='link[rel="preload"][as="'+Kt(a)+'"]';a==="image"&&u&&u.imageSrcSet?(g+='[imagesrcset="'+Kt(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(g+='[imagesizes="'+Kt(u.imageSizes)+'"]')):g+='[href="'+Kt(s)+'"]';var b=g;switch(a){case"style":b=tc(s);break;case"script":b=nc(s)}jr.has(b)||(s=p({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:s,as:a},u),jr.set(b,s),d.querySelector(g)!==null||a==="style"&&d.querySelector(Pu(b))||a==="script"&&d.querySelector(ju(b))||(a=d.createElement("link"),bn(a,"link",s),$e(a),d.head.appendChild(a)))}}function eD(s,a){vs.m(s,a);var u=ec;if(u&&s){var d=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+Kt(d)+'"][href="'+Kt(s)+'"]',b=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=nc(s)}if(!jr.has(b)&&(s=p({rel:"modulepreload",href:s},a),jr.set(b,s),u.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(ju(b)))return}d=u.createElement("link"),bn(d,"link",s),$e(d),u.head.appendChild(d)}}}function tD(s,a,u){vs.S(s,a,u);var d=ec;if(d&&s){var g=ct(d).hoistableStyles,b=tc(s);a=a||"default";var M=g.get(b);if(!M){var D={loading:0,preload:null};if(M=d.querySelector(Pu(b)))D.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":a},u),(u=jr.get(b))&&Yy(s,u);var V=M=d.createElement("link");$e(V),bn(V,"link",s),V._p=new Promise(function(Z,se){V.onload=Z,V.onerror=se}),V.addEventListener("load",function(){D.loading|=1}),V.addEventListener("error",function(){D.loading|=2}),D.loading|=4,hh(M,a,d)}M={type:"stylesheet",instance:M,count:1,state:D},g.set(b,M)}}}function nD(s,a){vs.X(s,a);var u=ec;if(u&&s){var d=ct(u).hoistableScripts,g=nc(s),b=d.get(g);b||(b=u.querySelector(ju(g)),b||(s=p({src:s,async:!0},a),(a=jr.get(g))&&Xy(s,a),b=u.createElement("script"),$e(b),bn(b,"link",s),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(g,b))}}function rD(s,a){vs.M(s,a);var u=ec;if(u&&s){var d=ct(u).hoistableScripts,g=nc(s),b=d.get(g);b||(b=u.querySelector(ju(g)),b||(s=p({src:s,async:!0,type:"module"},a),(a=jr.get(g))&&Xy(s,a),b=u.createElement("script"),$e(b),bn(b,"link",s),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(g,b))}}function $E(s,a,u,d){var g=(g=De.current)?dh(g):null;if(!g)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=tc(u.href),u=ct(g).hoistableStyles,d=u.get(a),d||(d={type:"style",instance:null,count:0,state:null},u.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=tc(u.href);var b=ct(g).hoistableStyles,M=b.get(s);if(M||(g=g.ownerDocument||g,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,M),(b=g.querySelector(Pu(s)))&&!b._p&&(M.instance=b,M.state.loading=5),jr.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},jr.set(s,u),b||iD(g,s,u,M.state))),a&&d===null)throw Error(r(528,""));return M}if(a&&d!==null)throw Error(r(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=nc(u),u=ct(g).hoistableScripts,d=u.get(a),d||(d={type:"script",instance:null,count:0,state:null},u.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function tc(s){return'href="'+Kt(s)+'"'}function Pu(s){return'link[rel="stylesheet"]['+s+"]"}function FE(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function iD(s,a,u,d){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=s.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),bn(a,"link",u),$e(a),s.head.appendChild(a))}function nc(s){return'[src="'+Kt(s)+'"]'}function ju(s){return"script[async]"+s}function qE(s,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var d=s.querySelector('style[data-href~="'+Kt(u.href)+'"]');if(d)return a.instance=d,$e(d),d;var g=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),$e(d),bn(d,"style",g),hh(d,u.precedence,s),a.instance=d;case"stylesheet":g=tc(u.href);var b=s.querySelector(Pu(g));if(b)return a.state.loading|=4,a.instance=b,$e(b),b;d=FE(u),(g=jr.get(g))&&Yy(d,g),b=(s.ownerDocument||s).createElement("link"),$e(b);var M=b;return M._p=new Promise(function(D,V){M.onload=D,M.onerror=V}),bn(b,"link",d),a.state.loading|=4,hh(b,u.precedence,s),a.instance=b;case"script":return b=nc(u.src),(g=s.querySelector(ju(b)))?(a.instance=g,$e(g),g):(d=u,(g=jr.get(b))&&(d=p({},u),Xy(d,g)),s=s.ownerDocument||s,g=s.createElement("script"),$e(g),bn(g,"link",d),s.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(d=a.instance,a.state.loading|=4,hh(d,u.precedence,s));return a.instance}function hh(s,a,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,b=g,M=0;M<d.length;M++){var D=d[M];if(D.dataset.precedence===a)b=D;else if(b!==g)break}b?b.parentNode.insertBefore(s,b.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(s,a.firstChild))}function Yy(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Xy(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var ph=null;function WE(s,a,u){if(ph===null){var d=new Map,g=ph=new Map;g.set(u,d)}else g=ph,d=g.get(u),d||(d=new Map,g.set(u,d));if(d.has(s))return d;for(d.set(s,null),u=u.getElementsByTagName(s),g=0;g<u.length;g++){var b=u[g];if(!(b[ke]||b[ue]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var M=b.getAttribute(a)||"";M=s+M;var D=d.get(M);D?D.push(b):d.set(M,[b])}}return d}function GE(s,a,u){s=s.ownerDocument||s,s.head.insertBefore(u,a==="title"?s.querySelector("head > title"):null)}function sD(s,a,u){if(u===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function KE(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var zu=null;function oD(){}function aD(s,a,u){if(zu===null)throw Error(r(475));var d=zu;if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=tc(u.href),b=s.querySelector(Pu(g));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(d.count++,d=mh.bind(d),s.then(d,d)),a.state.loading|=4,a.instance=b,$e(b);return}b=s.ownerDocument||s,u=FE(u),(g=jr.get(g))&&Yy(u,g),b=b.createElement("link"),$e(b);var M=b;M._p=new Promise(function(D,V){M.onload=D,M.onerror=V}),bn(b,"link",u),a.instance=b}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(d.count++,a=mh.bind(d),s.addEventListener("load",a),s.addEventListener("error",a))}}function lD(){if(zu===null)throw Error(r(475));var s=zu;return s.stylesheets&&s.count===0&&Jy(s,s.stylesheets),0<s.count?function(a){var u=setTimeout(function(){if(s.stylesheets&&Jy(s,s.stylesheets),s.unsuspend){var d=s.unsuspend;s.unsuspend=null,d()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(u)}}:null}function mh(){if(this.count--,this.count===0){if(this.stylesheets)Jy(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var gh=null;function Jy(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,gh=new Map,a.forEach(cD,s),gh=null,mh.call(s))}function cD(s,a){if(!(a.state.loading&4)){var u=gh.get(s);if(u)var d=u.get(null);else{u=new Map,gh.set(s,u);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var M=g[b];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(u.set(M.dataset.precedence,M),d=M)}d&&u.set(null,d)}g=a.instance,M=g.getAttribute("data-precedence"),b=u.get(M)||d,b===d&&u.set(null,g),u.set(M,g),this.count++,d=mh.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),b?b.parentNode.insertBefore(g,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),a.state.loading|=4}}var Uu={$$typeof:U,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function uD(s,a,u,d,g,b,M,D){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cr(0),this.hiddenUpdates=Cr(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function YE(s,a,u,d,g,b,M,D,V,Z,se,le){return s=new uD(s,a,u,M,D,V,Z,le),a=1,b===!0&&(a|=24),b=ar(3,null,null,a),s.current=b,b.stateNode=s,a=Rg(),a.refCount++,s.pooledCache=a,a.refCount++,b.memoizedState={element:d,isDehydrated:u,cache:a},Pg(b),s}function XE(s){return s?(s=Dl,s):Dl}function JE(s,a,u,d,g,b){g=XE(g),d.context===null?d.context=g:d.pendingContext=g,d=no(a),d.payload={element:u},b=b===void 0?null:b,b!==null&&(d.callback=b),u=ro(s,d,a),u!==null&&(dr(u,s,a),mu(u,s,a))}function QE(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function Qy(s,a){QE(s,a),(s=s.alternate)&&QE(s,a)}function ZE(s){if(s.tag===13){var a=Rl(s,67108864);a!==null&&dr(a,s,67108864),Qy(s,67108864)}}var yh=!0;function fD(s,a,u,d){var g=G.T;G.T=null;var b=oe.p;try{oe.p=2,Zy(s,a,u,d)}finally{oe.p=b,G.T=g}}function dD(s,a,u,d){var g=G.T;G.T=null;var b=oe.p;try{oe.p=8,Zy(s,a,u,d)}finally{oe.p=b,G.T=g}}function Zy(s,a,u,d){if(yh){var g=e0(d);if(g===null)By(s,a,d,vh,u),tx(s,d);else if(pD(g,s,a,u,d))d.stopPropagation();else if(tx(s,d),a&4&&-1<hD.indexOf(s)){for(;g!==null;){var b=et(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var M=nr(b.pendingLanes);if(M!==0){var D=b;for(D.pendingLanes|=2,D.entangledLanes|=2;M;){var V=1<<31-Gt(M);D.entanglements[1]|=V,M&=~V}Oi(b),(gt&6)===0&&(th=Rn()+500,Ru(0))}}break;case 13:D=Rl(b,2),D!==null&&dr(D,b,2),rh(),Qy(b,2)}if(b=e0(d),b===null&&By(s,a,d,vh,u),b===g)break;g=b}g!==null&&d.stopPropagation()}else By(s,a,d,null,u)}}function e0(s){return s=Mr(s),t0(s)}var vh=null;function t0(s){if(vh=null,s=Fe(s),s!==null){var a=o(s);if(a===null)s=null;else{var u=a.tag;if(u===13){if(s=l(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return vh=s,null}function ex(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gc()){case da:return 2;case Vs:return 8;case Gi:case Gr:return 32;case Er:return 268435456;default:return 32}default:return 32}}var n0=!1,yo=null,vo=null,bo=null,Bu=new Map,Hu=new Map,So=[],hD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tx(s,a){switch(s){case"focusin":case"focusout":yo=null;break;case"dragenter":case"dragleave":vo=null;break;case"mouseover":case"mouseout":bo=null;break;case"pointerover":case"pointerout":Bu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hu.delete(a.pointerId)}}function Vu(s,a,u,d,g,b){return s===null||s.nativeEvent!==b?(s={blockedOn:a,domEventName:u,eventSystemFlags:d,nativeEvent:b,targetContainers:[g]},a!==null&&(a=et(a),a!==null&&ZE(a)),s):(s.eventSystemFlags|=d,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function pD(s,a,u,d,g){switch(a){case"focusin":return yo=Vu(yo,s,a,u,d,g),!0;case"dragenter":return vo=Vu(vo,s,a,u,d,g),!0;case"mouseover":return bo=Vu(bo,s,a,u,d,g),!0;case"pointerover":var b=g.pointerId;return Bu.set(b,Vu(Bu.get(b)||null,s,a,u,d,g)),!0;case"gotpointercapture":return b=g.pointerId,Hu.set(b,Vu(Hu.get(b)||null,s,a,u,d,g)),!0}return!1}function nx(s){var a=Fe(s.target);if(a!==null){var u=o(a);if(u!==null){if(a=u.tag,a===13){if(a=l(u),a!==null){s.blockedOn=a,X(s.priority,function(){if(u.tag===13){var d=fr();d=Xi(d);var g=Rl(u,d);g!==null&&dr(g,u,d),Qy(u,d)}});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function bh(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=e0(s.nativeEvent);if(u===null){u=s.nativeEvent;var d=new u.constructor(u.type,u);Qi=d,u.target.dispatchEvent(d),Qi=null}else return a=et(u),a!==null&&ZE(a),s.blockedOn=u,!1;a.shift()}return!0}function rx(s,a,u){bh(s)&&u.delete(a)}function mD(){n0=!1,yo!==null&&bh(yo)&&(yo=null),vo!==null&&bh(vo)&&(vo=null),bo!==null&&bh(bo)&&(bo=null),Bu.forEach(rx),Hu.forEach(rx)}function Sh(s,a){s.blockedOn===a&&(s.blockedOn=null,n0||(n0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,mD)))}var wh=null;function ix(s){wh!==s&&(wh=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){wh===s&&(wh=null);for(var a=0;a<s.length;a+=3){var u=s[a],d=s[a+1],g=s[a+2];if(typeof d!="function"){if(t0(d||u)===null)continue;break}var b=et(u);b!==null&&(s.splice(a,3),a-=3,ty(b,{pending:!0,data:g,method:u.method,action:d},d,g))}}))}function $u(s){function a(V){return Sh(V,s)}yo!==null&&Sh(yo,s),vo!==null&&Sh(vo,s),bo!==null&&Sh(bo,s),Bu.forEach(a),Hu.forEach(a);for(var u=0;u<So.length;u++){var d=So[u];d.blockedOn===s&&(d.blockedOn=null)}for(;0<So.length&&(u=So[0],u.blockedOn===null);)nx(u),u.blockedOn===null&&So.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var g=u[d],b=u[d+1],M=g[pe]||null;if(typeof b=="function")M||ix(u);else if(M){var D=null;if(b&&b.hasAttribute("formAction")){if(g=b,M=b[pe]||null)D=M.formAction;else if(t0(g)!==null)continue}else D=M.action;typeof D=="function"?u[d+1]=D:(u.splice(d,3),d-=3),ix(u)}}}function r0(s){this._internalRoot=s}Eh.prototype.render=r0.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var u=a.current,d=fr();JE(u,d,s,a,null,null)},Eh.prototype.unmount=r0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;JE(s.current,2,null,s,null,null),rh(),a[Se]=null}};function Eh(s){this._internalRoot=s}Eh.prototype.unstable_scheduleHydration=function(s){if(s){var a=F();s={blockedOn:null,target:s,priority:a};for(var u=0;u<So.length&&a!==0&&a<So[u].priority;u++);So.splice(u,0,s),u===0&&nx(s)}};var sx=e.version;if(sx!=="19.1.1")throw Error(r(527,sx,"19.1.1"));oe.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(a),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var gD={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{lt=xh.inject(gD),Ge=xh}catch{}}return qu.createRoot=function(s,a){if(!i(s))throw Error(r(299));var u=!1,d="",g=ww,b=Ew,M=xw,D=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(M=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks)),a=YE(s,1,!1,null,null,u,d,g,b,M,D,null),s[Se]=a.current,Uy(s),new r0(a)},qu.hydrateRoot=function(s,a,u){if(!i(s))throw Error(r(299));var d=!1,g="",b=ww,M=Ew,D=xw,V=null,Z=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(M=u.onCaughtError),u.onRecoverableError!==void 0&&(D=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(V=u.unstable_transitionCallbacks),u.formState!==void 0&&(Z=u.formState)),a=YE(s,1,!0,a,u??null,d,g,b,M,D,V,Z),a.context=XE(null),u=a.current,d=fr(),d=Xi(d),g=no(d),g.callback=null,ro(u,g,d),u=d,a.current.lanes=u,Kr(a,u),Oi(a),s[Se]=a.current,Uy(s),new Eh(a)},qu.version="19.1.1",qu}var mx;function AD(){if(mx)return o0.exports;mx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),o0.exports=CD(),o0.exports}var kD=AD();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var rA=t=>{throw TypeError(t)},MD=(t,e,n)=>e.has(t)||rA("Cannot "+n),u0=(t,e,n)=>(MD(t,e,"read from private field"),n?n.call(t):e.get(t)),OD=(t,e,n)=>e.has(t)?rA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),gx="popstate";function ND(t={}){function e(r,i){let{pathname:o,search:l,hash:c}=r.location;return wf("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Zo(i)}return RD(e,n,null,t)}function Xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _D(){return Math.random().toString(36).substring(2,10)}function yx(t,e){return{usr:t.state,key:t.key,idx:e}}function wf(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ia(e):e,state:n,key:e&&e.key||r||_D()}}function Zo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ia(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function RD(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,c="POP",f=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function y(){c="POP";let A=p(),N=A==null?null:A-h;h=A,f&&f({action:c,location:T.location,delta:N})}function v(A,N){c="PUSH";let L=wf(T.location,A,N);h=p()+1;let U=yx(L,h),K=T.createHref(L);try{l.pushState(U,"",K)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;i.location.assign(K)}o&&f&&f({action:c,location:T.location,delta:1})}function S(A,N){c="REPLACE";let L=wf(T.location,A,N);h=p();let U=yx(L,h),K=T.createHref(L);l.replaceState(U,"",K),o&&f&&f({action:c,location:T.location,delta:0})}function w(A){return iA(A)}let T={get action(){return c},get location(){return t(i,l)},listen(A){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(gx,y),f=A,()=>{i.removeEventListener(gx,y),f=null}},createHref(A){return e(i,A)},createURL:w,encodeLocation(A){let N=w(A);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:v,replace:S,go(A){return l.go(A)}};return T}function iA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Xe(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Zo(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var Xu,vx=class{constructor(t){if(OD(this,Xu,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(u0(this,Xu).has(t))return u0(this,Xu).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){u0(this,Xu).set(t,e)}};Xu=new WeakMap;var DD=new Set(["lazy","caseSensitive","path","id","index","children"]);function ID(t){return DD.has(t)}var LD=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function PD(t){return LD.has(t)}function jD(t){return t.index===!0}function Ef(t,e,n=[],r={},i=!1){return t.map((o,l)=>{let c=[...n,String(l)],f=typeof o.id=="string"?o.id:c.join("-");if(Xe(o.index!==!0||!o.children,"Cannot specify children on an index route"),Xe(i||!r[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),jD(o)){let h={...o,...e(o),id:f};return r[f]=h,h}else{let h={...o,...e(o),id:f,children:void 0};return r[f]=h,o.children&&(h.children=Ef(o.children,e,c,r,i)),h}})}function Ro(t,e,n="/"){return ip(t,e,n,!1)}function ip(t,e,n,r){let i=typeof e=="string"?ia(e):e,o=tr(i.pathname||"/",n);if(o==null)return null;let l=oA(t);zD(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let h=lA(o);c=GD(l[f],h,r)}return c}function sA(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function oA(t,e=[],n=[],r="",i=!1){let o=(l,c,f=i,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&f)return;Xe(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let y=ji([r,p.relativePath]),v=n.concat(p);l.children&&l.children.length>0&&(Xe(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),oA(l.children,e,v,y,f)),!(l.path==null&&!l.index)&&e.push({path:y,score:qD(y,l.index),routesMeta:v})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))o(l,c);else for(let f of aA(l.path))o(l,c,!0,f)}),e}function aA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=aA(r.join("/")),c=[];return c.push(...l.map(f=>f===""?o:[o,f].join("/"))),i&&c.push(...l),c.map(f=>t.startsWith("/")&&f===""?"/":f)}function zD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:WD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var UD=/^:[\w-]+$/,BD=3,HD=2,VD=1,$D=10,FD=-2,bx=t=>t==="*";function qD(t,e){let n=t.split("/"),r=n.length;return n.some(bx)&&(r+=FD),e&&(r+=HD),n.filter(i=>!bx(i)).reduce((i,o)=>i+(UD.test(o)?BD:o===""?VD:$D),r)}function WD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function GD(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],h=c===r.length-1,p=o==="/"?e:e.slice(o.length)||"/",y=xf({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),v=f.route;if(!y&&h&&n&&!r[r.length-1].route.index&&(y=xf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:ji([o,y.pathname]),pathnameBase:QD(ji([o,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(o=ji([o,y.pathnameBase]))}return l}function xf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=KD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:y},v)=>{if(p==="*"){let w=c[v]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const S=c[v];return y&&!S?h[p]=void 0:h[p]=(S||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:t}}function KD(t,e=!1,n=!0){Zt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function lA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function tr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function YD({basename:t,pathname:e}){return e==="/"?t:ji([t,e])}function XD(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ia(t):t;return{pathname:n?n.startsWith("/")?n:JD(n,e):e,search:ZD(r),hash:e4(i)}}function JD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function f0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function d1(t){let e=cA(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function h1(t,e,n,r=!1){let i;typeof t=="string"?i=ia(t):(i={...t},Xe(!i.pathname||!i.pathname.includes("?"),f0("?","pathname","search",i)),Xe(!i.pathname||!i.pathname.includes("#"),f0("#","pathname","hash",i)),Xe(!i.search||!i.search.includes("#"),f0("#","search","hash",i)));let o=t===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=n;else{let y=e.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),y-=1;i.pathname=v.join("/")}c=y>=0?e[y]:"/"}let f=XD(i,c),h=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var ji=t=>t.join("/").replace(/\/\/+/g,"/"),QD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ZD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,e4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,t4=(t,e=302)=>{let n=e;typeof n=="number"?n={status:n}:typeof n.status>"u"&&(n.status=302);let r=new Headers(n.headers);return r.set("Location",t),new Response(null,{...n,headers:r})},xp=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Tf(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var uA=["POST","PUT","PATCH","DELETE"],n4=new Set(uA),r4=["GET",...uA],i4=new Set(r4),s4=new Set([301,302,303,307,308]),o4=new Set([307,308]),d0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},a4={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},cc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},l4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p1=t=>l4.test(t),c4=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),fA="remix-router-transitions",dA=Symbol("ResetLoaderData");function u4(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Xe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||c4,o={},l=Ef(t.routes,i,void 0,o),c,f=t.basename||"/";f.startsWith("/")||(f=`/${f}`);let h=t.dataStrategy||m4,p={...t.future},y=null,v=new Set,S=null,w=null,T=null,A=t.hydrationData!=null,N=Ro(l,t.history.location,f),L=!1,U=null,K;if(N==null&&!t.patchRoutesOnNavigation){let F=Br(404,{pathname:t.history.location.pathname}),{matches:X,route:ee}=Th(l);K=!0,N=X,U={[ee.id]:F}}else if(N&&!t.hydrationData&&qn(N,l,t.history.location.pathname).active&&(N=null),N)if(N.some(F=>F.route.lazy))K=!1;else if(!N.some(F=>F.route.loader))K=!0;else{let F=t.hydrationData?t.hydrationData.loaderData:null,X=t.hydrationData?t.hydrationData.errors:null;if(X){let ee=N.findIndex(ue=>X[ue.route.id]!==void 0);K=N.slice(0,ee+1).every(ue=>!pv(ue.route,F,X))}else K=N.every(ee=>!pv(ee.route,F,X))}else{K=!1,N=[];let F=qn(null,l,t.history.location.pathname);F.active&&F.matches&&(L=!0,N=F.matches)}let H,j={historyAction:t.history.action,location:t.history.location,matches:N,initialized:K,navigation:d0,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||U,fetchers:new Map,blockers:new Map},_="POP",O=!1,I,R=!1,B=new Map,q=null,z=!1,ve=!1,ge=new Set,G=new Map,oe=0,ce=-1,Te=new Map,$=new Set,ie=new Map,he=new Map,fe=new Set,we=new Map,Ve,De=null;function Mt(){if(y=t.history.listen(({action:F,location:X,delta:ee})=>{if(Ve){Ve(),Ve=void 0;return}Zt(we.size===0||ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ue=qs({currentLocation:j.location,nextLocation:X,historyAction:F});if(ue&&ee!=null){let pe=new Promise(Se=>{Ve=Se});t.history.go(ee*-1),Tr(ue,{state:"blocked",location:X,proceed(){Tr(ue,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),pe.then(()=>t.history.go(ee))},reset(){let Se=new Map(j.blockers);Se.set(ue,cc),Ct({blockers:Se})}});return}return _n(F,X)}),n){N4(e,B);let F=()=>_4(e,B);e.addEventListener("pagehide",F),q=()=>e.removeEventListener("pagehide",F)}return j.initialized||_n("POP",j.location,{initialHydration:!0}),H}function at(){y&&y(),q&&q(),v.clear(),I&&I.abort(),j.fetchers.forEach((F,X)=>Gt(X)),j.blockers.forEach((F,X)=>Ki(X))}function $n(F){return v.add(F),()=>v.delete(F)}function Ct(F,X={}){F.matches&&(F.matches=F.matches.map(pe=>{let Se=o[pe.route.id],Me=pe.route;return Me.element!==Se.element||Me.errorElement!==Se.errorElement||Me.hydrateFallbackElement!==Se.hydrateFallbackElement?{...pe,route:Se}:pe})),j={...j,...F};let ee=[],ue=[];j.fetchers.forEach((pe,Se)=>{pe.state==="idle"&&(fe.has(Se)?ee.push(Se):ue.push(Se))}),fe.forEach(pe=>{!j.fetchers.has(pe)&&!G.has(pe)&&ee.push(pe)}),[...v].forEach(pe=>pe(j,{deletedFetchers:ee,viewTransitionOpts:X.viewTransitionOpts,flushSync:X.flushSync===!0})),ee.forEach(pe=>Gt(pe)),ue.forEach(pe=>j.fetchers.delete(pe))}function rn(F,X,{flushSync:ee}={}){let ue=j.actionData!=null&&j.navigation.formMethod!=null&&Qn(j.navigation.formMethod)&&j.navigation.state==="loading"&&F.state?._isRedirect!==!0,pe;X.actionData?Object.keys(X.actionData).length>0?pe=X.actionData:pe=null:ue?pe=j.actionData:pe=null;let Se=X.loaderData?Ox(j.loaderData,X.loaderData,X.matches||[],X.errors):j.loaderData,Me=j.blockers;Me.size>0&&(Me=new Map(Me),Me.forEach((ke,Ee)=>Me.set(Ee,cc)));let Ce=z?!1:Ws(F,X.matches||j.matches),Ae=O===!0||j.navigation.formMethod!=null&&Qn(j.navigation.formMethod)&&F.state?._isRedirect!==!0;c&&(l=c,c=void 0),z||_==="POP"||(_==="PUSH"?t.history.push(F,F.state):_==="REPLACE"&&t.history.replace(F,F.state));let Ie;if(_==="POP"){let ke=B.get(j.location.pathname);ke&&ke.has(F.pathname)?Ie={currentLocation:j.location,nextLocation:F}:B.has(F.pathname)&&(Ie={currentLocation:F,nextLocation:j.location})}else if(R){let ke=B.get(j.location.pathname);ke?ke.add(F.pathname):(ke=new Set([F.pathname]),B.set(j.location.pathname,ke)),Ie={currentLocation:j.location,nextLocation:F}}Ct({...X,actionData:pe,loaderData:Se,historyAction:_,location:F,initialized:!0,navigation:d0,revalidation:"idle",restoreScrollPosition:Ce,preventScrollReset:Ae,blockers:Me},{viewTransitionOpts:Ie,flushSync:ee===!0}),_="POP",O=!1,R=!1,z=!1,ve=!1,De?.resolve(),De=null}async function wr(F,X){if(typeof F=="number"){t.history.go(F);return}let ee=hv(j.location,j.matches,f,F,X?.fromRouteId,X?.relative),{path:ue,submission:pe,error:Se}=Sx(!1,ee,X),Me=j.location,Ce=wf(j.location,ue,X&&X.state);Ce={...Ce,...t.history.encodeLocation(Ce)};let Ae=X&&X.replace!=null?X.replace:void 0,Ie="PUSH";Ae===!0?Ie="REPLACE":Ae===!1||pe!=null&&Qn(pe.formMethod)&&pe.formAction===j.location.pathname+j.location.search&&(Ie="REPLACE");let ke=X&&"preventScrollReset"in X?X.preventScrollReset===!0:void 0,Ee=(X&&X.flushSync)===!0,Fe=qs({currentLocation:Me,nextLocation:Ce,historyAction:Ie});if(Fe){Tr(Fe,{state:"blocked",location:Ce,proceed(){Tr(Fe,{state:"proceeding",proceed:void 0,reset:void 0,location:Ce}),wr(F,X)},reset(){let et=new Map(j.blockers);et.set(Fe,cc),Ct({blockers:et})}});return}await _n(Ie,Ce,{submission:pe,pendingError:Se,preventScrollReset:ke,replace:X&&X.replace,enableViewTransition:X&&X.viewTransition,flushSync:Ee})}function Fn(){De||(De=R4()),Fs(),Ct({revalidation:"loading"});let F=De.promise;return j.navigation.state==="submitting"?F:j.navigation.state==="idle"?(_n(j.historyAction,j.location,{startUninterruptedRevalidation:!0}),F):(_n(_||j.historyAction,j.navigation.location,{overrideNavigation:j.navigation,enableViewTransition:R===!0}),F)}async function _n(F,X,ee){I&&I.abort(),I=null,_=F,z=(ee&&ee.startUninterruptedRevalidation)===!0,Kr(j.location,j.matches),O=(ee&&ee.preventScrollReset)===!0,R=(ee&&ee.enableViewTransition)===!0;let ue=c||l,pe=ee&&ee.overrideNavigation,Se=ee?.initialHydration&&j.matches&&j.matches.length>0&&!L?j.matches:Ro(ue,X,f),Me=(ee&&ee.flushSync)===!0;if(Se&&j.initialized&&!ve&&x4(j.location,X)&&!(ee&&ee.submission&&Qn(ee.submission.formMethod))){rn(X,{matches:Se},{flushSync:Me});return}let Ce=qn(Se,ue,X.pathname);if(Ce.active&&Ce.matches&&(Se=Ce.matches),!Se){let{error:ct,notFoundMatches:$e,route:ut}=Yi(X.pathname);rn(X,{matches:$e,loaderData:{},errors:{[ut.id]:ct}},{flushSync:Me});return}I=new AbortController;let Ae=uc(t.history,X,I.signal,ee&&ee.submission),Ie=t.unstable_getContext?await t.unstable_getContext():new vx,ke;if(ee&&ee.pendingError)ke=[Do(Se).route.id,{type:"error",error:ee.pendingError}];else if(ee&&ee.submission&&Qn(ee.submission.formMethod)){let ct=await fa(Ae,X,ee.submission,Se,Ie,Ce.active,ee&&ee.initialHydration===!0,{replace:ee.replace,flushSync:Me});if(ct.shortCircuited)return;if(ct.pendingActionResult){let[$e,ut]=ct.pendingActionResult;if(pr(ut)&&Tf(ut.error)&&ut.error.status===404){I=null,rn(X,{matches:ct.matches,loaderData:{},errors:{[$e]:ut.error}});return}}Se=ct.matches||Se,ke=ct.pendingActionResult,pe=h0(X,ee.submission),Me=!1,Ce.active=!1,Ae=uc(t.history,Ae.url,Ae.signal)}let{shortCircuited:Ee,matches:Fe,loaderData:et,errors:pt}=await yl(Ae,X,Se,Ie,Ce.active,pe,ee&&ee.submission,ee&&ee.fetcherSubmission,ee&&ee.replace,ee&&ee.initialHydration===!0,Me,ke);Ee||(I=null,rn(X,{matches:Fe||Se,...Nx(ke),loaderData:et,errors:pt}))}async function fa(F,X,ee,ue,pe,Se,Me,Ce={}){Fs();let Ae=M4(X,ee);if(Ct({navigation:Ae},{flushSync:Ce.flushSync===!0}),Se){let Ee=await vi(ue,X.pathname,F.signal);if(Ee.type==="aborted")return{shortCircuited:!0};if(Ee.type==="error"){if(Ee.partialMatches.length===0){let{matches:et,route:pt}=Th(l);return{matches:et,pendingActionResult:[pt.id,{type:"error",error:Ee.error}]}}let Fe=Do(Ee.partialMatches).route.id;return{matches:Ee.partialMatches,pendingActionResult:[Fe,{type:"error",error:Ee.error}]}}else if(Ee.matches)ue=Ee.matches;else{let{notFoundMatches:Fe,error:et,route:pt}=Yi(X.pathname);return{matches:Fe,pendingActionResult:[pt.id,{type:"error",error:et}]}}}let Ie,ke=sp(ue,X);if(!ke.route.action&&!ke.route.lazy)Ie={type:"error",error:Br(405,{method:F.method,pathname:X.pathname,routeId:ke.route.id})};else{let Ee=vc(i,o,F,ue,ke,Me?[]:r,pe),Fe=await Er(F,Ee,pe,null);if(Ie=Fe[ke.route.id],!Ie){for(let et of ue)if(Fe[et.route.id]){Ie=Fe[et.route.id];break}}if(F.signal.aborted)return{shortCircuited:!0}}if($a(Ie)){let Ee;return Ce&&Ce.replace!=null?Ee=Ce.replace:Ee=Ax(Ie.response.headers.get("Location"),new URL(F.url),f)===j.location.pathname+j.location.search,await Gr(F,Ie,!0,{submission:ee,replace:Ee}),{shortCircuited:!0}}if(pr(Ie)){let Ee=Do(ue,ke.route.id);return(Ce&&Ce.replace)!==!0&&(_="PUSH"),{matches:ue,pendingActionResult:[Ee.route.id,Ie,ke.route.id]}}return{matches:ue,pendingActionResult:[ke.route.id,Ie]}}async function yl(F,X,ee,ue,pe,Se,Me,Ce,Ae,Ie,ke,Ee){let Fe=Se||h0(X,Me),et=Me||Ce||Rx(Fe),pt=!z&&!Ie;if(pe){if(pt){let Dt=Rn(Ee);Ct({navigation:Fe,...Dt!==void 0?{actionData:Dt}:{}},{flushSync:ke})}let je=await vi(ee,X.pathname,F.signal);if(je.type==="aborted")return{shortCircuited:!0};if(je.type==="error"){if(je.partialMatches.length===0){let{matches:Yr,route:gn}=Th(l);return{matches:Yr,loaderData:{},errors:{[gn.id]:je.error}}}let Dt=Do(je.partialMatches).route.id;return{matches:je.partialMatches,loaderData:{},errors:{[Dt]:je.error}}}else if(je.matches)ee=je.matches;else{let{error:Dt,notFoundMatches:Yr,route:gn}=Yi(X.pathname);return{matches:Yr,loaderData:{},errors:{[gn.id]:Dt}}}}let ct=c||l,{dsMatches:$e,revalidatingFetchers:ut}=wx(F,ue,i,o,t.history,j,ee,et,X,Ie?[]:r,Ie===!0,ve,ge,fe,ie,$,ct,f,t.patchRoutesOnNavigation!=null,Ee);if(ce=++oe,!t.dataStrategy&&!$e.some(je=>je.shouldLoad)&&!$e.some(je=>je.route.unstable_middleware)&&ut.length===0){let je=gi();return rn(X,{matches:ee,loaderData:{},errors:Ee&&pr(Ee[1])?{[Ee[0]]:Ee[1].error}:null,...Nx(Ee),...je?{fetchers:new Map(j.fetchers)}:{}},{flushSync:ke}),{shortCircuited:!0}}if(pt){let je={};if(!pe){je.navigation=Fe;let Dt=Rn(Ee);Dt!==void 0&&(je.actionData=Dt)}ut.length>0&&(je.fetchers=Gc(ut)),Ct(je,{flushSync:ke})}ut.forEach(je=>{xr(je.key),je.controller&&G.set(je.key,je.controller)});let Wn=()=>ut.forEach(je=>xr(je.key));I&&I.signal.addEventListener("abort",Wn);let{loaderResults:mn,fetcherResults:sn}=await $s($e,ut,F,ue);if(F.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",Wn),ut.forEach(je=>G.delete(je.key));let Dn=Ch(mn);if(Dn)return await Gr(F,Dn.result,!0,{replace:Ae}),{shortCircuited:!0};if(Dn=Ch(sn),Dn)return $.add(Dn.key),await Gr(F,Dn.result,!0,{replace:Ae}),{shortCircuited:!0};let{loaderData:Ks,errors:rr}=Mx(j,ee,mn,Ee,ut,sn);Ie&&j.errors&&(rr={...j.errors,...rr});let Ar=gi(),ir=yi(ce),In=Ar||ir||ut.length>0;return{matches:ee,loaderData:Ks,errors:rr,...In?{fetchers:new Map(j.fetchers)}:{}}}function Rn(F){if(F&&!pr(F[1]))return{[F[0]]:F[1].data};if(j.actionData)return Object.keys(j.actionData).length===0?null:j.actionData}function Gc(F){return F.forEach(X=>{let ee=j.fetchers.get(X.key),ue=Wu(void 0,ee?ee.data:void 0);j.fetchers.set(X.key,ue)}),new Map(j.fetchers)}async function da(F,X,ee,ue){xr(F);let pe=(ue&&ue.flushSync)===!0,Se=c||l,Me=hv(j.location,j.matches,f,ee,X,ue?.relative),Ce=Ro(Se,Me,f),Ae=qn(Ce,Se,Me);if(Ae.active&&Ae.matches&&(Ce=Ae.matches),!Ce){Ge(F,X,Br(404,{pathname:Me}),{flushSync:pe});return}let{path:Ie,submission:ke,error:Ee}=Sx(!0,Me,ue);if(Ee){Ge(F,X,Ee,{flushSync:pe});return}let Fe=t.unstable_getContext?await t.unstable_getContext():new vx,et=(ue&&ue.preventScrollReset)===!0;if(ke&&Qn(ke.formMethod)){await Vs(F,X,Ie,Ce,Fe,Ae.active,pe,et,ke);return}ie.set(F,{routeId:X,path:Ie}),await Gi(F,X,Ie,Ce,Fe,Ae.active,pe,et,ke)}async function Vs(F,X,ee,ue,pe,Se,Me,Ce,Ae){Fs(),ie.delete(F);let Ie=j.fetchers.get(F);lt(F,O4(Ae,Ie),{flushSync:Me});let ke=new AbortController,Ee=uc(t.history,ee,ke.signal,Ae);if(Se){let Ot=await vi(ue,new URL(Ee.url).pathname,Ee.signal,F);if(Ot.type==="aborted")return;if(Ot.type==="error"){Ge(F,X,Ot.error,{flushSync:Me});return}else if(Ot.matches)ue=Ot.matches;else{Ge(F,X,Br(404,{pathname:ee}),{flushSync:Me});return}}let Fe=sp(ue,ee);if(!Fe.route.action&&!Fe.route.lazy){let Ot=Br(405,{method:Ae.formMethod,pathname:ee,routeId:X});Ge(F,X,Ot,{flushSync:Me});return}G.set(F,ke);let et=oe,pt=vc(i,o,Ee,ue,Fe,r,pe),$e=(await Er(Ee,pt,pe,F))[Fe.route.id];if(Ee.signal.aborted){G.get(F)===ke&&G.delete(F);return}if(fe.has(F)){if($a($e)||pr($e)){lt(F,Ao(void 0));return}}else{if($a($e))if(G.delete(F),ce>et){lt(F,Ao(void 0));return}else return $.add(F),lt(F,Wu(Ae)),Gr(Ee,$e,!1,{fetcherSubmission:Ae,preventScrollReset:Ce});if(pr($e)){Ge(F,X,$e.error);return}}let ut=j.navigation.location||j.location,Wn=uc(t.history,ut,ke.signal),mn=c||l,sn=j.navigation.state!=="idle"?Ro(mn,j.navigation.location,f):j.matches;Xe(sn,"Didn't find any matches after fetcher action");let Dn=++oe;Te.set(F,Dn);let Ks=Wu(Ae,$e.data);j.fetchers.set(F,Ks);let{dsMatches:rr,revalidatingFetchers:Ar}=wx(Wn,pe,i,o,t.history,j,sn,Ae,ut,r,!1,ve,ge,fe,ie,$,mn,f,t.patchRoutesOnNavigation!=null,[Fe.route.id,$e]);Ar.filter(Ot=>Ot.key!==F).forEach(Ot=>{let Xr=Ot.key,Ys=j.fetchers.get(Xr),Xs=Wu(void 0,Ys?Ys.data:void 0);j.fetchers.set(Xr,Xs),xr(Xr),Ot.controller&&G.set(Xr,Ot.controller)}),Ct({fetchers:new Map(j.fetchers)});let ir=()=>Ar.forEach(Ot=>xr(Ot.key));ke.signal.addEventListener("abort",ir);let{loaderResults:In,fetcherResults:je}=await $s(rr,Ar,Wn,pe);if(ke.signal.aborted)return;if(ke.signal.removeEventListener("abort",ir),Te.delete(F),G.delete(F),Ar.forEach(Ot=>G.delete(Ot.key)),j.fetchers.has(F)){let Ot=Ao($e.data);j.fetchers.set(F,Ot)}let Dt=Ch(In);if(Dt)return Gr(Wn,Dt.result,!1,{preventScrollReset:Ce});if(Dt=Ch(je),Dt)return $.add(Dt.key),Gr(Wn,Dt.result,!1,{preventScrollReset:Ce});let{loaderData:Yr,errors:gn}=Mx(j,sn,In,void 0,Ar,je);yi(Dn),j.navigation.state==="loading"&&Dn>ce?(Xe(_,"Expected pending action"),I&&I.abort(),rn(j.navigation.location,{matches:sn,loaderData:Yr,errors:gn,fetchers:new Map(j.fetchers)})):(Ct({errors:gn,loaderData:Ox(j.loaderData,Yr,sn,gn),fetchers:new Map(j.fetchers)}),ve=!1)}async function Gi(F,X,ee,ue,pe,Se,Me,Ce,Ae){let Ie=j.fetchers.get(F);lt(F,Wu(Ae,Ie?Ie.data:void 0),{flushSync:Me});let ke=new AbortController,Ee=uc(t.history,ee,ke.signal);if(Se){let ut=await vi(ue,new URL(Ee.url).pathname,Ee.signal,F);if(ut.type==="aborted")return;if(ut.type==="error"){Ge(F,X,ut.error,{flushSync:Me});return}else if(ut.matches)ue=ut.matches;else{Ge(F,X,Br(404,{pathname:ee}),{flushSync:Me});return}}let Fe=sp(ue,ee);G.set(F,ke);let et=oe,pt=vc(i,o,Ee,ue,Fe,r,pe),$e=(await Er(Ee,pt,pe,F))[Fe.route.id];if(G.get(F)===ke&&G.delete(F),!Ee.signal.aborted){if(fe.has(F)){lt(F,Ao(void 0));return}if($a($e))if(ce>et){lt(F,Ao(void 0));return}else{$.add(F),await Gr(Ee,$e,!1,{preventScrollReset:Ce});return}if(pr($e)){Ge(F,X,$e.error);return}lt(F,Ao($e.data))}}async function Gr(F,X,ee,{submission:ue,fetcherSubmission:pe,preventScrollReset:Se,replace:Me}={}){X.response.headers.has("X-Remix-Revalidate")&&(ve=!0);let Ce=X.response.headers.get("Location");Xe(Ce,"Expected a Location header on the redirect Response"),Ce=Ax(Ce,new URL(F.url),f);let Ae=wf(j.location,Ce,{_isRedirect:!0});if(n){let pt=!1;if(X.response.headers.has("X-Remix-Reload-Document"))pt=!0;else if(p1(Ce)){const ct=iA(Ce,!0);pt=ct.origin!==e.location.origin||tr(ct.pathname,f)==null}if(pt){Me?e.location.replace(Ce):e.location.assign(Ce);return}}I=null;let Ie=Me===!0||X.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ke,formAction:Ee,formEncType:Fe}=j.navigation;!ue&&!pe&&ke&&Ee&&Fe&&(ue=Rx(j.navigation));let et=ue||pe;if(o4.has(X.response.status)&&et&&Qn(et.formMethod))await _n(Ie,Ae,{submission:{...et,formAction:Ce},preventScrollReset:Se||O,enableViewTransition:ee?R:void 0});else{let pt=h0(Ae,ue);await _n(Ie,Ae,{overrideNavigation:pt,fetcherSubmission:pe,preventScrollReset:Se||O,enableViewTransition:ee?R:void 0})}}async function Er(F,X,ee,ue){let pe,Se={};try{pe=await y4(h,F,X,ue,ee,!1)}catch(Me){return X.filter(Ce=>Ce.shouldLoad).forEach(Ce=>{Se[Ce.route.id]={type:"error",error:Me}}),Se}if(F.signal.aborted)return Se;for(let[Me,Ce]of Object.entries(pe))if(A4(Ce)){let Ae=Ce.result;Se[Me]={type:"redirect",response:w4(Ae,F,Me,X,f)}}else Se[Me]=await S4(Ce);return Se}async function $s(F,X,ee,ue){let pe=Er(ee,F,ue,null),Se=Promise.all(X.map(async Ae=>{if(Ae.matches&&Ae.match&&Ae.request&&Ae.controller){let ke=(await Er(Ae.request,Ae.matches,ue,Ae.key))[Ae.match.route.id];return{[Ae.key]:ke}}else return Promise.resolve({[Ae.key]:{type:"error",error:Br(404,{pathname:Ae.path})}})})),Me=await pe,Ce=(await Se).reduce((Ae,Ie)=>Object.assign(Ae,Ie),{});return{loaderResults:Me,fetcherResults:Ce}}function Fs(){ve=!0,ie.forEach((F,X)=>{G.has(X)&&ge.add(X),xr(X)})}function lt(F,X,ee={}){j.fetchers.set(F,X),Ct({fetchers:new Map(j.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function Ge(F,X,ee,ue={}){let pe=Do(j.matches,X);Gt(F),Ct({errors:{[pe.route.id]:ee},fetchers:new Map(j.fetchers)},{flushSync:(ue&&ue.flushSync)===!0})}function xn(F){return he.set(F,(he.get(F)||0)+1),fe.has(F)&&fe.delete(F),j.fetchers.get(F)||a4}function Gt(F){let X=j.fetchers.get(F);G.has(F)&&!(X&&X.state==="loading"&&Te.has(F))&&xr(F),ie.delete(F),Te.delete(F),$.delete(F),fe.delete(F),ge.delete(F),j.fetchers.delete(F)}function vl(F){let X=(he.get(F)||0)-1;X<=0?(he.delete(F),fe.add(F)):he.set(F,X),Ct({fetchers:new Map(j.fetchers)})}function xr(F){let X=G.get(F);X&&(X.abort(),G.delete(F))}function mi(F){for(let X of F){let ee=xn(X),ue=Ao(ee.data);j.fetchers.set(X,ue)}}function gi(){let F=[],X=!1;for(let ee of $){let ue=j.fetchers.get(ee);Xe(ue,`Expected fetcher: ${ee}`),ue.state==="loading"&&($.delete(ee),F.push(ee),X=!0)}return mi(F),X}function yi(F){let X=[];for(let[ee,ue]of Te)if(ue<F){let pe=j.fetchers.get(ee);Xe(pe,`Expected fetcher: ${ee}`),pe.state==="loading"&&(xr(ee),Te.delete(ee),X.push(ee))}return mi(X),X.length>0}function nr(F,X){let ee=j.blockers.get(F)||cc;return we.get(F)!==X&&we.set(F,X),ee}function Ki(F){j.blockers.delete(F),we.delete(F)}function Tr(F,X){let ee=j.blockers.get(F)||cc;Xe(ee.state==="unblocked"&&X.state==="blocked"||ee.state==="blocked"&&X.state==="blocked"||ee.state==="blocked"&&X.state==="proceeding"||ee.state==="blocked"&&X.state==="unblocked"||ee.state==="proceeding"&&X.state==="unblocked",`Invalid blocker state transition: ${ee.state} -> ${X.state}`);let ue=new Map(j.blockers);ue.set(F,X),Ct({blockers:ue})}function qs({currentLocation:F,nextLocation:X,historyAction:ee}){if(we.size===0)return;we.size>1&&Zt(!1,"A router only supports one blocker at a time");let ue=Array.from(we.entries()),[pe,Se]=ue[ue.length-1],Me=j.blockers.get(pe);if(!(Me&&Me.state==="proceeding")&&Se({currentLocation:F,nextLocation:X,historyAction:ee}))return pe}function Yi(F){let X=Br(404,{pathname:F}),ee=c||l,{matches:ue,route:pe}=Th(ee);return{notFoundMatches:ue,route:pe,error:X}}function bl(F,X,ee){if(S=F,T=X,w=ee||null,!A&&j.navigation===d0){A=!0;let ue=Ws(j.location,j.matches);ue!=null&&Ct({restoreScrollPosition:ue})}return()=>{S=null,T=null,w=null}}function Cr(F,X){return w&&w(F,X.map(ue=>sA(ue,j.loaderData)))||F.key}function Kr(F,X){if(S&&T){let ee=Cr(F,X);S[ee]=T()}}function Ws(F,X){if(S){let ee=Cr(F,X),ue=S[ee];if(typeof ue=="number")return ue}return null}function qn(F,X,ee){if(t.patchRoutesOnNavigation)if(F){if(Object.keys(F[0].params).length>0)return{active:!0,matches:ip(X,ee,f,!0)}}else return{active:!0,matches:ip(X,ee,f,!0)||[]};return{active:!1,matches:null}}async function vi(F,X,ee,ue){if(!t.patchRoutesOnNavigation)return{type:"success",matches:F};let pe=F;for(;;){let Se=c==null,Me=c||l,Ce=o;try{await t.patchRoutesOnNavigation({signal:ee,path:X,matches:pe,fetcherKey:ue,patch:(ke,Ee)=>{ee.aborted||Ex(ke,Ee,Me,Ce,i,!1)}})}catch(ke){return{type:"error",error:ke,partialMatches:pe}}finally{Se&&!ee.aborted&&(l=[...l])}if(ee.aborted)return{type:"aborted"};let Ae=Ro(Me,X,f);if(Ae)return{type:"success",matches:Ae};let Ie=ip(Me,X,f,!0);if(!Ie||pe.length===Ie.length&&pe.every((ke,Ee)=>ke.route.id===Ie[Ee].route.id))return{type:"success",matches:null};pe=Ie}}function Xi(F){o={},c=Ef(F,i,void 0,o)}function Gs(F,X,ee=!1){let ue=c==null;Ex(F,X,c||l,o,i,ee),ue&&(l=[...l],Ct({}))}return H={get basename(){return f},get future(){return p},get state(){return j},get routes(){return l},get window(){return e},initialize:Mt,subscribe:$n,enableScrollRestoration:bl,navigate:wr,fetch:da,revalidate:Fn,createHref:F=>t.history.createHref(F),encodeLocation:F=>t.history.encodeLocation(F),getFetcher:xn,deleteFetcher:vl,dispose:at,getBlocker:nr,deleteBlocker:Ki,patchRoutes:Gs,_internalFetchControllers:G,_internalSetRoutes:Xi,_internalSetStateDoNotUseOrYouWillBreakYourApp(F){Ct(F)}},H}function f4(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function hv(t,e,n,r,i,o){let l,c;if(i){l=[];for(let h of e)if(l.push(h),h.route.id===i){c=h;break}}else l=e,c=e[e.length-1];let f=h1(r||".",d1(l),tr(t.pathname,n)||t.pathname,o==="path");if(r==null&&(f.search=t.search,f.hash=t.hash),(r==null||r===""||r===".")&&c){let h=m1(f.search);if(c.route.index&&!h)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&h){let p=new URLSearchParams(f.search),y=p.getAll("index");p.delete("index"),y.filter(S=>S).forEach(S=>p.append("index",S));let v=p.toString();f.search=v?`?${v}`:""}}return n!=="/"&&(f.pathname=YD({basename:n,pathname:f.pathname})),Zo(f)}function Sx(t,e,n){if(!n||!f4(n))return{path:e};if(n.formMethod&&!k4(n.formMethod))return{path:e,error:Br(405,{method:n.formMethod})};let r=()=>({path:e,error:Br(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),l=vA(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Qn(o))return r();let y=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((v,[S,w])=>`${v}${S}=${w}
`,""):String(n.body);return{path:e,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:y}}}else if(n.formEncType==="application/json"){if(!Qn(o))return r();try{let y=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:y,text:void 0}}}catch{return r()}}}Xe(typeof FormData=="function","FormData is not available in this environment");let c,f;if(n.formData)c=gv(n.formData),f=n.formData;else if(n.body instanceof FormData)c=gv(n.body),f=n.body;else if(n.body instanceof URLSearchParams)c=n.body,f=kx(c);else if(n.body==null)c=new URLSearchParams,f=new FormData;else try{c=new URLSearchParams(n.body),f=kx(c)}catch{return r()}let h={formMethod:o,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Qn(h.formMethod))return{path:e,submission:h};let p=ia(e);return t&&p.search&&m1(p.search)&&c.append("index",""),p.search=`?${c}`,{path:Zo(p),submission:h}}function wx(t,e,n,r,i,o,l,c,f,h,p,y,v,S,w,T,A,N,L,U){let K=U?pr(U[1])?U[1].error:U[1].data:void 0,H=i.createURL(o.location),j=i.createURL(f),_;if(p&&o.errors){let z=Object.keys(o.errors)[0];_=l.findIndex(ve=>ve.route.id===z)}else if(U&&pr(U[1])){let z=U[0];_=l.findIndex(ve=>ve.route.id===z)-1}let O=U?U[1].statusCode:void 0,I=O&&O>=400,R={currentUrl:H,currentParams:o.matches[0]?.params||{},nextUrl:j,nextParams:l[0].params,...c,actionResult:K,actionStatus:O},B=l.map((z,ve)=>{let{route:ge}=z,G=null;if(_!=null&&ve>_?G=!1:ge.lazy?G=!0:ge.loader==null?G=!1:p?G=pv(ge,o.loaderData,o.errors):d4(o.loaderData,o.matches[ve],z)&&(G=!0),G!==null)return mv(n,r,t,z,h,e,G);let oe=I?!1:y||H.pathname+H.search===j.pathname+j.search||H.search!==j.search||h4(o.matches[ve],z),ce={...R,defaultShouldRevalidate:oe},Te=Tp(z,ce);return mv(n,r,t,z,h,e,Te,ce)}),q=[];return w.forEach((z,ve)=>{if(p||!l.some(he=>he.route.id===z.routeId)||S.has(ve))return;let ge=o.fetchers.get(ve),G=ge&&ge.state!=="idle"&&ge.data===void 0,oe=Ro(A,z.path,N);if(!oe){if(L&&G)return;q.push({key:ve,routeId:z.routeId,path:z.path,matches:null,match:null,request:null,controller:null});return}if(T.has(ve))return;let ce=sp(oe,z.path),Te=new AbortController,$=uc(i,z.path,Te.signal),ie=null;if(v.has(ve))v.delete(ve),ie=vc(n,r,$,oe,ce,h,e);else if(G)y&&(ie=vc(n,r,$,oe,ce,h,e));else{let he={...R,defaultShouldRevalidate:I?!1:y};Tp(ce,he)&&(ie=vc(n,r,$,oe,ce,h,e,he))}ie&&q.push({key:ve,routeId:z.routeId,path:z.path,matches:ie,match:ce,request:$,controller:Te})}),{dsMatches:B,revalidatingFetchers:q}}function pv(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function d4(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function h4(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Tp(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Ex(t,e,n,r,i,o){let l;if(t){let h=r[t];Xe(h,`No route found to patch children into: routeId = ${t}`),h.children||(h.children=[]),l=h.children}else l=n;let c=[],f=[];if(e.forEach(h=>{let p=l.find(y=>hA(h,y));p?f.push({existingRoute:p,newRoute:h}):c.push(h)}),c.length>0){let h=Ef(c,i,[t||"_","patch",String(l?.length||"0")],r);l.push(...h)}if(o&&f.length>0)for(let h=0;h<f.length;h++){let{existingRoute:p,newRoute:y}=f[h],v=p,[S]=Ef([y],i,[],{},!0);Object.assign(v,{element:S.element?S.element:v.element,errorElement:S.errorElement?S.errorElement:v.errorElement,hydrateFallbackElement:S.hydrateFallbackElement?S.hydrateFallbackElement:v.hydrateFallbackElement})}}function hA(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>e.children?.some(i=>hA(n,i))):!1}var xx=new WeakMap,pA=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(Xe(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let o=i.lazy[t];if(!o)return;let l=xx.get(i);l||(l={},xx.set(i,l));let c=l[t];if(c)return c;let f=(async()=>{let h=ID(t),y=i[t]!==void 0&&t!=="hasErrorBoundary";if(h)Zt(!h,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),l[t]=Promise.resolve();else if(y)Zt(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let v=await o();v!=null&&(Object.assign(i,{[t]:v}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(v=>v===void 0)&&(i.lazy=void 0))})();return l[t]=f,f},Tx=new WeakMap;function p4(t,e,n,r,i){let o=n[t.id];if(Xe(o,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let p=Tx.get(o);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let y=(async()=>{Xe(typeof t.lazy=="function","No lazy route function found");let v=await t.lazy(),S={};for(let w in v){let T=v[w];if(T===void 0)continue;let A=PD(w),L=o[w]!==void 0&&w!=="hasErrorBoundary";A?Zt(!A,"Route property "+w+" is not a supported property to be returned from a lazy route function. This property will be ignored."):L?Zt(!L,`Route "${o.id}" has a static property "${w}" defined but its lazy function is also returning a value for this property. The lazy route property "${w}" will be ignored.`):S[w]=T}Object.assign(o,S),Object.assign(o,{...r(o),lazy:void 0})})();return Tx.set(o,y),y.catch(()=>{}),{lazyRoutePromise:y,lazyHandlerPromise:y}}let l=Object.keys(t.lazy),c=[],f;for(let p of l){if(i&&i.includes(p))continue;let y=pA({key:p,route:t,manifest:n,mapRouteProperties:r});y&&(c.push(y),p===e&&(f=y))}let h=c.length>0?Promise.all(c).then(()=>{}):void 0;return h?.catch(()=>{}),f?.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:f}}async function Cx(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,o)=>{n[e[o].route.id]=i}),n}async function m4(t){return t.matches.some(e=>e.route.unstable_middleware)?mA(t,()=>Cx(t)):Cx(t)}function mA(t,e){return g4(t,e,r=>r,T4,n);function n(r,i,o){if(o)return Promise.resolve(Object.assign(o.value,{[i]:{type:"error",result:r}}));{let{matches:l}=t,c=Math.min(l.findIndex(h=>h.route.id===i)||0,l.findIndex(h=>h.unstable_shouldCallHandler())||0),f=Do(l,l[c].route.id).route.id;return Promise.resolve({[f]:{type:"error",result:r}})}}}async function g4(t,e,n,r,i){let{matches:o,request:l,params:c,context:f}=t,h=o.flatMap(y=>y.route.unstable_middleware?y.route.unstable_middleware.map(v=>[y.route.id,v]):[]);return await gA({request:l,params:c,context:f},h,e,n,r,i)}async function gA(t,e,n,r,i,o,l=0){let{request:c}=t;if(c.signal.aborted)throw c.signal.reason??new Error(`Request aborted: ${c.method} ${c.url}`);let f=e[l];if(!f)return await n();let[h,p]=f,y,v=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");try{return y={value:await gA(t,e,n,r,i,o,l+1)},y.value}catch(S){return y={value:await o(S,h,y)},y.value}};try{let S=await p(t,v),w=S!=null?r(S):void 0;return i(w)?w:y?w??y.value:(y={value:await v()},y.value)}catch(S){return await o(S,h,y)}}function yA(t,e,n,r,i){let o=pA({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),l=p4(r.route,Qn(n.method)?"action":"loader",e,t,i);return{middleware:o,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function mv(t,e,n,r,i,o,l,c=null){let f=!1,h=yA(t,e,n,r,i);return{...r,_lazyPromises:h,shouldLoad:l,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler(p){return f=!0,c?typeof p=="boolean"?Tp(r,{...c,defaultShouldRevalidate:p}):Tp(r,c):l},resolve(p){return f||l||p&&!Qn(n.method)&&(r.route.lazy||r.route.loader)?v4({request:n,match:r,lazyHandlerPromise:h?.handler,lazyRoutePromise:h?.route,handlerOverride:p,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function vc(t,e,n,r,i,o,l,c=null){return r.map(f=>f.route.id!==i.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler:()=>!1,_lazyPromises:yA(t,e,n,f,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:mv(t,e,n,f,o,l,!0,c))}async function y4(t,e,n,r,i,o){n.some(h=>h._lazyPromises?.middleware)&&await Promise.all(n.map(h=>h._lazyPromises?.middleware));let l={request:e,params:n[0].params,context:i,matches:n},f=await t({...l,fetcherKey:r,unstable_runClientMiddleware:h=>{let p=l;return mA(p,()=>h({...p,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(h=>[h._lazyPromises?.handler,h._lazyPromises?.route]))}catch{}return f}async function v4({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:o}){let l,c,f=Qn(t.method),h=f?"action":"loader",p=y=>{let v,S=new Promise((A,N)=>v=N);c=()=>v(),t.signal.addEventListener("abort",c);let w=A=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${h}" [routeId: ${e.route.id}]`)):y({request:t,params:e.params,context:o},...A!==void 0?[A]:[]),T=(async()=>{try{return{type:"data",result:await(i?i(N=>w(N)):w())}}catch(A){return{type:"error",result:A}}})();return Promise.race([T,S])};try{let y=f?e.route.action:e.route.loader;if(n||r)if(y){let v,[S]=await Promise.all([p(y).catch(w=>{v=w}),n,r]);if(v!==void 0)throw v;l=S}else{await n;let v=f?e.route.action:e.route.loader;if(v)[l]=await Promise.all([p(v),r]);else if(h==="action"){let S=new URL(t.url),w=S.pathname+S.search;throw Br(405,{method:t.method,pathname:w,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(y)l=await p(y);else{let v=new URL(t.url),S=v.pathname+v.search;throw Br(404,{pathname:S})}}catch(y){return{type:"error",result:y}}finally{c&&t.signal.removeEventListener("abort",c)}return l}async function b4(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function S4(t){let{result:e,type:n}=t;if(bA(e)){let r;try{r=await b4(e)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new xp(e.status,e.statusText,r),statusCode:e.status,headers:e.headers}:{type:"data",data:r,statusCode:e.status,headers:e.headers}}return n==="error"?_x(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new xp(e.init?.status||500,void 0,e.data),statusCode:Tf(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Tf(e)?e.status:void 0}:_x(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function w4(t,e,n,r,i){let o=t.headers.get("Location");if(Xe(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!p1(o)){let l=r.slice(0,r.findIndex(c=>c.route.id===n)+1);o=hv(new URL(e.url),l,i,o),t.headers.set("Location",o)}return t}function Ax(t,e,n){if(p1(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=tr(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function uc(t,e,n,r){let i=t.createURL(vA(e)).toString(),o={signal:n};if(r&&Qn(r.formMethod)){let{formMethod:l,formEncType:c}=r;o.method=l.toUpperCase(),c==="application/json"?(o.headers=new Headers({"Content-Type":c}),o.body=JSON.stringify(r.json)):c==="text/plain"?o.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?o.body=gv(r.formData):o.body=r.formData}return new Request(i,o)}function gv(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function kx(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function E4(t,e,n,r=!1,i=!1){let o={},l=null,c,f=!1,h={},p=n&&pr(n[1])?n[1].error:void 0;return t.forEach(y=>{if(!(y.route.id in e))return;let v=y.route.id,S=e[v];if(Xe(!$a(S),"Cannot handle redirect results in processLoaderData"),pr(S)){let w=S.error;if(p!==void 0&&(w=p,p=void 0),l=l||{},i)l[v]=w;else{let T=Do(t,v);l[T.route.id]==null&&(l[T.route.id]=w)}r||(o[v]=dA),f||(f=!0,c=Tf(S.error)?S.error.status:500),S.headers&&(h[v]=S.headers)}else o[v]=S.data,S.statusCode&&S.statusCode!==200&&!f&&(c=S.statusCode),S.headers&&(h[v]=S.headers)}),p!==void 0&&n&&(l={[n[0]]:p},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:l,statusCode:c||200,loaderHeaders:h}}function Mx(t,e,n,r,i,o){let{loaderData:l,errors:c}=E4(e,n,r);return i.filter(f=>!f.matches||f.matches.some(h=>h.shouldLoad)).forEach(f=>{let{key:h,match:p,controller:y}=f;if(y&&y.signal.aborted)return;let v=o[h];if(Xe(v,"Did not find corresponding fetcher result"),pr(v)){let S=Do(t.matches,p?.route.id);c&&c[S.route.id]||(c={...c,[S.route.id]:v.error}),t.fetchers.delete(h)}else if($a(v))Xe(!1,"Unhandled fetcher revalidation redirect");else{let S=Ao(v.data);t.fetchers.set(h,S)}}),{loaderData:l,errors:c}}function Ox(t,e,n,r){let i=Object.entries(e).filter(([,o])=>o!==dA).reduce((o,[l,c])=>(o[l]=c,o),{});for(let o of n){let l=o.route.id;if(!e.hasOwnProperty(l)&&t.hasOwnProperty(l)&&o.route.loader&&(i[l]=t[l]),r&&r.hasOwnProperty(l))break}return i}function Nx(t){return t?pr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Do(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Th(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Br(t,{pathname:e,routeId:n,method:r,type:i,message:o}={}){let l="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(l="Bad Request",r&&e&&n?c=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(c="Unable to encode submission body")):t===403?(l="Forbidden",c=`Route "${n}" does not match URL "${e}"`):t===404?(l="Not Found",c=`No route matches URL "${e}"`):t===405&&(l="Method Not Allowed",r&&e&&n?c=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(c=`Invalid request method "${r.toUpperCase()}"`)),new xp(t||500,l,new Error(c),!0)}function Ch(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if($a(i))return{key:r,result:i}}}function vA(t){let e=typeof t=="string"?ia(t):t;return Zo({...e,hash:""})}function x4(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function T4(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&C4(n))}function C4(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function A4(t){return bA(t.result)&&s4.has(t.result.status)}function pr(t){return t.type==="error"}function $a(t){return(t&&t.type)==="redirect"}function _x(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function bA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function k4(t){return i4.has(t.toUpperCase())}function Qn(t){return n4.has(t.toUpperCase())}function m1(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function sp(t,e){let n=typeof e=="string"?ia(e).search:e.search;if(t[t.length-1].route.index&&m1(n||""))return t[t.length-1];let r=cA(t);return r[r.length-1]}function Rx(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:l}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function h0(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function M4(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Wu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function O4(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ao(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function N4(t,e){try{let n=t.sessionStorage.getItem(fA);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function _4(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(fA,JSON.stringify(n))}catch(r){Zt(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function R4(){let t,e,n=new Promise((r,i)=>{t=async o=>{r(o);try{await n}catch{}},e=async o=>{i(o);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var pl=k.createContext(null);pl.displayName="DataRouter";var Ff=k.createContext(null);Ff.displayName="DataRouterState";k.createContext(!1);var g1=k.createContext({isTransitioning:!1});g1.displayName="ViewTransition";var SA=k.createContext(new Map);SA.displayName="Fetchers";var D4=k.createContext(null);D4.displayName="Await";var Fi=k.createContext(null);Fi.displayName="Navigation";var Nm=k.createContext(null);Nm.displayName="Location";var qi=k.createContext({outlet:null,matches:[],isDataRoute:!1});qi.displayName="Route";var y1=k.createContext(null);y1.displayName="RouteError";function I4(t,{relative:e}={}){Xe(Hc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(Fi),{hash:i,pathname:o,search:l}=qf(t,{relative:e}),c=o;return n!=="/"&&(c=o==="/"?n:ji([n,o])),r.createHref({pathname:c,search:l,hash:i})}function Hc(){return k.useContext(Nm)!=null}function sa(){return Xe(Hc(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Nm).location}function Dx(t){Xe(Hc(),"useMatch() may be used only in the context of a <Router> component.");let{pathname:e}=sa();return k.useMemo(()=>xf(t,lA(e)),[e,t])}var wA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function EA(t){k.useContext(Fi).static||k.useLayoutEffect(t)}function L4(){let{isDataRoute:t}=k.useContext(qi);return t?Y4():P4()}function P4(){Xe(Hc(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(pl),{basename:e,navigator:n}=k.useContext(Fi),{matches:r}=k.useContext(qi),{pathname:i}=sa(),o=JSON.stringify(d1(r)),l=k.useRef(!1);return EA(()=>{l.current=!0}),k.useCallback((f,h={})=>{if(Zt(l.current,wA),!l.current)return;if(typeof f=="number"){n.go(f);return}let p=h1(f,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ji([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,o,i,t])}var j4=k.createContext(null);function z4(t){let e=k.useContext(qi).outlet;return e&&k.createElement(j4.Provider,{value:t},e)}function qf(t,{relative:e}={}){let{matches:n}=k.useContext(qi),{pathname:r}=sa(),i=JSON.stringify(d1(n));return k.useMemo(()=>h1(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function U4(t,e,n,r,i){Xe(Hc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=k.useContext(Fi),{matches:l}=k.useContext(qi),c=l[l.length-1],f=c?c.params:{},h=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let L=y&&y.path||"";CA(h,!y||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let v=sa(),S;S=v;let w=S.pathname||"/",T=w;if(p!=="/"){let L=p.replace(/^\//,"").split("/");T="/"+w.replace(/^\//,"").split("/").slice(L.length).join("/")}let A=Ro(t,{pathname:T});return Zt(y||A!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Zt(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),F4(A&&A.map(L=>Object.assign({},L,{params:Object.assign({},f,L.params),pathname:ji([p,o.encodeLocation?o.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?p:ji([p,o.encodeLocation?o.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),l,n,r,i)}function B4(){let t=G4(),e=Tf(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:o},"ErrorBoundary")," or"," ",k.createElement("code",{style:o},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,l)}var H4=k.createElement(B4,null),V4=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?k.createElement(qi.Provider,{value:this.props.routeContext},k.createElement(y1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $4({routeContext:t,match:e,children:n}){let r=k.useContext(pl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(qi.Provider,{value:t},n)}function F4(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=n?.errors;if(l!=null){let h=o.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);Xe(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,f=-1;if(n)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=h),p.route.id){let{loaderData:y,errors:v}=n,S=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||S){c=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((h,p,y)=>{let v,S=!1,w=null,T=null;n&&(v=l&&p.route.id?l[p.route.id]:void 0,w=p.route.errorElement||H4,c&&(f<0&&y===0?(CA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,T=null):f===y&&(S=!0,T=p.route.hydrateFallbackElement||null)));let A=e.concat(o.slice(0,y+1)),N=()=>{let L;return v?L=w:S?L=T:p.route.Component?L=k.createElement(p.route.Component,null):p.route.element?L=p.route.element:L=h,k.createElement($4,{match:p,routeContext:{outlet:h,matches:A,isDataRoute:n!=null},children:L})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?k.createElement(V4,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:N(),routeContext:{outlet:null,matches:A,isDataRoute:!0},unstable_onError:r}):N()},null)}function v1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xA(t){let e=k.useContext(pl);return Xe(e,v1(t)),e}function Wf(t){let e=k.useContext(Ff);return Xe(e,v1(t)),e}function q4(t){let e=k.useContext(qi);return Xe(e,v1(t)),e}function _m(t){let e=q4(t),n=e.matches[e.matches.length-1];return Xe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function W4(){return _m("useRouteId")}function eK(){return Wf("useNavigation").navigation}function tK(){let{matches:t,loaderData:e}=Wf("useMatches");return k.useMemo(()=>t.map(n=>sA(n,e)),[t,e])}function nK(){let t=Wf("useLoaderData"),e=_m("useLoaderData");return t.loaderData[e]}function G4(){let t=k.useContext(y1),e=Wf("useRouteError"),n=_m("useRouteError");return t!==void 0?t:e.errors?.[n]}var K4=0;function TA(t){let{router:e,basename:n}=xA("useBlocker"),r=Wf("useBlocker"),[i,o]=k.useState(""),l=k.useCallback(c=>{if(typeof t!="function")return!!t;if(n==="/")return t(c);let{currentLocation:f,nextLocation:h,historyAction:p}=c;return t({currentLocation:{...f,pathname:tr(f.pathname,n)||f.pathname},nextLocation:{...h,pathname:tr(h.pathname,n)||h.pathname},historyAction:p})},[n,t]);return k.useEffect(()=>{let c=String(++K4);return o(c),()=>e.deleteBlocker(c)},[e]),k.useEffect(()=>{i!==""&&e.getBlocker(i,l)},[e,i,l]),i&&r.blockers.has(i)?r.blockers.get(i):cc}function Y4(){let{router:t}=xA("useNavigate"),e=_m("useNavigate"),n=k.useRef(!1);return EA(()=>{n.current=!0}),k.useCallback(async(i,o={})=>{Zt(n.current,wA),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var Ix={};function CA(t,e,n){!e&&!Ix[t]&&(Ix[t]=!0,Zt(!1,n))}var Lx={};function Px(t,e){!t&&!Lx[e]&&(Lx[e]=!0,console.warn(e))}function X4(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Zt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:k.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Zt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:k.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Zt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:k.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var J4=["HydrateFallback","hydrateFallbackElement"],Q4=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function Z4({router:t,flushSync:e,unstable_onError:n}){let[r,i]=k.useState(t.state),[o,l]=k.useState(),[c,f]=k.useState({isTransitioning:!1}),[h,p]=k.useState(),[y,v]=k.useState(),[S,w]=k.useState(),T=k.useRef(new Map),A=k.useCallback(H=>{i(j=>(H.errors&&n&&Object.entries(H.errors).forEach(([_,O])=>{j.errors?.[_]!==O&&n(O)}),H))},[n]),N=k.useCallback((H,{deletedFetchers:j,flushSync:_,viewTransitionOpts:O})=>{H.fetchers.forEach((R,B)=>{R.data!==void 0&&T.current.set(B,R.data)}),j.forEach(R=>T.current.delete(R)),Px(_===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let I=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(Px(O==null||I,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!O||!I){e&&_?e(()=>A(H)):k.startTransition(()=>A(H));return}if(e&&_){e(()=>{y&&(h&&h.resolve(),y.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:O.currentLocation,nextLocation:O.nextLocation})});let R=t.window.document.startViewTransition(()=>{e(()=>A(H))});R.finished.finally(()=>{e(()=>{p(void 0),v(void 0),l(void 0),f({isTransitioning:!1})})}),e(()=>v(R));return}y?(h&&h.resolve(),y.skipTransition(),w({state:H,currentLocation:O.currentLocation,nextLocation:O.nextLocation})):(l(H),f({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}))},[t.window,e,y,h,A]);k.useLayoutEffect(()=>t.subscribe(N),[t,N]),k.useEffect(()=>{c.isTransitioning&&!c.flushSync&&p(new Q4)},[c]),k.useEffect(()=>{if(h&&o&&t.window){let H=o,j=h.promise,_=t.window.document.startViewTransition(async()=>{k.startTransition(()=>A(H)),await j});_.finished.finally(()=>{p(void 0),v(void 0),l(void 0),f({isTransitioning:!1})}),v(_)}},[o,h,t.window,A]),k.useEffect(()=>{h&&o&&r.location.key===o.location.key&&h.resolve()},[h,y,r.location,o]),k.useEffect(()=>{!c.isTransitioning&&S&&(l(S.state),f({isTransitioning:!0,flushSync:!1,currentLocation:S.currentLocation,nextLocation:S.nextLocation}),w(void 0))},[c.isTransitioning,S]);let L=k.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:H=>t.navigate(H),push:(H,j,_)=>t.navigate(H,{state:j,preventScrollReset:_?.preventScrollReset}),replace:(H,j,_)=>t.navigate(H,{replace:!0,state:j,preventScrollReset:_?.preventScrollReset})}),[t]),U=t.basename||"/",K=k.useMemo(()=>({router:t,navigator:L,static:!1,basename:U,unstable_onError:n}),[t,L,U,n]);return k.createElement(k.Fragment,null,k.createElement(pl.Provider,{value:K},k.createElement(Ff.Provider,{value:r},k.createElement(SA.Provider,{value:T.current},k.createElement(g1.Provider,{value:c},k.createElement(nI,{basename:U,location:r.location,navigationType:r.historyAction,navigator:L},k.createElement(eI,{routes:t.routes,future:t.future,state:r,unstable_onError:n})))))),null)}var eI=k.memo(tI);function tI({routes:t,future:e,state:n,unstable_onError:r}){return U4(t,void 0,n,r,e)}function iK(t){return z4(t.context)}function nI({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Xe(!Hc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof n=="string"&&(n=ia(n));let{pathname:f="/",search:h="",hash:p="",state:y=null,key:v="default"}=n,S=k.useMemo(()=>{let w=tr(f,l);return w==null?null:{location:{pathname:w,search:h,hash:p,state:y,key:v},navigationType:r}},[l,f,h,p,y,v,r]);return Zt(S!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:k.createElement(Fi.Provider,{value:c},k.createElement(Nm.Provider,{children:e,value:S}))}var op="get",ap="application/x-www-form-urlencoded";function Rm(t){return t!=null&&typeof t.tagName=="string"}function rI(t){return Rm(t)&&t.tagName.toLowerCase()==="button"}function iI(t){return Rm(t)&&t.tagName.toLowerCase()==="form"}function sI(t){return Rm(t)&&t.tagName.toLowerCase()==="input"}function oI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aI(t,e){return t.button===0&&(!e||e==="_self")&&!oI(t)}var Ah=null;function lI(){if(Ah===null)try{new FormData(document.createElement("form"),0),Ah=!1}catch{Ah=!0}return Ah}var cI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function p0(t){return t!=null&&!cI.has(t)?(Zt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ap}"`),null):t}function uI(t,e){let n,r,i,o,l;if(iI(t)){let c=t.getAttribute("action");r=c?tr(c,e):null,n=t.getAttribute("method")||op,i=p0(t.getAttribute("enctype"))||ap,o=new FormData(t)}else if(rI(t)||sI(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||c.getAttribute("action");if(r=f?tr(f,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||op,i=p0(t.getAttribute("formenctype"))||p0(c.getAttribute("enctype"))||ap,o=new FormData(c,t),!lI()){let{name:h,type:p,value:y}=t;if(p==="image"){let v=h?`${h}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else h&&o.append(h,y)}}else{if(Rm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=op,r=null,i=ap,l=t}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function b1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fI(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&tr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function dI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function pI(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await dI(o,n);return l.links?l.links():[]}return[]}));return vI(r.flat(1).filter(hI).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function jx(t,e,n,r,i,o){let l=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,c=(f,h)=>n[h].pathname!==f.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,h)=>l(f,h)||c(f,h)):o==="data"?e.filter((f,h)=>{let p=r.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,h)||c(f,h))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function mI(t,e,{includeHydrateFallback:n}={}){return gI(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function gI(t){return[...new Set(t)]}function yI(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function vI(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(yI(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function AA(){let t=k.useContext(pl);return b1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function bI(){let t=k.useContext(Ff);return b1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var S1=k.createContext(void 0);S1.displayName="FrameworkContext";function kA(){let t=k.useContext(S1);return b1(t,"You must render this element inside a <HydratedRouter> element"),t}function SI(t,e){let n=k.useContext(S1),[r,i]=k.useState(!1),[o,l]=k.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:y}=e,v=k.useRef(null);k.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let T=N=>{N.forEach(L=>{l(L.isIntersecting)})},A=new IntersectionObserver(T,{threshold:.5});return v.current&&A.observe(v.current),()=>{A.disconnect()}}},[t]),k.useEffect(()=>{if(r){let T=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(T)}}},[r]);let S=()=>{i(!0)},w=()=>{i(!1),l(!1)};return n?t!=="intent"?[o,v,{}]:[o,v,{onFocus:Gu(c,S),onBlur:Gu(f,w),onMouseEnter:Gu(h,S),onMouseLeave:Gu(p,w),onTouchStart:Gu(y,S)}]:[!1,v,{}]}function Gu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function wI({page:t,...e}){let{router:n}=AA(),r=k.useMemo(()=>Ro(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?k.createElement(xI,{page:t,matches:r,...e}):null}function EI(t){let{manifest:e,routeModules:n}=kA(),[r,i]=k.useState([]);return k.useEffect(()=>{let o=!1;return pI(t,e,n).then(l=>{o||i(l)}),()=>{o=!0}},[t,e,n]),r}function xI({page:t,matches:e,...n}){let r=sa(),{manifest:i,routeModules:o}=kA(),{basename:l}=AA(),{loaderData:c,matches:f}=bI(),h=k.useMemo(()=>jx(t,e,f,i,r,"data"),[t,e,f,i,r]),p=k.useMemo(()=>jx(t,e,f,i,r,"assets"),[t,e,f,i,r]),y=k.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,T=!1;if(e.forEach(N=>{let L=i.routes[N.route.id];!L||!L.hasLoader||(!h.some(U=>U.route.id===N.route.id)&&N.route.id in c&&o[N.route.id]?.shouldRevalidate||L.hasClientLoader?T=!0:w.add(N.route.id))}),w.size===0)return[];let A=fI(t,l,"data");return T&&w.size>0&&A.searchParams.set("_routes",e.filter(N=>w.has(N.route.id)).map(N=>N.route.id).join(",")),[A.pathname+A.search]},[l,c,r,i,h,e,t,o]),v=k.useMemo(()=>mI(p,i),[p,i]),S=EI(p);return k.createElement(k.Fragment,null,y.map(w=>k.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),v.map(w=>k.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),S.map(({key:w,link:T})=>k.createElement("link",{key:w,nonce:n.nonce,...T})))}function TI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var MA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MA&&(window.__reactRouterVersion="7.8.2")}catch{}function CI(t,e){return u4({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:ND({window:e?.window}),hydrationData:AI(),routes:t,mapRouteProperties:X4,hydrationRouteProperties:J4,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function AI(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:kI(t.errors)}),t}function kI(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new xp(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let l=new o(i.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}var OA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,NA=k.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:c,target:f,to:h,preventScrollReset:p,viewTransition:y,...v},S){let{basename:w}=k.useContext(Fi),T=typeof h=="string"&&OA.test(h),A,N=!1;if(typeof h=="string"&&T&&(A=h,MA))try{let I=new URL(window.location.href),R=h.startsWith("//")?new URL(I.protocol+h):new URL(h),B=tr(R.pathname,w);R.origin===I.origin&&B!=null?h=B+R.search+R.hash:N=!0}catch{Zt(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=I4(h,{relative:i}),[U,K,H]=SI(r,v),j=NI(h,{replace:l,state:c,target:f,preventScrollReset:p,relative:i,viewTransition:y});function _(I){e&&e(I),I.defaultPrevented||j(I)}let O=k.createElement("a",{...v,...H,href:A||L,onClick:N||o?e:_,ref:TI(S,K),target:f,"data-discover":!T&&n==="render"?"true":void 0});return U&&!T?k.createElement(k.Fragment,null,O,k.createElement(wI,{page:L})):O});NA.displayName="Link";var lp=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:c,children:f,...h},p){let y=qf(l,{relative:h.relative}),v=sa(),S=k.useContext(Ff),{navigator:w,basename:T}=k.useContext(Fi),A=S!=null&&II(y)&&c===!0,N=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,L=v.pathname,U=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(L=L.toLowerCase(),U=U?U.toLowerCase():null,N=N.toLowerCase()),U&&T&&(U=tr(U,T)||U);const K=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let H=L===N||!i&&L.startsWith(N)&&L.charAt(K)==="/",j=U!=null&&(U===N||!i&&U.startsWith(N)&&U.charAt(N.length)==="/"),_={isActive:H,isPending:j,isTransitioning:A},O=H?e:void 0,I;typeof r=="function"?I=r(_):I=[r,H?"active":null,j?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let R=typeof o=="function"?o(_):o;return k.createElement(NA,{...h,"aria-current":O,className:I,ref:p,style:R,to:l,viewTransition:c},typeof f=="function"?f(_):f)});lp.displayName="NavLink";var MI=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:l=op,action:c,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:y,...v},S)=>{let w=Dm(),T=DI(c,{relative:h}),A=l.toLowerCase()==="get"?"get":"post",N=typeof c=="string"&&OA.test(c),L=U=>{if(f&&f(U),U.defaultPrevented)return;U.preventDefault();let K=U.nativeEvent.submitter,H=K?.getAttribute("formmethod")||l;w(K||U.currentTarget,{fetcherKey:e,method:H,navigate:n,replace:i,state:o,relative:h,preventScrollReset:p,viewTransition:y})};return k.createElement("form",{ref:S,method:A,action:T,onSubmit:r?f:L,...v,"data-discover":!N&&t==="render"?"true":void 0})});MI.displayName="Form";function OI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _A(t){let e=k.useContext(pl);return Xe(e,OI(t)),e}function NI(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let c=L4(),f=sa(),h=qf(t,{relative:o});return k.useCallback(p=>{if(aI(p,e)){p.preventDefault();let y=n!==void 0?n:Zo(f)===Zo(h);c(t,{replace:y,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[f,c,h,n,r,e,t,i,o,l])}var _I=0,RI=()=>`__${String(++_I)}__`;function Dm(){let{router:t}=_A("useSubmit"),{basename:e}=k.useContext(Fi),n=W4();return k.useCallback(async(r,i={})=>{let{action:o,method:l,encType:c,formData:f,body:h}=uI(r,e);if(i.navigate===!1){let p=i.fetcherKey||RI();await t.fetch(p,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function DI(t,{relative:e}={}){let{basename:n}=k.useContext(Fi),r=k.useContext(qi);Xe(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...qf(t||".",{relative:e})},l=sa();if(t==null){o.search=l.search;let c=new URLSearchParams(o.search),f=c.getAll("index");if(f.some(p=>p==="")){c.delete("index"),f.filter(y=>y).forEach(y=>c.append("index",y));let p=c.toString();o.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:ji([n,o.pathname])),Zo(o)}function II(t,{relative:e}={}){let n=k.useContext(g1);Xe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=_A("useViewTransitionState"),i=qf(t,{relative:e});if(!n.isTransitioning)return!1;let o=tr(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=tr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return xf(i.pathname,l)!=null||xf(i.pathname,o)!=null}var Vc=nA();const RA=f1(Vc);function DA(){return x.jsxs("svg",{viewBox:"0 0 1720 440",xmlns:"http://www.w3.org/2000/svg",children:[x.jsxs("defs",{children:[x.jsxs("linearGradient",{x1:"0",y1:"440",x2:"1720",y2:"0",id:"g",gradientUnits:"userSpaceOnUse",children:[x.jsx("stop",{offset:"0",children:x.jsx("animate",{attributeName:"stop-color",values:"#ff6000;#000000",dur:"10s",repeatCount:"1"})}),x.jsx("stop",{offset:"0.5",children:x.jsx("animate",{attributeName:"stop-color",values:"#fe0190;#000000",dur:"10s",repeatCount:"1"})}),x.jsx("stop",{offset:"1",children:x.jsx("animate",{attributeName:"stop-color",values:"#e400ff;#000000",dur:"10s",repeatCount:"1"})})]}),x.jsxs("radialGradient",{cx:"1080",cy:"180",r:"220",id:"h",gradientUnits:"userSpaceOnUse",children:[x.jsx("stop",{offset:"0",stopColor:"#ff6d00"}),x.jsx("stop",{offset:"1",children:x.jsx("animate",{attributeName:"stop-color",values:"#fe0589;#000000",dur:"10s",repeatCount:"1"})})]})]}),x.jsx("path",{d:"M 715.902 68 L 715.902 126.5 L 692.902 126.5 C 682.235 126.5 674.902 128.5 670.902 132.5 C 666.902 136.5 664.902 143.333 664.902 153 L 664.902 163.5 L 715.902 163.5 L 715.902 231 L 664.902 231 L 664.902 434.5 L 565.402 434.5 L 565.402 231 L 507.402 231 L 507.402 434.5 L 407.902 434.5 L 407.902 231 L 370.91 231 C 364.205 266.237 349.431 294.571 326.589 316 C 294.255 346.333 248.422 361.5 189.089 361.5 C 129.755 361.5 84.005 346.417 51.839 316.25 C 19.672 286.083 3.589 241.833 3.589 183.5 C 3.589 125.167 19.672 80.917 51.839 50.75 C 84.005 20.583 129.755 5.5 189.089 5.5 C 248.422 5.5 294.255 20.667 326.589 51 C 355.098 77.745 371.038 115.245 374.41 163.5 L 407.902 163.5 L 407.902 152.5 C 407.902 118.5 416.235 94.417 432.902 80.25 C 449.568 66.083 473.402 59 504.402 59 C 511.735 59 520.902 59.917 531.902 61.75 C 542.902 63.583 551.735 65.667 558.402 68 L 558.402 126.5 L 535.402 126.5 C 524.735 126.5 517.402 128.5 513.402 132.5 C 509.402 136.5 507.402 143.333 507.402 153 L 507.402 163.5 L 565.402 163.5 L 565.402 152.5 C 565.402 118.5 573.735 94.417 590.402 80.25 C 607.068 66.083 630.902 59 661.902 59 C 669.235 59 678.402 59.917 689.402 61.75 C 700.402 63.583 709.235 65.667 715.902 68 Z M 116.589 167.5 L 116.589 199.5 C 116.589 223.833 122.755 243.167 135.089 257.5 C 147.422 271.833 165.422 279 189.089 279 C 212.755 279 230.839 271.833 243.339 257.5 C 255.839 243.167 262.089 223.833 262.089 199.5 L 262.089 167.5 C 262.089 143.167 255.839 123.833 243.339 109.5 C 230.839 95.167 212.755 88 189.089 88 C 165.422 88 147.422 95.167 135.089 109.5 C 122.755 123.833 116.589 143.167 116.589 167.5 Z M 1096.9 136 L 991.404 136 C 991.404 121.667 985.071 110.083 972.404 101.25 C 959.737 92.417 944.404 88 926.404 88 C 900.404 88 880.737 94.917 867.404 108.75 C 854.071 122.583 847.404 142.167 847.404 167.5 L 847.404 199.5 C 847.404 224.833 854.071 244.417 867.404 258.25 C 880.737 272.083 900.404 279 926.404 279 C 944.404 279 959.737 274.75 972.404 266.25 C 985.071 257.75 956.571 361.5 905.904 361.5 C 848.904 361.5 806.071 346.583 777.404 316.75 C 748.737 286.917 734.404 242.5 734.404 183.5 C 734.404 125.167 750.654 80.917 783.154 50.75 C 815.654 20.583 861.904 5.5 921.904 5.5 C 954.904 5.5 984.571 10.5 1010.9 20.5 C 1037.24 30.5 1058.15 45.25 1073.65 64.75 C 1089.15 84.25 1096.9 108 1096.9 136 Z M 1397.41 171.5 L 1397.41 274.5 C 1397.41 280.167 1398.74 284.833 1401.41 288.5 C 1404.07 292.167 1408.07 294 1413.41 294 L 1431.41 294 L 1431.41 91.5 L 1512.41 91.5 L 1520.91 129 C 1540.24 100 1568.24 85.5 1604.91 85.5 C 1640.57 85.5 1668.07 97.167 1687.41 120.5 C 1706.74 143.833 1716.41 178.333 1716.41 224 C 1716.41 269.333 1706.74 303.583 1687.41 326.75 C 1668.07 349.917 1640.57 361.5 1604.91 361.5 C 1574.24 361.5 1549.57 351.5 1530.91 331.5 L 1530.91 434.5 L 1431.41 434.5 L 1431.41 351.5 C 1430.41 352.167 1427.82 353.25 1423.66 354.75 C 1419.49 356.25 1413.57 357.75 1405.91 359.25 C 1398.24 360.75 1389.41 361.5 1379.41 361.5 C 1360.07 361.5 1344.16 358.583 1331.66 352.75 C 1319.16 346.917 1310.57 338.833 1305.91 328.5 C 1293.24 338.5 1279.07 346.5 1263.41 352.5 C 1247.74 358.5 1229.41 361.5 1208.41 361.5 C 1146.41 361.5 1115.41 336.833 1115.41 287.5 C 1115.41 261.833 1122.32 242.25 1136.16 228.75 C 1149.99 215.25 1169.91 206 1195.91 201 C 1221.91 196 1255.91 193.5 1297.91 193.5 L 1297.91 180.5 C 1297.91 170.167 1294.32 162.333 1287.16 157 C 1279.99 151.667 1270.74 149 1259.41 149 C 1249.07 149 1240.16 150.833 1232.66 154.5 C 1225.16 158.167 1223.01 163.5 1223.01 163.5 L 1122.6 163.5 C 1122.61 138.856 1134.82 122.167 1158.66 107.5 C 1182.49 92.833 1216.57 85.5 1260.91 85.5 C 1301.24 85.5 1334.07 92.25 1359.41 105.75 C 1384.74 119.25 1397.41 141.167 1397.41 171.5 Z M 1297.91 263 L 1297.91 240.5 C 1269.57 240.5 1248.66 243.583 1235.16 249.75 C 1221.66 255.917 1214.91 264.167 1214.91 274.5 C 1214.91 291.167 1226.24 299.5 1248.91 299.5 C 1261.91 299.5 1273.32 296 1283.16 289 C 1292.99 282 1297.91 273.333 1297.91 263 Z M 1529.91 215 L 1529.91 231.5 C 1529.91 248.167 1533.57 261.75 1540.91 272.25 C 1548.24 282.75 1559.24 288 1573.91 288 C 1602.57 288 1616.91 270.833 1616.91 236.5 L 1616.91 210 C 1616.91 176 1602.57 159 1573.91 159 C 1559.24 159 1548.24 164.167 1540.91 174.5 C 1533.57 184.833 1529.91 198.333 1529.91 215 Z",fill:"url(#g)"}),x.jsx("path",{d:"M 992.373 231.321 L 904.897 231 L 904.897 163.5 L 1096.9 163.5 L 1096.9 355.5 L 1029.4 355.5 L 1029.4 312.685 C 1008.68 359.5 956.571 361.5 905.904 361.5 C 848.904 361.5 806.071 346.583 777.404 316.75 C 748.737 286.917 847.404 199.5 847.404 199.5 C 847.404 224.833 854.071 244.417 867.404 258.25 C 880.737 272.083 900.404 279 926.404 279 C 944.404 279 959.737 274.75 972.404 266.25 C 985.071 257.75 990.07 248.497 992.373 231.321 Z",fill:"url(#h)"})]})}const IA="https://api.offgap.com",LI="AIzaSyCreSZSO-cUugR2K4Oc1EgGnbJ7a40mk08",hr={TLD:".offgap.com"},Ya={SHOW_FONTS:3,FONT_DEF_WEIGHT:400,EDITOR_NEWLINE:"<p></p>"},gr={INIT:"starts",LENGTH:6,FOLDER:"_",GITFOLDER:"static/_",LIVEFILE:"_.json",TIME_ZIP:36,TIME_TRIM:1e3},Fr={BLUR:250,FOCUS:50,DEBOUNCE:3e3,UI_FLASH:3e3},w1={OK:200,CREATED:201,ACCEPTED:202,NOTMODIFIED:304},bt={INIT:0,NS_POLL:1,NS_HOLD:2,NS_DONE:3,DOMAIN_POLL:4,DOMAIN_HOLD:5,DOMAIN_DONE:6,PID_OLD:7,PID_NEW:8},sK=3,zx="^[a-z0-9][a-z0-9\\-]{4,}$",Ux="^(https?://)?([a-zA-Z0-9]([a-zA-Z0-9\\-].*[a-zA-Z0-9])?\\.)+[a-zA-Z].*$",Eo={SUB:new RegExp(zx),SUB_PAT:zx,DOM:new RegExp(Ux),DOM_PAT:Ux},yv={EMAIL:"emailForSignIn"},xo={UNDO:"undo",REDO:"redo",FORMAT:"editor.action.formatDocument",FIND:"actions.find",REPLACE:"editor.action.startFindReplaceAction",COMMENT:"editor.action.commentLine",INDENT_R:"editor.action.indentLines",INDENT_L:"editor.action.outdentLines"};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=()=>{};var Bx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},jI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],c=t[n++],f=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},PA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,c=l?t[i+1]:0,f=i+2<t.length,h=f?t[i+2]:0,p=o>>2,y=(o&3)<<4|c>>4;let v=(c&15)<<2|h>>6,S=h&63;f||(S=64,l||(v=64)),r.push(n[p],n[y],n[v],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(LA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):jI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||h==null||y==null)throw new zI;const v=o<<2|c>>4;if(r.push(v),h!==64){const S=c<<4&240|h>>2;if(r.push(S),y!==64){const w=h<<6&192|y;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UI=function(t){const e=LA(t);return PA.encodeByteArray(e,!0)},Cp=function(t){return UI(t).replace(/\./g,"")},jA=function(t){try{return PA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=()=>BI().__FIREBASE_DEFAULTS__,VI=()=>{if(typeof process>"u"||typeof Bx>"u")return;const t=Bx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$I=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jA(t[1]);return e&&JSON.parse(e)},E1=()=>{try{return PI()||HI()||VI()||$I()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zA=t=>{var e,n;return(n=(e=E1())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},FI=t=>{const e=zA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},UA=()=>{var t;return(t=E1())===null||t===void 0?void 0:t.config},BA=t=>{var e;return(e=E1())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function HA(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Cp(JSON.stringify(n)),Cp(JSON.stringify(l)),""].join(".")}const sf={};function GI(){const t={prod:[],emulator:[]};for(const e of Object.keys(sf))sf[e]?t.emulator.push(e):t.prod.push(e);return t}function KI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Hx=!1;function VA(t,e){if(typeof window>"u"||typeof document>"u"||!Gf(window.location.host)||sf[t]===e||sf[t]||Hx)return;sf[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",o=GI().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,S){v.setAttribute("width","24"),v.setAttribute("id",S),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Hx=!0,l()},v}function p(v,S){v.setAttribute("id",S),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=KI(r),S=n("text"),w=document.getElementById(S)||document.createElement("span"),T=n("learnmore"),A=document.getElementById(T)||document.createElement("a"),N=n("preprendIcon"),L=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const U=v.element;c(U),p(A,T);const K=h();f(L,N),U.append(L,w,A,K),document.body.appendChild(U)}o?(w.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Un())}function XI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function QI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZI(){const t=Un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function e3(){try{return typeof indexedDB=="object"}catch{return!1}}function t3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3="FirebaseError";class Ps extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=n3,Object.setPrototypeOf(this,Ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kf.prototype.create)}}class Kf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?r3(o,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Ps(i,c,r)}}function r3(t,e){return t.replace(i3,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const i3=/\{\$([^}]+)}/g;function s3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(Vx(o)&&Vx(l)){if(!rl(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Vx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ju(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Qu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function o3(t,e){const n=new a3(t,e);return n.subscribe.bind(n)}class a3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");l3(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=m0),i.error===void 0&&(i.error=m0),i.complete===void 0&&(i.complete=m0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function l3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function m0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(t){return t&&t._delegate?t._delegate:t}class il{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(f3(e))try{this.getOrInitializeService({instanceIdentifier:Ba})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ba){return this.instances.has(e)}getOptions(e=Ba){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:u3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ba){return this.component?this.component.multipleInstances?e:Ba:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function u3(t){return t===Ba?void 0:t}function f3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new c3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ht||(ht={}));const h3={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},p3=ht.INFO,m3={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},g3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=m3[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class x1{constructor(e){this.name=e,this._logLevel=p3,this._logHandler=g3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?h3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const y3=(t,e)=>e.some(n=>t instanceof n);let $x,Fx;function v3(){return $x||($x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function b3(){return Fx||(Fx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $A=new WeakMap,vv=new WeakMap,FA=new WeakMap,g0=new WeakMap,T1=new WeakMap;function S3(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Vo(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&$A.set(n,t)}).catch(()=>{}),T1.set(e,t),e}function w3(t){if(vv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});vv.set(t,e)}let bv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||FA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function E3(t){bv=t(bv)}function x3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(y0(this),e,...n);return FA.set(r,e.sort?e.sort():[e]),Vo(r)}:b3().includes(t)?function(...e){return t.apply(y0(this),e),Vo($A.get(this))}:function(...e){return Vo(t.apply(y0(this),e))}}function T3(t){return typeof t=="function"?x3(t):(t instanceof IDBTransaction&&w3(t),y3(t,v3())?new Proxy(t,bv):t)}function Vo(t){if(t instanceof IDBRequest)return S3(t);if(g0.has(t))return g0.get(t);const e=T3(t);return e!==t&&(g0.set(t,e),T1.set(e,t)),e}const y0=t=>T1.get(t);function C3(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),c=Vo(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Vo(l.result),f.oldVersion,f.newVersion,Vo(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const A3=["get","getKey","getAll","getAllKeys","count"],k3=["put","add","delete","clear"],v0=new Map;function qx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(v0.get(e))return v0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=k3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||A3.includes(n)))return;const o=async function(l,...c){const f=this.transaction(l,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),i&&f.done]))[0]};return v0.set(e,o),o}E3(t=>({...t,get:(e,n,r)=>qx(e,n)||t.get(e,n,r),has:(e,n)=>!!qx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(O3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function O3(t){const e=t.getComponent();return e?.type==="VERSION"}const Sv="@firebase/app",Wx="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new x1("@firebase/app"),N3="@firebase/app-compat",_3="@firebase/analytics-compat",R3="@firebase/analytics",D3="@firebase/app-check-compat",I3="@firebase/app-check",L3="@firebase/auth",P3="@firebase/auth-compat",j3="@firebase/database",z3="@firebase/data-connect",U3="@firebase/database-compat",B3="@firebase/functions",H3="@firebase/functions-compat",V3="@firebase/installations",$3="@firebase/installations-compat",F3="@firebase/messaging",q3="@firebase/messaging-compat",W3="@firebase/performance",G3="@firebase/performance-compat",K3="@firebase/remote-config",Y3="@firebase/remote-config-compat",X3="@firebase/storage",J3="@firebase/storage-compat",Q3="@firebase/firestore",Z3="@firebase/ai",eL="@firebase/firestore-compat",tL="firebase",nL="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="[DEFAULT]",rL={[Sv]:"fire-core",[N3]:"fire-core-compat",[R3]:"fire-analytics",[_3]:"fire-analytics-compat",[I3]:"fire-app-check",[D3]:"fire-app-check-compat",[L3]:"fire-auth",[P3]:"fire-auth-compat",[j3]:"fire-rtdb",[z3]:"fire-data-connect",[U3]:"fire-rtdb-compat",[B3]:"fire-fn",[H3]:"fire-fn-compat",[V3]:"fire-iid",[$3]:"fire-iid-compat",[F3]:"fire-fcm",[q3]:"fire-fcm-compat",[W3]:"fire-perf",[G3]:"fire-perf-compat",[K3]:"fire-rc",[Y3]:"fire-rc-compat",[X3]:"fire-gcs",[J3]:"fire-gcs-compat",[Q3]:"fire-fst",[eL]:"fire-fst-compat",[Z3]:"fire-vertex","fire-js":"fire-js",[tL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf=new Map,iL=new Map,Ev=new Map;function Gx(t,e){try{t.container.addComponent(e)}catch(n){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function kc(t){const e=t.name;if(Ev.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;Ev.set(e,t);for(const n of Cf.values())Gx(n,t);for(const n of iL.values())Gx(n,t);return!0}function C1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$o=new Kf("app","Firebase",sL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new il("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $o.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=nL;function qA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw $o.create("bad-app-name",{appName:String(i)});if(n||(n=UA()),!n)throw $o.create("no-options");const o=Cf.get(i);if(o){if(rl(n,o.options)&&rl(r,o.config))return o;throw $o.create("duplicate-app",{appName:i})}const l=new d3(i);for(const f of Ev.values())l.addComponent(f);const c=new oL(n,r,l);return Cf.set(i,c),c}function A1(t=wv){const e=Cf.get(t);if(!e&&t===wv&&UA())return qA();if(!e)throw $o.create("no-app",{appName:t});return e}function aL(){return Array.from(Cf.values())}function Fo(t,e,n){var r;let i=(r=rL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Is.warn(c.join(" "));return}kc(new il(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL="firebase-heartbeat-database",cL=1,Af="firebase-heartbeat-store";let b0=null;function WA(){return b0||(b0=C3(lL,cL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Af)}catch(n){console.warn(n)}}}}).catch(t=>{throw $o.create("idb-open",{originalErrorMessage:t.message})})),b0}async function uL(t){try{const n=(await WA()).transaction(Af),r=await n.objectStore(Af).get(GA(t));return await n.done,r}catch(e){if(e instanceof Ps)Is.warn(e.message);else{const n=$o.create("idb-get",{originalErrorMessage:e?.message});Is.warn(n.message)}}}async function Kx(t,e){try{const r=(await WA()).transaction(Af,"readwrite");await r.objectStore(Af).put(e,GA(t)),await r.done}catch(n){if(n instanceof Ps)Is.warn(n.message);else{const r=$o.create("idb-set",{originalErrorMessage:n?.message});Is.warn(r.message)}}}function GA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=1024,dL=30;class hL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Yx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>dL){const l=gL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Is.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Yx(),{heartbeatsToSend:r,unsentEntries:i}=pL(this._heartbeatsCache.heartbeats),o=Cp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Is.warn(n),""}}}function Yx(){return new Date().toISOString().substring(0,10)}function pL(t,e=fL){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),Xx(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Xx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return e3()?t3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Kx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Kx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Xx(t){return Cp(JSON.stringify({version:2,heartbeats:t})).length}function gL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(t){kc(new il("platform-logger",e=>new M3(e),"PRIVATE")),kc(new il("heartbeat",e=>new hL(e),"PRIVATE")),Fo(Sv,Wx,t),Fo(Sv,Wx,"esm2017"),Fo("fire-js","")}yL("");var vL="firebase",bL="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fo(vL,bL,"app");var Li=function(){return Li=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Li.apply(this,arguments)};function Xf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function SL(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function KA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wL=KA,YA=new Kf("auth","Firebase",KA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap=new x1("@firebase/auth");function EL(t,...e){Ap.logLevel<=ht.WARN&&Ap.warn(`Auth (${$c}): ${t}`,...e)}function cp(t,...e){Ap.logLevel<=ht.ERROR&&Ap.error(`Auth (${$c}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(t,...e){throw M1(t,...e)}function ai(t,...e){return M1(t,...e)}function k1(t,e,n){const r=Object.assign(Object.assign({},wL()),{[e]:n});return new Kf("auth","Firebase",r).create(e,{appName:t.name})}function qo(t){return k1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xL(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Wr(t,"argument-error"),k1(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function M1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return YA.create(t,...e)}function Ne(t,e,...n){if(!t)throw M1(e,...n)}function Ms(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cp(e),new Error(e)}function Ls(t,e){t||Ms(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function TL(){return Jx()==="http:"||Jx()==="https:"}function Jx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TL()||JI()||"connection"in navigator)?navigator.onLine:!0}function AL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ls(n>e,"Short delay should be less than long delay!"),this.isMobile=YI()||QI()}get(){return CL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t,e){Ls(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OL=new Jf(3e4,6e4);function oa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function zs(t,e,n,r,i={}){return JA(t,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=Yf(Object.assign({key:t.config.apiKey},l)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:f},o);return XI()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Gf(t.emulatorConfig.host)&&(h.credentials="include"),XA.fetch()(await QA(t,t.config.apiHost,n,c),h)})}async function JA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},kL),e);try{const i=new _L(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw kh(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[f,h]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw kh(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw kh(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw kh(t,"user-disabled",l);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw k1(t,p,h);Wr(t,p)}}catch(i){if(i instanceof Ps)throw i;Wr(t,"network-request-failed",{message:String(i)})}}async function Im(t,e,n,r,i={}){const o=await zs(t,e,n,r,i);return"mfaPendingCredential"in o&&Wr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function QA(t,e,n,r){const i=`${e}${n}?${r}`,o=t,l=o.config.emulator?O1(t.config,i):`${t.config.apiScheme}://${i}`;return ML.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function NL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _L{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ai(this.auth,"network-request-failed")),OL.get())})}}function kh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ai(t,e,r);return i.customData._tokenResponse=n,i}function Qx(t){return t!==void 0&&t.enterprise!==void 0}class RL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return NL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function DL(t,e){return zs(t,"GET","/v2/recaptchaConfig",oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IL(t,e){return zs(t,"POST","/v1/accounts:delete",e)}async function Mp(t,e){return zs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LL(t,e=!1){const n=js(t),r=await n.getIdToken(e),i=N1(r);Ne(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o?.sign_in_provider;return{claims:i,token:r,authTime:of(S0(i.auth_time)),issuedAtTime:of(S0(i.iat)),expirationTime:of(S0(i.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function S0(t){return Number(t)*1e3}function N1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return cp("JWT malformed, contained fewer than 3 sections"),null;try{const i=jA(n);return i?JSON.parse(i):(cp("Failed to decode base64 JWT payload"),null)}catch(i){return cp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Zx(t){const e=N1(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ps&&PL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function PL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=of(this.lastLoginAt),this.creationTime=of(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Op(t){var e;const n=t.auth,r=await t.getIdToken(),i=await kf(t,Mp(n,{idToken:r}));Ne(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?ZA(o.providerUserInfo):[],c=UL(t.providerData,l),f=t.isAnonymous,h=!(t.email&&o.passwordHash)&&!c?.length,p=f?h:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new xv(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function zL(t){const e=js(t);await Op(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ZA(t){return t.map(e=>{var{providerId:n}=e,r=Xf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BL(t,e){const n=await JA(t,{},async()=>{const r=Yf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,l=await QA(t,i,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return t.emulatorConfig&&Gf(t.emulatorConfig.host)&&(f.credentials="include"),XA.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function HL(t,e){return zs(t,"POST","/v2/accounts:revokeToken",oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=Zx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await BL(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,l=new bc;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ne(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Ne(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bc,this.toJSON())}_performRefresh(){return Ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ri{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Xf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new xv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await kf(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return LL(this,e)}reload(){return zL(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ri(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Op(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vr(this.auth.app))return Promise.reject(qo(this.auth));const e=await this.getIdToken();return await kf(this,IL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,l,c,f,h,p;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(i=n.email)!==null&&i!==void 0?i:void 0,S=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(l=n.photoURL)!==null&&l!==void 0?l:void 0,T=(c=n.tenantId)!==null&&c!==void 0?c:void 0,A=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,N=(h=n.createdAt)!==null&&h!==void 0?h:void 0,L=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:U,emailVerified:K,isAnonymous:H,providerData:j,stsTokenManager:_}=n;Ne(U&&_,e,"internal-error");const O=bc.fromJSON(this.name,_);Ne(typeof U=="string",e,"internal-error"),To(y,e.name),To(v,e.name),Ne(typeof K=="boolean",e,"internal-error"),Ne(typeof H=="boolean",e,"internal-error"),To(S,e.name),To(w,e.name),To(T,e.name),To(A,e.name),To(N,e.name),To(L,e.name);const I=new ri({uid:U,auth:e,email:v,emailVerified:K,displayName:y,isAnonymous:H,photoURL:w,phoneNumber:S,tenantId:T,stsTokenManager:O,createdAt:N,lastLoginAt:L});return j&&Array.isArray(j)&&(I.providerData=j.map(R=>Object.assign({},R))),A&&(I._redirectEventId=A),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new bc;i.updateFromServerResponse(n);const o=new ri({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Op(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ne(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?ZA(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!o?.length,c=new bc;c.updateFromIdToken(r);const f=new ri({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new xv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=new Map;function Os(t){Ls(t instanceof Function,"Expected a class definition");let e=e2.get(t);return e?(Ls(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,e2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ek.type="NONE";const t2=ek;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(t,e,n){return`firebase:${t}:${e}:${n}`}class Sc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=up(this.userKey,i.apiKey,o),this.fullPersistenceKey=up("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Mp(this.auth,{idToken:e}).catch(()=>{});return n?ri._fromGetAccountInfoResponse(this.auth,n,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Sc(Os(t2),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=i[0]||Os(t2);const l=up(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const p=await h._get(l);if(p){let y;if(typeof p=="string"){const v=await Mp(e,{idToken:p}).catch(()=>{});if(!v)break;y=await ri._fromGetAccountInfoResponse(e,v,p)}else y=ri._fromJSON(e,p);h!==o&&(c=y),o=h;break}}catch{}const f=i.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Sc(o,e,r):(o=f[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==o)try{await h._remove(l)}catch{}})),new Sc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ik(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ok(e))return"Blackberry";if(ak(e))return"Webos";if(nk(e))return"Safari";if((e.includes("chrome/")||rk(e))&&!e.includes("edge/"))return"Chrome";if(sk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function tk(t=Un()){return/firefox\//i.test(t)}function nk(t=Un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rk(t=Un()){return/crios\//i.test(t)}function ik(t=Un()){return/iemobile/i.test(t)}function sk(t=Un()){return/android/i.test(t)}function ok(t=Un()){return/blackberry/i.test(t)}function ak(t=Un()){return/webos/i.test(t)}function _1(t=Un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function VL(t=Un()){var e;return _1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $L(){return ZI()&&document.documentMode===10}function lk(t=Un()){return _1(t)||sk(t)||ak(t)||ok(t)||/windows phone/i.test(t)||ik(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(t,e=[]){let n;switch(t){case"Browser":n=n2(Un());break;case"Worker":n=`${n2(Un())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$c}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,c)=>{try{const f=e(o);l(f)}catch(f){c(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qL(t,e={}){return zs(t,"GET","/v2/passwordPolicy",oa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=6;class GL{constructor(e){var n,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:WL,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,l,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r2(this),this.idTokenSubscription=new r2(this),this.beforeStateQueue=new FL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Os(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Sc.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Mp(this,{idToken:e}),r=await ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Vr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&f?.user&&(i=f.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Op(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vr(this.app))return Promise.reject(qo(this));const n=e?js(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vr(this.app)?Promise.reject(qo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vr(this.app)?Promise.reject(qo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Os(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qL(this),n=new GL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Kf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await HL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Os(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await Sc.create(this,[Os(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ck(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Vr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&EL(`Error while retrieving App Check token: ${n.error}`),n?.token}}function ml(t){return js(t)}class r2{constructor(e){this.auth=e,this.observer=null,this.addObserver=o3(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YL(t){Lm=t}function uk(t){return Lm.loadJS(t)}function XL(){return Lm.recaptchaEnterpriseScript}function JL(){return Lm.gapiScript}function QL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class ZL{constructor(){this.enterprise=new e5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class e5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const t5="recaptcha-enterprise",fk="NO_RECAPTCHA";class n5{constructor(e){this.type=t5,this.auth=ml(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{DL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new RL(f);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,l(h.siteKey)}}).catch(f=>{c(f)})})}function i(o,l,c){const f=window.grecaptcha;Qx(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(h=>{l(h)}).catch(()=>{l(fk)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ZL().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!n&&Qx(window.grecaptcha))i(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=XL();f.length!==0&&(f+=c),uk(f).then(()=>{i(c,o,l)}).catch(h=>{l(h)})}}).catch(c=>{l(c)})})}}async function i2(t,e,n,r=!1,i=!1){const o=new n5(t);let l;if(i)l=fk;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Tv(t,e,n,r,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await i2(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await i2(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(t,e){const n=C1(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(rl(o,e??{}))return i;Wr(i,"already-initialized")}return n.initialize({options:e})}function i5(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Os);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function s5(t,e,n){const r=ml(t);Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=dk(e),{host:l,port:c}=o5(e),f=c===null?"":`:${c}`,h={url:`${o}//${l}${f}/`},p=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ne(rl(h,r.config.emulator)&&rl(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Gf(l)?(HA(`${o}//${l}${f}`),VA("Auth",!0)):a5()}function dk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function o5(t){const e=dk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:s2(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:s2(l)}}}function s2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function a5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ms("not implemented")}_getIdTokenResponse(e){return Ms("not implemented")}_linkToIdToken(e,n){return Ms("not implemented")}_getReauthenticationResolver(e){return Ms("not implemented")}}async function l5(t,e){return zs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c5(t,e){return Im(t,"POST","/v1/accounts:signInWithPassword",oa(t,e))}async function u5(t,e){return zs(t,"POST","/v1/accounts:sendOobCode",oa(t,e))}async function f5(t,e){return u5(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d5(t,e){return Im(t,"POST","/v1/accounts:signInWithEmailLink",oa(t,e))}async function h5(t,e){return Im(t,"POST","/v1/accounts:signInWithEmailLink",oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf extends R1{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Mf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Mf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tv(e,n,"signInWithPassword",c5);case"emailLink":return d5(e,{email:this._email,oobCode:this._password});default:Wr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tv(e,r,"signUpPassword",l5);case"emailLink":return h5(e,{idToken:n,email:this._email,oobCode:this._password});default:Wr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(t,e){return Im(t,"POST","/v1/accounts:signInWithIdp",oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5="http://localhost";class sl extends R1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new sl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Xf(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new sl(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return wc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wc(e,n)}buildRequest(){const e={requestUri:p5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function g5(t){const e=Ju(Qu(t)).link,n=e?Ju(Qu(e)).deep_link_id:null,r=Ju(Qu(t)).deep_link_id;return(r?Ju(Qu(r)).link:null)||r||n||e||t}class Pm{constructor(e){var n,r,i,o,l,c;const f=Ju(Qu(e)),h=(n=f.apiKey)!==null&&n!==void 0?n:null,p=(r=f.oobCode)!==null&&r!==void 0?r:null,y=m5((i=f.mode)!==null&&i!==void 0?i:null);Ne(h&&p&&y,"argument-error"),this.apiKey=h,this.operation=y,this.code=p,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=f.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=f.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=g5(e);try{return new Pm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(){this.providerId=Fc.PROVIDER_ID}static credential(e,n){return Mf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Pm.parseLink(n);return Ne(r,"argument-error"),Mf._fromEmailAndCode(e,r.code,r.tenantId)}}Fc.PROVIDER_ID="password";Fc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf extends D1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends Qf{constructor(){super("facebook.com")}static credential(e){return sl._fromParams({providerId:Io.PROVIDER_ID,signInMethod:Io.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Io.credentialFromTaggedObject(e)}static credentialFromError(e){return Io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Io.credential(e.oauthAccessToken)}catch{return null}}}Io.FACEBOOK_SIGN_IN_METHOD="facebook.com";Io.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Qf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return sl._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return As.credential(n,r)}catch{return null}}}As.GOOGLE_SIGN_IN_METHOD="google.com";As.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends Qf{constructor(){super("github.com")}static credential(e){return sl._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lo.credential(e.oauthAccessToken)}catch{return null}}}Lo.GITHUB_SIGN_IN_METHOD="github.com";Lo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po extends Qf{constructor(){super("twitter.com")}static credential(e,n){return sl._fromParams({providerId:Po.PROVIDER_ID,signInMethod:Po.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Po.credentialFromTaggedObject(e)}static credentialFromError(e){return Po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Po.credential(n,r)}catch{return null}}}Po.TWITTER_SIGN_IN_METHOD="twitter.com";Po.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await ri._fromIdTokenResponse(e,r,i),l=o2(r);return new Mc({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=o2(r);return new Mc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function o2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np extends Ps{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Np.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Np(e,n,r,i)}}function hk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Np._fromErrorAndOperation(t,o,e,r):o})}async function y5(t,e,n=!1){const r=await kf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Mc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v5(t,e,n=!1){const{auth:r}=t;if(Vr(r.app))return Promise.reject(qo(r));const i="reauthenticate";try{const o=await kf(t,hk(r,i,e,t),n);Ne(o.idToken,r,"internal-error");const l=N1(o.idToken);Ne(l,r,"internal-error");const{sub:c}=l;return Ne(t.uid===c,r,"user-mismatch"),Mc._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Wr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pk(t,e,n=!1){if(Vr(t.app))return Promise.reject(qo(t));const r="signIn",i=await hk(t,r,e),o=await Mc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function b5(t,e){return pk(ml(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(t,e,n){var r;Ne(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Ne(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),Ne(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ne(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Ne(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w5(t,e,n){const r=ml(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(l,c){Ne(c.handleCodeInApp,r,"argument-error"),c&&S5(r,l,c)}o(i,n),await Tv(r,i,"getOobCode",f5)}function E5(t,e){const n=Pm.parseLink(e);return n?.operation==="EMAIL_SIGNIN"}async function x5(t,e,n){if(Vr(t.app))return Promise.reject(qo(t));const r=js(t),i=Fc.credentialWithLink(e,n||kp());return Ne(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),b5(r,i)}function T5(t,e,n,r){return js(t).onIdTokenChanged(e,n,r)}function C5(t,e,n){return js(t).beforeAuthStateChanged(e,n)}function A5(t,e,n,r){return js(t).onAuthStateChanged(e,n,r)}function k5(t){return js(t).signOut()}const _p="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_p,"1"),this.storage.removeItem(_p),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=1e3,O5=10;class gk extends mk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);$L()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,O5):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},M5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gk.type="LOCAL";const N5=gk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk extends mk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yk.type="SESSION";const vk=yk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new jm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async h=>h(n.origin,o)),f=await _5(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,f)=>{const h=I1("",20);i.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(y){const v=y;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(v.data.response);break;default:clearTimeout(p),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(){return window}function D5(t){zi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function I5(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function L5(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function P5(){return bk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk="firebaseLocalStorageDb",j5=1,Rp="firebaseLocalStorage",wk="fbase_key";class Zf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zm(t,e){return t.transaction([Rp],e?"readwrite":"readonly").objectStore(Rp)}function z5(){const t=indexedDB.deleteDatabase(Sk);return new Zf(t).toPromise()}function Cv(){const t=indexedDB.open(Sk,j5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Rp,{keyPath:wk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Rp)?e(r):(r.close(),await z5(),e(await Cv()))})})}async function a2(t,e,n){const r=zm(t,!0).put({[wk]:e,value:n});return new Zf(r).toPromise()}async function U5(t,e){const n=zm(t,!1).get(e),r=await new Zf(n).toPromise();return r===void 0?null:r.value}function l2(t,e){const n=zm(t,!0).delete(e);return new Zf(n).toPromise()}const B5=800,H5=3;class Ek{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>H5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jm._getInstance(P5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await I5(),!this.activeServiceWorker)return;this.sender=new R5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||L5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cv();return await a2(e,_p,"1"),await l2(e,_p),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>a2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>U5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>l2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=zm(i,!1).getAll();return new Zf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),B5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ek.type="LOCAL";const V5=Ek;new Jf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(t,e){return e?Os(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1 extends R1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $5(t){return pk(t.auth,new L1(t),t.bypassAuthState)}function F5(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),v5(n,new L1(t),t.bypassAuthState)}async function q5(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),y5(n,new L1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $5;case"linkViaPopup":case"linkViaRedirect":return q5;case"reauthViaPopup":case"reauthViaRedirect":return F5;default:Wr(this.auth,"internal-error")}}resolve(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5=new Jf(2e3,1e4);async function G5(t,e,n){if(Vr(t.app))return Promise.reject(ai(t,"operation-not-supported-in-this-environment"));const r=ml(t);xL(t,e,D1);const i=xk(r,n);return new Fa(r,"signInViaPopup",e,i).executeNotNull()}class Fa extends Tk{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Fa.currentPopupAction&&Fa.currentPopupAction.cancel(),Fa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Ls(this.filter.length===1,"Popup operations only handle one event");const e=I1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,W5.get())};e()}}Fa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5="pendingRedirect",fp=new Map;class Y5 extends Tk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=fp.get(this.auth._key());if(!e){try{const r=await X5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}fp.set(this.auth._key(),e)}return this.bypassAuthState||fp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function X5(t,e){const n=Z5(e),r=Q5(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function J5(t,e){fp.set(t._key(),e)}function Q5(t){return Os(t._redirectPersistence)}function Z5(t){return up(K5,t.config.apiKey,t.name)}async function e6(t,e,n=!1){if(Vr(t.app))return Promise.reject(qo(t));const r=ml(t),i=xk(r,e),l=await new Y5(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6=600*1e3;class n6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!r6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Ck(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ai(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=t6&&this.cachedEventUids.clear(),this.cachedEventUids.has(c2(e))}saveEventToCache(e){this.cachedEventUids.add(c2(e)),this.lastProcessedEventTime=Date.now()}}function c2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ck({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function r6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ck(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i6(t,e={}){return zs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o6=/^https?/;async function a6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await i6(t);for(const n of e)try{if(l6(n))return}catch{}Wr(t,"unauthorized-domain")}function l6(t){const e=kp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!o6.test(n))return!1;if(s6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=new Jf(3e4,6e4);function u2(){const t=zi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function u6(t){return new Promise((e,n)=>{var r,i,o;function l(){u2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{u2(),n(ai(t,"network-request-failed"))},timeout:c6.get()})}if(!((i=(r=zi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=zi().gapi)===null||o===void 0)&&o.load)l();else{const c=QL("iframefcb");return zi()[c]=()=>{gapi.load?l():n(ai(t,"network-request-failed"))},uk(`${JL()}?onload=${c}`).catch(f=>n(f))}}).catch(e=>{throw dp=null,e})}let dp=null;function f6(t){return dp=dp||u6(t),dp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=new Jf(5e3,15e3),h6="__/auth/iframe",p6="emulator/auth/iframe",m6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},g6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function y6(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?O1(e,p6):`https://${t.config.authDomain}/${h6}`,r={apiKey:e.apiKey,appName:t.name,v:$c},i=g6.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Yf(r).slice(1)}`}async function v6(t){const e=await f6(t),n=zi().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:y6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m6,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=ai(t,"network-request-failed"),c=zi().setTimeout(()=>{o(l)},d6.get());function f(){zi().clearTimeout(c),i(r)}r.ping(f).then(f,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},S6=500,w6=600,E6="_blank",x6="http://localhost";class f2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function T6(t,e,n,r=S6,i=w6){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f=Object.assign(Object.assign({},b6),{width:r.toString(),height:i.toString(),top:o,left:l}),h=Un().toLowerCase();n&&(c=rk(h)?E6:n),tk(h)&&(e=e||x6,f.scrollbars="yes");const p=Object.entries(f).reduce((v,[S,w])=>`${v}${S}=${w},`,"");if(VL(h)&&c!=="_self")return C6(e||"",c),new f2(null);const y=window.open(e||"",c,p);Ne(y,t,"popup-blocked");try{y.focus()}catch{}return new f2(y)}function C6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6="__/auth/handler",k6="emulator/auth/handler",M6=encodeURIComponent("fac");async function d2(t,e,n,r,i,o){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$c,eventId:i};if(e instanceof D1){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",s3(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,y]of Object.entries({}))l[p]=y}if(e instanceof Qf){const p=e.getScopes().filter(y=>y!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const f=await t._getAppCheckToken(),h=f?`#${M6}=${encodeURIComponent(f)}`:"";return`${O6(t)}?${Yf(c).slice(1)}${h}`}function O6({config:t}){return t.emulator?O1(t,k6):`https://${t.authDomain}/${A6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="webStorageSupport";class N6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vk,this._completeRedirectFn=e6,this._overrideRedirectResult=J5}async _openPopup(e,n,r,i){var o;Ls((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await d2(e,n,r,kp(),i);return T6(e,l,I1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await d2(e,n,r,kp(),i);return D5(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ls(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await v6(e),r=new n6(e);return n.register("authEvent",i=>(Ne(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(w0,{type:w0},i=>{var o;const l=(o=i?.[0])===null||o===void 0?void 0:o[w0];l!==void 0&&n(!!l),Wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=a6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lk()||nk()||_1()}}const _6=N6;var h2="@firebase/auth",p2="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function I6(t){kc(new il("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ne(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ck(t)},h=new KL(r,i,o,f);return i5(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),kc(new il("auth-internal",e=>{const n=ml(e.getProvider("auth").getImmediate());return(r=>new R6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fo(h2,p2,D6(t)),Fo(h2,p2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6=300,P6=BA("authIdTokenMaxAge")||L6;let m2=null;const j6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>P6)return;const i=n?.token;m2!==i&&(m2=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function z6(t=A1()){const e=C1(t,"auth");if(e.isInitialized())return e.getImmediate();const n=r5(t,{popupRedirectResolver:_6,persistence:[V5,N5,vk]}),r=BA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=j6(o.toString());C5(n,l,()=>l(n.currentUser)),T5(n,c=>l(c))}}const i=zA("auth");return i&&s5(n,`http://${i}`),n}function U6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}YL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=ai("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",U6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});I6("Browser");var g2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var P1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,O){function I(){}I.prototype=O.prototype,_.D=O.prototype,_.prototype=new I,_.prototype.constructor=_,_.C=function(R,B,q){for(var z=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)z[ve-2]=arguments[ve];return O.prototype[B].apply(R,z)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,O,I){I||(I=0);var R=Array(16);if(typeof O=="string")for(var B=0;16>B;++B)R[B]=O.charCodeAt(I++)|O.charCodeAt(I++)<<8|O.charCodeAt(I++)<<16|O.charCodeAt(I++)<<24;else for(B=0;16>B;++B)R[B]=O[I++]|O[I++]<<8|O[I++]<<16|O[I++]<<24;O=_.g[0],I=_.g[1],B=_.g[2];var q=_.g[3],z=O+(q^I&(B^q))+R[0]+3614090360&4294967295;O=I+(z<<7&4294967295|z>>>25),z=q+(B^O&(I^B))+R[1]+3905402710&4294967295,q=O+(z<<12&4294967295|z>>>20),z=B+(I^q&(O^I))+R[2]+606105819&4294967295,B=q+(z<<17&4294967295|z>>>15),z=I+(O^B&(q^O))+R[3]+3250441966&4294967295,I=B+(z<<22&4294967295|z>>>10),z=O+(q^I&(B^q))+R[4]+4118548399&4294967295,O=I+(z<<7&4294967295|z>>>25),z=q+(B^O&(I^B))+R[5]+1200080426&4294967295,q=O+(z<<12&4294967295|z>>>20),z=B+(I^q&(O^I))+R[6]+2821735955&4294967295,B=q+(z<<17&4294967295|z>>>15),z=I+(O^B&(q^O))+R[7]+4249261313&4294967295,I=B+(z<<22&4294967295|z>>>10),z=O+(q^I&(B^q))+R[8]+1770035416&4294967295,O=I+(z<<7&4294967295|z>>>25),z=q+(B^O&(I^B))+R[9]+2336552879&4294967295,q=O+(z<<12&4294967295|z>>>20),z=B+(I^q&(O^I))+R[10]+4294925233&4294967295,B=q+(z<<17&4294967295|z>>>15),z=I+(O^B&(q^O))+R[11]+2304563134&4294967295,I=B+(z<<22&4294967295|z>>>10),z=O+(q^I&(B^q))+R[12]+1804603682&4294967295,O=I+(z<<7&4294967295|z>>>25),z=q+(B^O&(I^B))+R[13]+4254626195&4294967295,q=O+(z<<12&4294967295|z>>>20),z=B+(I^q&(O^I))+R[14]+2792965006&4294967295,B=q+(z<<17&4294967295|z>>>15),z=I+(O^B&(q^O))+R[15]+1236535329&4294967295,I=B+(z<<22&4294967295|z>>>10),z=O+(B^q&(I^B))+R[1]+4129170786&4294967295,O=I+(z<<5&4294967295|z>>>27),z=q+(I^B&(O^I))+R[6]+3225465664&4294967295,q=O+(z<<9&4294967295|z>>>23),z=B+(O^I&(q^O))+R[11]+643717713&4294967295,B=q+(z<<14&4294967295|z>>>18),z=I+(q^O&(B^q))+R[0]+3921069994&4294967295,I=B+(z<<20&4294967295|z>>>12),z=O+(B^q&(I^B))+R[5]+3593408605&4294967295,O=I+(z<<5&4294967295|z>>>27),z=q+(I^B&(O^I))+R[10]+38016083&4294967295,q=O+(z<<9&4294967295|z>>>23),z=B+(O^I&(q^O))+R[15]+3634488961&4294967295,B=q+(z<<14&4294967295|z>>>18),z=I+(q^O&(B^q))+R[4]+3889429448&4294967295,I=B+(z<<20&4294967295|z>>>12),z=O+(B^q&(I^B))+R[9]+568446438&4294967295,O=I+(z<<5&4294967295|z>>>27),z=q+(I^B&(O^I))+R[14]+3275163606&4294967295,q=O+(z<<9&4294967295|z>>>23),z=B+(O^I&(q^O))+R[3]+4107603335&4294967295,B=q+(z<<14&4294967295|z>>>18),z=I+(q^O&(B^q))+R[8]+1163531501&4294967295,I=B+(z<<20&4294967295|z>>>12),z=O+(B^q&(I^B))+R[13]+2850285829&4294967295,O=I+(z<<5&4294967295|z>>>27),z=q+(I^B&(O^I))+R[2]+4243563512&4294967295,q=O+(z<<9&4294967295|z>>>23),z=B+(O^I&(q^O))+R[7]+1735328473&4294967295,B=q+(z<<14&4294967295|z>>>18),z=I+(q^O&(B^q))+R[12]+2368359562&4294967295,I=B+(z<<20&4294967295|z>>>12),z=O+(I^B^q)+R[5]+4294588738&4294967295,O=I+(z<<4&4294967295|z>>>28),z=q+(O^I^B)+R[8]+2272392833&4294967295,q=O+(z<<11&4294967295|z>>>21),z=B+(q^O^I)+R[11]+1839030562&4294967295,B=q+(z<<16&4294967295|z>>>16),z=I+(B^q^O)+R[14]+4259657740&4294967295,I=B+(z<<23&4294967295|z>>>9),z=O+(I^B^q)+R[1]+2763975236&4294967295,O=I+(z<<4&4294967295|z>>>28),z=q+(O^I^B)+R[4]+1272893353&4294967295,q=O+(z<<11&4294967295|z>>>21),z=B+(q^O^I)+R[7]+4139469664&4294967295,B=q+(z<<16&4294967295|z>>>16),z=I+(B^q^O)+R[10]+3200236656&4294967295,I=B+(z<<23&4294967295|z>>>9),z=O+(I^B^q)+R[13]+681279174&4294967295,O=I+(z<<4&4294967295|z>>>28),z=q+(O^I^B)+R[0]+3936430074&4294967295,q=O+(z<<11&4294967295|z>>>21),z=B+(q^O^I)+R[3]+3572445317&4294967295,B=q+(z<<16&4294967295|z>>>16),z=I+(B^q^O)+R[6]+76029189&4294967295,I=B+(z<<23&4294967295|z>>>9),z=O+(I^B^q)+R[9]+3654602809&4294967295,O=I+(z<<4&4294967295|z>>>28),z=q+(O^I^B)+R[12]+3873151461&4294967295,q=O+(z<<11&4294967295|z>>>21),z=B+(q^O^I)+R[15]+530742520&4294967295,B=q+(z<<16&4294967295|z>>>16),z=I+(B^q^O)+R[2]+3299628645&4294967295,I=B+(z<<23&4294967295|z>>>9),z=O+(B^(I|~q))+R[0]+4096336452&4294967295,O=I+(z<<6&4294967295|z>>>26),z=q+(I^(O|~B))+R[7]+1126891415&4294967295,q=O+(z<<10&4294967295|z>>>22),z=B+(O^(q|~I))+R[14]+2878612391&4294967295,B=q+(z<<15&4294967295|z>>>17),z=I+(q^(B|~O))+R[5]+4237533241&4294967295,I=B+(z<<21&4294967295|z>>>11),z=O+(B^(I|~q))+R[12]+1700485571&4294967295,O=I+(z<<6&4294967295|z>>>26),z=q+(I^(O|~B))+R[3]+2399980690&4294967295,q=O+(z<<10&4294967295|z>>>22),z=B+(O^(q|~I))+R[10]+4293915773&4294967295,B=q+(z<<15&4294967295|z>>>17),z=I+(q^(B|~O))+R[1]+2240044497&4294967295,I=B+(z<<21&4294967295|z>>>11),z=O+(B^(I|~q))+R[8]+1873313359&4294967295,O=I+(z<<6&4294967295|z>>>26),z=q+(I^(O|~B))+R[15]+4264355552&4294967295,q=O+(z<<10&4294967295|z>>>22),z=B+(O^(q|~I))+R[6]+2734768916&4294967295,B=q+(z<<15&4294967295|z>>>17),z=I+(q^(B|~O))+R[13]+1309151649&4294967295,I=B+(z<<21&4294967295|z>>>11),z=O+(B^(I|~q))+R[4]+4149444226&4294967295,O=I+(z<<6&4294967295|z>>>26),z=q+(I^(O|~B))+R[11]+3174756917&4294967295,q=O+(z<<10&4294967295|z>>>22),z=B+(O^(q|~I))+R[2]+718787259&4294967295,B=q+(z<<15&4294967295|z>>>17),z=I+(q^(B|~O))+R[9]+3951481745&4294967295,_.g[0]=_.g[0]+O&4294967295,_.g[1]=_.g[1]+(B+(z<<21&4294967295|z>>>11))&4294967295,_.g[2]=_.g[2]+B&4294967295,_.g[3]=_.g[3]+q&4294967295}r.prototype.u=function(_,O){O===void 0&&(O=_.length);for(var I=O-this.blockSize,R=this.B,B=this.h,q=0;q<O;){if(B==0)for(;q<=I;)i(this,_,q),q+=this.blockSize;if(typeof _=="string"){for(;q<O;)if(R[B++]=_.charCodeAt(q++),B==this.blockSize){i(this,R),B=0;break}}else for(;q<O;)if(R[B++]=_[q++],B==this.blockSize){i(this,R),B=0;break}}this.h=B,this.o+=O},r.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var O=1;O<_.length-8;++O)_[O]=0;var I=8*this.o;for(O=_.length-8;O<_.length;++O)_[O]=I&255,I/=256;for(this.u(_),_=Array(16),O=I=0;4>O;++O)for(var R=0;32>R;R+=8)_[I++]=this.g[O]>>>R&255;return _};function o(_,O){var I=c;return Object.prototype.hasOwnProperty.call(I,_)?I[_]:I[_]=O(_)}function l(_,O){this.h=O;for(var I=[],R=!0,B=_.length-1;0<=B;B--){var q=_[B]|0;R&&q==O||(I[B]=q,R=!1)}this.g=I}var c={};function f(_){return-128<=_&&128>_?o(_,function(O){return new l([O|0],0>O?-1:0)}):new l([_|0],0>_?-1:0)}function h(_){if(isNaN(_)||!isFinite(_))return y;if(0>_)return A(h(-_));for(var O=[],I=1,R=0;_>=I;R++)O[R]=_/I|0,I*=4294967296;return new l(O,0)}function p(_,O){if(_.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(_.charAt(0)=="-")return A(p(_.substring(1),O));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=h(Math.pow(O,8)),R=y,B=0;B<_.length;B+=8){var q=Math.min(8,_.length-B),z=parseInt(_.substring(B,B+q),O);8>q?(q=h(Math.pow(O,q)),R=R.j(q).add(h(z))):(R=R.j(I),R=R.add(h(z)))}return R}var y=f(0),v=f(1),S=f(16777216);t=l.prototype,t.m=function(){if(T(this))return-A(this).m();for(var _=0,O=1,I=0;I<this.g.length;I++){var R=this.i(I);_+=(0<=R?R:4294967296+R)*O,O*=4294967296}return _},t.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(w(this))return"0";if(T(this))return"-"+A(this).toString(_);for(var O=h(Math.pow(_,6)),I=this,R="";;){var B=K(I,O).g;I=N(I,B.j(O));var q=((0<I.g.length?I.g[0]:I.h)>>>0).toString(_);if(I=B,w(I))return q+R;for(;6>q.length;)q="0"+q;R=q+R}},t.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function w(_){if(_.h!=0)return!1;for(var O=0;O<_.g.length;O++)if(_.g[O]!=0)return!1;return!0}function T(_){return _.h==-1}t.l=function(_){return _=N(this,_),T(_)?-1:w(_)?0:1};function A(_){for(var O=_.g.length,I=[],R=0;R<O;R++)I[R]=~_.g[R];return new l(I,~_.h).add(v)}t.abs=function(){return T(this)?A(this):this},t.add=function(_){for(var O=Math.max(this.g.length,_.g.length),I=[],R=0,B=0;B<=O;B++){var q=R+(this.i(B)&65535)+(_.i(B)&65535),z=(q>>>16)+(this.i(B)>>>16)+(_.i(B)>>>16);R=z>>>16,q&=65535,z&=65535,I[B]=z<<16|q}return new l(I,I[I.length-1]&-2147483648?-1:0)};function N(_,O){return _.add(A(O))}t.j=function(_){if(w(this)||w(_))return y;if(T(this))return T(_)?A(this).j(A(_)):A(A(this).j(_));if(T(_))return A(this.j(A(_)));if(0>this.l(S)&&0>_.l(S))return h(this.m()*_.m());for(var O=this.g.length+_.g.length,I=[],R=0;R<2*O;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var B=0;B<_.g.length;B++){var q=this.i(R)>>>16,z=this.i(R)&65535,ve=_.i(B)>>>16,ge=_.i(B)&65535;I[2*R+2*B]+=z*ge,L(I,2*R+2*B),I[2*R+2*B+1]+=q*ge,L(I,2*R+2*B+1),I[2*R+2*B+1]+=z*ve,L(I,2*R+2*B+1),I[2*R+2*B+2]+=q*ve,L(I,2*R+2*B+2)}for(R=0;R<O;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=O;R<2*O;R++)I[R]=0;return new l(I,0)};function L(_,O){for(;(_[O]&65535)!=_[O];)_[O+1]+=_[O]>>>16,_[O]&=65535,O++}function U(_,O){this.g=_,this.h=O}function K(_,O){if(w(O))throw Error("division by zero");if(w(_))return new U(y,y);if(T(_))return O=K(A(_),O),new U(A(O.g),A(O.h));if(T(O))return O=K(_,A(O)),new U(A(O.g),O.h);if(30<_.g.length){if(T(_)||T(O))throw Error("slowDivide_ only works with positive integers.");for(var I=v,R=O;0>=R.l(_);)I=H(I),R=H(R);var B=j(I,1),q=j(R,1);for(R=j(R,2),I=j(I,2);!w(R);){var z=q.add(R);0>=z.l(_)&&(B=B.add(I),q=z),R=j(R,1),I=j(I,1)}return O=N(_,B.j(O)),new U(B,O)}for(B=y;0<=_.l(O);){for(I=Math.max(1,Math.floor(_.m()/O.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),q=h(I),z=q.j(O);T(z)||0<z.l(_);)I-=R,q=h(I),z=q.j(O);w(q)&&(q=v),B=B.add(q),_=N(_,z)}return new U(B,_)}t.A=function(_){return K(this,_).h},t.and=function(_){for(var O=Math.max(this.g.length,_.g.length),I=[],R=0;R<O;R++)I[R]=this.i(R)&_.i(R);return new l(I,this.h&_.h)},t.or=function(_){for(var O=Math.max(this.g.length,_.g.length),I=[],R=0;R<O;R++)I[R]=this.i(R)|_.i(R);return new l(I,this.h|_.h)},t.xor=function(_){for(var O=Math.max(this.g.length,_.g.length),I=[],R=0;R<O;R++)I[R]=this.i(R)^_.i(R);return new l(I,this.h^_.h)};function H(_){for(var O=_.g.length+1,I=[],R=0;R<O;R++)I[R]=_.i(R)<<1|_.i(R-1)>>>31;return new l(I,_.h)}function j(_,O){var I=O>>5;O%=32;for(var R=_.g.length-I,B=[],q=0;q<R;q++)B[q]=0<O?_.i(q+I)>>>O|_.i(q+I+1)<<32-O:_.i(q+I);return new l(B,_.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,P1=l}).apply(typeof g2<"u"?g2:typeof self<"u"?self:typeof window<"u"?window:{});var Mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,E,C){return m==Array.prototype||m==Object.prototype||(m[E]=C.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mh=="object"&&Mh];for(var E=0;E<m.length;++E){var C=m[E];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(m,E){if(E)e:{var C=r;m=m.split(".");for(var P=0;P<m.length-1;P++){var J=m[P];if(!(J in C))break e;C=C[J]}m=m[m.length-1],P=C[m],E=E(P),E!=P&&E!=null&&e(C,m,{configurable:!0,writable:!0,value:E})}}function o(m,E){m instanceof String&&(m+="");var C=0,P=!1,J={next:function(){if(!P&&C<m.length){var re=C++;return{value:E(re,m[re]),done:!1}}return P=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}i("Array.prototype.values",function(m){return m||function(){return o(this,function(E,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(m){var E=typeof m;return E=E!="object"?E:m?Array.isArray(m)?"array":E:"null",E=="array"||E=="object"&&typeof m.length=="number"}function h(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function p(m,E,C){return m.call.apply(m.bind,arguments)}function y(m,E,C){if(!m)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,P),m.apply(E,J)}}return function(){return m.apply(E,arguments)}}function v(m,E,C){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,v.apply(null,arguments)}function S(m,E){var C=Array.prototype.slice.call(arguments,1);return function(){var P=C.slice();return P.push.apply(P,arguments),m.apply(this,P)}}function w(m,E){function C(){}C.prototype=E.prototype,m.aa=E.prototype,m.prototype=new C,m.prototype.constructor=m,m.Qb=function(P,J,re){for(var ye=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)ye[dt-2]=arguments[dt];return E.prototype[J].apply(P,ye)}}function T(m){const E=m.length;if(0<E){const C=Array(E);for(let P=0;P<E;P++)C[P]=m[P];return C}return[]}function A(m,E){for(let C=1;C<arguments.length;C++){const P=arguments[C];if(f(P)){const J=m.length||0,re=P.length||0;m.length=J+re;for(let ye=0;ye<re;ye++)m[J+ye]=P[ye]}else m.push(P)}}class N{constructor(E,C){this.i=E,this.j=C,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function L(m){return/^[\s\xa0]*$/.test(m)}function U(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function K(m){return K[" "](m),m}K[" "]=function(){};var H=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function j(m,E,C){for(const P in m)E.call(C,m[P],P,m)}function _(m,E){for(const C in m)E.call(void 0,m[C],C,m)}function O(m){const E={};for(const C in m)E[C]=m[C];return E}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(m,E){let C,P;for(let J=1;J<arguments.length;J++){P=arguments[J];for(C in P)m[C]=P[C];for(let re=0;re<I.length;re++)C=I[re],Object.prototype.hasOwnProperty.call(P,C)&&(m[C]=P[C])}}function B(m){var E=1;m=m.split(":");const C=[];for(;0<E&&m.length;)C.push(m.shift()),E--;return m.length&&C.push(m.join(":")),C}function q(m){c.setTimeout(()=>{throw m},0)}function z(){var m=Te;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class ve{constructor(){this.h=this.g=null}add(E,C){const P=ge.get();P.set(E,C),this.h?this.h.next=P:this.g=P,this.h=P}}var ge=new N(()=>new G,m=>m.reset());class G{constructor(){this.next=this.g=this.h=null}set(E,C){this.h=E,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ce=!1,Te=new ve,$=()=>{const m=c.Promise.resolve(void 0);oe=()=>{m.then(ie)}};var ie=()=>{for(var m;m=z();){try{m.h.call(m.g)}catch(C){q(C)}var E=ge;E.j(m),100>E.h&&(E.h++,m.next=E.g,E.g=m)}ce=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var we=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const C=()=>{};c.addEventListener("test",C,E),c.removeEventListener("test",C,E)}catch{}return m})();function Ve(m,E){if(fe.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var C=this.type=m.type,P=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget){if(H){e:{try{K(E.nodeName);var J=!0;break e}catch{}J=!1}J||(E=null)}}else C=="mouseover"?E=m.fromElement:C=="mouseout"&&(E=m.toElement);this.relatedTarget=E,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:De[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Ve.aa.h.call(this)}}w(Ve,fe);var De={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Mt="closure_listenable_"+(1e6*Math.random()|0),at=0;function $n(m,E,C,P,J){this.listener=m,this.proxy=null,this.src=E,this.type=C,this.capture=!!P,this.ha=J,this.key=++at,this.da=this.fa=!1}function Ct(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function rn(m){this.src=m,this.g={},this.h=0}rn.prototype.add=function(m,E,C,P,J){var re=m.toString();m=this.g[re],m||(m=this.g[re]=[],this.h++);var ye=Fn(m,E,P,J);return-1<ye?(E=m[ye],C||(E.fa=!1)):(E=new $n(E,this.src,re,!!P,J),E.fa=C,m.push(E)),E};function wr(m,E){var C=E.type;if(C in m.g){var P=m.g[C],J=Array.prototype.indexOf.call(P,E,void 0),re;(re=0<=J)&&Array.prototype.splice.call(P,J,1),re&&(Ct(E),m.g[C].length==0&&(delete m.g[C],m.h--))}}function Fn(m,E,C,P){for(var J=0;J<m.length;++J){var re=m[J];if(!re.da&&re.listener==E&&re.capture==!!C&&re.ha==P)return J}return-1}var _n="closure_lm_"+(1e6*Math.random()|0),fa={};function yl(m,E,C,P,J){if(Array.isArray(E)){for(var re=0;re<E.length;re++)yl(m,E[re],C,P,J);return null}return C=Fs(C),m&&m[Mt]?m.K(E,C,h(P)?!!P.capture:!1,J):Rn(m,E,C,!1,P,J)}function Rn(m,E,C,P,J,re){if(!E)throw Error("Invalid event type");var ye=h(J)?!!J.capture:!!J,dt=Er(m);if(dt||(m[_n]=dt=new rn(m)),C=dt.add(E,C,P,ye,re),C.proxy)return C;if(P=Gc(),C.proxy=P,P.src=m,P.listener=C,m.addEventListener)we||(J=ye),J===void 0&&(J=!1),m.addEventListener(E.toString(),P,J);else if(m.attachEvent)m.attachEvent(Gi(E.toString()),P);else if(m.addListener&&m.removeListener)m.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Gc(){function m(C){return E.call(m.src,m.listener,C)}const E=Gr;return m}function da(m,E,C,P,J){if(Array.isArray(E))for(var re=0;re<E.length;re++)da(m,E[re],C,P,J);else P=h(P)?!!P.capture:!!P,C=Fs(C),m&&m[Mt]?(m=m.i,E=String(E).toString(),E in m.g&&(re=m.g[E],C=Fn(re,C,P,J),-1<C&&(Ct(re[C]),Array.prototype.splice.call(re,C,1),re.length==0&&(delete m.g[E],m.h--)))):m&&(m=Er(m))&&(E=m.g[E.toString()],m=-1,E&&(m=Fn(E,C,P,J)),(C=-1<m?E[m]:null)&&Vs(C))}function Vs(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[Mt])wr(E.i,m);else{var C=m.type,P=m.proxy;E.removeEventListener?E.removeEventListener(C,P,m.capture):E.detachEvent?E.detachEvent(Gi(C),P):E.addListener&&E.removeListener&&E.removeListener(P),(C=Er(E))?(wr(C,m),C.h==0&&(C.src=null,E[_n]=null)):Ct(m)}}}function Gi(m){return m in fa?fa[m]:fa[m]="on"+m}function Gr(m,E){if(m.da)m=!0;else{E=new Ve(E,this);var C=m.listener,P=m.ha||m.src;m.fa&&Vs(m),m=C.call(P,E)}return m}function Er(m){return m=m[_n],m instanceof rn?m:null}var $s="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fs(m){return typeof m=="function"?m:(m[$s]||(m[$s]=function(E){return m.handleEvent(E)}),m[$s])}function lt(){he.call(this),this.i=new rn(this),this.M=this,this.F=null}w(lt,he),lt.prototype[Mt]=!0,lt.prototype.removeEventListener=function(m,E,C,P){da(this,m,E,C,P)};function Ge(m,E){var C,P=m.F;if(P)for(C=[];P;P=P.F)C.push(P);if(m=m.M,P=E.type||E,typeof E=="string")E=new fe(E,m);else if(E instanceof fe)E.target=E.target||m;else{var J=E;E=new fe(P,m),R(E,J)}if(J=!0,C)for(var re=C.length-1;0<=re;re--){var ye=E.g=C[re];J=xn(ye,P,!0,E)&&J}if(ye=E.g=m,J=xn(ye,P,!0,E)&&J,J=xn(ye,P,!1,E)&&J,C)for(re=0;re<C.length;re++)ye=E.g=C[re],J=xn(ye,P,!1,E)&&J}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var m=this.i,E;for(E in m.g){for(var C=m.g[E],P=0;P<C.length;P++)Ct(C[P]);delete m.g[E],m.h--}}this.F=null},lt.prototype.K=function(m,E,C,P){return this.i.add(String(m),E,!1,C,P)},lt.prototype.L=function(m,E,C,P){return this.i.add(String(m),E,!0,C,P)};function xn(m,E,C,P){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();for(var J=!0,re=0;re<E.length;++re){var ye=E[re];if(ye&&!ye.da&&ye.capture==C){var dt=ye.listener,It=ye.ha||ye.src;ye.fa&&wr(m.i,ye),J=dt.call(It,P)!==!1&&J}}return J&&!P.defaultPrevented}function Gt(m,E,C){if(typeof m=="function")C&&(m=v(m,C));else if(m&&typeof m.handleEvent=="function")m=v(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:c.setTimeout(m,E||0)}function vl(m){m.g=Gt(()=>{m.g=null,m.i&&(m.i=!1,vl(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class xr extends he{constructor(E,C){super(),this.m=E,this.l=C,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:vl(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mi(m){he.call(this),this.h=m,this.g={}}w(mi,he);var gi=[];function yi(m){j(m.g,function(E,C){this.g.hasOwnProperty(C)&&Vs(E)},m),m.g={}}mi.prototype.N=function(){mi.aa.N.call(this),yi(this)},mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nr=c.JSON.stringify,Ki=c.JSON.parse,Tr=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function qs(){}qs.prototype.h=null;function Yi(m){return m.h||(m.h=m.i())}function bl(){}var Cr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kr(){fe.call(this,"d")}w(Kr,fe);function Ws(){fe.call(this,"c")}w(Ws,fe);var qn={},vi=null;function Xi(){return vi=vi||new lt}qn.La="serverreachability";function Gs(m){fe.call(this,qn.La,m)}w(Gs,fe);function F(m){const E=Xi();Ge(E,new Gs(E))}qn.STAT_EVENT="statevent";function X(m,E){fe.call(this,qn.STAT_EVENT,m),this.stat=E}w(X,fe);function ee(m){const E=Xi();Ge(E,new X(E,m))}qn.Ma="timingevent";function ue(m,E){fe.call(this,qn.Ma,m),this.size=E}w(ue,fe);function pe(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},E)}function Se(){this.g=!0}Se.prototype.xa=function(){this.g=!1};function Me(m,E,C,P,J,re){m.info(function(){if(m.g)if(re)for(var ye="",dt=re.split("&"),It=0;It<dt.length;It++){var tt=dt[It].split("=");if(1<tt.length){var an=tt[0];tt=tt[1];var ln=an.split("_");ye=2<=ln.length&&ln[1]=="type"?ye+(an+"="+tt+"&"):ye+(an+"=redacted&")}}else ye=null;else ye=re;return"XMLHTTP REQ ("+P+") [attempt "+J+"]: "+E+`
`+C+`
`+ye})}function Ce(m,E,C,P,J,re,ye){m.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+J+"]: "+E+`
`+C+`
`+re+" "+ye})}function Ae(m,E,C,P){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+ke(m,C)+(P?" "+P:"")})}function Ie(m,E){m.info(function(){return"TIMEOUT: "+E})}Se.prototype.info=function(){};function ke(m,E){if(!m.g)return E;if(!E)return null;try{var C=JSON.parse(E);if(C){for(m=0;m<C.length;m++)if(Array.isArray(C[m])){var P=C[m];if(!(2>P.length)){var J=P[1];if(Array.isArray(J)&&!(1>J.length)){var re=J[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ye=1;ye<J.length;ye++)J[ye]=""}}}}return nr(C)}catch{return E}}var Ee={NO_ERROR:0,TIMEOUT:8},Fe={},et;function pt(){}w(pt,qs),pt.prototype.g=function(){return new XMLHttpRequest},pt.prototype.i=function(){return{}},et=new pt;function ct(m,E,C,P){this.j=m,this.i=E,this.l=C,this.R=P||1,this.U=new mi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $e}function $e(){this.i=null,this.g="",this.h=!1}var ut={},Wn={};function mn(m,E,C){m.L=1,m.v=ma(sr(E)),m.m=C,m.P=!0,sn(m,null)}function sn(m,E){m.F=Date.now(),rr(m),m.A=sr(m.v);var C=m.A,P=m.R;Array.isArray(P)||(P=[String(P)]),Qc(C.i,"t",P),m.C=0,C=m.j.J,m.h=new $e,m.g=Sd(m.j,C?E:null,!m.m),0<m.O&&(m.M=new xr(v(m.Y,m,m.g),m.O)),E=m.U,C=m.g,P=m.ca;var J="readystatechange";Array.isArray(J)||(J&&(gi[0]=J.toString()),J=gi);for(var re=0;re<J.length;re++){var ye=yl(C,J[re],P||E.handleEvent,!1,E.h||E);if(!ye)break;E.g[ye.key]=ye}E=m.H?O(m.H):{},m.m?(m.u||(m.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,E)):(m.u="GET",m.g.ea(m.A,m.u,null,E)),F(),Me(m.i,m.u,m.A,m.l,m.R,m.m)}ct.prototype.ca=function(m){m=m.target;const E=this.M;E&&Nr(m)==3?E.j():this.Y(m)},ct.prototype.Y=function(m){try{if(m==this.g)e:{const ln=Nr(this.g);var E=this.g.Ba();const rs=this.g.Z();if(!(3>ln)&&(ln!=3||this.g&&(this.h.h||this.g.oa()||dd(this.g)))){this.J||ln!=4||E==7||(E==8||0>=rs?F(3):F(2)),ir(this);var C=this.g.Z();this.X=C;t:if(Dn(this)){var P=dd(this.g);m="";var J=P.length,re=Nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){je(this),In(this);var ye="";break t}this.h.i=new c.TextDecoder}for(E=0;E<J;E++)this.h.h=!0,m+=this.h.i.decode(P[E],{stream:!(re&&E==J-1)});P.length=0,this.h.g+=m,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=C==200,Ce(this.i,this.u,this.A,this.l,this.R,ln,C),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,It=this.g;if((dt=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(dt)){var tt=dt;break t}}tt=null}if(C=tt)Ae(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dt(this,C);else{this.o=!1,this.s=3,ee(12),je(this),In(this);break e}}if(this.P){C=!0;let Kn;for(;!this.J&&this.C<ye.length;)if(Kn=Ks(this,ye),Kn==Wn){ln==4&&(this.s=4,ee(14),C=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}else if(Kn==ut){this.s=4,ee(15),Ae(this.i,this.l,ye,"[Invalid Chunk]"),C=!1;break}else Ae(this.i,this.l,Kn,null),Dt(this,Kn);if(Dn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ln!=4||ye.length!=0||this.h.h||(this.s=1,ee(16),C=!1),this.o=this.o&&C,!C)Ae(this.i,this.l,ye,"[Invalid Chunked Response]"),je(this),In(this);else if(0<ye.length&&!this.W){this.W=!0;var an=this.j;an.g==this&&an.ba&&!an.M&&(an.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),xa(an),an.M=!0,ee(11))}}else Ae(this.i,this.l,ye,null),Dt(this,ye);ln==4&&je(this),this.o&&!this.J&&(ln==4?yd(this.j,this):(this.o=!1,rr(this)))}else dg(this.g),C==400&&0<ye.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),je(this),In(this)}}}catch{}finally{}};function Dn(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Ks(m,E){var C=m.C,P=E.indexOf(`
`,C);return P==-1?Wn:(C=Number(E.substring(C,P)),isNaN(C)?ut:(P+=1,P+C>E.length?Wn:(E=E.slice(P,P+C),m.C=P+C,E)))}ct.prototype.cancel=function(){this.J=!0,je(this)};function rr(m){m.S=Date.now()+m.I,Ar(m,m.I)}function Ar(m,E){if(m.B!=null)throw Error("WatchDog timer not null");m.B=pe(v(m.ba,m),E)}function ir(m){m.B&&(c.clearTimeout(m.B),m.B=null)}ct.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Ie(this.i,this.A),this.L!=2&&(F(),ee(17)),je(this),this.s=2,In(this)):Ar(this,this.S-m)};function In(m){m.j.G==0||m.J||yd(m.j,m)}function je(m){ir(m);var E=m.M;E&&typeof E.ma=="function"&&E.ma(),m.M=null,yi(m.U),m.g&&(E=m.g,m.g=null,E.abort(),E.ma())}function Dt(m,E){try{var C=m.j;if(C.G!=0&&(C.g==m||Ys(C.h,m))){if(!m.K&&Ys(C.h,m)&&C.G==3){try{var P=C.Da.g.parse(E)}catch{P=null}if(Array.isArray(P)&&P.length==3){var J=P;if(J[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<m.F)Ml(C),Al(C);else break e;ru(C),ee(18)}}else C.za=J[1],0<C.za-C.T&&37500>J[2]&&C.F&&C.v==0&&!C.C&&(C.C=pe(v(C.Za,C),6e3));if(1>=Xr(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else ns(C,11)}else if((m.K||C.g==m)&&Ml(C),!L(E))for(J=C.Da.g.parse(E),E=0;E<J.length;E++){let tt=J[E];if(C.T=tt[0],tt=tt[1],C.G==2)if(tt[0]=="c"){C.K=tt[1],C.ia=tt[2];const an=tt[3];an!=null&&(C.la=an,C.j.info("VER="+C.la));const ln=tt[4];ln!=null&&(C.Aa=ln,C.j.info("SVER="+C.Aa));const rs=tt[5];rs!=null&&typeof rs=="number"&&0<rs&&(P=1.5*rs,C.L=P,C.j.info("backChannelRequestTimeoutMs_="+P)),P=C;const Kn=m.g;if(Kn){const Ti=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ti){var re=P.h;re.g||Ti.indexOf("spdy")==-1&&Ti.indexOf("quic")==-1&&Ti.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Xs(re,re.h),re.h=null))}if(P.D){const is=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;is&&(P.ya=is,wt(P.I,P.D,is))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-m.F,C.j.info("Handshake RTT: "+C.R+"ms")),P=C;var ye=m;if(P.qa=bd(P,P.J?P.ia:null,P.W),ye.K){Ln(P.h,ye);var dt=ye,It=P.L;It&&(dt.I=It),dt.B&&(ir(dt),rr(dt)),P.g=ye}else md(P);0<C.i.length&&kl(C)}else tt[0]!="stop"&&tt[0]!="close"||ns(C,7);else C.G==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?ns(C,7):tu(C):tt[0]!="noop"&&C.l&&C.l.ta(tt),C.v=0)}}F(4)}catch{}}var Yr=class{constructor(m,E){this.g=m,this.map=E}};function gn(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ot(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Xr(m){return m.h?1:m.g?m.g.size:0}function Ys(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function Xs(m,E){m.g?m.g.add(E):m.h=E}function Ln(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}gn.prototype.cancel=function(){if(this.i=Kc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Kc(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const C of m.g.values())E=E.concat(C.D);return E}return T(m.i)}function lg(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(f(m)){for(var E=[],C=m.length,P=0;P<C;P++)E.push(m[P]);return E}E=[],C=0;for(P in m)E[C++]=m[P];return E}function Sl(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(f(m)||typeof m=="string"){var E=[];m=m.length;for(var C=0;C<m;C++)E.push(C);return E}E=[],C=0;for(const P in m)E[C++]=P;return E}}}function Yc(m,E){if(m.forEach&&typeof m.forEach=="function")m.forEach(E,void 0);else if(f(m)||typeof m=="string")Array.prototype.forEach.call(m,E,void 0);else for(var C=Sl(m),P=lg(m),J=P.length,re=0;re<J;re++)E.call(void 0,P[re],C&&C[re],m)}var ha=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cg(m,E){if(m){m=m.split("&");for(var C=0;C<m.length;C++){var P=m[C].indexOf("="),J=null;if(0<=P){var re=m[C].substring(0,P);J=m[C].substring(P+1)}else re=m[C];E(re,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Kt(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Kt){this.h=m.h,pa(this,m.j),this.o=m.o,this.g=m.g,Js(this,m.s),this.l=m.l;var E=m.i,C=new Qi;C.i=E.i,E.g&&(C.g=new Map(E.g),C.h=E.h),Ji(this,C),this.m=m.m}else m&&(E=String(m).match(ha))?(this.h=!1,pa(this,E[1]||"",!0),this.o=kr(E[2]||""),this.g=kr(E[3]||"",!0),Js(this,E[4]),this.l=kr(E[5]||"",!0),Ji(this,E[6]||"",!0),this.m=kr(E[7]||"")):(this.h=!1,this.i=new Qi(null,this.h))}Kt.prototype.toString=function(){var m=[],E=this.j;E&&m.push(ga(E,Xc,!0),":");var C=this.g;return(C||E=="file")&&(m.push("//"),(E=this.o)&&m.push(ga(E,Xc,!0),"@"),m.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&m.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&m.push("/"),m.push(ga(C,C.charAt(0)=="/"?ug:Jc,!0))),(C=this.i.toString())&&m.push("?",C),(C=this.m)&&m.push("#",ga(C,wl)),m.join("")};function sr(m){return new Kt(m)}function pa(m,E,C){m.j=C?kr(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function Js(m,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);m.s=E}else m.s=null}function Ji(m,E,C){E instanceof Qi?(m.i=E,ud(m.i,m.h)):(C||(E=ga(E,fg)),m.i=new Qi(E,m.h))}function wt(m,E,C){m.i.set(E,C)}function ma(m){return wt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function kr(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ga(m,E,C){return typeof m=="string"?(m=encodeURI(m).replace(E,cd),C&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function cd(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Xc=/[#\/\?@]/g,Jc=/[#\?:]/g,ug=/[#\?]/g,fg=/[#\?@]/g,wl=/#/g;function Qi(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function Mr(m){m.g||(m.g=new Map,m.h=0,m.i&&cg(m.i,function(E,C){m.add(decodeURIComponent(E.replace(/\+/g," ")),C)}))}t=Qi.prototype,t.add=function(m,E){Mr(this),this.i=null,m=bi(this,m);var C=this.g.get(m);return C||this.g.set(m,C=[]),C.push(E),this.h+=1,this};function Zi(m,E){Mr(m),E=bi(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function es(m,E){return Mr(m),E=bi(m,E),m.g.has(E)}t.forEach=function(m,E){Mr(this),this.g.forEach(function(C,P){C.forEach(function(J){m.call(E,J,P,this)},this)},this)},t.na=function(){Mr(this);const m=Array.from(this.g.values()),E=Array.from(this.g.keys()),C=[];for(let P=0;P<E.length;P++){const J=m[P];for(let re=0;re<J.length;re++)C.push(E[P])}return C},t.V=function(m){Mr(this);let E=[];if(typeof m=="string")es(this,m)&&(E=E.concat(this.g.get(bi(this,m))));else{m=Array.from(this.g.values());for(let C=0;C<m.length;C++)E=E.concat(m[C])}return E},t.set=function(m,E){return Mr(this),this.i=null,m=bi(this,m),es(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},t.get=function(m,E){return m?(m=this.V(m),0<m.length?String(m[0]):E):E};function Qc(m,E,C){Zi(m,E),0<C.length&&(m.i=null,m.g.set(bi(m,E),T(C)),m.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(var C=0;C<E.length;C++){var P=E[C];const re=encodeURIComponent(String(P)),ye=this.V(P);for(P=0;P<ye.length;P++){var J=re;ye[P]!==""&&(J+="="+encodeURIComponent(String(ye[P]))),m.push(J)}}return this.i=m.join("&")};function bi(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function ud(m,E){E&&!m.j&&(Mr(m),m.i=null,m.g.forEach(function(C,P){var J=P.toLowerCase();P!=J&&(Zi(this,P),Qc(this,J,C))},m)),m.j=E}function ya(m,E){const C=new Se;if(c.Image){const P=new Image;P.onload=S(Or,C,"TestLoadImage: loaded",!0,E,P),P.onerror=S(Or,C,"TestLoadImage: error",!1,E,P),P.onabort=S(Or,C,"TestLoadImage: abort",!1,E,P),P.ontimeout=S(Or,C,"TestLoadImage: timeout",!1,E,P),c.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=m}else E(!1)}function Jr(m,E){const C=new Se,P=new AbortController,J=setTimeout(()=>{P.abort(),Or(C,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:P.signal}).then(re=>{clearTimeout(J),re.ok?Or(C,"TestPingServer: ok",!0,E):Or(C,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(J),Or(C,"TestPingServer: error",!1,E)})}function Or(m,E,C,P,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),P(C)}catch{}}function va(){this.g=new Tr}function Si(m,E,C){const P=C||"";try{Yc(m,function(J,re){let ye=J;h(J)&&(ye=nr(J)),E.push(P+re+"="+encodeURIComponent(ye))})}catch(J){throw E.push(P+"type="+encodeURIComponent("_badmap")),J}}function Qs(m){this.l=m.Ub||null,this.j=m.eb||!1}w(Qs,qs),Qs.prototype.g=function(){return new ts(this.l,this.j)},Qs.prototype.i=(function(m){return function(){return m}})({});function ts(m,E){lt.call(this),this.D=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(ts,lt),t=ts.prototype,t.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=E,this.readyState=1,Ei(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(E.body=m),(this.D||c).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wi(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zc(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zc(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?wi(this):Ei(this),this.readyState==3&&Zc(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,wi(this))},t.Qa=function(m){this.g&&(this.response=m,wi(this))},t.ga=function(){this.g&&wi(this)};function wi(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Ei(m)}t.setRequestHeader=function(m,E){this.u.append(m,E)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var C=E.next();!C.done;)C=C.value,m.push(C[0]+": "+C[1]),C=E.next();return m.join(`\r
`)};function Ei(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function eu(m){let E="";return j(m,function(C,P){E+=P,E+=":",E+=C,E+=`\r
`}),E}function on(m,E,C){e:{for(P in C){var P=!1;break e}P=!0}P||(C=eu(C),typeof m=="string"?C!=null&&encodeURIComponent(String(C)):wt(m,E,C))}function mt(m){lt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(mt,lt);var El=/^https?$/i,ba=["POST","PUT"];t=mt.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,E,C,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():et.g(),this.v=this.o?Yi(this.o):Yi(et),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(re){fd(this,re);return}if(m=C||"",C=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var J in P)C.set(J,P[J]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const re of P.keys())C.set(re,P.get(re));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(C.keys()).find(re=>re.toLowerCase()=="content-type"),J=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(ba,E,void 0))||P||J||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ye]of C)this.g.setRequestHeader(re,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sa(this),this.u=!0,this.g.send(m),this.u=!1}catch(re){fd(this,re)}};function fd(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.m=5,xl(m),xi(m)}function xl(m){m.A||(m.A=!0,Ge(m,"complete"),Ge(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Ge(this,"complete"),Ge(this,"abort"),xi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Tl(this):this.bb())},t.bb=function(){Tl(this)};function Tl(m){if(m.h&&typeof l<"u"&&(!m.v[1]||Nr(m)!=4||m.Z()!=2)){if(m.u&&Nr(m)==4)Gt(m.Ea,0,m);else if(Ge(m,"readystatechange"),Nr(m)==4){m.h=!1;try{const ye=m.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var C;if(!(C=E)){var P;if(P=ye===0){var J=String(m.D).match(ha)[1]||null;!J&&c.self&&c.self.location&&(J=c.self.location.protocol.slice(0,-1)),P=!El.test(J?J.toLowerCase():"")}C=P}if(C)Ge(m,"complete"),Ge(m,"success");else{m.m=6;try{var re=2<Nr(m)?m.g.statusText:""}catch{re=""}m.l=re+" ["+m.Z()+"]",xl(m)}}finally{xi(m)}}}}function xi(m,E){if(m.g){Sa(m);const C=m.g,P=m.v[0]?()=>{}:null;m.g=null,m.v=null,E||Ge(m,"ready");try{C.onreadystatechange=P}catch{}}}function Sa(m){m.I&&(c.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function Nr(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<Nr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),Ki(E)}};function dd(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function dg(m){const E={};m=(m.g&&2<=Nr(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<m.length;P++){if(L(m[P]))continue;var C=B(m[P]);const J=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const re=E[J]||[];E[J]=re,re.push(C)}_(E,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wa(m,E,C){return C&&C.internalChannelParams&&C.internalChannelParams[m]||E}function Cl(m){this.Aa=0,this.i=[],this.j=new Se,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wa("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wa("baseRetryDelayMs",5e3,m),this.cb=wa("retryDelaySeedMs",1e4,m),this.Wa=wa("forwardChannelMaxRetries",2,m),this.wa=wa("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new gn(m&&m.concurrentRequestLimit),this.Da=new va,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Cl.prototype,t.la=8,t.G=1,t.connect=function(m,E,C,P){ee(0),this.W=m,this.H=E||{},C&&P!==void 0&&(this.H.OSID=C,this.H.OAID=P),this.F=this.X,this.I=bd(this,null,this.W),kl(this)};function tu(m){if(hd(m),m.G==3){var E=m.U++,C=sr(m.I);if(wt(C,"SID",m.K),wt(C,"RID",E),wt(C,"TYPE","terminate"),Ea(m,C),E=new ct(m,m.j,E),E.L=2,E.v=ma(sr(C)),C=!1,c.navigator&&c.navigator.sendBeacon)try{C=c.navigator.sendBeacon(E.v.toString(),"")}catch{}!C&&c.Image&&(new Image().src=E.v,C=!0),C||(E.g=Sd(E.j,null),E.g.ea(E.v)),E.F=Date.now(),rr(E)}vd(m)}function Al(m){m.g&&(xa(m),m.g.cancel(),m.g=null)}function hd(m){Al(m),m.u&&(c.clearTimeout(m.u),m.u=null),Ml(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function kl(m){if(!Ot(m.h)&&!m.s){m.s=!0;var E=m.Ga;oe||$(),ce||(oe(),ce=!0),Te.add(E,m),m.B=0}}function hg(m,E){return Xr(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=E.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=pe(v(m.Ga,m,E),iu(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const J=new ct(this,this.j,m);let re=this.o;if(this.S&&(re?(re=O(re),R(re,this.S)):re=this.S),this.m!==null||this.O||(J.H=re,re=null),this.P)e:{for(var E=0,C=0;C<this.i.length;C++){t:{var P=this.i[C];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(E+=P,4096<E){E=C;break e}if(E===4096||C===this.i.length-1){E=C+1;break e}}E=1e3}else E=1e3;E=pd(this,J,E),C=sr(this.I),wt(C,"RID",m),wt(C,"CVER",22),this.D&&wt(C,"X-HTTP-Session-Id",this.D),Ea(this,C),re&&(this.O?E="headers="+encodeURIComponent(String(eu(re)))+"&"+E:this.m&&on(C,this.m,re)),Xs(this.h,J),this.Ua&&wt(C,"TYPE","init"),this.P?(wt(C,"$req",E),wt(C,"SID","null"),J.T=!0,mn(J,C,null)):mn(J,C,E),this.G=2}}else this.G==3&&(m?nu(this,m):this.i.length==0||Ot(this.h)||nu(this))};function nu(m,E){var C;E?C=E.l:C=m.U++;const P=sr(m.I);wt(P,"SID",m.K),wt(P,"RID",C),wt(P,"AID",m.T),Ea(m,P),m.m&&m.o&&on(P,m.m,m.o),C=new ct(m,m.j,C,m.B+1),m.m===null&&(C.H=m.o),E&&(m.i=E.D.concat(m.i)),E=pd(m,C,1e3),C.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Xs(m.h,C),mn(C,P,E)}function Ea(m,E){m.H&&j(m.H,function(C,P){wt(E,P,C)}),m.l&&Yc({},function(C,P){wt(E,P,C)})}function pd(m,E,C){C=Math.min(m.i.length,C);var P=m.l?v(m.l.Na,m.l,m):null;e:{var J=m.i;let re=-1;for(;;){const ye=["count="+C];re==-1?0<C?(re=J[0].g,ye.push("ofs="+re)):re=0:ye.push("ofs="+re);let dt=!0;for(let It=0;It<C;It++){let tt=J[It].g;const an=J[It].map;if(tt-=re,0>tt)re=Math.max(0,J[It].g-100),dt=!1;else try{Si(an,ye,"req"+tt+"_")}catch{P&&P(an)}}if(dt){P=ye.join("&");break e}}}return m=m.i.splice(0,C),E.D=m,P}function md(m){if(!m.g&&!m.u){m.Y=1;var E=m.Fa;oe||$(),ce||(oe(),ce=!0),Te.add(E,m),m.v=0}}function ru(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=pe(v(m.Fa,m),iu(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,gd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=pe(v(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),Al(this),gd(this))};function xa(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function gd(m){m.g=new ct(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var E=sr(m.qa);wt(E,"RID","rpc"),wt(E,"SID",m.K),wt(E,"AID",m.T),wt(E,"CI",m.F?"0":"1"),!m.F&&m.ja&&wt(E,"TO",m.ja),wt(E,"TYPE","xmlhttp"),Ea(m,E),m.m&&m.o&&on(E,m.m,m.o),m.L&&(m.g.I=m.L);var C=m.g;m=m.ia,C.L=1,C.v=ma(sr(E)),C.m=null,C.P=!0,sn(C,m)}t.Za=function(){this.C!=null&&(this.C=null,Al(this),ru(this),ee(19))};function Ml(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function yd(m,E){var C=null;if(m.g==E){Ml(m),xa(m),m.g=null;var P=2}else if(Ys(m.h,E))C=E.D,Ln(m.h,E),P=1;else return;if(m.G!=0){if(E.o)if(P==1){C=E.m?E.m.length:0,E=Date.now()-E.F;var J=m.B;P=Xi(),Ge(P,new ue(P,C)),kl(m)}else md(m);else if(J=E.s,J==3||J==0&&0<E.X||!(P==1&&hg(m,E)||P==2&&ru(m)))switch(C&&0<C.length&&(E=m.h,E.i=E.i.concat(C)),J){case 1:ns(m,5);break;case 4:ns(m,10);break;case 3:ns(m,6);break;default:ns(m,2)}}}function iu(m,E){let C=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(C*=2),C*E}function ns(m,E){if(m.j.info("Error code "+E),E==2){var C=v(m.fb,m),P=m.Xa;const J=!P;P=new Kt(P||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||pa(P,"https"),ma(P),J?ya(P.toString(),C):Jr(P.toString(),C)}else ee(2);m.G=0,m.l&&m.l.sa(E),vd(m),hd(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function vd(m){if(m.G=0,m.ka=[],m.l){const E=Kc(m.h);(E.length!=0||m.i.length!=0)&&(A(m.ka,E),A(m.ka,m.i),m.h.i.length=0,T(m.i),m.i.length=0),m.l.ra()}}function bd(m,E,C){var P=C instanceof Kt?sr(C):new Kt(C);if(P.g!="")E&&(P.g=E+"."+P.g),Js(P,P.s);else{var J=c.location;P=J.protocol,E=E?E+"."+J.hostname:J.hostname,J=+J.port;var re=new Kt(null);P&&pa(re,P),E&&(re.g=E),J&&Js(re,J),C&&(re.l=C),P=re}return C=m.D,E=m.ya,C&&E&&wt(P,C,E),wt(P,"VER",m.la),Ea(m,P),P}function Sd(m,E,C){if(E&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Ca&&!m.pa?new mt(new Qs({eb:C})):new mt(m.pa),E.Ha(m.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wd(){}t=wd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Gn(m,E){lt.call(this),this.g=new Cl(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(m?m["X-WebChannel-Client-Profile"]=E.va:m={"X-WebChannel-Client-Profile":E.va}),this.g.S=m,(m=E&&E.Sb)&&!L(m)&&(this.g.m=m),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!L(E)&&(this.g.D=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new Zs(this)}w(Gn,lt),Gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gn.prototype.close=function(){tu(this.g)},Gn.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var C={};C.__data__=m,m=C}else this.u&&(C={},C.__data__=nr(m),m=C);E.i.push(new Yr(E.Ya++,m)),E.G==3&&kl(E)},Gn.prototype.N=function(){this.g.l=null,delete this.j,tu(this.g),delete this.g,Gn.aa.N.call(this)};function Ed(m){Kr.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){e:{for(const C in E){m=C;break e}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}w(Ed,Kr);function xd(){Ws.call(this),this.status=1}w(xd,Ws);function Zs(m){this.g=m}w(Zs,wd),Zs.prototype.ua=function(){Ge(this.g,"a")},Zs.prototype.ta=function(m){Ge(this.g,new Ed(m))},Zs.prototype.sa=function(m){Ge(this.g,new xd)},Zs.prototype.ra=function(){Ge(this.g,"b")},Gn.prototype.send=Gn.prototype.o,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,Ee.NO_ERROR=0,Ee.TIMEOUT=8,Ee.HTTP_ERROR=6,Fe.COMPLETE="complete",bl.EventType=Cr,Cr.OPEN="a",Cr.CLOSE="b",Cr.ERROR="c",Cr.MESSAGE="d",lt.prototype.listen=lt.prototype.K,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha}).apply(typeof Mh<"u"?Mh:typeof self<"u"?self:typeof window<"u"?window:{});const y2="@firebase/firestore",v2="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ed="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=new x1("@firebase/firestore");function ii(t,...e){if(Oc.logLevel<=ht.DEBUG){const n=e.map(j1);Oc.debug(`Firestore (${ed}): ${t}`,...n)}}function Ak(t,...e){if(Oc.logLevel<=ht.ERROR){const n=e.map(j1);Oc.error(`Firestore (${ed}): ${t}`,...n)}}function B6(t,...e){if(Oc.logLevel<=ht.WARN){const n=e.map(j1);Oc.warn(`Firestore (${ed}): ${t}`,...n)}}function j1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,kk(t,r,n)}function kk(t,e,n){let r=`FIRESTORE (${ed}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ak(r),new Error(r)}function af(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||kk(e,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class st extends Ps{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class H6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(jn.UNAUTHENTICATED)))}shutdown(){}}class V6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class $6{constructor(e){this.t=e,this.currentUser=jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){af(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let o=new lf;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new lf,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},c=f=>{ii("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(ii("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new lf)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ii("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(af(typeof r.accessToken=="string",31837,{l:r}),new Mk(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return af(e===null||typeof e=="string",2055,{h:e}),new jn(e)}}class F6{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=jn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class q6{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new F6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(jn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class b2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){af(this.o===void 0,3512);const r=o=>{o.error!=null&&ii("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,ii("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{ii("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):ii("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new b2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(af(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new b2(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=G6(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function li(t,e){return t<e?-1:t>e?1:0}function X6(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return li(r,i);{const o=K6(),l=J6(o.encode(S2(t,n)),o.encode(S2(e,n)));return l!==0?l:li(r,i)}}n+=r>65535?2:1}return li(t.length,e.length)}function S2(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function J6(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return li(t[n],e[n]);return li(t.length,e.length)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="__name__";class Di{constructor(e,n,r){n===void 0?n=0:n>e.length&&Of(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Of(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Di.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Di?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Di.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return li(e.length,n.length)}static compareSegments(e,n){const r=Di.isNumericId(e),i=Di.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Di.extractNumericId(e).compare(Di.extractNumericId(n)):X6(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return P1.fromString(e.substring(4,e.length-2))}}class ti extends Di{construct(e,n,r){return new ti(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new st(it.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new ti(n)}static emptyPath(){return new ti([])}}const Q6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ha extends Di{construct(e,n,r){return new Ha(e,n,r)}static isValidIdentifier(e){return Q6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ha.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w2}static keyField(){return new Ha([w2])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new st(it.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new st(it.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new st(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(o(),i++)}if(o(),l)throw new st(it.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ha(n)}static emptyPath(){return new Ha([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e){this.path=e}static fromPath(e){return new qa(ti.fromString(e))}static fromName(e){return new qa(ti.fromString(e).popFirst(5))}static empty(){return new qa(ti.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ti.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ti.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qa(new ti(e.slice()))}}function Z6(t,e,n,r){if(e===!0&&r===!0)throw new st(it.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function eP(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function tP(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Of(12329,{type:typeof t})}function nP(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new st(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tP(t);throw new st(it.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t,e){const n={typeString:t};return e&&(n.value=e),n}function td(t,e){if(!eP(t))throw new st(it.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new st(it.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=-62135596800,x2=1e6;class Ii{static now(){return Ii.fromMillis(Date.now())}static fromDate(e){return Ii.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*x2);return new Ii(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new st(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new st(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<E2)throw new st(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/x2}_compareTo(e){return this.seconds===e.seconds?li(this.nanoseconds,e.nanoseconds):li(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ii._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(td(e,Ii._jsonSchema))return new Ii(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-E2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ii._jsonSchemaVersion="firestore/timestamp/1.0",Ii._jsonSchema={type:Jt("string",Ii._jsonSchemaVersion),seconds:Jt("number"),nanoseconds:Jt("number")};function rP(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new iP("Invalid base64 string: "+o):o}})(e);return new ol(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o})(e);return new ol(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return li(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ol.EMPTY_BYTE_STRING=new ol("");const Av="(default)";class Dp{constructor(e,n){this.projectId=e,this.database=n||Av}static empty(){return new Dp("","")}get isDefaultDatabase(){return this.database===Av}isEqual(e){return e instanceof Dp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,n=null,r=[],i=[],o=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=f,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function oP(t){return new sP(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T2,rt;(rt=T2||(T2={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new P1([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=1048576;function E0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&ii("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new lf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const l=Date.now()+r,c=new z1(e,n,l,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(it.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var C2,A2;(A2=C2||(C2={})).Fa="default",A2.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok="firestore.googleapis.com",M2=!0;class O2{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new st(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ok,this.ssl=M2}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:M2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lP)throw new st(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new st(it.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new st(it.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new st(it.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nk{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new O2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new O2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new H6;switch(r.type){case"firstParty":return new q6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new st(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=k2.get(n);r&&(ii("ComponentProvider","Removing Datastore"),k2.delete(n),r.terminate())})(this),Promise.resolve()}}function fP(t,e,n,r={}){var i;t=nP(t,Nk);const o=Gf(e),l=t._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),f=`${e}:${n}`;o&&(HA(`https://${f}`),VA("Firestore",!0)),l.host!==Ok&&l.host!==f&&B6("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},l),{host:f,ssl:o,emulatorOptions:r});if(!rl(h,c)&&(t._setSettings(h),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=jn.MOCK_USER;else{p=WI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new st(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new jn(v)}t._authCredentials=new V6(new Mk(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new U1(this.firestore,e,this._query)}}class Pi{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new B1(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pi(this.firestore,e,this._key)}toJSON(){return{type:Pi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(td(n,Pi._jsonSchema))return new Pi(e,r||null,new qa(ti.fromString(n.referencePath)))}}Pi._jsonSchemaVersion="firestore/documentReference/1.0",Pi._jsonSchema={type:Jt("string",Pi._jsonSchemaVersion),referencePath:Jt("string")};class B1 extends U1{constructor(e,n,r){super(e,n,oP(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pi(this.firestore,null,new qa(e))}withConverter(e){return new B1(this.firestore,e,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="AsyncQueue";class _2{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new cP(this,"async_queue_retry"),this.oc=()=>{const r=E0();r&&ii(N2,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=E0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=E0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new lf;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!rP(e))throw e;ii(N2,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const n=this._c.then((()=>(this.nc=!0,e().catch((r=>{throw this.tc=r,this.nc=!1,Ak("INTERNAL UNHANDLED ERROR: ",R2(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=z1.createAndSchedule(this,e,n,r,(o=>this.lc(o)));return this.ec.push(i),i}ac(){this.tc&&Of(47125,{hc:R2(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function R2(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class dP extends Nk{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new _2,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _2(e),this._firestoreClient=void 0,await e}}}function hP(t,e){const n=typeof t=="object"?t:A1(),r=typeof t=="string"?t:Av,i=C1(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=FI("firestore");o&&fP(i,...o)}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ks(ol.fromBase64String(e))}catch(n){throw new st(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ks(ol.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ks._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(td(e,ks._jsonSchema))return ks.fromBase64String(e.bytes)}}ks._jsonSchemaVersion="firestore/bytes/1.0",ks._jsonSchema={type:Jt("string",ks._jsonSchemaVersion),bytes:Jt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new st(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ha(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new st(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new st(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return li(this._lat,e._lat)||li(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xa._jsonSchemaVersion}}static fromJSON(e){if(td(e,Xa._jsonSchema))return new Xa(e.latitude,e.longitude)}}Xa._jsonSchemaVersion="firestore/geoPoint/1.0",Xa._jsonSchema={type:Jt("string",Xa._jsonSchemaVersion),latitude:Jt("number"),longitude:Jt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ja._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(td(e,Ja._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ja(e.vectorValues);throw new st(it.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ja._jsonSchemaVersion="firestore/vectorValue/1.0",Ja._jsonSchema={type:Jt("string",Ja._jsonSchemaVersion),vectorValues:Jt("object")};const pP=new RegExp("[~\\*/\\[\\]]");function mP(t,e,n){if(e.search(pP)>=0)throw D2(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new _k(...e.split("."))._internalPath}catch{throw D2(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function D2(t,e,n,r,i){let o=`Function ${e}() called with invalid data`;o+=". ";let l="";return new st(it.INVALID_ARGUMENT,o+t+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Pi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Dk("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gP extends Rk{data(){return super.data()}}function Dk(t,e){return typeof e=="string"?mP(t,e):e instanceof _k?e._internalPath:e._delegate._internalPath}class Oh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ec extends Rk{constructor(e,n,r,i,o,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Dk("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(it.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ec._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ec._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ec._jsonSchema={type:Jt("string",Ec._jsonSchemaVersion),bundleSource:Jt("string","DocumentSnapshot"),bundleName:Jt("string"),bundle:Jt("string")};class hp extends Ec{data(e={}){return super.data(e)}}class cf{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Oh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new hp(this._firestore,this._userDataWriter,r.key,r,new Oh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new st(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const f=new hp(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Oh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const f=new hp(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Oh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:yP(c.type),doc:f,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(it.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=cf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Y6.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function yP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Of(61501,{type:t})}}cf._jsonSchemaVersion="firestore/querySnapshot/1.0",cf._jsonSchema={type:Jt("string",cf._jsonSchemaVersion),bundleSource:Jt("string","QuerySnapshot"),bundleName:Jt("string"),bundle:Jt("string")};(function(e,n=!0){(function(i){ed=i})($c),kc(new il("firestore",((r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new dP(new $6(r.getProvider("auth-internal")),new W6(l,r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new st(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dp(h.options.projectId,p)})(l,i),l);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),Fo(y2,v2,e),Fo(y2,v2,"esm2017")})();const vP={apiKey:"AIzaSyAXWSKq6gecCbuFxPVEg7HLiUoEkYBFiBk",authDomain:"auth.offgap.com",projectId:"offgap",messagingSenderId:"129911949748",appId:"1:129911949748:web:3343dc37d8b2d15941cae1"},Ik=aL().length?A1():qA(vP),al=z6(Ik),H1=new As;H1.setDefaultLanguage("en");H1.addScope("openid");const bP=async(t,e)=>await w5(al,t,{url:e,handleCodeInApp:!0});async function oK(t){if(E5(al,t))try{const e=window.localStorage.getItem(yv.EMAIL)||window.prompt("You seems to change the browser. Which email did you use to log in?")||"";return await x5(al,e,t),window.localStorage.removeItem(yv.EMAIL),!0}catch(e){console.error(e)}return!1}const SP=async()=>await G5(al,H1),wP=()=>{const t={exit:()=>{}},e=new Promise(n=>{t.exit=A5(al,r=>n(r))});return Object.assign(e,{unsubscribe:t.exit})},Lk=()=>al.currentUser,aK=async()=>await k5(al);hP(Ik);const I2=t=>{let e;const n=new Set,r=(h,p)=>{const y=typeof h=="function"?h(e):h;if(!Object.is(y,e)){const v=e;e=p??(typeof y!="object"||y===null)?y:Object.assign({},e,y),n.forEach(S=>S(e,v))}},i=()=>e,c={setState:r,getState:i,getInitialState:()=>f,subscribe:h=>(n.add(h),()=>n.delete(h))},f=e=t(r,i,c);return c},EP=(t=>t?I2(t):I2),xP=t=>t;function TP(t,e=xP){const n=_t.useSyncExternalStore(t.subscribe,_t.useCallback(()=>e(t.getState()),[t,e]),_t.useCallback(()=>e(t.getInitialState()),[t,e]));return _t.useDebugValue(n),n}const L2=t=>{const e=EP(t),n=r=>TP(e,r);return Object.assign(n,e),n},CP=(t=>t?L2(t):L2);function AP(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var o;const l=f=>f===null?null:JSON.parse(f,void 0),c=(o=n.getItem(i))!=null?o:null;return c instanceof Promise?c.then(l):l(c)},setItem:(i,o)=>n.setItem(i,JSON.stringify(o,void 0)),removeItem:i=>n.removeItem(i)}}const kv=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return kv(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return kv(r)(n)}}}},kP=(t,e)=>(n,r,i)=>{let o={storage:AP(()=>localStorage),partialize:T=>T,version:0,merge:(T,A)=>({...A,...T}),...e},l=!1;const c=new Set,f=new Set;let h=o.storage;if(!h)return t((...T)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...T)},r,i);const p=()=>{const T=o.partialize({...r()});return h.setItem(o.name,{state:T,version:o.version})},y=i.setState;i.setState=(T,A)=>(y(T,A),p());const v=t((...T)=>(n(...T),p()),r,i);i.getInitialState=()=>v;let S;const w=()=>{var T,A;if(!h)return;l=!1,c.forEach(L=>{var U;return L((U=r())!=null?U:v)});const N=((A=o.onRehydrateStorage)==null?void 0:A.call(o,(T=r())!=null?T:v))||void 0;return kv(h.getItem.bind(h))(o.name).then(L=>{if(L)if(typeof L.version=="number"&&L.version!==o.version){if(o.migrate){const U=o.migrate(L.state,L.version);return U instanceof Promise?U.then(K=>[!0,K]):[!0,U]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,L.state];return[!1,void 0]}).then(L=>{var U;const[K,H]=L;if(S=o.merge(H,(U=r())!=null?U:v),n(S,!0),K)return p()}).then(()=>{N?.(S,void 0),S=r(),l=!0,f.forEach(L=>L(S))}).catch(L=>{N?.(void 0,L)})};return i.persist={setOptions:T=>{o={...o,...T},T.storage&&(h=T.storage)},clearStorage:()=>{h?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>w(),hasHydrated:()=>l,onHydrate:T=>(c.add(T),()=>{c.delete(T)}),onFinishHydration:T=>(f.add(T),()=>{f.delete(T)})},o.skipHydration||w(),S||v},MP=kP,P2={project:{sitemap:"",robots:""},meta:{title:"",description:"",canonical:"",headTags:[]},header:{content:""},footer:{content:""},sid:"",css:"",js:"",fonts:{},pages:[{path:"/",title:"Page Title",content:""}]},OP=(t,e)=>["path","title","content"].every(n=>t[n]===e[n]),Nh=(t,e)=>t.pages.filter(n=>!e.pages.find(r=>OP(n,r))).map(n=>n.path),NP=t=>t.path.length>2&&typeof t.title=="string",_h=t=>(t.pages=t.pages.sort((e,n)=>e.path.localeCompare(n.path)),t),Ze=CP(MP(t=>({pid:"",sid:"",user:void 0,repo:"",token:"",domain:"",status:0,config:P2,pageDiff:[],configBackup:P2,updatingPage:"",setPid:e=>t(()=>({pid:e})),setSid:e=>t(()=>({sid:e})),setUser:e=>t(()=>({user:e})),setRepo:e=>t(()=>({repo:e})),setToken:e=>t(()=>({token:e})),setDomain:e=>t(()=>({domain:e})),setStatus:e=>t(()=>({status:e})),setConfig:e=>t(()=>({config:e,configBackup:structuredClone(e),pageDiff:[]})),setConfigKey:({key:e,value:n})=>t(({config:r})=>{const i=structuredClone(r);return(e==="js"||e==="css")&&typeof n=="string"?i[e]=n:e==="fonts"&&n?i.fonts=n:e==="header"&&typeof n=="string"?i.header.content=n:e==="footer"&&typeof n=="string"&&(i.footer.content=n),{config:i}}),setConfigPage:({oldPath:e,...n})=>t(({config:r,configBackup:i})=>{const o=structuredClone(r);if(n.content?.endsWith(Ya.EDITOR_NEWLINE)&&(n.content=n.content.slice(0,-Ya.EDITOR_NEWLINE.length)),typeof e=="string"&&e.length){if(n.path===""){o.pages=o.pages.filter(c=>c.path!==e);const l=Nh(o,i);return{config:_h(o),pageDiff:l}}if(n.path.length>2){const l=o.pages.find(f=>f.path===e);l&&Object.assign(l,n);const c=Nh(o,i);return{config:_h(o),pageDiff:c,updatingPage:n.path}}}else{const l=o.pages.find(c=>c.path===n.path);if(l){Object.assign(l,n);const c=Nh(o,i);return{config:_h(o),pageDiff:c}}if(NP(n)){o.pages.push(n);const c=Nh(o,i);return{config:_h(o),pageDiff:c,updatingPage:n.path}}}return{config:r}}),setUpdatingPage:e=>t(()=>({updatingPage:e}))}),{name:"data"})),Ip=t=>new Date(parseInt(t,gr.TIME_ZIP)*gr.TIME_TRIM).getTime(),lK=()=>document.activeElement instanceof HTMLElement?document.activeElement.blur():void 0,cK=t=>typeof t=="number"&&t>0?new Date(t).toLocaleString(window.navigator.language,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}):"",mc=t=>typeof t=="string"?new TextEncoder().encode(t).length:0,_P=t=>t<100?`${t} bytes`:t<1e5?`${(t/1024).toFixed(2)} KB`:`${(t/(1024*1024)).toFixed(2)} MB`,j2=t=>{let e=Math.floor((Date.now()-new Date(t).getTime())/1e3);return e<60?"seconds ago":[{label:"d",seconds:86400},{label:"h",seconds:3600},{label:"m",seconds:60}].reduce((r,{label:i,seconds:o})=>{const l=Math.floor(e/o);return l>0&&!(i==="s"&&r.length>0)&&(r.push(`${l}${i}`),e-=l*o),r},[]).join(" ")},RP=(t,e)=>`https://raw.githubusercontent.com/offgap/${t}/main/${e}`,V1=async({domain:t,pid:e})=>{const{pid:n,setStatus:r,setPid:i}=Ze.getState();try{if((await fetch(`https://${t}/${gr.FOLDER}/${e}.json`,{cache:"no-store"})).ok)return n!==e&&i(e),r(bt.PID_NEW),!0;try{const l=await fetch(`https://${t}/`,{cache:"no-store"});if(l.ok&&l.status===w1.OK){const c=await fetch(`https://${t}/${gr.FOLDER}/${gr.LIVEFILE}`,{cache:"no-store"});if(c.ok){const f=await c.json();if(!f?.p)throw new Error(`Live file doesn't have pid collection (https://${t}/${gr.FOLDER}/${gr.LIVEFILE})`);const{p:h}=f,p=h[0];if(!h.includes(e))r(bt.PID_OLD);else if(p===e)r(bt.PID_NEW);else if(p.length===gr.LENGTH&&Ip(p)>Ip(e))return V1({domain:t,pid:p});return!0}}}catch(l){console.error(`Domain (${t}) DNS might be still propagating; ${l}`)}throw r(bt.NS_POLL),new Error(`Domain (${t}) isn't available`)}catch(o){console.error(o,`Checking pid (${e}) from domain (${t}) failed`)}return!1},DP=async({repo:t})=>{try{const e=await fetch(RP(t,`${gr.GITFOLDER}/${gr.LIVEFILE}`),{cache:"no-store"});if(!e.ok)throw new Error(`Fetching pid from GitHub (${t}) live.json failed`);const n=await e.json();if(!n?.p)throw new Error(`Github repo (${t}) file doesn't have pid collection`);const{p:r}=n;return r[0]}catch(e){console.error(`Parsing pid from GitHub (${t}) failed. ${e}`)}return""},uK=async({pid:t,repo:e,domain:n})=>{try{if(t&&n&&await V1({domain:n,pid:t}))return!0;if(e){const r=await DP({repo:e});if(r===t&&t===gr.INIT)return!1;throw new Error(`Github pid (${r}) is different than server's pid (${t}), or progressed without domain`)}}catch(r){console.error(r)}return!1},IP=[[1,1e4],[10,3e4],[25,6e4],[45,3e5],[133,9e5]],LP=t=>IP.find(([e])=>t<=e)?.[1]??0,PP=t=>parseInt(localStorage.getItem(`poll:${t}`)||"0",10),jP=(t,e)=>localStorage.setItem(`poll:${t}`,String(e)),$1=(t,e)=>{let n=!0;return{promise:(async()=>{let r=PP(t);for(;n;){if(await e())return localStorage.removeItem(`poll:${t}`),!0;r++,jP(t,r);const o=t.startsWith("pid")?5e3:LP(r);if(!o)return console.error(`Polling "${t}" exceeded max attempts, user action required`),!1;await new Promise(l=>setTimeout(l,o))}return!1})(),stop:()=>{n=!1,localStorage.removeItem(`poll:${t}`)}}},zP=["offgap.github.io."],Pk=["https://dns.google/resolve","https://cloudflare-dns.com/dns-query"],UP=(t,e="CNAME",n=Pk[0])=>`${n}?name=${t}&type=${e}`,BP=async(t,e,n)=>{const r=zP;try{return await Pk.reduce(async(i,o)=>{if(!await i)return!1;const f=await(await fetch(UP(t,e,o),{headers:{Accept:"application/dns-json"}})).json();return f.Answer?r.every(h=>f.Answer.some(p=>p.data===h)):!1},Promise.resolve(!0))}catch(i){console.error(i)}return!1},HP=async(t,e)=>{try{if((await fetch(`https://${t}/${gr.FOLDER}/${e}.json`,{cache:"no-store"})).ok)return Ze.getState().setStatus(bt.PID_NEW),!0}catch(n){console.error(n)}return!1},VP=t=>$1(`dns:${t}`,async()=>await BP(t,"CNAME")),$P=(t,e)=>$1(`pid:${t}`,async()=>await HP(t,e)),FP=(t,e)=>$1(`dom:${t}`,async()=>await V1({domain:t,pid:e})),qP=(t,e,n)=>{const{pid:r,setStatus:i}=Ze.getState();switch(e){case bt.NS_POLL:return VP(t).promise.then(()=>i(bt.NS_DONE)).catch(o=>console.error(o)),"1";case bt.NS_HOLD:return"2";case bt.NS_DONE:return n?fetch("/api/domain/",{method:"PUT"}).then(o=>{o.ok&&i(bt.DOMAIN_POLL)}).catch(o=>console.error(o)):i(bt.DOMAIN_POLL),"3";case bt.DOMAIN_POLL:return FP(t,r).promise.then(o=>{o||console.error("Pid is not set")}).catch(o=>console.error(o)),"4";case bt.DOMAIN_HOLD:return"5";case bt.DOMAIN_DONE:return"6";case bt.PID_OLD:return $P(t,r).promise.then(()=>i(bt.PID_NEW)).catch(o=>console.error(o)),"7";case bt.PID_NEW:return"8";default:throw new Error("Unexpected status value")}},z2=t=>t&&window.location.pathname!=="/app/"?window.location.pathname="/app/":void 0;function WP({children:t}){const e=Ze(l=>l.user),n=Ze(l=>l.token),r=Ze(l=>l.domain),i=Ze(l=>l.status);k.useEffect(()=>{const l=wP();return l.then(c=>{Ze.getState().setUser(c!==null),z2(c===null)}),l.unsubscribe},[]),k.useEffect(()=>void z2(!e),[e]);const o=k.useCallback(()=>qP(r,i,n),[r,i,n]);return k.useEffect(()=>void(e&&i>bt.INIT&&o()),[e,i,o]),e!==void 0?t:x.jsx(DA,{})}function GP(){return x.jsx("div",{className:"pointer-events-none fixed inset-0 z-50 flex cursor-progress items-center justify-center bg-base-100/70",children:x.jsx("span",{className:"loading loading-spinner loading-xl"})})}const KP="modulepreload",YP=function(t){return"https://offgap.com/app/"+t},U2={},Rh=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let f=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");i=f(n.map(h=>{if(h=YP(h),h in U2)return;U2[h]=!0;const p=h.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${y}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":KP,p||(v.as="script"),v.crossOrigin="",v.href=h,c&&v.setAttribute("nonce",c),document.head.appendChild(v),p)return new Promise((S,w)=>{v.addEventListener("load",S),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JP=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),B2=t=>{const e=JP(t);return e.charAt(0).toUpperCase()+e.slice(1)},jk=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),QP=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...c},f)=>k.createElement("svg",{ref:f,...ZP,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:jk("lucide",i),...!o&&!QP(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,p])=>k.createElement(h,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(t,e)=>{const n=k.forwardRef(({className:r,...i},o)=>k.createElement(ej,{ref:o,iconNode:e,className:jk(`lucide-${XP(B2(t))}`,`lucide-${t}`,r),...i}));return n.displayName=B2(t),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Lp=Pe("arrow-right",tj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],rj=Pe("bold",nj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=[["path",{d:"m14.5 7-5 5",key:"dy991v"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m9.5 7 5 5",key:"s45iea"}]],sj=Pe("book-x",ij);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],F1=Pe("circle-check",oj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],lj=Pe("circle-pause",aj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],uj=Pe("circle-plus",cj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],rc=Pe("clipboard",fj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],hj=Pe("clock",dj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],mj=Pe("external-link",pj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],yj=Pe("file-check",gj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M16 22h2a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"37hlfg"}],["path",{d:"M8 14v2.2l1.6 1",key:"6m4bie"}],["circle",{cx:"8",cy:"16",r:"6",key:"10v15b"}]],bj=Pe("file-clock",vj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]],wj=Pe("file-code",Sj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]],xj=Pe("file-pen",Ej);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=[["path",{d:"M11 21a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1",key:"likhh7"}],["path",{d:"M16 16a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1",key:"17ky3x"}],["path",{d:"M21 6a2 2 0 0 0-.586-1.414l-2-2A2 2 0 0 0 17 2h-3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1z",key:"1hyeo0"}]],Cj=Pe("file-stack",Tj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],kj=Pe("file-text",Aj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Oj=Pe("file",Mj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=[["path",{d:"m17 3-5 5-5-5h10",key:"1ftt6x"}],["path",{d:"m17 21-5-5-5 5h10",key:"1m0wmu"}],["path",{d:"M4 12H2",key:"rhcxmi"}],["path",{d:"M10 12H8",key:"s88cx1"}],["path",{d:"M16 12h-2",key:"10asgb"}],["path",{d:"M22 12h-2",key:"14jgyd"}]],_j=Pe("flip-vertical-2",Nj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Dj=Pe("hash",Rj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],zk=Pe("image",Ij);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=[["path",{d:"M21 12H11",key:"wd7e0v"}],["path",{d:"M21 18H11",key:"4wu86t"}],["path",{d:"M21 6H11",key:"6dy1d6"}],["path",{d:"m7 8-4 4 4 4",key:"o5hrat"}]],Pj=Pe("indent-decrease",Lj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=[["path",{d:"M21 12H11",key:"wd7e0v"}],["path",{d:"M21 18H11",key:"4wu86t"}],["path",{d:"M21 6H11",key:"6dy1d6"}],["path",{d:"m3 8 4 4-4 4",key:"1a3j6y"}]],zj=Pe("indent-increase",jj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],Bj=Pe("italic",Uj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]],Vj=Pe("link-2-off",Hj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Fj=Pe("link-2",$j);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Uk=Pe("link",qj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Bk=Pe("loader-circle",Wj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Kj=Pe("moon",Gj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],Xj=Pe("panel-left-close",Yj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]],Qj=Pe("panel-left-open",Jj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]],e9=Pe("panel-right",Zj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],n9=Pe("plus",t9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],i9=Pe("quote",r9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],Hk=Pe("redo-2",s9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=[["path",{d:"M14 4a2 2 0 0 1 2-2",key:"1w2hp7"}],["path",{d:"M16 10a2 2 0 0 1-2-2",key:"shjach"}],["path",{d:"M20 2a2 2 0 0 1 2 2",key:"188mtx"}],["path",{d:"M22 8a2 2 0 0 1-2 2",key:"ddf4tu"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5a3 3 0 0 1 3-3h1",key:"3y3t5z"}],["rect",{x:"2",y:"14",width:"8",height:"8",rx:"2",key:"4rksxw"}]],a9=Pe("replace",o9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=[["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6.01 18H6",key:"19vcac"}],["path",{d:"M10.01 18H10",key:"uamcmx"}],["path",{d:"M15 10v4",key:"qjz1xs"}],["path",{d:"M17.84 7.17a4 4 0 0 0-5.66 0",key:"1rif40"}],["path",{d:"M20.66 4.34a8 8 0 0 0-11.31 0",key:"6a5xfq"}]],H2=Pe("router",l9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],u9=Pe("scan-line",c9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Vk=Pe("search",f9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=[["path",{d:"m16 16-4 4-4-4",key:"3dv8je"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"m8 8 4-4 4 4",key:"2bscm2"}]],h9=Pe("separator-horizontal",d9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],m9=Pe("shield-check",p9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=[["path",{d:"M22 17v1c0 .5-.5 1-1 1H3c-.5 0-1-.5-1-1v-1",key:"lt2kga"}]],y9=Pe("space",g9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=[["path",{d:"M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6",key:"y09zxi"}],["path",{d:"m21 3-9 9",key:"mpx6sq"}],["path",{d:"M15 3h6v6",key:"1q9fwt"}]],b9=Pe("square-arrow-out-up-right",v9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["path",{d:"m10 9-3 3 3 3",key:"1oro0q"}],["path",{d:"m14 15 3-3-3-3",key:"bz13h7"}],["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}]],V2=Pe("square-code",S9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],$k=Pe("square-pen",w9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],x9=Pe("square-x",E9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],C9=Pe("strikethrough",T9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],k9=Pe("sun",A9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],O9=Pe("trash-2",M9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_9=Pe("trash",N9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=[["path",{d:"M14 16.5a.5.5 0 0 0 .5.5h.5a2 2 0 0 1 0 4H9a2 2 0 0 1 0-4h.5a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5V8a2 2 0 0 1-4 0V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v3a2 2 0 0 1-4 0v-.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5Z",key:"1reda3"}]],D9=Pe("type-outline",R9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],Fk=Pe("undo-2",I9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=[["path",{d:"m16 16-2 2 2 2",key:"kkc6pm"}],["path",{d:"M3 12h15a3 3 0 1 1 0 6h-4",key:"1cl7v7"}],["path",{d:"M3 18h7",key:"sq21v6"}],["path",{d:"M3 6h18",key:"d0wm0j"}]],P9=Pe("wrap-text",L9),Dh=x.jsx(lj,{className:"m-1 size-8"}),Ih=x.jsx(Bk,{className:"m-1 size-8 animate-spin"}),Lh=x.jsx(F1,{className:"m-1 size-8"}),j9=()=>{const t=Ze(r=>r.status),e=Dm(),n=k.useCallback(()=>e({},{action:"/app/domain/"}).catch(r=>console.error(r)),[e]);return x.jsxs("div",{className:"hero-content mt-8 mb-20 w-full flex-row items-start gap-8 p-0",children:[x.jsxs("ul",{className:"list w-2/3 rounded-box bg-base-100 shadow-md",children:[x.jsx("li",{className:"bg-base-200 p-5 text-xs tracking-wide opacity-60",children:"We’re confirming that your website is accessible online:"}),x.jsxs("li",{className:"list-row",children:[x.jsx("div",{children:t>bt.NS_DONE?Lh:t>bt.INIT?Ih:Dh}),x.jsxs("div",{children:[x.jsx("div",{children:"Validating your domain ownership"}),x.jsx("div",{className:"font-semibold text-xs uppercase opacity-40",children:"TXT records"})]})]}),x.jsxs("li",{className:"list-row",children:[x.jsx("div",{children:t>bt.NS_DONE?Lh:t>bt.INIT?Ih:Dh}),x.jsxs("div",{children:[x.jsx("div",{children:"Validating correct domain location resolution"}),x.jsx("div",{className:"font-semibold text-xs uppercase opacity-40",children:"CNAME records"})]})]}),x.jsxs("li",{className:"list-row",children:[x.jsx("div",{children:t>bt.DOMAIN_DONE?Lh:t>bt.NS_DONE?Ih:Dh}),x.jsxs("div",{children:[x.jsx("div",{children:"Checking if website is reachable"}),x.jsx("div",{className:"font-semibold text-xs uppercase opacity-40",children:"Website response"})]})]}),x.jsxs("li",{className:"list-row",children:[x.jsx("div",{children:t>bt.PID_OLD?Lh:t>bt.DOMAIN_DONE?Ih:Dh}),x.jsxs("div",{children:[x.jsx("div",{children:"Checking if your content can be published"}),x.jsx("div",{className:"font-semibold text-xs uppercase opacity-40",children:"OffGap flag"})]}),t>bt.PID_OLD?x.jsxs("button",{type:"button",className:"btn",onClick:n,children:["Next",x.jsx(Lp,{})]}):null]})]}),x.jsx("div",{className:"card w-1/3 rounded-box bg-base-100 shadow-md",children:x.jsx("div",{className:"card-body",children:"Records propagation usually takes from a few minutes to an hour. In extreme cases it takes up to 24 hours for all servers across the globe to update the DNS records."})})]})},z9=()=>{const t=Ze(i=>i.token),e=Ze(i=>i.domain),n=Dm(),r=k.useCallback(()=>n({},{action:"/app/domain/"}).catch(i=>console.error(i)),[n]);return x.jsxs("div",{className:"hero-content mt-8 mb-20 w-full flex-row items-start gap-8 p-0",children:[x.jsxs("ul",{className:`list rounded-box bg-base-100 shadow-md ${t?"w-2/3":"w-full"}`,children:[x.jsx("li",{className:"bg-base-200 p-5 text-xs tracking-wide opacity-60",children:"To link your website address to its content follow the instructions below:"}),t?x.jsxs(x.Fragment,{children:[x.jsxs("li",{className:"list-row",children:[x.jsx("div",{children:x.jsx(m9,{className:"m-1 size-8"})}),x.jsxs("div",{children:[x.jsx("div",{className:"font-semibold text-xs uppercase opacity-60",children:"TXT Record"}),x.jsx("div",{className:"mt-2 text-xs",children:"Add this TXT record to verify that you own this domain. Make sure it starts with offgap.com="})]}),x.jsxs("div",{className:"join",children:[x.jsxs("label",{className:"input join-item grow gap-0",children:[x.jsx("span",{className:"label",children:"TXT"}),x.jsxs("span",{children:["offgap.com=",t]})]}),x.jsx("button",{className:"btn btn-square join-item",children:x.jsx(rc,{})})]})]}),x.jsxs("li",{className:"list-row",children:[x.jsx("div",{children:x.jsx(H2,{className:"m-1 size-8"})}),x.jsxs("div",{children:[x.jsx("div",{className:"font-semibold text-xs uppercase opacity-60",children:"A Records"}),x.jsx("div",{className:"mt-2 text-xs",children:"These records point your domain to your website's content location. Create four separate A records with the following addresses. Remove other existing A and CNAME records."})]}),x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsxs("div",{className:"join",children:[x.jsxs("label",{className:"input join-item gap-0",children:[x.jsx("span",{className:"label",children:"A"}),x.jsx("span",{children:"185.199.108.153"})]}),x.jsx("button",{className:"btn btn-square join-item",children:x.jsx(rc,{})})]}),x.jsxs("div",{className:"join",children:[x.jsxs("label",{className:"input join-item gap-0",children:[x.jsx("span",{className:"label",children:"A"}),x.jsx("span",{children:"185.199.109.153"})]}),x.jsx("button",{className:"btn btn-square join-item",children:x.jsx(rc,{})})]}),x.jsxs("div",{className:"join",children:[x.jsxs("label",{className:"input join-item gap-0",children:[x.jsx("span",{className:"label",children:"A"}),x.jsx("span",{children:"185.199.110.153"})]}),x.jsx("button",{className:"btn btn-square join-item",children:x.jsx(rc,{})})]}),x.jsxs("div",{className:"join",children:[x.jsxs("label",{className:"input join-item gap-0",children:[x.jsx("span",{className:"label",children:"A"}),x.jsx("span",{children:"185.199.111.153"})]}),x.jsx("button",{className:"btn btn-square join-item",children:x.jsx(rc,{})})]})]})]}),x.jsxs("li",{className:"list-row",children:[x.jsx("div",{children:x.jsx(H2,{className:"m-1 size-8"})}),x.jsxs("div",{children:[x.jsx("div",{className:"font-semibold text-xs uppercase opacity-60",children:"CNAME Record"}),x.jsx("div",{className:"mt-2 text-xs",children:"This record points your subdomain to your website's content location. Remove other existing A and CNAME records."})]}),x.jsxs("div",{className:"join",children:[x.jsxs("label",{className:"input join-item gap-0",children:[x.jsx("span",{className:"label",children:"CNAME"}),x.jsx("span",{children:"offgap.github.io"})]}),x.jsx("button",{className:"btn btn-square join-item",children:x.jsx(rc,{})})]})]})]}):x.jsxs("li",{className:"list-row",children:[x.jsx("div",{children:x.jsx(F1,{className:"m-1 size-8"})}),x.jsxs("div",{children:[x.jsx("div",{children:"We've already set up your domain records. Check the progress on the next page."}),x.jsxs("div",{className:"example w-fit",children:["https://",e,"/"]})]}),x.jsxs("button",{type:"button",className:"btn",onClick:r,children:["Next",x.jsx(Lp,{})]})]})]}),t?x.jsxs("div",{className:"card w-1/3 rounded-box bg-base-100 shadow-md",children:[x.jsx("div",{className:"bg-base-200 p-5 text-xs tracking-wide opacity-60",children:"How to link your domain to your website"}),x.jsx("div",{className:"card-body -mb-5",children:x.jsxs("p",{children:["To get your site online, you need to update your domain's DNS records. Think of these records as references that tell the internet where to find your website's content. They point your URL address (e.g."," ",x.jsx("code",{children:"google.com"}),") to a server which holds your content. Without this crucial step, your domain address can't connect to your content, so your visitors won't be able to find it."]})}),x.jsxs("div",{className:"join join-vertical rounded-box p-5",children:[x.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[x.jsx("summary",{className:"collapse-title font-semibold",children:"How do I create an account?"}),x.jsx("div",{className:"collapse-content text-sm",children:'Click the "Sign Up" button in the top right corner and follow the registration process.'})]}),x.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[x.jsx("summary",{className:"collapse-title font-semibold",children:"How do I create an account?"}),x.jsx("div",{className:"collapse-content text-sm",children:'Click the "Sign Up" button in the top right corner and follow the registration process.'})]}),x.jsxs("details",{className:"join-item collapse-arrow collapse border border-base-300 bg-base-100",children:[x.jsx("summary",{className:"collapse-title font-semibold",children:"How do I create an account?"}),x.jsx("div",{className:"collapse-content text-sm",children:'Click the "Sign Up" button in the top right corner and follow the registration process.'})]})]})]}):null]})},U9=()=>{const t=Ze(e=>e.domain);return x.jsxs("div",{className:"card mt-8 mb-20 rounded-box bg-base-100 shadow-md",children:[x.jsx("div",{className:"mx-auto mt-10",children:x.jsx(F1,{className:"size-32"})}),x.jsx("div",{className:"mx-auto mt-8 mb-6 font-bold text-3xl",children:"All set!"}),x.jsx("a",{href:`https://${t}/`,target:"_blank",className:"example link mx-auto w-fit font-semibold text-xl",children:`https://${t}/`}),x.jsxs("ul",{className:"menu lg:menu-horizontal mx-auto mt-6 mb-10 gap-2 rounded-box bg-base-200",children:[x.jsx("li",{children:x.jsxs(lp,{to:`https://${t}/`,target:"_blank",className:"btn btn-soft",children:[x.jsx(mj,{className:"size-5"}),"Visit your website"]})}),x.jsx("li",{children:x.jsxs(lp,{to:"/app/edit/",className:"btn btn-soft",children:[x.jsx($k,{className:"size-5"}),"Start adding content"]})}),x.jsx("li",{children:x.jsxs(lp,{to:"/app/files/",className:"btn btn-soft",children:[x.jsx(zk,{className:"size-5"}),"Upload images & files"]})})]})]})},x0=({list:t})=>Object.entries(t).map(([e,n])=>x.jsxs("li",{className:n?void 0:"opacity-50",children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`me-2 inline-block size-4 ${n?"text-success":"text-base-content/50"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),x.jsx("span",{className:n?void 0:"line-through",children:e})]},e)),B9=()=>x.jsxs("div",{className:"card-body w-2/5 p-0",children:[x.jsx("h1",{className:"card-title",children:"Choosing Your Website Address"}),x.jsxs("p",{children:["Your domain name is your business's address on the internet. It's how customers find you. A professional domain name builds trust and helps your brand stand out. Your domain name should be easy to remember and type. The most popular choice is ",x.jsx("code",{children:".com"}),", which is widely recognized and trusted. However, many great ",x.jsx("code",{children:".com"})," ","names are already taken. Most domains are rented annually for a small fee. Some unique names may be sold at a higher price or through auctions."]}),x.jsx("p",{children:"Setting up your domain is the final step before we can publish your website. The process of connecting your domain to our platform can take up to 48 hours. By choosing your domain now, you can avoid delays and ensure your website is live and ready for customers as soon as your content is finalized. You have two options to get your website online:"}),x.jsxs("ul",{className:"flex list-disc flex-col gap-2 pl-5",children:[x.jsxs("li",{children:[x.jsx("strong",{children:"OffGap Subdomain:"})," Get started immediately with a free address like"," ",x.jsx("code",{children:"yourbusiness.offgap.com"}),". This is a quick solution for those who want to launch their site right away without any extra cost."]}),x.jsxs("li",{children:[x.jsx("strong",{children:"Your Own Domain:"})," If you already own a domain name, you can use it with your OffGap site. We will provide you with the necessary technical details (NS records) to point your domain to our platform."]})]}),x.jsx("p",{children:"For those using their own domain, you'll need to update your NS (Name Server) records with your domain registrar. Think of NS records as the GPS coordinates that tell the internet where to find your website. We will give you these specific coordinates, which you will input into your registrar's control panel. This simple step is crucial for connecting your domain to our servers so your site can be published."})]}),H9=({handleRadio:t,type:e,sub:n,own:r})=>x.jsx("div",{className:"hero",children:x.jsxs("div",{className:"hero-content z-20 mt-8 mb-20 w-full flex-row gap-8 p-0",children:[x.jsx("form",{name:"domain",className:"shine w-3/5",onChange:t,children:x.jsxs("ul",{className:"list rounded-box bg-base-100 shadow-md",children:[x.jsx("li",{className:"p-5 text-xs tracking-wide opacity-60",children:"What address will your website have?"}),x.jsxs("li",{className:"list-row",children:[x.jsx("div",{children:x.jsx("input",{type:"radio",name:"domainType",value:"subdomain",defaultChecked:e==="subdomain",className:"radio mt-3"})}),x.jsxs("div",{children:[x.jsx("h2",{className:"card-title",children:"OffGap Subdomain"}),x.jsx("div",{className:"font-semibold text-xs opacity-60",children:"yourname.offgap.com"}),x.jsx("ul",{className:"mt-4 flex flex-col gap-2 text-xs",children:x.jsx(x0,{list:{"No DNS configuration needed":!0,"No recurring domain name costs":!0,"Your favorite name is likely available":!0,"Ability to create custom email addresses":!1,"Full control over your domain":!1}})})]}),x.jsxs("div",{className:"flex-col justify-items-end",children:[x.jsx("div",{className:"badge badge-neutral mt-1 block",children:"Free"}),x.jsx("div",{className:"badge badge-soft mt-1 block",children:"No credit card required"})]}),x.jsx("div",{className:"-mt-4 popup absolute left-full z-10 ml-6 w-96",children:x.jsx("div",{className:"shine",children:x.jsxs("div",{className:"card rounded-box bg-base-100 p-4 shadow-md",children:[x.jsx("div",{className:"arrow-left -ml-4"}),x.jsx("h2",{className:"card-title",children:"Register OffGap Subdomain"}),n]})})})]}),x.jsxs("li",{className:"list-row",children:[x.jsx("div",{children:x.jsx("input",{type:"radio",name:"domainType",value:"owndomain",defaultChecked:e==="owndomain",className:"radio mt-3"})}),x.jsxs("div",{children:[x.jsx("h2",{className:"card-title",children:"Bring your own domain"}),x.jsxs("div",{className:"font-semibold text-xs opacity-60",children:["yourname.com ",x.jsx("span",{className:"font-extralight",children:"or"})," blog.yourname.com"]}),x.jsx("ul",{className:"mt-4 flex flex-col gap-2 text-xs",children:x.jsx(x0,{list:{"Full control over your domain":!0,"Reflects your brand and professionalism":!0,"Ability to create custom email addresses":!0,"Your custom domain is a long-term asset":!0,"No DNS configuration needed":!1,"No recurring domain name costs":!1}})})]}),x.jsxs("div",{className:"flex-col justify-items-end",children:[x.jsx("div",{className:"badge badge-neutral mt-1 block",children:"Free"}),x.jsx("div",{className:"badge badge-soft mt-1 block",children:"No credit card required"})]}),x.jsx("div",{className:"-mt-4 popup absolute left-full z-10 ml-6 w-96",children:x.jsx("div",{className:"shine",children:x.jsxs("div",{className:"card rounded-box bg-base-100 p-4 shadow-md",children:[x.jsx("div",{className:"arrow-left -ml-4"}),x.jsx("h2",{className:"card-title",children:"Connect OffGap with Your Own Domain"}),r]})})})]}),x.jsxs("li",{className:"disabled list-row",children:[x.jsx("div",{children:x.jsx("input",{type:"radio",name:"domainType",value:"buydomain",className:"radio mt-3",disabled:!0})}),x.jsxs("div",{children:[x.jsx("h2",{className:"card-title",children:"Buy a new domain"}),x.jsxs("div",{className:"font-semibold text-xs opacity-60",children:["yourname.com ",x.jsx("span",{className:"font-extralight",children:"or"})," blog.yourname.com"]}),x.jsx("ul",{className:"mt-4 flex flex-col gap-2 text-xs",children:x.jsx(x0,{list:{"Full control over your domain":!0,"Reflects your brand and professionalism":!0,"Ability to create custom email addresses":!0,"Your custom domain is a long-term asset":!0,"No DNS configuration needed":!0,"No recurring domain name costs":!1}})})]}),x.jsx("div",{className:"flex-col justify-items-end",children:x.jsxs("div",{className:"badge badge-neutral mt-2",children:[x.jsx(hj,{className:"size-[1em]"})," Coming soon"]})})]})]})}),x.jsx(B9,{})]})}),V9=async t=>{const{setDomain:e,setPid:n,setToken:r,setStatus:i}=Ze.getState(),o=Lk();if(o)try{const l=await o.getIdToken(),c=await fetch(`${IA}/domain/${t}`,{method:"POST",headers:new Headers({Authorization:`Bearer ${l}`})});if(!c.ok)throw new Error("Can't save user's domain name");if(c.status===w1.CREATED){const{domain:f,pid:h,token:p}=await c.json();if(typeof f=="string"&&f.length&&typeof h=="string"&&h.length===gr.LENGTH)return e(f),n(h),p?.length&&r(p),i(p?bt.DOMAIN_POLL:bt.NS_POLL),!0;throw new Error("Domain update didn't return domain and/or pid")}}catch(l){console.error(l)}return!1},$9=async t=>{const e=Lk();if(e&&typeof t=="string")try{const n=await e.getIdToken();return(await fetch(`${IA}/domain/${t}`,{method:"GET",headers:new Headers({Authorization:`Bearer ${n}`})})).status===w1.ACCEPTED}catch(n){console.error(n)}return!1};function Um(t,e=Fr.DEBOUNCE,n){const r=k.useRef(null),i=k.useRef(!0),o=k.useCallback(()=>{r.current&&(clearTimeout(r.current),r.current=null),i.current=!0},[]),l=k.useCallback(()=>{r.current&&(clearTimeout(r.current),r.current=null,t(),i.current=!0)},[t]),c=k.useCallback((...f)=>{i.current&&n&&(n(),i.current=!1),r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{t(...f),r.current=null,i.current=!0},e)},[t,e,n]);return c.cancel=o,c.flush=l,c}function F9(){const t=Ze(j=>j.domain),e=Dm(),n=k.useCallback(()=>e({},{action:"/app/domain/"}).catch(j=>console.error(j)),[e]),[r,i]=k.useState(t?t.endsWith(hr.TLD)?"subdomain":"domain":""),o=j=>{if(j.target instanceof HTMLInputElement&&j.target.getAttribute("type")==="radio"){i(j.target.value);const _=j.target.parentElement;if(_ instanceof HTMLDivElement&&_.parentElement instanceof HTMLLIElement){const O=_.parentElement.querySelector('input[type="text"]');if(O instanceof HTMLInputElement){const I=j.target.form;I instanceof HTMLFormElement&&I.querySelectorAll('input[type="text"]').forEach(R=>{R.removeAttribute("required")}),O.setAttribute("required",""),setTimeout(()=>O.focus(),Fr.FOCUS)}}}},[l,c]=k.useState(t?.endsWith(hr.TLD)?t.slice(0,-hr.TLD.length):""),[f,h]=k.useState(!1),[p,y]=k.useState(t===`${l}${hr.TLD}`||null),[v,S]=k.useState(t&&!t.endsWith(hr.TLD)?t:""),[w,T]=k.useState(!1),[A,N]=k.useState(t===v||null),L=k.useCallback(j=>{const _=r==="subdomain";(_?Eo.SUB.test(j):Eo.DOM.test(j))&&$9(_?`${j}${hr.TLD}`:j).then(O=>_?y(O):N(O)).catch(O=>console.error(O))},[r]),U=Um(L,Fr.DEBOUNCE,()=>r==="subdomain"?y(null):N(null)),K=j=>{const _=j.target.value.toLowerCase(),O=r==="subdomain"?c:S,I=r==="subdomain"?h:T,R=r==="subdomain"?y:N,B=r==="subdomain"?Eo.SUB:Eo.DOM;O(_),B.test(_)?(I(!0),U(_)):(U.cancel(),I(!1),R(null))},H=j=>{if(j.preventDefault(),j.target instanceof HTMLButtonElement){const _=j.target.parentElement;_?.setAttribute("disabled","");const O=r==="subdomain";(O?Eo.SUB.test(l)&&p:Eo.DOM.test(v)&&A)&&V9(O?`${l}${hr.TLD}`:v).then(I=>{I?e({a:!0}).catch(R=>console.error(R)):O?y(!1):N(!1)}).catch(I=>console.error(I)).finally(()=>{_?.removeAttribute("disabled")})}};return x.jsx(H9,{handleRadio:o,type:r,sub:x.jsxs("fieldset",{className:"fieldset will-spin flex flex-col",children:[x.jsx("legend",{className:"fieldset-legend",children:"Select a memorable name for your website:"}),x.jsxs("label",{className:"input validator w-full",children:[x.jsx("input",{type:"text",name:"subdomain",className:"grow",placeholder:"yourname",autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",required:!0,pattern:Eo.SUB_PAT,value:l,onChange:K}),hr.TLD]}),"Name must contain at least 5 characters, using lowercase letters, digits, and dashes. It cannot start with a dash.",x.jsx("legend",{className:"fieldset-legend",children:"Your new website will be published at:"}),x.jsx("strong",{className:"input example w-full",children:p?`https://${l}${hr.TLD}/`:p===!1?x.jsx("span",{className:"w-full text-center font-medium text-error text-xs",children:"This subdomain is not avaiable"}):f?x.jsx("span",{className:"progress"}):l.length?x.jsx("span",{className:"w-full text-center font-medium text-error text-xs",children:"This subdomain is not correct"}):""}),"You can change your website address later, but changes are limited to once every 24 hours.",x.jsxs("div",{className:t===`${l}${hr.TLD}`?"mt-4 flex flex-row gap-2":"mt-4",children:[x.jsx("button",{type:"submit",className:"btn btn-neutral grow",disabled:!p||t===`${l}${hr.TLD}`,onClick:H,children:t===`${l}${hr.TLD}`?"It's Already Yours!":"Register"}),t===`${l}${hr.TLD}`?x.jsxs("button",{type:"button",className:"btn",onClick:n,children:["Next",x.jsx(Lp,{})]}):null]})]}),own:x.jsxs("fieldset",{className:"fieldset flex flex-col",children:[x.jsx("legend",{className:"fieldset-legend",children:"Enter the domain name you want to connect:"}),x.jsxs("label",{className:"input validator w-full",children:["https://",x.jsx("input",{type:"text",name:"owndomain",className:"grow",placeholder:"yourname.com",autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",required:!0,pattern:Eo.DOM_PAT,value:v,onChange:K})]}),x.jsx("legend",{className:"fieldset-legend",children:"Your new website will be published at:"}),x.jsx("strong",{className:"input example w-full",children:A?`https://${v}/`:p===!1?x.jsx("span",{className:"w-full text-center font-medium text-error text-xs",children:"This domain is not avaiable"}):w?x.jsx("span",{className:"progress"}):v.length?x.jsx("span",{className:"w-full text-center font-medium text-error text-xs",children:"This domain is not correct"}):""}),"You can change your website address later, but changes are limited to once every 24 hours.",x.jsxs("div",{className:t===v?"mt-4 flex flex-row gap-2":"mt-4",children:[x.jsx("button",{className:"btn btn-neutral grow",disabled:!A||t===v,children:t===v?"It's Already Yours!":"Register"}),t===v?x.jsxs("button",{type:"button",className:"btn",onClick:n,children:["Next",x.jsx(Lp,{})]}):null]})]})})}function q9(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$2(Object(n),!0).forEach(function(r){q9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W9(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function G9(t,e){if(t==null)return{};var n=W9(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function K9(t,e){return Y9(t)||X9(t,e)||J9(t,e)||Q9()}function Y9(t){if(Array.isArray(t))return t}function X9(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var l=t[Symbol.iterator](),c;!(r=(c=l.next()).done)&&(n.push(c.value),!(e&&n.length===e));r=!0);}catch(f){i=!0,o=f}finally{try{!r&&l.return!=null&&l.return()}finally{if(i)throw o}}return n}}function J9(t,e){if(t){if(typeof t=="string")return q2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q2(t,e)}}function q2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Q9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z9(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W2(Object(n),!0).forEach(function(r){Z9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ez(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return e.reduceRight(function(i,o){return o(i)},r)}}function Zu(t){return function e(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=t.length?t.apply(this,i):function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];return e.apply(n,[].concat(i,c))}}}function Pp(t){return{}.toString.call(t).includes("Object")}function tz(t){return!Object.keys(t).length}function Nf(t){return typeof t=="function"}function nz(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function rz(t,e){return Pp(e)||Wo("changeType"),Object.keys(e).some(function(n){return!nz(t,n)})&&Wo("changeField"),e}function iz(t){Nf(t)||Wo("selectorType")}function sz(t){Nf(t)||Pp(t)||Wo("handlerType"),Pp(t)&&Object.values(t).some(function(e){return!Nf(e)})&&Wo("handlersType")}function oz(t){t||Wo("initialIsRequired"),Pp(t)||Wo("initialType"),tz(t)&&Wo("initialContent")}function az(t,e){throw new Error(t[e]||t.default)}var lz={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Wo=Zu(az)(lz),Ph={changes:rz,selector:iz,handler:sz,initial:oz};function cz(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ph.initial(t),Ph.handler(e);var n={current:t},r=Zu(dz)(n,e),i=Zu(fz)(n),o=Zu(Ph.changes)(t),l=Zu(uz)(n);function c(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(p){return p};return Ph.selector(h),h(n.current)}function f(h){ez(r,i,o,l)(h)}return[c,f]}function uz(t,e){return Nf(e)?e(t.current):e}function fz(t,e){return t.current=G2(G2({},t.current),e),e}function dz(t,e,n){return Nf(e)?e(t.current):Object.keys(n).forEach(function(r){var i;return(i=e[r])===null||i===void 0?void 0:i.call(e,t.current[r])}),n}var hz={create:cz},pz={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function mz(t){return function e(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=t.length?t.apply(this,i):function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];return e.apply(n,[].concat(i,c))}}}function gz(t){return{}.toString.call(t).includes("Object")}function yz(t){return t||K2("configIsRequired"),gz(t)||K2("configType"),t.urls?(vz(),{paths:{vs:t.urls.monacoBase}}):t}function vz(){console.warn(qk.deprecation)}function bz(t,e){throw new Error(t[e]||t.default)}var qk={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},K2=mz(bz)(qk),Sz={config:yz},wz=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduceRight(function(o,l){return l(o)},i)}};function Wk(t,e){return Object.keys(e).forEach(function(n){e[n]instanceof Object&&t[n]&&Object.assign(e[n],Wk(t[n],e[n]))}),F2(F2({},t),e)}var Ez={type:"cancelation",msg:"operation is manually canceled"};function T0(t){var e=!1,n=new Promise(function(r,i){t.then(function(o){return e?i(Ez):r(o)}),t.catch(i)});return n.cancel=function(){return e=!0},n}var xz=hz.create({config:pz,isInitialized:!1,resolve:null,reject:null,monaco:null}),Gk=K9(xz,2),nd=Gk[0],Bm=Gk[1];function Tz(t){var e=Sz.config(t),n=e.monaco,r=G9(e,["monaco"]);Bm(function(i){return{config:Wk(i.config,r),monaco:n}})}function Cz(){var t=nd(function(e){var n=e.monaco,r=e.isInitialized,i=e.resolve;return{monaco:n,isInitialized:r,resolve:i}});if(!t.isInitialized){if(Bm({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),T0(C0);if(window.monaco&&window.monaco.editor)return Kk(window.monaco),t.resolve(window.monaco),T0(C0);wz(Az,Mz)(Oz)}return T0(C0)}function Az(t){return document.body.appendChild(t)}function kz(t){var e=document.createElement("script");return t&&(e.src=t),e}function Mz(t){var e=nd(function(r){var i=r.config,o=r.reject;return{config:i,reject:o}}),n=kz("".concat(e.config.paths.vs,"/loader.js"));return n.onload=function(){return t()},n.onerror=e.reject,n}function Oz(){var t=nd(function(n){var r=n.config,i=n.resolve,o=n.reject;return{config:r,resolve:i,reject:o}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(n){Kk(n),t.resolve(n)},function(n){t.reject(n)})}function Kk(t){nd().monaco||Bm({monaco:t})}function Nz(){return nd(function(t){var e=t.monaco;return e})}var C0=new Promise(function(t,e){return Bm({resolve:t,reject:e})}),Yk={config:Tz,init:Cz,__getMonacoInstance:Nz},_z={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},A0=_z,Rz={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Dz=Rz;function Iz({children:t}){return _t.createElement("div",{style:Dz.container},t)}var Lz=Iz,Pz=Lz;function jz({width:t,height:e,isEditorReady:n,loading:r,_ref:i,className:o,wrapperProps:l}){return _t.createElement("section",{style:{...A0.wrapper,width:t,height:e},...l},!n&&_t.createElement(Pz,null,r),_t.createElement("div",{ref:i,style:{...A0.fullWidth,...!n&&A0.hide},className:o}))}var zz=jz,Xk=k.memo(zz);function Uz(t){k.useEffect(t,[])}var Jk=Uz;function Bz(t,e,n=!0){let r=k.useRef(!0);k.useEffect(r.current||!n?()=>{r.current=!1}:t,e)}var mr=Bz;function uf(){}function gc(t,e,n,r){return Hz(t,r)||Vz(t,e,n,r)}function Hz(t,e){return t.editor.getModel(Qk(t,e))}function Vz(t,e,n,r){return t.editor.createModel(e,n,r?Qk(t,r):void 0)}function Qk(t,e){return t.Uri.parse(e)}function $z({original:t,modified:e,language:n,originalLanguage:r,modifiedLanguage:i,originalModelPath:o,modifiedModelPath:l,keepCurrentOriginalModel:c=!1,keepCurrentModifiedModel:f=!1,theme:h="light",loading:p="Loading...",options:y={},height:v="100%",width:S="100%",className:w,wrapperProps:T={},beforeMount:A=uf,onMount:N=uf}){let[L,U]=k.useState(!1),[K,H]=k.useState(!0),j=k.useRef(null),_=k.useRef(null),O=k.useRef(null),I=k.useRef(N),R=k.useRef(A),B=k.useRef(!1);Jk(()=>{let ge=Yk.init();return ge.then(G=>(_.current=G)&&H(!1)).catch(G=>G?.type!=="cancelation"&&console.error("Monaco initialization: error:",G)),()=>j.current?ve():ge.cancel()}),mr(()=>{if(j.current&&_.current){let ge=j.current.getOriginalEditor(),G=gc(_.current,t||"",r||n||"text",o||"");G!==ge.getModel()&&ge.setModel(G)}},[o],L),mr(()=>{if(j.current&&_.current){let ge=j.current.getModifiedEditor(),G=gc(_.current,e||"",i||n||"text",l||"");G!==ge.getModel()&&ge.setModel(G)}},[l],L),mr(()=>{let ge=j.current.getModifiedEditor();ge.getOption(_.current.editor.EditorOption.readOnly)?ge.setValue(e||""):e!==ge.getValue()&&(ge.executeEdits("",[{range:ge.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),ge.pushUndoStop())},[e],L),mr(()=>{j.current?.getModel()?.original.setValue(t||"")},[t],L),mr(()=>{let{original:ge,modified:G}=j.current.getModel();_.current.editor.setModelLanguage(ge,r||n||"text"),_.current.editor.setModelLanguage(G,i||n||"text")},[n,r,i],L),mr(()=>{_.current?.editor.setTheme(h)},[h],L),mr(()=>{j.current?.updateOptions(y)},[y],L);let q=k.useCallback(()=>{if(!_.current)return;R.current(_.current);let ge=gc(_.current,t||"",r||n||"text",o||""),G=gc(_.current,e||"",i||n||"text",l||"");j.current?.setModel({original:ge,modified:G})},[n,e,i,t,r,o,l]),z=k.useCallback(()=>{!B.current&&O.current&&(j.current=_.current.editor.createDiffEditor(O.current,{automaticLayout:!0,...y}),q(),_.current?.editor.setTheme(h),U(!0),B.current=!0)},[y,h,q]);k.useEffect(()=>{L&&I.current(j.current,_.current)},[L]),k.useEffect(()=>{!K&&!L&&z()},[K,L,z]);function ve(){let ge=j.current?.getModel();c||ge?.original?.dispose(),f||ge?.modified?.dispose(),j.current?.dispose()}return _t.createElement(Xk,{width:S,height:v,isEditorReady:L,loading:p,_ref:O,className:w,wrapperProps:T})}var Fz=$z;k.memo(Fz);function qz(t){let e=k.useRef();return k.useEffect(()=>{e.current=t},[t]),e.current}var Wz=qz,jh=new Map;function Gz({defaultValue:t,defaultLanguage:e,defaultPath:n,value:r,language:i,path:o,theme:l="light",line:c,loading:f="Loading...",options:h={},overrideServices:p={},saveViewState:y=!0,keepCurrentModel:v=!1,width:S="100%",height:w="100%",className:T,wrapperProps:A={},beforeMount:N=uf,onMount:L=uf,onChange:U,onValidate:K=uf}){let[H,j]=k.useState(!1),[_,O]=k.useState(!0),I=k.useRef(null),R=k.useRef(null),B=k.useRef(null),q=k.useRef(L),z=k.useRef(N),ve=k.useRef(),ge=k.useRef(r),G=Wz(o),oe=k.useRef(!1),ce=k.useRef(!1);Jk(()=>{let ie=Yk.init();return ie.then(he=>(I.current=he)&&O(!1)).catch(he=>he?.type!=="cancelation"&&console.error("Monaco initialization: error:",he)),()=>R.current?$():ie.cancel()}),mr(()=>{let ie=gc(I.current,t||r||"",e||i||"",o||n||"");ie!==R.current?.getModel()&&(y&&jh.set(G,R.current?.saveViewState()),R.current?.setModel(ie),y&&R.current?.restoreViewState(jh.get(o)))},[o],H),mr(()=>{R.current?.updateOptions(h)},[h],H),mr(()=>{!R.current||r===void 0||(R.current.getOption(I.current.editor.EditorOption.readOnly)?R.current.setValue(r):r!==R.current.getValue()&&(ce.current=!0,R.current.executeEdits("",[{range:R.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),R.current.pushUndoStop(),ce.current=!1))},[r],H),mr(()=>{let ie=R.current?.getModel();ie&&i&&I.current?.editor.setModelLanguage(ie,i)},[i],H),mr(()=>{c!==void 0&&R.current?.revealLine(c)},[c],H),mr(()=>{I.current?.editor.setTheme(l)},[l],H);let Te=k.useCallback(()=>{if(!(!B.current||!I.current)&&!oe.current){z.current(I.current);let ie=o||n,he=gc(I.current,r||t||"",e||i||"",ie||"");R.current=I.current?.editor.create(B.current,{model:he,automaticLayout:!0,...h},p),y&&R.current.restoreViewState(jh.get(ie)),I.current.editor.setTheme(l),c!==void 0&&R.current.revealLine(c),j(!0),oe.current=!0}},[t,e,n,r,i,o,h,p,y,l,c]);k.useEffect(()=>{H&&q.current(R.current,I.current)},[H]),k.useEffect(()=>{!_&&!H&&Te()},[_,H,Te]),ge.current=r,k.useEffect(()=>{H&&U&&(ve.current?.dispose(),ve.current=R.current?.onDidChangeModelContent(ie=>{ce.current||U(R.current.getValue(),ie)}))},[H,U]),k.useEffect(()=>{if(H){let ie=I.current.editor.onDidChangeMarkers(he=>{let fe=R.current.getModel()?.uri;if(fe&&he.find(we=>we.path===fe.path)){let we=I.current.editor.getModelMarkers({resource:fe});K?.(we)}});return()=>{ie?.dispose()}}return()=>{}},[H,K]);function $(){ve.current?.dispose(),v?y&&jh.set(o,R.current.saveViewState()):R.current.getModel()?.dispose(),R.current.dispose()}return _t.createElement(Xk,{width:S,height:w,isEditorReady:H,loading:f,_ref:B,className:T,wrapperProps:A})}var Kz=Gz,Mv=k.memo(Kz),Yz=Mv;const Zk=({codeRef:t,bytes:e,isSync:n,isDark:r,isWrap:i,showMap:o,setIsDark:l,setIsWrap:c,setShowMap:f,handleSync:h})=>{const p=()=>t?.current?.trigger("",xo.FORMAT,""),y=()=>{const j=t?.current;if(!j)return;const _=j.getValue(),O=j.getModel();if(typeof _=="string"&&O){const I=_.replace(/[\r\n]+/g," ").replace(/\s{2,}/g," ").replace(/\s*([;{}:,])\s*/g,"$1");j.pushUndoStop(),j.executeEdits("shrink-action",[{range:O.getFullModelRange(),text:I,forceMoveMarkers:!0}]),j.pushUndoStop()}},v=()=>t?.current?.trigger("",xo.UNDO,""),S=()=>t?.current?.trigger("",xo.REDO,""),w=()=>t?.current?.trigger("",xo.FIND,""),T=()=>t?.current?.trigger("",xo.REPLACE,""),A=()=>t?.current?.trigger("",xo.INDENT_R,""),N=()=>t?.current?.trigger("",xo.INDENT_L,""),L=()=>t?.current?.trigger("",xo.COMMENT,""),U=()=>c(j=>!j),K=()=>f(j=>!j),H=()=>l(j=>!j);return x.jsxs("div",{className:"control-group flex items-center justify-between bg-base-200",children:[x.jsxs("div",{className:"flex-grow",children:[x.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:h,children:n?x.jsx(yj,{}):x.jsx(Bk,{className:"animate-spin"})}),e?x.jsx("button",{className:"btn btn-ghost btn-sm pointer-events-none",children:_P(e)}):null]}),x.jsxs("div",{className:"flex overflow-hidden",children:[x.jsxs("div",{className:"button-group",children:[x.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:v,children:x.jsx(Fk,{})}),x.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:S,children:x.jsx(Hk,{})})]}),x.jsx("div",{className:"group-separator"}),x.jsxs("div",{className:"button-group",children:[x.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:A,children:x.jsx(zj,{})}),x.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:N,children:x.jsx(Pj,{})}),x.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:L,children:x.jsx(Dj,{})})]}),x.jsx("div",{className:"group-separator"}),x.jsxs("div",{className:"button-group",children:[x.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:w,children:x.jsx(Vk,{})}),x.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:T,children:x.jsx(a9,{})})]}),x.jsx("div",{className:"group-separator"}),x.jsxs("div",{className:"button-group",children:[x.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:p,children:x.jsx(h9,{})}),x.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:y,children:x.jsx(_j,{})})]})]}),x.jsx("div",{className:"flex flex-grow justify-end",children:x.jsxs("div",{className:"button-group",children:[x.jsx("button",{className:`btn btn-square btn-ghost btn-sm ${i?"btn-soft":""}`,onClick:U,children:x.jsx(P9,{})}),x.jsx("button",{className:`btn btn-square btn-ghost btn-sm ${o?"btn-soft":""}`,onClick:K,children:x.jsx(e9,{})}),x.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:H,children:r?x.jsx(k9,{}):x.jsx(Kj,{})})]})})]})},eM=({ref:t,dismissModal:e})=>{const n=()=>t?.current instanceof HTMLDialogElement?t.current.close():void 0;return x.jsxs("dialog",{ref:t,className:"modal",children:[x.jsx("button",{type:"button",className:"btn btn-sm btn-circle btn-ghost absolute top-2 right-2",onClick:n,children:"✕"}),x.jsxs("div",{className:"modal-box",children:[x.jsx("h3",{className:"font-bold text-lg",children:"Saving your changes"}),x.jsx("div",{className:"text-center",children:x.jsx("span",{className:"loading loading-spinner loading-md my-6"})}),x.jsxs("div",{className:"mt-4 flex justify-evenly",children:[x.jsx("button",{type:"submit",className:"btn btn-neutral",children:"Wait to save changes"}),x.jsx("button",{type:"button",className:"btn btn-error btn-outline",onClick:e,children:"Dismiss changes and exit"})]})]}),x.jsx("form",{method:"dialog",className:"modal-backdrop",children:x.jsx("button",{children:"close"})})]})};function tM({isBlocked:t,ref:e,stop:n}){const[r,i]=k.useState(!1),o=k.useCallback(()=>e.current?.showModal(),[e.current]),l=k.useCallback(()=>e.current?.close(),[e.current]),c=TA(k.useCallback(({currentLocation:h,nextLocation:p})=>t?h.pathname!==p.pathname:!1,[t]));return k.useEffect(()=>{c.state==="blocked"&&(i(!0),o(),t||(l(),c.proceed(),i(!1)))},[c.state,t,c,o,l]),{modalVisible:r,dismissModal:()=>{n(),l(),c.state==="blocked"&&c.proceed(),i(!1)}}}const Y2=()=>{const t=Ze(_=>_.config),e=Ze(_=>_.setConfigKey),n=k.useRef(null),[r,i]=k.useState(0),o=_=>(n.current=_,i(mc(_.getValue()))),l=Dx("/app/style/"),c=Dx("/app/script/"),[f,h]=k.useMemo(()=>l!==null?["css","css"]:["js","typescript"],[l]),[p,y]=k.useState(!0),[v,S]=k.useState(!0),[w,T]=k.useState(!1),[A,N]=k.useState(!1),L=k.useCallback(()=>{const _=n.current?.getValue();typeof _=="string"&&(e({key:f,value:_}),y(!0),i(mc(_)))},[f,e]),U=Um(L,Fr.DEBOUNCE,()=>y(!1)),K=k.useCallback(()=>U(),[U]),H=k.useRef(null),{dismissModal:j}=tM({isBlocked:!p,ref:H,stop:U.cancel});if(l===null&&c===null)throw new Error("URL path is wrong");return x.jsxs("div",{className:"shine",children:[x.jsxs("div",{className:"editor shadow",children:[x.jsx(Zk,{codeRef:n,bytes:r,handleSync:L,isSync:p,isDark:v,setIsDark:S,isWrap:w,setIsWrap:T,showMap:A,setShowMap:N}),x.jsx(Yz,{height:"70vh",theme:v?"vs-dark":"light",language:h,loading:x.jsx("span",{className:"loading loading-spinner loading-xl"}),value:t[f],onMount:o,onChange:K,options:{tabSize:2,minimap:{enabled:A},wordWrap:w?"on":"off",scrollBeyondLastLine:!1,wrappingIndent:"same"}})]}),x.jsx(eM,{ref:H,dismissModal:j})]})};function Sn(t){this.content=t}Sn.prototype={constructor:Sn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new Sn(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Sn(n)},addToStart:function(t,e){return new Sn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Sn(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new Sn(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Sn.from(t),t.size?new Sn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Sn.from(t),t.size?new Sn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Sn.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Sn.from=function(t){if(t instanceof Sn)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Sn(e)};function nM(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let l=0;i.text[l]==o.text[l];l++)n++;return n}if(i.content.size||o.content.size){let l=nM(i.content,o.content,n+1);if(l!=null)return l}n+=i.nodeSize}}function rM(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let l=t.child(--i),c=e.child(--o),f=l.nodeSize;if(l==c){n-=f,r-=f;continue}if(!l.sameMarkup(c))return{a:n,b:r};if(l.isText&&l.text!=c.text){let h=0,p=Math.min(l.text.length,c.text.length);for(;h<p&&l.text[l.text.length-h-1]==c.text[c.text.length-h-1];)h++,n--,r--;return{a:n,b:r}}if(l.content.size||c.content.size){let h=rM(l.content,c.content,n-1,r-1);if(h)return h}n-=f,r-=f}}class de{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let l=0,c=0;c<n;l++){let f=this.content[l],h=c+f.nodeSize;if(h>e&&r(f,i+c,o||null,l)!==!1&&f.content.size){let p=c+1;f.nodesBetween(Math.max(0,e-p),Math.min(f.content.size,n-p),r,i+p)}c=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",l=!0;return this.nodesBetween(e,n,(c,f)=>{let h=c.isText?c.text.slice(Math.max(e,f)-f,n-f):c.isLeaf?i?typeof i=="function"?i(c):i:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&h||c.isTextblock)&&r&&(l?l=!1:o+=r),o+=h},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new de(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,l=0;l<n;o++){let c=this.content[o],f=l+c.nodeSize;f>e&&((l<e||f>n)&&(c.isText?c=c.cut(Math.max(0,e-l),Math.min(c.text.length,n-l)):c=c.cut(Math.max(0,e-l-1),Math.min(c.content.size,n-l-1))),r.push(c),i+=c.nodeSize),l=f}return new de(r,i)}cutByIndex(e,n){return e==n?de.empty:e==0&&n==this.content.length?this:new de(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new de(i,o)}addToStart(e){return new de([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new de(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return nM(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return rM(this,e,n,r)}findIndex(e){if(e==0)return zh(0,e);if(e==this.size)return zh(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),o=r+i.nodeSize;if(o>=e)return o==e?zh(n+1,o):zh(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return de.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new de(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return de.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new de(n||e,r)}static from(e){if(!e)return de.empty;if(e instanceof de)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new de([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}de.empty=new de([],0);const k0={index:0,offset:0};function zh(t,e){return k0.index=t,k0.offset=e,k0}function jp(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!jp(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!jp(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let kt=class Ov{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&jp(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Ov.none;if(e instanceof Ov)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};kt.none=[];class zp extends Error{}class be{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=sM(this.content,e+this.openStart,n);return r&&new be(r,this.openStart,this.openEnd)}removeBetween(e,n){return new be(iM(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return be.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new be(de.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new be(e,r,i)}}be.empty=new be(de.empty,0,0);function iM(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:l,offset:c}=t.findIndex(n);if(i==e||o.isText){if(c!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(iM(o.content,e-i-1,n-i-1)))}function sM(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),l=t.maybeChild(i);if(o==e||l.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let c=sM(l.content,e-o-1,n,l);return c&&t.replaceChild(i,l.copy(c))}function Xz(t,e,n){if(n.openStart>t.depth)throw new zp("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new zp("Inconsistent open depths");return oM(t,e,n,0)}function oM(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let l=oM(t,e,n,r+1);return o.copy(o.content.replaceChild(i,l))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let l=t.parent,c=l.content;return Za(l,c.cut(0,t.parentOffset).append(n.content).append(c.cut(e.parentOffset)))}else{let{start:l,end:c}=Jz(n,t);return Za(o,lM(t,l,c,e,r))}else return Za(o,Up(t,e,r))}function aM(t,e){if(!e.type.compatibleContent(t.type))throw new zp("Cannot join "+e.type.name+" onto "+t.type.name)}function Nv(t,e,n){let r=t.node(n);return aM(r,e.node(n)),r}function Qa(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function ff(t,e,n,r){let i=(e||t).node(n),o=0,l=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(Qa(t.nodeAfter,r),o++));for(let c=o;c<l;c++)Qa(i.child(c),r);e&&e.depth==n&&e.textOffset&&Qa(e.nodeBefore,r)}function Za(t,e){return t.type.checkContent(e),t.copy(e)}function lM(t,e,n,r,i){let o=t.depth>i&&Nv(t,e,i+1),l=r.depth>i&&Nv(n,r,i+1),c=[];return ff(null,t,i,c),o&&l&&e.index(i)==n.index(i)?(aM(o,l),Qa(Za(o,lM(t,e,n,r,i+1)),c)):(o&&Qa(Za(o,Up(t,e,i+1)),c),ff(e,n,i,c),l&&Qa(Za(l,Up(n,r,i+1)),c)),ff(r,null,i,c),new de(c)}function Up(t,e,n){let r=[];if(ff(null,t,n,r),t.depth>n){let i=Nv(t,e,n+1);Qa(Za(i,Up(t,e,n+1)),r)}return ff(e,null,n,r),new de(r)}function Jz(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(de.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class _f{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return kt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let c=r;r=i,i=c}let o=r.marks;for(var l=0;l<o.length;l++)o[l].type.spec.inclusive===!1&&(!i||!o[l].isInSet(i.marks))&&(o=o[l--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Bp(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let l=e;;){let{index:c,offset:f}=l.content.findIndex(o),h=o-f;if(r.push(l,c,i+f),!h||(l=l.child(c),l.isText))break;o=h-1,i+=f+1}return new _f(n,r,o)}static resolveCached(e,n){let r=X2.get(e);if(r)for(let o=0;o<r.elts.length;o++){let l=r.elts[o];if(l.pos==n)return l}else X2.set(e,r=new Qz);let i=r.elts[r.i]=_f.resolve(e,n);return r.i=(r.i+1)%Zz,i}}class Qz{constructor(){this.elts=[],this.i=0}}const Zz=12,X2=new WeakMap;class Bp{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const eU=Object.create(null);let Go=class _v{constructor(e,n,r,i=kt.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||de.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&jp(this.attrs,n||e.defaultAttrs||eU)&&kt.sameSet(this.marks,r||kt.none)}copy(e=null){return e==this.content?this:new _v(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new _v(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return be.empty;let i=this.resolve(e),o=this.resolve(n),l=r?0:i.sharedDepth(n),c=i.start(l),h=i.node(l).content.cut(i.pos-c,o.pos-c);return new be(h,i.depth-l,o.depth-l)}replace(e,n,r){return Xz(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return _f.resolveCached(this,e)}resolveNoCache(e){return _f.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),cM(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=de.empty,i=0,o=r.childCount){let l=this.contentMatchAt(e).matchFragment(r,i,o),c=l&&l.matchFragment(this.content,n);if(!c||!c.validEnd)return!1;for(let f=i;f<o;f++)if(!this.type.allowsMarks(r.child(f).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),l=o&&o.matchFragment(this.content,n);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=kt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!kt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=de.fromJSON(e,n.content),o=e.nodeType(n.type).create(n.attrs,i,r);return o.type.checkAttrs(o.attrs),o}};Go.prototype.text=void 0;class Hp extends Go{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):cM(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Hp(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Hp(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function cM(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class ll{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new tU(e,n);if(r.next==null)return ll.empty;let i=uM(r);r.next&&r.err("Unexpected trailing text");let o=lU(aU(i));return cU(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(l,c){let f=l.matchFragment(e,r);if(f&&(!n||f.validEnd))return de.from(c.map(h=>h.createAndFill()));for(let h=0;h<l.next.length;h++){let{type:p,next:y}=l.next[h];if(!(p.isText||p.hasRequiredAttrs())&&i.indexOf(y)==-1){i.push(y);let v=o(y,c.concat(p));if(v)return v}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let l=[];for(let c=i;c.type;c=c.via)l.push(c.type);return l.reverse()}for(let l=0;l<o.next.length;l++){let{type:c,next:f}=o.next[l];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in n)&&(!i.type||f.validEnd)&&(r.push({match:c.contentMatch,type:c,via:i}),n[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let l=0;l<r.next.length;l++)o+=(l?", ":"")+r.next[l].type.name+"->"+e.indexOf(r.next[l].next);return o}).join(`
`)}}ll.empty=new ll(!0);class tU{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function uM(t){let e=[];do e.push(nU(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function nU(t){let e=[];do e.push(rU(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function rU(t){let e=oU(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=iU(t,e);else break;return e}function J2(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function iU(t,e){let n=J2(t),r=n;return t.eat(",")&&(t.next!="}"?r=J2(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function sU(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let l=n[o];l.isInGroup(e)&&i.push(l)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function oU(t){if(t.eat("(")){let e=uM(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=sU(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function aU(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(l,c,f){let h={term:f,to:c};return e[l].push(h),h}function i(l,c){l.forEach(f=>f.to=c)}function o(l,c){if(l.type=="choice")return l.exprs.reduce((f,h)=>f.concat(o(h,c)),[]);if(l.type=="seq")for(let f=0;;f++){let h=o(l.exprs[f],c);if(f==l.exprs.length-1)return h;i(h,c=n())}else if(l.type=="star"){let f=n();return r(c,f),i(o(l.expr,f),f),[r(f)]}else if(l.type=="plus"){let f=n();return i(o(l.expr,c),f),i(o(l.expr,f),f),[r(f)]}else{if(l.type=="opt")return[r(c)].concat(o(l.expr,c));if(l.type=="range"){let f=c;for(let h=0;h<l.min;h++){let p=n();i(o(l.expr,f),p),f=p}if(l.max==-1)i(o(l.expr,f),f);else for(let h=l.min;h<l.max;h++){let p=n();r(f,p),i(o(l.expr,f),p),f=p}return[r(f)]}else{if(l.type=="name")return[r(c,void 0,l.value)];throw new Error("Unknown expr type")}}}}function fM(t,e){return e-t}function Q2(t,e){let n=[];return r(e),n.sort(fM);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let l=0;l<o.length;l++){let{term:c,to:f}=o[l];!c&&n.indexOf(f)==-1&&r(f)}}}function lU(t){let e=Object.create(null);return n(Q2(t,0));function n(r){let i=[];r.forEach(l=>{t[l].forEach(({term:c,to:f})=>{if(!c)return;let h;for(let p=0;p<i.length;p++)i[p][0]==c&&(h=i[p][1]);Q2(t,f).forEach(p=>{h||i.push([c,h=[]]),h.indexOf(p)==-1&&h.push(p)})})});let o=e[r.join(",")]=new ll(r.indexOf(t.length-1)>-1);for(let l=0;l<i.length;l++){let c=i[l][1].sort(fM);o.next.push({type:i[l][0],next:e[c.join(",")]||n(c)})}return o}}function cU(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,l=[];for(let c=0;c<i.next.length;c++){let{type:f,next:h}=i.next[c];l.push(f.name),o&&!(f.isText||f.hasRequiredAttrs())&&(o=!1),r.indexOf(h)==-1&&r.push(h)}o&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function dM(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function hM(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function pM(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let o=t[i];o.validate&&o.validate(e[i])}}function mM(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new fU(t,r,e[r]);return n}let Z2=class gM{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=mM(e,r.attrs),this.defaultAttrs=dM(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ll.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:hM(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Go(this,this.computeAttrs(e),de.from(n),kt.setFrom(r))}createChecked(e=null,n,r){return n=de.from(n),this.checkContent(n),new Go(this,this.computeAttrs(e),n,kt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=de.from(n),n.size){let l=this.contentMatch.fillBefore(n);if(!l)return null;n=l.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(de.empty,!0);return o?new Go(this,e,n.append(o),kt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){pM(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:kt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,l)=>r[o]=new gM(o,n,l));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function uU(t,e,n){let r=n.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${o}`)}}class fU{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?uU(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Hm{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=mM(e,i.attrs),this.excluded=null;let o=dM(this.attrs);this.instance=o?new kt(this,o):null}create(e=null){return!e&&this.instance?this.instance:new kt(this,hM(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,l)=>r[o]=new Hm(o,i++,n,l)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){pM(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class yM{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Sn.from(e.nodes),n.marks=Sn.from(e.marks||{}),this.nodes=Z2.compile(this.spec.nodes,this),this.marks=Hm.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],l=o.spec.content||"",c=o.spec.marks;if(o.contentMatch=r[l]||(r[l]=ll.parse(l,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=c=="_"?null:c?eT(this,c.split(" ")):c==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],l=o.spec.excludes;o.excluded=l==null?[o]:l==""?[]:eT(this,l.split(" "))}this.nodeFromJSON=i=>Go.fromJSON(this,i),this.markFromJSON=i=>kt.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Z2){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Hp(r,r.defaultAttrs,e,kt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function eT(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],l=o;if(o)n.push(o);else for(let c in t.marks){let f=t.marks[c];(i=="_"||f.spec.group&&f.spec.group.split(" ").indexOf(i)>-1)&&n.push(l=f)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function dU(t){return t.tag!=null}function hU(t){return t.style!=null}class Ko{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(dU(i))this.tags.push(i);else if(hU(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=e.nodes[i.node];return o.contentMatch.matchType(o)})}parse(e,n={}){let r=new nT(this,n,!1);return r.addAll(e,kt.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new nT(this,n,!0);return r.addAll(e,kt.none,n.from,n.to),be.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(gU(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let l=o.getAttrs(e);if(l===!1)continue;o.attrs=l||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let l=this.styles[o],c=l.style;if(!(c.indexOf(e)!=0||l.context&&!r.matchesContext(l.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=n))){if(l.getAttrs){let f=l.getAttrs(n);if(f===!1)continue;l.attrs=f||void 0}return l}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,l=0;for(;l<n.length;l++){let c=n[l];if((c.priority==null?50:c.priority)<o)break}n.splice(l,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(l=>{r(l=rT(l)),l.mark||l.ignore||l.clearMark||(l.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(l=>{r(l=rT(l)),l.node||l.ignore||l.mark||(l.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Ko(e,Ko.schemaRules(e)))}}const vM={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},pU={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},bM={ol:!0,ul:!0},Rf=1,Rv=2,df=4;function tT(t,e,n){return e!=null?(e?Rf:0)|(e==="full"?Rv:0):t&&t.whitespace=="pre"?Rf|Rv:n&~df}class Uh{constructor(e,n,r,i,o,l){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=l,this.content=[],this.activeMarks=kt.none,this.match=o||(l&df?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(de.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Rf)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=de.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(de.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!vM.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class nT{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,o,l=tT(null,n.preserveWhitespace,0)|(r?df:0);i?o=new Uh(i.type,i.attrs,kt.none,!0,n.topMatch||i.type.contentMatch,l):r?o=new Uh(null,null,kt.none,!0,null,l):o=new Uh(e.schema.topNodeType,null,kt.none,!0,null,l),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,o=i.options&Rv?"full":this.localPreserveWS||(i.options&Rf)>0;if(o==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(o)o!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let l=i.content[i.content.length-1],c=e.previousSibling;(!l||c&&c.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let l=e.nodeName.toLowerCase(),c;bM.hasOwnProperty(l)&&this.parser.normalizeLists&&mU(e);let f=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(c=this.parser.matchTag(e,this,r));e:if(f?f.ignore:pU.hasOwnProperty(l))this.findInside(e),this.ignoreFallback(e,n);else if(!f||f.skip||f.closeParent){f&&f.closeParent?this.open=Math.max(0,this.open-1):f&&f.skip.nodeType&&(e=f.skip);let h,p=this.needsBlock;if(vM.hasOwnProperty(l))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),h=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let y=f&&f.skip?n:this.readStyles(e,n);y&&this.addAll(e,y),h&&this.sync(o),this.needsBlock=p}else{let h=this.readStyles(e,n);h&&this.addElementByRule(e,f,h,f.consuming===!1?c:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],l=r.getPropertyValue(o);if(l)for(let c=void 0;;){let f=this.parser.matchStyle(o,l,this,c);if(!f)break;if(f.ignore)return null;if(f.clearMark?n=n.filter(h=>!f.clearMark(h)):n=n.concat(this.parser.schema.marks[f.mark].create(f.attrs)),f.consuming===!1)c=f;else break}}return n}addElementByRule(e,n,r,i){let o,l;if(n.node)if(l=this.parser.schema.nodes[n.node],l.isLeaf)this.insertNode(l.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let f=this.enter(l,n.attrs||null,r,n.preserveWhitespace);f&&(o=!0,r=f)}else{let f=this.parser.schema.marks[n.mark];r=r.concat(f.create(n.attrs))}let c=this.top;if(l&&l.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(f=>this.insertNode(f,r,!1));else{let f=e;typeof n.contentElement=="string"?f=e.querySelector(n.contentElement):typeof n.contentElement=="function"?f=n.contentElement(e):n.contentElement&&(f=n.contentElement),this.findAround(e,f,!0),this.addAll(f,r),this.findAround(e,f,!1)}o&&this.sync(c)&&this.open--}addAll(e,n,r,i){let o=r||0;for(let l=r?e.childNodes[r]:e.firstChild,c=i==null?null:e.childNodes[i];l!=c;l=l.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(l,n);this.findAtPoint(e,o)}findPlace(e,n,r){let i,o;for(let l=this.open,c=0;l>=0;l--){let f=this.nodes[l],h=f.findWrapping(e);if(h&&(!i||i.length>h.length+c)&&(i=h,o=f,!h.length))break;if(f.solid){if(r)break;c+=2}}if(!i)return null;this.sync(o);for(let l=0;l<i.length;l++)n=this.enterInner(i[l],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let l=kt.none;for(let c of i.concat(e.marks))(o.type?o.type.allowsMarkType(c.type):iT(c.type,e.type))&&(l=c.addToSet(l));return o.content.push(e.mark(l)),!0}return!1}enter(e,n,r,i){let o=this.findPlace(e.create(n),r,!1);return o&&(o=this.enterInner(e,n,r,!0,i)),o}enterInner(e,n,r,i=!1,o){this.closeExtra();let l=this.top;l.match=l.match&&l.match.matchType(e);let c=tT(e,o,l.options);l.options&df&&l.content.length==0&&(c|=df);let f=kt.none;return r=r.filter(h=>(l.type?l.type.allowsMarkType(h.type):iT(h.type,e))?(f=h.addToSet(f),!1):!0),this.nodes.push(new Uh(e,n,f,i,null,c)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Rf)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),l=(c,f)=>{for(;c>=0;c--){let h=n[c];if(h==""){if(c==n.length-1||c==0)continue;for(;f>=o;f--)if(l(c-1,f))return!0;return!1}else{let p=f>0||f==0&&i?this.nodes[f].type:r&&f>=o?r.node(f-o).type:null;if(!p||p.name!=h&&!p.isInGroup(h))return!1;f--}}return!0};return l(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function mU(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&bM.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function gU(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function rT(t){let e={};for(let n in t)e[n]=t[n];return e}function iT(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],l=c=>{o.push(c);for(let f=0;f<c.edgeCount;f++){let{type:h,next:p}=c.edge(f);if(h==e||o.indexOf(p)<0&&l(p))return!0}};if(l(i.contentMatch))return!0}}class gl{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=M0(n).createDocumentFragment());let i=r,o=[];return e.forEach(l=>{if(o.length||l.marks.length){let c=0,f=0;for(;c<o.length&&f<l.marks.length;){let h=l.marks[f];if(!this.marks[h.type.name]){f++;continue}if(!h.eq(o[c][0])||h.type.spec.spanning===!1)break;c++,f++}for(;c<o.length;)i=o.pop()[1];for(;f<l.marks.length;){let h=l.marks[f++],p=this.serializeMark(h,l.isInline,n);p&&(o.push([h,i]),i.appendChild(p.dom),i=p.contentDOM||p.dom)}}i.appendChild(this.serializeNodeInner(l,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=pp(M0(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&pp(M0(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return pp(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new gl(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=sT(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return sT(e.marks)}}function sT(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function M0(t){return t.document||window.document}const oT=new WeakMap;function yU(t){let e=oT.get(t);return e===void 0&&oT.set(t,e=vU(t)),e}function vU(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function pp(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=yU(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let l=i.indexOf(" ");l>0&&(n=i.slice(0,l),i=i.slice(l+1));let c,f=n?t.createElementNS(n,i):t.createElement(i),h=e[1],p=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){p=2;for(let y in h)if(h[y]!=null){let v=y.indexOf(" ");v>0?f.setAttributeNS(y.slice(0,v),y.slice(v+1),h[y]):y=="style"&&f.style?f.style.cssText=h[y]:f.setAttribute(y,h[y])}}for(let y=p;y<e.length;y++){let v=e[y];if(v===0){if(y<e.length-1||y>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:f,contentDOM:f}}else{let{dom:S,contentDOM:w}=pp(t,v,n,r);if(f.appendChild(S),w){if(c)throw new RangeError("Multiple content holes");c=w}}}return{dom:f,contentDOM:c}}const SM=65535,wM=Math.pow(2,16);function bU(t,e){return t+e*wM}function aT(t){return t&SM}function SU(t){return(t-(t&SM))/wM}const EM=1,xM=2,mp=4,TM=8;class Dv{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&TM)>0}get deletedBefore(){return(this.delInfo&(EM|mp))>0}get deletedAfter(){return(this.delInfo&(xM|mp))>0}get deletedAcross(){return(this.delInfo&mp)>0}}class yr{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&yr.empty)return yr.empty}recover(e){let n=0,r=aT(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+SU(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,l=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let f=this.ranges[c]-(this.inverted?i:0);if(f>e)break;let h=this.ranges[c+o],p=this.ranges[c+l],y=f+h;if(e<=y){let v=h?e==f?-1:e==y?1:n:n,S=f+i+(v<0?0:p);if(r)return S;let w=e==(n<0?f:y)?null:bU(c/3,e-f),T=e==f?xM:e==y?EM:mp;return(n<0?e!=f:e!=y)&&(T|=TM),new Dv(S,T,w)}i+=p-h}return r?e+i:new Dv(e+i,0,null)}touches(e,n){let r=0,i=aT(n),o=this.inverted?2:1,l=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let f=this.ranges[c]-(this.inverted?r:0);if(f>e)break;let h=this.ranges[c+o],p=f+h;if(e<=p&&c==i*3)return!0;r+=this.ranges[c+l]-h}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let l=this.ranges[i],c=l-(this.inverted?o:0),f=l+(this.inverted?0:o),h=this.ranges[i+n],p=this.ranges[i+r];e(c,c+h,f,f+p),o+=p-h}}invert(){return new yr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?yr.empty:new yr(e<0?[0,-e,0]:[0,0,e])}}yr.empty=new yr([]);class Df{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Df(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Df;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let l=this._maps[o],c=l.mapResult(e,n);if(c.recover!=null){let f=this.getMirror(o);if(f!=null&&f>o&&f<this.to){o=f,e=this._maps[f].recover(c.recover);continue}}i|=c.delInfo,e=c.pos}return r?e:new Dv(e,i,null)}}const O0=Object.create(null);class On{getMap(){return yr.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=O0[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in O0)throw new RangeError("Duplicate use of step JSON ID "+e);return O0[e]=n,n.prototype.jsonID=e,n}}class Qt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Qt(e,null)}static fail(e){return new Qt(null,e)}static fromReplace(e,n,r,i){try{return Qt.ok(e.replace(n,r,i))}catch(o){if(o instanceof zp)return Qt.fail(o.message);throw o}}}function q1(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(q1(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return de.fromArray(r)}class Uo extends On{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new be(q1(n.content,(l,c)=>!l.isAtom||!c.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),i),n.openStart,n.openEnd);return Qt.fromReplace(e,this.from,this.to,o)}invert(){return new si(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Uo(n.pos,r.pos,this.mark)}merge(e){return e instanceof Uo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Uo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Uo(n.from,n.to,e.markFromJSON(n.mark))}}On.jsonID("addMark",Uo);class si extends On{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new be(q1(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Qt.fromReplace(e,this.from,this.to,r)}invert(){return new Uo(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new si(n.pos,r.pos,this.mark)}merge(e){return e instanceof si&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new si(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new si(n.from,n.to,e.markFromJSON(n.mark))}}On.jsonID("removeMark",si);class Bo extends On{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Qt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Qt.fromReplace(e,this.pos,this.pos+1,new be(de.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Bo(this.pos,n.marks[i]);return new Bo(this.pos,this.mark)}}return new cl(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Bo(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Bo(n.pos,e.markFromJSON(n.mark))}}On.jsonID("addNodeMark",Bo);class cl extends On{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Qt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Qt.fromReplace(e,this.pos,this.pos+1,new be(de.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Bo(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new cl(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new cl(n.pos,e.markFromJSON(n.mark))}}On.jsonID("removeNodeMark",cl);class dn extends On{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Iv(e,this.from,this.to)?Qt.fail("Structure replace would overwrite content"):Qt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new yr([this.from,this.to-this.from,this.slice.size])}invert(e){return new dn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new dn(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof dn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?be.empty:new be(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new dn(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?be.empty:new be(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new dn(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new dn(n.from,n.to,be.fromJSON(e,n.slice),!!n.structure)}}On.jsonID("replace",dn);class hn extends On{constructor(e,n,r,i,o,l,c=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=l,this.structure=c}apply(e){if(this.structure&&(Iv(e,this.from,this.gapFrom)||Iv(e,this.gapTo,this.to)))return Qt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Qt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Qt.fromReplace(e,this.from,this.to,r):Qt.fail("Content does not fit in gap")}getMap(){return new yr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new hn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new hn(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new hn(n.from,n.to,n.gapFrom,n.gapTo,be.fromJSON(e,n.slice),n.insert,!!n.structure)}}On.jsonID("replaceAround",hn);function Iv(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let l=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,i--}}return!1}function wU(t,e,n,r){let i=[],o=[],l,c;t.doc.nodesBetween(e,n,(f,h,p)=>{if(!f.isInline)return;let y=f.marks;if(!r.isInSet(y)&&p.type.allowsMarkType(r.type)){let v=Math.max(h,e),S=Math.min(h+f.nodeSize,n),w=r.addToSet(y);for(let T=0;T<y.length;T++)y[T].isInSet(w)||(l&&l.to==v&&l.mark.eq(y[T])?l.to=S:i.push(l=new si(v,S,y[T])));c&&c.to==v?c.to=S:o.push(c=new Uo(v,S,r))}}),i.forEach(f=>t.step(f)),o.forEach(f=>t.step(f))}function EU(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(l,c)=>{if(!l.isInline)return;o++;let f=null;if(r instanceof Hm){let h=l.marks,p;for(;p=r.isInSet(h);)(f||(f=[])).push(p),h=p.removeFromSet(h)}else r?r.isInSet(l.marks)&&(f=[r]):f=l.marks;if(f&&f.length){let h=Math.min(c+l.nodeSize,n);for(let p=0;p<f.length;p++){let y=f[p],v;for(let S=0;S<i.length;S++){let w=i[S];w.step==o-1&&y.eq(i[S].style)&&(v=w)}v?(v.to=h,v.step=o):i.push({style:y,from:Math.max(c,e),to:h,step:o})}}}),i.forEach(l=>t.step(new si(l.from,l.to,l.style)))}function W1(t,e,n,r=n.contentMatch,i=!0){let o=t.doc.nodeAt(e),l=[],c=e+1;for(let f=0;f<o.childCount;f++){let h=o.child(f),p=c+h.nodeSize,y=r.matchType(h.type);if(!y)l.push(new dn(c,p,be.empty));else{r=y;for(let v=0;v<h.marks.length;v++)n.allowsMarkType(h.marks[v].type)||t.step(new si(c,p,h.marks[v]));if(i&&h.isText&&n.whitespace!="pre"){let v,S=/\r?\n|\r/g,w;for(;v=S.exec(h.text);)w||(w=new be(de.from(n.schema.text(" ",n.allowedMarks(h.marks))),0,0)),l.push(new dn(c+v.index,c+v.index+v[0].length,w))}}c=p}if(!r.validEnd){let f=r.fillBefore(de.empty,!0);t.replace(c,c,new be(f,0,0))}for(let f=l.length-1;f>=0;f--)t.step(l[f])}function xU(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function qc(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),l=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,l,n))return r;if(r==0||i.type.spec.isolating||!xU(i,o,l))break}return null}function TU(t,e,n){let{$from:r,$to:i,depth:o}=e,l=r.before(o+1),c=i.after(o+1),f=l,h=c,p=de.empty,y=0;for(let w=o,T=!1;w>n;w--)T||r.index(w)>0?(T=!0,p=de.from(r.node(w).copy(p)),y++):f--;let v=de.empty,S=0;for(let w=o,T=!1;w>n;w--)T||i.after(w+1)<i.end(w)?(T=!0,v=de.from(i.node(w).copy(v)),S++):h++;t.step(new hn(f,h,l,c,new be(p.append(v),y,S),p.size-y,!0))}function G1(t,e,n=null,r=t){let i=CU(t,e),o=i&&AU(r,e);return o?i.map(lT).concat({type:e,attrs:n}).concat(o.map(lT)):null}function lT(t){return{type:t,attrs:null}}function CU(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let l=o.length?o[0]:e;return n.canReplaceWith(r,i,l)?o:null}function AU(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),l=e.contentMatch.findWrapping(o.type);if(!l)return null;let f=(l.length?l[l.length-1]:e).contentMatch;for(let h=r;f&&h<i;h++)f=f.matchType(n.child(h).type);return!f||!f.validEnd?null:l}function kU(t,e,n){let r=de.empty;for(let l=n.length-1;l>=0;l--){if(r.size){let c=n[l].type.contentMatch.matchFragment(r);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=de.from(n[l].type.create(n[l].attrs,r))}let i=e.start,o=e.end;t.step(new hn(i,o,i,o,new be(r,0,0),n.length,!0))}function MU(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(l,c)=>{let f=typeof i=="function"?i(l):i;if(l.isTextblock&&!l.hasMarkup(r,f)&&OU(t.doc,t.mapping.slice(o).map(c),r)){let h=null;if(r.schema.linebreakReplacement){let S=r.whitespace=="pre",w=!!r.contentMatch.matchType(r.schema.linebreakReplacement);S&&!w?h=!1:!S&&w&&(h=!0)}h===!1&&AM(t,l,c,o),W1(t,t.mapping.slice(o).map(c,1),r,void 0,h===null);let p=t.mapping.slice(o),y=p.map(c,1),v=p.map(c+l.nodeSize,1);return t.step(new hn(y,v,y+1,v-1,new be(de.from(r.create(f,null,l.marks)),0,0),1,!0)),h===!0&&CM(t,l,c,o),!1}})}function CM(t,e,n,r){e.forEach((i,o)=>{if(i.isText){let l,c=/\r?\n|\r/g;for(;l=c.exec(i.text);){let f=t.mapping.slice(r).map(n+1+o+l.index);t.replaceWith(f,f+1,e.type.schema.linebreakReplacement.create())}}})}function AM(t,e,n,r){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let l=t.mapping.slice(r).map(n+1+o);t.replaceWith(l,l+1,e.type.schema.text(`
`))}})}function OU(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function NU(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let l=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,l);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new hn(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new be(de.from(l),0,0),1,!0))}function Rs(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,l=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!l.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let h=i.depth-1,p=n-2;h>o;h--,p--){let y=i.node(h),v=i.index(h);if(y.type.spec.isolating)return!1;let S=y.content.cutByIndex(v,y.childCount),w=r&&r[p+1];w&&(S=S.replaceChild(0,w.type.create(w.attrs)));let T=r&&r[p]||y;if(!y.canReplace(v+1,y.childCount)||!T.type.validContent(S))return!1}let c=i.indexAfter(o),f=r&&r[0];return i.node(o).canReplaceWith(c,c,f?f.type:i.node(o+1).type)}function _U(t,e,n=1,r){let i=t.doc.resolve(e),o=de.empty,l=de.empty;for(let c=i.depth,f=i.depth-n,h=n-1;c>f;c--,h--){o=de.from(i.node(c).copy(o));let p=r&&r[h];l=de.from(p?p.type.create(p.attrs,l):i.node(c).copy(l))}t.step(new dn(e,e,new be(o.append(l),n,n),!0))}function aa(t,e){let n=t.resolve(e),r=n.index();return kM(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function RU(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),l=o.type==r?t.type.schema.nodes.text:o.type;if(n=n.matchType(l),!n||!t.type.allowsMarks(o.marks))return!1}return n.validEnd}function kM(t,e){return!!(t&&e&&!t.isLeaf&&RU(t,e))}function Vm(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let o,l,c=r.index(i);if(i==r.depth?(o=r.nodeBefore,l=r.nodeAfter):n>0?(o=r.node(i+1),c++,l=r.node(i).maybeChild(c)):(o=r.node(i).maybeChild(c-1),l=r.node(i+1)),o&&!o.isTextblock&&kM(o,l)&&r.node(i).canReplace(c,c+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function DU(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,o=t.doc.resolve(e-n),l=o.node().type;if(i&&l.inlineContent){let p=l.whitespace=="pre",y=!!l.contentMatch.matchType(i);p&&!y?r=!1:!p&&y&&(r=!0)}let c=t.steps.length;if(r===!1){let p=t.doc.resolve(e+n);AM(t,p.node(),p.before(),c)}l.inlineContent&&W1(t,e+n-1,l,o.node().contentMatchAt(o.index()),r==null);let f=t.mapping.slice(c),h=f.map(e-n);if(t.step(new dn(h,f.map(e+n,-1),be.empty,!0)),r===!0){let p=t.doc.resolve(h);CM(t,p.node(),p.before(),t.steps.length)}return t}function IU(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function MM(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let l=r.depth;l>=0;l--){let c=l==r.depth?0:r.pos<=(r.start(l+1)+r.end(l+1))/2?-1:1,f=r.index(l)+(c>0?1:0),h=r.node(l),p=!1;if(o==1)p=h.canReplace(f,f,i);else{let y=h.contentMatchAt(f).findWrapping(i.firstChild.type);p=y&&h.canReplaceWith(f,f,y[0])}if(p)return c==0?r.pos:c<0?r.before(l+1):r.after(l+1)}return null}function $m(t,e,n=e,r=be.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return OM(i,o,r)?new dn(e,n,r):new LU(i,o,r).fit()}function OM(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class LU{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=de.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=de.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,l=r.depth,c=i.depth;for(;l&&c&&o.childCount==1;)o=o.firstChild.content,l--,c--;let f=new be(o,l,c);return e>-1?new hn(r.pos,e,this.$to.pos,this.$to.end(),f,n):f.size||r.pos!=this.$to.pos?new dn(r.pos,i.pos,f):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=N0(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let l=i.firstChild;for(let c=this.depth;c>=0;c--){let{type:f,match:h}=this.frontier[c],p,y=null;if(n==1&&(l?h.matchType(l.type)||(y=h.fillBefore(de.from(l),!1)):o&&f.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:c,parent:o,inject:y};if(n==2&&l&&(p=h.findWrapping(l.type)))return{sliceDepth:r,frontierDepth:c,parent:o,wrap:p};if(o&&h.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=N0(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new be(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=N0(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new be(ef(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new be(ef(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let T=0;T<o.length;T++)this.openFrontierNode(o[T]);let l=this.unplaced,c=r?r.content:l.content,f=l.openStart-e,h=0,p=[],{match:y,type:v}=this.frontier[n];if(i){for(let T=0;T<i.childCount;T++)p.push(i.child(T));y=y.matchFragment(i)}let S=c.size+e-(l.content.size-l.openEnd);for(;h<c.childCount;){let T=c.child(h),A=y.matchType(T.type);if(!A)break;h++,(h>1||f==0||T.content.size)&&(y=A,p.push(NM(T.mark(v.allowedMarks(T.marks)),h==1?f:0,h==c.childCount?S:-1)))}let w=h==c.childCount;w||(S=-1),this.placed=tf(this.placed,n,de.from(p)),this.frontier[n].match=y,w&&S<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let T=0,A=c;T<S;T++){let N=A.lastChild;this.frontier.push({type:N.type,match:N.contentMatchAt(N.childCount)}),A=N.content}this.unplaced=w?e==0?be.empty:new be(ef(l.content,e-1,1),e-1,S<0?l.openEnd:e-1):new be(ef(l.content,e,h),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!_0(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),l=_0(e,n,i,r,o);if(l){for(let c=n-1;c>=0;c--){let{match:f,type:h}=this.frontier[c],p=_0(e,c,h,f,!0);if(!p||p.childCount)continue e}return{depth:n,fit:l,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=tf(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=tf(this.placed,this.depth,de.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(de.empty,!0);n.childCount&&(this.placed=tf(this.placed,this.frontier.length,n))}}function ef(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(ef(t.firstChild.content,e-1,n)))}function tf(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(tf(t.lastChild.content,e-1,n)))}function N0(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function NM(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,NM(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(de.empty,!0)))),t.copy(r)}function _0(t,e,n,r,i){let o=t.node(e),l=i?t.indexAfter(e):t.index(e);if(l==o.childCount&&!n.compatibleContent(o.type))return null;let c=r.fillBefore(o.content,!0,l);return c&&!PU(n,o.content,l)?c:null}function PU(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function jU(t){return t.spec.defining||t.spec.definingForContent}function zU(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(OM(i,o,r))return t.step(new dn(e,n,r));let l=RM(i,t.doc.resolve(n));l[l.length-1]==0&&l.pop();let c=-(i.depth+1);l.unshift(c);for(let v=i.depth,S=i.pos-1;v>0;v--,S--){let w=i.node(v).type.spec;if(w.defining||w.definingAsContext||w.isolating)break;l.indexOf(v)>-1?c=v:i.before(v)==S&&l.splice(1,0,-v)}let f=l.indexOf(c),h=[],p=r.openStart;for(let v=r.content,S=0;;S++){let w=v.firstChild;if(h.push(w),S==r.openStart)break;v=w.content}for(let v=p-1;v>=0;v--){let S=h[v],w=jU(S.type);if(w&&!S.sameMarkup(i.node(Math.abs(c)-1)))p=v;else if(w||!S.type.isTextblock)break}for(let v=r.openStart;v>=0;v--){let S=(v+p+1)%(r.openStart+1),w=h[S];if(w)for(let T=0;T<l.length;T++){let A=l[(T+f)%l.length],N=!0;A<0&&(N=!1,A=-A);let L=i.node(A-1),U=i.index(A-1);if(L.canReplaceWith(U,U,w.type,w.marks))return t.replace(i.before(A),N?o.after(A):n,new be(_M(r.content,0,r.openStart,S),S,r.openEnd))}}let y=t.steps.length;for(let v=l.length-1;v>=0&&(t.replace(e,n,r),!(t.steps.length>y));v--){let S=l[v];S<0||(e=i.before(S),n=o.after(S))}}function _M(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(_M(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),l=o.fillBefore(t).append(t);t=l.append(o.matchFragment(l).fillBefore(de.empty,!0))}return t}function UU(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=IU(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new be(de.from(r),0,0))}function BU(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=RM(r,i);for(let l=0;l<o.length;l++){let c=o[l],f=l==o.length-1;if(f&&c==0||r.node(c).type.contentMatch.validEnd)return t.delete(r.start(c),i.end(c));if(c>0&&(f||r.node(c-1).canReplace(r.index(c-1),i.indexAfter(c-1))))return t.delete(r.before(c),i.after(c))}for(let l=1;l<=r.depth&&l<=i.depth;l++)if(e-r.start(l)==r.depth-l&&n>r.end(l)&&i.end(l)-n!=i.depth-l&&r.start(l-1)==i.start(l-1)&&r.node(l-1).canReplace(r.index(l-1),i.index(l-1)))return t.delete(r.before(l),n);t.delete(e,n)}function RM(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}class xc extends On{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Qt.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Qt.fromReplace(e,this.pos,this.pos+1,new be(de.from(i),0,n.isLeaf?0:1))}getMap(){return yr.empty}invert(e){return new xc(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new xc(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new xc(n.pos,n.attr,n.value)}}On.jsonID("attr",xc);class If extends On{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Qt.ok(r)}getMap(){return yr.empty}invert(e){return new If(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new If(n.attr,n.value)}}On.jsonID("docAttr",If);let Nc=class extends Error{};Nc=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Nc.prototype=Object.create(Error.prototype);Nc.prototype.constructor=Nc;Nc.prototype.name="TransformError";class DM{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Df}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Nc(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=be.empty){let i=$m(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new be(de.from(r),0,0))}delete(e,n){return this.replace(e,n,be.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return zU(this,e,n,r),this}replaceRangeWith(e,n,r){return UU(this,e,n,r),this}deleteRange(e,n){return BU(this,e,n),this}lift(e,n){return TU(this,e,n),this}join(e,n=1){return DU(this,e,n),this}wrap(e,n){return kU(this,e,n),this}setBlockType(e,n=e,r,i=null){return MU(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return NU(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new xc(e,n,r)),this}setDocAttribute(e,n){return this.step(new If(e,n)),this}addNodeMark(e,n){return this.step(new Bo(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof kt)n.isInSet(r.marks)&&this.step(new cl(e,n));else{let i=r.marks,o,l=[];for(;o=n.isInSet(i);)l.push(new cl(e,o)),i=o.removeFromSet(i);for(let c=l.length-1;c>=0;c--)this.step(l[c])}return this}split(e,n=1,r){return _U(this,e,n,r),this}addMark(e,n,r){return wU(this,e,n,r),this}removeMark(e,n,r){return EU(this,e,n,r),this}clearIncompatible(e,n,r){return W1(this,e,n,r),this}}const R0=Object.create(null);class Ue{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new IM(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=be.empty){let r=n.content.lastChild,i=null;for(let c=0;c<n.openEnd;c++)i=r,r=r.lastChild;let o=e.steps.length,l=this.ranges;for(let c=0;c<l.length;c++){let{$from:f,$to:h}=l[c],p=e.mapping.slice(o);e.replaceRange(p.map(f.pos),p.map(h.pos),c?be.empty:n),c==0&&fT(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:l,$to:c}=i[o],f=e.mapping.slice(r),h=f.map(l.pos),p=f.map(c.pos);o?e.deleteRange(h,p):(e.replaceRangeWith(h,p,n),fT(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new He(e):fc(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let l=n<0?fc(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):fc(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(l)return l}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new vr(e.node(0))}static atStart(e){return fc(e,e,0,0,1)||new vr(e)}static atEnd(e){return fc(e,e,e.content.size,e.childCount,-1)||new vr(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=R0[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in R0)throw new RangeError("Duplicate use of selection JSON ID "+e);return R0[e]=n,n.prototype.jsonID=e,n}getBookmark(){return He.between(this.$anchor,this.$head).getBookmark()}}Ue.prototype.visible=!0;class IM{constructor(e,n){this.$from=e,this.$to=n}}let cT=!1;function uT(t){!cT&&!t.parent.inlineContent&&(cT=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class He extends Ue{constructor(e,n=e){uT(e),uT(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Ue.near(r);let i=e.resolve(n.map(this.anchor));return new He(i.parent.inlineContent?i:r,r)}replace(e,n=be.empty){if(super.replace(e,n),n==be.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof He&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Fm(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new He(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=Ue.findFrom(n,r,!0)||Ue.findFrom(n,-r,!0);if(o)n=o.$head;else return Ue.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Ue.findFrom(e,-r,!0)||Ue.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new He(e,n)}}Ue.jsonID("text",He);class Fm{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Fm(e.map(this.anchor),e.map(this.head))}resolve(e){return He.between(e.resolve(this.anchor),e.resolve(this.head))}}class Re extends Ue{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?Ue.near(o):new Re(o)}content(){return new be(de.from(this.node),0,0)}eq(e){return e instanceof Re&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new K1(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Re(e.resolve(n.anchor))}static create(e,n){return new Re(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Re.prototype.visible=!1;Ue.jsonID("node",Re);class K1{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Fm(r,r):new K1(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Re.isSelectable(r)?new Re(n):Ue.near(n)}}class vr extends Ue{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=be.empty){if(n==be.empty){e.delete(0,e.doc.content.size);let r=Ue.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new vr(e)}map(e){return new vr(e)}eq(e){return e instanceof vr}getBookmark(){return HU}}Ue.jsonID("all",vr);const HU={map(){return this},resolve(t){return new vr(t)}};function fc(t,e,n,r,i,o=!1){if(e.inlineContent)return He.create(t,n);for(let l=r-(i>0?0:1);i>0?l<e.childCount:l>=0;l+=i){let c=e.child(l);if(c.isAtom){if(!o&&Re.isSelectable(c))return Re.create(t,n-(i<0?c.nodeSize:0))}else{let f=fc(t,c,n+i,i<0?c.childCount:0,i,o);if(f)return f}n+=c.nodeSize*i}return null}function fT(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof dn||i instanceof hn))return;let o=t.mapping.maps[r],l;o.forEach((c,f,h,p)=>{l==null&&(l=p)}),t.setSelection(Ue.near(t.doc.resolve(l),n))}const dT=1,Bh=2,hT=4;class VU extends DM{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|dT)&~Bh,this.storedMarks=null,this}get selectionSet(){return(this.updated&dT)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Bh,this}ensureMarks(e){return kt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Bh)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Bh,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||kt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let l=this.doc.resolve(n);o=r==n?l.marks():l.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),this.selection.empty||this.setSelection(Ue.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=hT,this}get scrolledIntoView(){return(this.updated&hT)>0}}function pT(t,e){return!e||!t?t:t.bind(e)}class nf{constructor(e,n,r){this.name=e,this.init=pT(n.init,r),this.apply=pT(n.apply,r)}}const $U=[new nf("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new nf("selection",{init(t,e){return t.selection||Ue.atStart(e.doc)},apply(t){return t.selection}}),new nf("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new nf("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class D0{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=$U.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new nf(r.key,r.spec.state,r))})}}class yc{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let l=0;l<this.config.plugins.length;l++){let c=this.config.plugins[l];if(c.spec.appendTransaction){let f=i?i[l].n:0,h=i?i[l].state:this,p=f<n.length&&c.spec.appendTransaction.call(c,f?n.slice(f):n,h,r);if(p&&r.filterTransaction(p,l)){if(p.setMeta("appendedTransaction",e),!i){i=[];for(let y=0;y<this.config.plugins.length;y++)i.push(y<l?{state:r,n:n.length}:{state:this,n:0})}n.push(p),r=r.applyInner(p),o=!0}i&&(i[l]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new yc(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new VU(this)}static create(e){let n=new D0(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new yc(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new D0(this.schema,e.plugins),r=n.fields,i=new yc(n);for(let o=0;o<r.length;o++){let l=r[o].name;i[l]=this.hasOwnProperty(l)?this[l]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new D0(e.schema,e.plugins),o=new yc(i);return i.fields.forEach(l=>{if(l.name=="doc")o.doc=Go.fromJSON(e.schema,n.doc);else if(l.name=="selection")o.selection=Ue.fromJSON(o.doc,n.selection);else if(l.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let c in r){let f=r[c],h=f.spec.state;if(f.key==l.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(n,c)){o[l.name]=h.fromJSON.call(f,e,n[c],o);return}}o[l.name]=l.init(e,o)}}),o}}function LM(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=LM(i,e,{})),n[r]=i}return n}class Pt{constructor(e){this.spec=e,this.props={},e.props&&LM(e.props,this,this.props),this.key=e.key?e.key.key:PM("plugin")}getState(e){return e[this.key]}}const I0=Object.create(null);function PM(t){return t in I0?t+"$"+ ++I0[t]:(I0[t]=0,t+"$")}class Ut{constructor(e="key"){this.key=PM(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const wn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},_c=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Lv=null;const Ts=function(t,e,n){let r=Lv||(Lv=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},FU=function(){Lv=null},ul=function(t,e,n,r){return n&&(mT(t,e,n,r,-1)||mT(t,e,n,r,1))},qU=/^(img|br|input|textarea|hr)$/i;function mT(t,e,n,r,i){for(var o;;){if(t==n&&e==r)return!0;if(e==(i<0?0:$r(t))){let l=t.parentNode;if(!l||l.nodeType!=1||rd(t)||qU.test(t.nodeName)||t.contentEditable=="false")return!1;e=wn(t)+(i<0?0:1),t=l}else if(t.nodeType==1){let l=t.childNodes[e+(i<0?-1:0)];if(l.nodeType==1&&l.contentEditable=="false")if(!((o=l.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)e+=i;else return!1;else t=l,e=i<0?$r(t):0}else return!1}}function $r(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function WU(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=$r(t)}else if(t.parentNode&&!rd(t))e=wn(t),t=t.parentNode;else return null}}function GU(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!rd(t))e=wn(t)+1,t=t.parentNode;else return null}}function KU(t,e,n){for(let r=e==0,i=e==$r(t);r||i;){if(t==n)return!0;let o=wn(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==$r(t)}}function rd(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const qm=function(t){return t.focusNode&&ul(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Va(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function YU(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function XU(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min($r(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min($r(r.startContainer),r.startOffset)}}}const Hi=typeof navigator<"u"?navigator:null,gT=typeof document<"u"?document:null,la=Hi&&Hi.userAgent||"",Pv=/Edge\/(\d+)/.exec(la),jM=/MSIE \d/.exec(la),jv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(la),er=!!(jM||jv||Pv),Yo=jM?document.documentMode:jv?+jv[1]:Pv?+Pv[1]:0,ui=!er&&/gecko\/(\d+)/i.test(la);ui&&+(/Firefox\/(\d+)/.exec(la)||[0,0])[1];const zv=!er&&/Chrome\/(\d+)/.exec(la),Mn=!!zv,zM=zv?+zv[1]:0,Bn=!er&&!!Hi&&/Apple Computer/.test(Hi.vendor),Rc=Bn&&(/Mobile\/\w+/.test(la)||!!Hi&&Hi.maxTouchPoints>2),Hr=Rc||(Hi?/Mac/.test(Hi.platform):!1),JU=Hi?/Win/.test(Hi.platform):!1,Ns=/Android \d/.test(la),id=!!gT&&"webkitFontSmoothing"in gT.documentElement.style,QU=id?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function ZU(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function bs(t,e){return typeof t=="number"?t:t[e]}function e7(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function yT(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let l=n||t.dom;l;){if(l.nodeType!=1){l=_c(l);continue}let c=l,f=c==o.body,h=f?ZU(o):e7(c),p=0,y=0;if(e.top<h.top+bs(r,"top")?y=-(h.top-e.top+bs(i,"top")):e.bottom>h.bottom-bs(r,"bottom")&&(y=e.bottom-e.top>h.bottom-h.top?e.top+bs(i,"top")-h.top:e.bottom-h.bottom+bs(i,"bottom")),e.left<h.left+bs(r,"left")?p=-(h.left-e.left+bs(i,"left")):e.right>h.right-bs(r,"right")&&(p=e.right-h.right+bs(i,"right")),p||y)if(f)o.defaultView.scrollBy(p,y);else{let S=c.scrollLeft,w=c.scrollTop;y&&(c.scrollTop+=y),p&&(c.scrollLeft+=p);let T=c.scrollLeft-S,A=c.scrollTop-w;e={left:e.left-T,top:e.top-A,right:e.right-T,bottom:e.bottom-A}}let v=f?"fixed":getComputedStyle(l).position;if(/^(fixed|sticky)$/.test(v))break;l=v=="absolute"?l.offsetParent:_c(l)}}function t7(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,l=n+1;l<Math.min(innerHeight,e.bottom);l+=5){let c=t.root.elementFromPoint(o,l);if(!c||c==t.dom||!t.dom.contains(c))continue;let f=c.getBoundingClientRect();if(f.top>=n-20){r=c,i=f.top;break}}return{refDOM:r,refTop:i,stack:UM(t.dom)}}function UM(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=_c(r));return e}function n7({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;BM(n,r==0?0:r-e)}function BM(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let ic=null;function r7(t){if(t.setActive)return t.setActive();if(ic)return t.focus(ic);let e=UM(t);t.focus(ic==null?{get preventScroll(){return ic={preventScroll:!0},!0}}:void 0),ic||(ic=!1,BM(e,0))}function HM(t,e){let n,r=2e8,i,o=0,l=e.top,c=e.top,f,h;for(let p=t.firstChild,y=0;p;p=p.nextSibling,y++){let v;if(p.nodeType==1)v=p.getClientRects();else if(p.nodeType==3)v=Ts(p).getClientRects();else continue;for(let S=0;S<v.length;S++){let w=v[S];if(w.top<=l&&w.bottom>=c){l=Math.max(w.bottom,l),c=Math.min(w.top,c);let T=w.left>e.left?w.left-e.left:w.right<e.left?e.left-w.right:0;if(T<r){n=p,r=T,i=T&&n.nodeType==3?{left:w.right<e.left?w.right:w.left,top:e.top}:e,p.nodeType==1&&T&&(o=y+(e.left>=(w.left+w.right)/2?1:0));continue}}else w.top>e.top&&!f&&w.left<=e.left&&w.right>=e.left&&(f=p,h={left:Math.max(w.left,Math.min(w.right,e.left)),top:w.top});!n&&(e.left>=w.right&&e.top>=w.top||e.left>=w.left&&e.top>=w.bottom)&&(o=y+1)}}return!n&&f&&(n=f,i=h,r=0),n&&n.nodeType==3?i7(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:HM(n,i)}function i7(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let o=ko(r,1);if(o.top!=o.bottom&&Y1(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function Y1(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function s7(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function o7(t,e,n){let{node:r,offset:i}=HM(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let l=r.getBoundingClientRect();o=l.left!=l.right&&n.left>(l.left+l.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function a7(t,e,n,r){let i=-1;for(let o=e,l=!1;o!=t.dom;){let c=t.docView.nearestDesc(o,!0),f;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((f=c.dom.getBoundingClientRect()).width||f.height)&&(c.node.isBlock&&c.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(c.dom.nodeName)&&(!l&&f.left>r.left||f.top>r.top?i=c.posBefore:(!l&&f.right<r.left||f.bottom<r.top)&&(i=c.posAfter),l=!0),!c.contentDOM&&i<0&&!c.node.isText))return(c.node.isBlock?r.top<(f.top+f.bottom)/2:r.left<(f.left+f.right)/2)?c.posBefore:c.posAfter;o=c.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function VM(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let l=t.childNodes[o];if(l.nodeType==1){let c=l.getClientRects();for(let f=0;f<c.length;f++){let h=c[f];if(Y1(e,h))return VM(l,e,h)}}if((o=(o+1)%r)==i)break}return t}function l7(t,e){let n=t.dom.ownerDocument,r,i=0,o=XU(n,e.left,e.top);o&&({node:r,offset:i}=o);let l=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),c;if(!l||!t.dom.contains(l.nodeType!=1?l.parentNode:l)){let h=t.dom.getBoundingClientRect();if(!Y1(e,h)||(l=VM(t.dom,e,h),!l))return null}if(Bn)for(let h=l;r&&h;h=_c(h))h.draggable&&(r=void 0);if(l=s7(l,e),r){if(ui&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let p=r.childNodes[i],y;p.nodeName=="IMG"&&(y=p.getBoundingClientRect()).right<=e.left&&y.bottom>e.top&&i++}let h;id&&i&&r.nodeType==1&&(h=r.childNodes[i-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?c=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(c=a7(t,r,i,e))}c==null&&(c=o7(t,l,e));let f=t.docView.nearestDesc(l,!0);return{pos:c,inside:f?f.posAtStart-f.border:-1}}function vT(t){return t.top<t.bottom||t.left<t.right}function ko(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(vT(r))return r}return Array.prototype.find.call(n,vT)||t.getBoundingClientRect()}const c7=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function $M(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),l=id||ui;if(r.nodeType==3)if(l&&(c7.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let f=ko(Ts(r,i,i),n);if(ui&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let h=ko(Ts(r,i-1,i-1),-1);if(h.top==f.top){let p=ko(Ts(r,i,i+1),-1);if(p.top!=f.top)return Ku(p,p.left<h.left)}}return f}else{let f=i,h=i,p=n<0?1:-1;return n<0&&!i?(h++,p=-1):n>=0&&i==r.nodeValue.length?(f--,p=1):n<0?f--:h++,Ku(ko(Ts(r,f,h),p),p<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==$r(r))){let f=r.childNodes[i-1];if(f.nodeType==1)return L0(f.getBoundingClientRect(),!1)}if(o==null&&i<$r(r)){let f=r.childNodes[i];if(f.nodeType==1)return L0(f.getBoundingClientRect(),!0)}return L0(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==$r(r))){let f=r.childNodes[i-1],h=f.nodeType==3?Ts(f,$r(f)-(l?0:1)):f.nodeType==1&&(f.nodeName!="BR"||!f.nextSibling)?f:null;if(h)return Ku(ko(h,1),!1)}if(o==null&&i<$r(r)){let f=r.childNodes[i];for(;f.pmViewDesc&&f.pmViewDesc.ignoreForCoords;)f=f.nextSibling;let h=f?f.nodeType==3?Ts(f,0,l?0:1):f.nodeType==1?f:null:null;if(h)return Ku(ko(h,-1),!0)}return Ku(ko(r.nodeType==3?Ts(r):r,-n),n>=0)}function Ku(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function L0(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function FM(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function u7(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return FM(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let c=t.docView.nearestDesc(o,!0);if(!c)break;if(c.node.isBlock){o=c.contentDOM||c.dom;break}o=c.dom.parentNode}let l=$M(t,i.pos,1);for(let c=o.firstChild;c;c=c.nextSibling){let f;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=Ts(c,0,c.nodeValue.length).getClientRects();else continue;for(let h=0;h<f.length;h++){let p=f[h];if(p.bottom>p.top+1&&(n=="up"?l.top-p.top>(p.bottom-l.top)*2:p.bottom-l.bottom>(l.bottom-p.top)*2))return!1}}return!0})}const f7=/[\u0590-\u08ac]/;function d7(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,l=i==r.parent.content.size,c=t.domSelection();return c?!f7.test(r.parent.textContent)||!c.modify?n=="left"||n=="backward"?o:l:FM(t,e,()=>{let{focusNode:f,focusOffset:h,anchorNode:p,anchorOffset:y}=t.domSelectionRange(),v=c.caretBidiLevel;c.modify("move",n,"character");let S=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:w,focusOffset:T}=t.domSelectionRange(),A=w&&!S.contains(w.nodeType==1?w:w.parentNode)||f==w&&h==T;try{c.collapse(p,y),f&&(f!=p||h!=y)&&c.extend&&c.extend(f,h)}catch{}return v!=null&&(c.caretBidiLevel=v),A}):r.pos==r.start()||r.pos==r.end()}let bT=null,ST=null,wT=!1;function h7(t,e,n){return bT==e&&ST==n?wT:(bT=e,ST=n,wT=n=="up"||n=="down"?u7(t,e,n):d7(t,e,n))}const qr=0,ET=1,Wa=2,Vi=3;class sd{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=qr,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,l;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((l=o.pmViewDesc)&&l.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(l)+l.size:this.posAtStart}else{let o,l;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((l=o.pmViewDesc)&&l.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(l):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>wn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),l;if(o&&(!n||o.node))if(r&&(l=o.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)for(let l=0;l<i.children.length;l++){let c=i.children[l];if(c.size){i=c;break}}return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let l=this.children[r],c=o+l.size;if(c>e||l instanceof WM){i=e-o;break}o=c}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof qM&&o.side>=0;r--);if(n<=0){let o,l=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,l=!1);return o&&n&&l&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?wn(o.dom)+1:0}}else{let o,l=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,l=!1);return o&&l&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?wn(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let l=r,c=0;;c++){let f=this.children[c],h=l+f.size;if(i==-1&&e<=h){let p=l+f.border;if(e>=p&&n<=h-f.border&&f.node&&f.contentDOM&&this.contentDOM.contains(f.contentDOM))return f.parseRange(e,n,p);e=l;for(let y=c;y>0;y--){let v=this.children[y-1];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(1)){i=wn(v.dom)+1;break}e-=v.size}i==-1&&(i=0)}if(i>-1&&(h>n||c==this.children.length-1)){n=h;for(let p=c+1;p<this.children.length;p++){let y=this.children[p];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(-1)){o=wn(y.dom);break}n+=y.size}o==-1&&(o=this.contentDOM.childNodes.length);break}l=h}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),l=Math.max(e,n);for(let S=0,w=0;S<this.children.length;S++){let T=this.children[S],A=w+T.size;if(o>w&&l<A)return T.setSelection(e-w-T.border,n-w-T.border,r,i);w=A}let c=this.domFromPos(e,e?-1:1),f=n==e?c:this.domFromPos(n,n?-1:1),h=r.root.getSelection(),p=r.domSelectionRange(),y=!1;if((ui||Bn)&&e==n){let{node:S,offset:w}=c;if(S.nodeType==3){if(y=!!(w&&S.nodeValue[w-1]==`
`),y&&w==S.nodeValue.length)for(let T=S,A;T;T=T.parentNode){if(A=T.nextSibling){A.nodeName=="BR"&&(c=f={node:A.parentNode,offset:wn(A)+1});break}let N=T.pmViewDesc;if(N&&N.node&&N.node.isBlock)break}}else{let T=S.childNodes[w-1];y=T&&(T.nodeName=="BR"||T.contentEditable=="false")}}if(ui&&p.focusNode&&p.focusNode!=f.node&&p.focusNode.nodeType==1){let S=p.focusNode.childNodes[p.focusOffset];S&&S.contentEditable=="false"&&(i=!0)}if(!(i||y&&Bn)&&ul(c.node,c.offset,p.anchorNode,p.anchorOffset)&&ul(f.node,f.offset,p.focusNode,p.focusOffset))return;let v=!1;if((h.extend||e==n)&&!y){h.collapse(c.node,c.offset);try{e!=n&&h.extend(f.node,f.offset),v=!0}catch{}}if(!v){if(e>n){let w=c;c=f,f=w}let S=document.createRange();S.setEnd(f.node,f.offset),S.setStart(c.node,c.offset),h.removeAllRanges(),h.addRange(S)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],l=r+o.size;if(r==l?e<=l&&n>=r:e<l&&n>r){let c=r+o.border,f=l-o.border;if(e>=c&&n<=f){this.dirty=e==r||n==l?Wa:ET,e==c&&n==f&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Vi:o.markDirty(e-c,n-c);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Wa:Vi}r=l}this.dirty=Wa}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Wa:ET;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class qM extends sd{constructor(e,n,r,i){let o,l=n.type.toDOM;if(typeof l=="function"&&(l=l(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(l.nodeType!=1){let c=document.createElement("span");c.appendChild(l),l=c}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==qr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class p7 extends sd{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class fl extends sd{constructor(e,n,r,i,o){super(e,[],r,i),this.mark=n,this.spec=o}static create(e,n,r,i){let o=i.nodeViews[n.type.name],l=o&&o(n,i,r);return(!l||!l.dom)&&(l=gl.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new fl(e,n,l.dom,l.contentDOM||l.dom,l)}parseRule(){return this.dirty&Vi||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Vi&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=qr){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=qr}}slice(e,n,r){let i=fl.create(this.parent,this.mark,!0,r),o=this.children,l=this.size;n<l&&(o=Bv(o,n,l,r)),e>0&&(o=Bv(o,0,e,r));for(let c=0;c<o.length;c++)o[c].parent=i;return i.children=o,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Xo extends sd{constructor(e,n,r,i,o,l,c,f,h){super(e,[],o,l),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=c}static create(e,n,r,i,o,l){let c=o.nodeViews[n.type.name],f,h=c&&c(n,o,()=>{if(!f)return l;if(f.parent)return f.parent.posBeforeChild(f)},r,i),p=h&&h.dom,y=h&&h.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:y}=gl.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!y&&!n.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),n.type.spec.draggable&&(p.draggable=!0));let v=p;return p=YM(p,r,n),h?f=new m7(e,n,r,i,p,y||null,v,h,o,l+1):n.isText?new Wm(e,n,r,i,p,v,o):new Xo(e,n,r,i,p,y||null,v,o,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>de.empty)}return e}matchesNode(e,n,r){return this.dirty==qr&&e.eq(this.node)&&Vp(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,l=o&&o.pos>-1?o:null,c=o&&o.pos<0,f=new y7(this,l&&l.node,e);S7(this.node,this.innerDeco,(h,p,y)=>{h.spec.marks?f.syncToMarks(h.spec.marks,r,e):h.type.side>=0&&!y&&f.syncToMarks(p==this.node.childCount?kt.none:this.node.child(p).marks,r,e),f.placeWidget(h,e,i)},(h,p,y,v)=>{f.syncToMarks(h.marks,r,e);let S;f.findNodeMatch(h,p,y,v)||c&&e.state.selection.from>i&&e.state.selection.to<i+h.nodeSize&&(S=f.findIndexWithChild(o.node))>-1&&f.updateNodeAt(h,p,y,S,e)||f.updateNextNode(h,p,y,e,v,i)||f.addNode(h,p,y,e,i),i+=h.nodeSize}),f.syncToMarks([],r,e),this.node.isTextblock&&f.addTextblockHacks(),f.destroyRest(),(f.changed||this.dirty==Wa)&&(l&&this.protectLocalComposition(e,l),GM(this.contentDOM,this.children,e),Rc&&w7(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof He)||r<n||i>n+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let l=o.nodeValue,c=E7(this.node.content,l,r-n,i-n);return c<0?null:{node:o,pos:c,text:l}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let l=new p7(this,o,n,i);e.input.compositionNodes.push(l),this.children=Bv(this.children,r,r+i.length,e,l)}update(e,n,r,i){return this.dirty==Vi||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=qr}updateOuterDeco(e){if(Vp(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=KM(this.dom,this.nodeDOM,Uv(this.outerDeco,this.node,n),Uv(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function xT(t,e,n,r,i){YM(r,e,t);let o=new Xo(void 0,t,e,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class Wm extends Xo{constructor(e,n,r,i,o,l,c){super(e,n,r,i,o,null,l,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Vi||this.dirty!=qr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=qr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=qr,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new Wm(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Vi)}get domAtom(){return!1}isText(e){return this.node.text==e}}class WM extends sd{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==qr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class m7 extends Xo{constructor(e,n,r,i,o,l,c,f,h,p){super(e,n,r,i,o,l,c,h,p),this.spec=f}update(e,n,r,i){if(this.dirty==Vi)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function GM(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let l=e[o],c=l.dom;if(c.parentNode==t){for(;c!=r;)r=TT(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(c,r);if(l instanceof fl){let f=r?r.previousSibling:t.lastChild;GM(l.contentDOM,l.children,n),r=f?f.nextSibling:t.firstChild}}for(;r;)r=TT(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const hf=function(t){t&&(this.nodeName=t)};hf.prototype=Object.create(null);const Ga=[new hf];function Uv(t,e,n){if(t.length==0)return Ga;let r=n?Ga[0]:new hf,i=[r];for(let o=0;o<t.length;o++){let l=t[o].type.attrs;if(l){l.nodeName&&i.push(r=new hf(l.nodeName));for(let c in l){let f=l[c];f!=null&&(n&&i.length==1&&i.push(r=new hf(e.isInline?"span":"div")),c=="class"?r.class=(r.class?r.class+" ":"")+f:c=="style"?r.style=(r.style?r.style+";":"")+f:c!="nodeName"&&(r[c]=f))}}}return i}function KM(t,e,n,r){if(n==Ga&&r==Ga)return e;let i=e;for(let o=0;o<r.length;o++){let l=r[o],c=n[o];if(o){let f;c&&c.nodeName==l.nodeName&&i!=t&&(f=i.parentNode)&&f.nodeName.toLowerCase()==l.nodeName||(f=document.createElement(l.nodeName),f.pmIsDeco=!0,f.appendChild(i),c=Ga[0]),i=f}g7(i,c||Ga[0],l)}return i}function g7(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function YM(t,e,n){return KM(t,t,Ga,Uv(e,n,t.nodeType!=1))}function Vp(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function TT(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class y7{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=v7(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,l=Math.min(o,e.length);for(;i<l&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=qr,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let c=-1;for(let f=this.index;f<Math.min(this.index+3,this.top.children.length);f++){let h=this.top.children[f];if(h.matchesMark(e[o])&&!this.isLocked(h.dom)){c=f;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let f=fl.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,l;if(i>=this.preMatch.index&&(l=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&l.matchesNode(e,n,r))o=this.top.children.indexOf(l,this.index);else for(let c=this.index,f=Math.min(this.top.children.length,c+5);c<f;c++){let h=this.top.children[c];if(h.matchesNode(e,n,r)&&!this.preMatch.matched.has(h)){o=c;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let l=this.top.children[i];return l.dirty==Vi&&l.dom==l.contentDOM&&(l.dirty=Wa),l.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o,l){for(let c=this.index;c<this.top.children.length;c++){let f=this.top.children[c];if(f instanceof Xo){let h=this.preMatch.matched.get(f);if(h!=null&&h!=o)return!1;let p=f.dom,y,v=this.isLocked(p)&&!(e.isText&&f.node&&f.node.isText&&f.nodeDOM.nodeValue==e.text&&f.dirty!=Vi&&Vp(n,f.outerDeco));if(!v&&f.update(e,n,r,i))return this.destroyBetween(this.index,c),f.dom!=p&&(this.changed=!0),this.index++,!0;if(!v&&(y=this.recreateWrapper(f,e,n,r,i,l)))return this.destroyBetween(this.index,c),this.top.children[this.index]=y,y.contentDOM&&(y.dirty=Wa,y.updateChildren(i,l+1),y.dirty=qr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,o,l){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Vp(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let c=Xo.create(this.top,n,r,i,o,l);if(c.contentDOM){c.children=e.children,e.children=[];for(let f of c.children)f.parent=c}return e.destroy(),c}addNode(e,n,r,i,o){let l=Xo.create(this.top,e,n,r,i,o);l.contentDOM&&l.updateChildren(i,o+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new qM(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof fl;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Wm)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Bn||Mn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new WM(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function v7(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,l=[];e:for(;i>0;){let c;for(;;)if(r){let h=n.children[r-1];if(h instanceof fl)n=h,r=h.children.length;else{c=h,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let f=c.node;if(f){if(f!=t.child(i-1))break;--i,o.set(c,i),l.push(c)}}return{index:i,matched:o,matches:l.reverse()}}function b7(t,e){return t.type.side-e.type.side}function S7(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let h=0;h<t.childCount;h++){let p=t.child(h);r(p,i,e.forChild(o,p),h),o+=p.nodeSize}return}let l=0,c=[],f=null;for(let h=0;;){let p,y;for(;l<i.length&&i[l].to==o;){let A=i[l++];A.widget&&(p?(y||(y=[p])).push(A):p=A)}if(p)if(y){y.sort(b7);for(let A=0;A<y.length;A++)n(y[A],h,!!f)}else n(p,h,!!f);let v,S;if(f)S=-1,v=f,f=null;else if(h<t.childCount)S=h,v=t.child(h++);else break;for(let A=0;A<c.length;A++)c[A].to<=o&&c.splice(A--,1);for(;l<i.length&&i[l].from<=o&&i[l].to>o;)c.push(i[l++]);let w=o+v.nodeSize;if(v.isText){let A=w;l<i.length&&i[l].from<A&&(A=i[l].from);for(let N=0;N<c.length;N++)c[N].to<A&&(A=c[N].to);A<w&&(f=v.cut(A-o),v=v.cut(0,A-o),w=A,S=-1)}else for(;l<i.length&&i[l].to<w;)l++;let T=v.isInline&&!v.isLeaf?c.filter(A=>!A.inline):c.slice();r(v,T,e.forChild(o,v),S),o=w}}function w7(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function E7(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let l=t.child(i++),c=o;if(o+=l.nodeSize,!l.isText)continue;let f=l.text;for(;i<t.childCount;){let h=t.child(i++);if(o+=h.nodeSize,!h.isText)break;f+=h.text}if(o>=n){if(o>=r&&f.slice(r-e.length-c,r-c)==e)return r-e.length;let h=c<r?f.lastIndexOf(e,r-c-1):-1;if(h>=0&&h+e.length+c>=n)return c+h;if(n==r&&f.length>=r+e.length-c&&f.slice(r-c,r-c+e.length)==e)return r}}return-1}function Bv(t,e,n,r,i){let o=[];for(let l=0,c=0;l<t.length;l++){let f=t[l],h=c,p=c+=f.size;h>=n||p<=e?o.push(f):(h<e&&o.push(f.slice(0,e-h,r)),i&&(o.push(i),i=void 0),p>n&&o.push(f.slice(n-h,f.size,r)))}return o}function X1(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,l=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let c=r.resolve(l),f,h;if(qm(n)){for(f=l;i&&!i.node;)i=i.parent;let y=i.node;if(i&&y.isAtom&&Re.isSelectable(y)&&i.parent&&!(y.isInline&&KU(n.focusNode,n.focusOffset,i.dom))){let v=i.posBefore;h=new Re(l==v?c:r.resolve(v))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let y=l,v=l;for(let S=0;S<n.rangeCount;S++){let w=n.getRangeAt(S);y=Math.min(y,t.docView.posFromDOM(w.startContainer,w.startOffset,1)),v=Math.max(v,t.docView.posFromDOM(w.endContainer,w.endOffset,-1))}if(y<0)return null;[f,l]=v==t.state.selection.anchor?[v,y]:[y,v],c=r.resolve(l)}else f=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(f<0)return null}let p=r.resolve(f);if(!h){let y=e=="pointer"||t.state.selection.head<c.pos&&!o?1:-1;h=J1(t,p,c,y)}return h}function XM(t){return t.editable?t.hasFocus():QM(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Ds(t,e=!1){let n=t.state.selection;if(JM(t,n),!!XM(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Mn){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&ul(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)T7(t);else{let{anchor:r,head:i}=n,o,l;CT&&!(n instanceof He)&&(n.$from.parent.inlineContent||(o=AT(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(l=AT(t,n.to))),t.docView.setSelection(r,i,t,e),CT&&(o&&kT(o),l&&kT(l)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&x7(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const CT=Bn||Mn&&zM<63;function AT(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Bn&&i&&i.contentEditable=="false")return P0(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return P0(i);if(o)return P0(o)}}function P0(t){return t.contentEditable="true",Bn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function kT(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function x7(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!XM(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function T7(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,wn(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&er&&Yo<=11&&(r.disabled=!0,r.disabled=!1)}function JM(t,e){if(e instanceof Re){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(MT(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else MT(t)}function MT(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function J1(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||He.between(e,n,r)}function OT(t){return t.editable&&!t.hasFocus()?!1:QM(t)}function QM(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function C7(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return ul(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Hv(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&Ue.findFrom(o,e)}function Oo(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function NT(t,e,n){let r=t.state.selection;if(r instanceof He)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let l=t.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return Oo(t,new He(r.$anchor,l))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=Hv(t.state,e);return i&&i instanceof Re?Oo(t,i):!1}else if(!(Hr&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,l;if(!o||o.isText)return!1;let c=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(l=t.docView.descAt(c))&&!l.contentDOM?Re.isSelectable(o)?Oo(t,new Re(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):id?Oo(t,new He(t.state.doc.resolve(e<0?c:c+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Re&&r.node.isInline)return Oo(t,new He(e>0?r.$to:r.$from));{let i=Hv(t.state,e);return i?Oo(t,i):!1}}}function $p(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function pf(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function sc(t,e){return e<0?A7(t):k7(t)}function A7(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,l=!1;for(ui&&n.nodeType==1&&r<$p(n)&&pf(n.childNodes[r],-1)&&(l=!0);;)if(r>0){if(n.nodeType!=1)break;{let c=n.childNodes[r-1];if(pf(c,-1))i=n,o=--r;else if(c.nodeType==3)n=c,r=n.nodeValue.length;else break}}else{if(ZM(n))break;{let c=n.previousSibling;for(;c&&pf(c,-1);)i=n.parentNode,o=wn(c),c=c.previousSibling;if(c)n=c,r=$p(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}l?Vv(t,n,r):i&&Vv(t,i,o)}function k7(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=$p(n),o,l;for(;;)if(r<i){if(n.nodeType!=1)break;let c=n.childNodes[r];if(pf(c,1))o=n,l=++r;else break}else{if(ZM(n))break;{let c=n.nextSibling;for(;c&&pf(c,1);)o=c.parentNode,l=wn(c)+1,c=c.nextSibling;if(c)n=c,r=0,i=$p(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&Vv(t,o,l)}function ZM(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function M7(t,e){for(;t&&e==t.childNodes.length&&!rd(t);)e=wn(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function O7(t,e){for(;t&&!e&&!rd(t);)e=wn(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Vv(t,e,n){if(e.nodeType!=3){let o,l;(l=M7(e,n))?(e=l,n=0):(o=O7(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(!r)return;if(qm(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Ds(t)},50)}function _T(t,e){let n=t.state.doc.resolve(e);if(!(Mn||JU)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),l=(o.top+o.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),l=(o.top+o.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function RT(t,e,n){let r=t.state.selection;if(r instanceof He&&!r.empty||n.indexOf("s")>-1||Hr&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let l=Hv(t.state,e);if(l&&l instanceof Re)return Oo(t,l)}if(!i.parent.inlineContent){let l=e<0?i:o,c=r instanceof vr?Ue.near(l,e):Ue.findFrom(l,e);return c?Oo(t,c):!1}return!1}function DT(t,e){if(!(t.state.selection instanceof He))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let l=t.state.tr;return e<0?l.delete(n.pos-o.nodeSize,n.pos):l.delete(n.pos,n.pos+o.nodeSize),t.dispatch(l),!0}return!1}function IT(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function N7(t){if(!Bn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;IT(t,r,"true"),setTimeout(()=>IT(t,r,"false"),20)}return!1}function _7(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function R7(t,e){let n=e.keyCode,r=_7(e);if(n==8||Hr&&n==72&&r=="c")return DT(t,-1)||sc(t,-1);if(n==46&&!e.shiftKey||Hr&&n==68&&r=="c")return DT(t,1)||sc(t,1);if(n==13||n==27)return!0;if(n==37||Hr&&n==66&&r=="c"){let i=n==37?_T(t,t.state.selection.from)=="ltr"?-1:1:-1;return NT(t,i,r)||sc(t,i)}else if(n==39||Hr&&n==70&&r=="c"){let i=n==39?_T(t,t.state.selection.from)=="ltr"?1:-1:1;return NT(t,i,r)||sc(t,i)}else{if(n==38||Hr&&n==80&&r=="c")return RT(t,-1,r)||sc(t,-1);if(n==40||Hr&&n==78&&r=="c")return N7(t)||RT(t,1,r)||sc(t,1);if(r==(Hr?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Q1(t,e){t.someProp("transformCopied",S=>{e=S(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let S=r.firstChild;n.push(S.type.name,S.attrs!=S.type.defaultAttrs?S.attrs:null),r=S.content}let l=t.someProp("clipboardSerializer")||gl.fromSchema(t.state.schema),c=sO(),f=c.createElement("div");f.appendChild(l.serializeFragment(r,{document:c}));let h=f.firstChild,p,y=0;for(;h&&h.nodeType==1&&(p=iO[h.nodeName.toLowerCase()]);){for(let S=p.length-1;S>=0;S--){let w=c.createElement(p[S]);for(;f.firstChild;)w.appendChild(f.firstChild);f.appendChild(w),y++}h=f.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${i} ${o}${y?` -${y}`:""} ${JSON.stringify(n)}`);let v=t.someProp("clipboardTextSerializer",S=>S(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:f,text:v,slice:e}}function eO(t,e,n,r,i){let o=i.parent.type.spec.code,l,c;if(!n&&!e)return null;let f=e&&(r||o||!n);if(f){if(t.someProp("transformPastedText",v=>{e=v(e,o||r,t)}),o)return e?new be(de.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):be.empty;let y=t.someProp("clipboardTextParser",v=>v(e,i,r,t));if(y)c=y;else{let v=i.marks(),{schema:S}=t.state,w=gl.fromSchema(S);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(T=>{let A=l.appendChild(document.createElement("p"));T&&A.appendChild(w.serializeNode(S.text(T,v)))})}}else t.someProp("transformPastedHTML",y=>{n=y(n,t)}),l=P7(n),id&&j7(l);let h=l&&l.querySelector("[data-pm-slice]"),p=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let y=+p[3];y>0;y--){let v=l.firstChild;for(;v&&v.nodeType!=1;)v=v.nextSibling;if(!v)break;l=v}if(c||(c=(t.someProp("clipboardParser")||t.someProp("domParser")||Ko.fromSchema(t.state.schema)).parseSlice(l,{preserveWhitespace:!!(f||p),context:i,ruleFromNode(v){return v.nodeName=="BR"&&!v.nextSibling&&v.parentNode&&!D7.test(v.parentNode.nodeName)?{ignore:!0}:null}})),p)c=z7(LT(c,+p[1],+p[2]),p[4]);else if(c=be.maxOpen(I7(c.content,i),!0),c.openStart||c.openEnd){let y=0,v=0;for(let S=c.content.firstChild;y<c.openStart&&!S.type.spec.isolating;y++,S=S.firstChild);for(let S=c.content.lastChild;v<c.openEnd&&!S.type.spec.isolating;v++,S=S.lastChild);c=LT(c,y,v)}return t.someProp("transformPasted",y=>{c=y(c,t)}),c}const D7=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function I7(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,l=[];if(t.forEach(c=>{if(!l)return;let f=i.findWrapping(c.type),h;if(!f)return l=null;if(h=l.length&&o.length&&nO(f,o,c,l[l.length-1],0))l[l.length-1]=h;else{l.length&&(l[l.length-1]=rO(l[l.length-1],o.length));let p=tO(c,f);l.push(p),i=i.matchType(p.type),o=f}}),l)return de.from(l)}return t}function tO(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,de.from(t));return t}function nO(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=nO(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(de.from(tO(n,t,i+1))))}}function rO(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,rO(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(de.empty,!0);return t.copy(n.append(r))}function $v(t,e,n,r,i,o){let l=e<0?t.firstChild:t.lastChild,c=l.content;return t.childCount>1&&(o=0),i<r-1&&(c=$v(c,e,n,r,i+1,o)),i>=n&&(c=e<0?l.contentMatchAt(0).fillBefore(c,o<=i).append(c):c.append(l.contentMatchAt(l.childCount).fillBefore(de.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,l.copy(c))}function LT(t,e,n){return e<t.openStart&&(t=new be($v(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new be($v(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const iO={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let PT=null;function sO(){return PT||(PT=document.implementation.createHTMLDocument("title"))}let j0=null;function L7(t){let e=window.trustedTypes;return e?(j0||(j0=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),j0.createHTML(t)):t}function P7(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=sO().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&iO[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=L7(t),i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function j7(t){let e=t.querySelectorAll(Mn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function z7(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:l}=t;for(let c=r.length-2;c>=0;c-=2){let f=n.nodes[r[c]];if(!f||f.hasRequiredAttrs())break;i=de.from(f.create(r[c+1],i)),o++,l++}return new be(i,o,l)}const Hn={},Vn={},U7={touchstart:!0,touchmove:!0};class B7{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function H7(t){for(let e in Hn){let n=Hn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{$7(t,r)&&!Z1(t,r)&&(t.editable||!(r.type in Vn))&&n(t,r)},U7[e]?{passive:!0}:void 0)}Bn&&t.dom.addEventListener("input",()=>null),Fv(t)}function Ho(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function V7(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Fv(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>Z1(t,r))})}function Z1(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function $7(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function F7(t,e){!Z1(t,e)&&Hn[e.type]&&(t.editable||!(e.type in Vn))&&Hn[e.type](t,e)}Vn.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!aO(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Ns&&Mn&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Rc&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Va(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||R7(t,n)?n.preventDefault():Ho(t,"key")};Vn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Vn.keypress=(t,e)=>{let n=e;if(aO(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Hr&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof He)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),o=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",l=>l(t,r.$from.pos,r.$to.pos,i,o))&&t.dispatch(o()),n.preventDefault()}};function Gm(t){return{left:t.clientX,top:t.clientY}}function q7(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function eb(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let l=o.depth+1;l>0;l--)if(t.someProp(e,c=>l>o.depth?c(t,n,o.nodeAfter,o.before(l),i,!0):c(t,n,o.node(l),o.before(l),i,!1)))return!0;return!1}function Tc(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function W7(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Re.isSelectable(r)?(Tc(t,new Re(n)),!0):!1}function G7(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof Re&&(r=n.node);let o=t.state.doc.resolve(e);for(let l=o.depth+1;l>0;l--){let c=l>o.depth?o.nodeAfter:o.node(l);if(Re.isSelectable(c)){r&&n.$from.depth>0&&l>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(l);break}}return i!=null?(Tc(t,Re.create(t.state.doc,i)),!0):!1}function K7(t,e,n,r,i){return eb(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?G7(t,n):W7(t,n))}function Y7(t,e,n,r){return eb(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function X7(t,e,n,r){return eb(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||J7(t,n,r)}function J7(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Tc(t,He.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let l=o>i.depth?i.nodeAfter:i.node(o),c=i.before(o);if(l.inlineContent)Tc(t,He.create(r,c+1,c+1+l.content.size));else if(Re.isSelectable(l))Tc(t,Re.create(r,c));else continue;return!0}}function tb(t){return Fp(t)}const oO=Hr?"metaKey":"ctrlKey";Hn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=tb(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&q7(n,t.input.lastClick)&&!n[oO]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o,button:n.button};let l=t.posAtCoords(Gm(n));l&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Q7(t,l,n,!!r)):(o=="doubleClick"?Y7:X7)(t,l.pos,l.inside,n)?n.preventDefault():Ho(t,"pointer"))};class Q7{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[oO],this.allowDefault=r.shiftKey;let o,l;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),l=n.inside;else{let p=e.state.doc.resolve(n.pos);o=p.parent,l=p.depth?p.before():0}const c=i?null:r.target,f=c?e.docView.nearestDesc(c,!0):null;this.target=f&&f.dom.nodeType==1?f.dom:null;let{selection:h}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||h instanceof Re&&h.from<=l&&h.to>l)&&(this.mightDrag={node:o,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ui&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ho(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ds(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Gm(e))),this.updateAllowDefault(e),this.allowDefault||!n?Ho(this.view,"pointer"):K7(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Bn&&this.mightDrag&&!this.mightDrag.node.isAtom||Mn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Tc(this.view,Ue.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Ho(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ho(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Hn.touchstart=t=>{t.input.lastTouch=Date.now(),tb(t),Ho(t,"pointer")};Hn.touchmove=t=>{t.input.lastTouch=Date.now(),Ho(t,"pointer")};Hn.contextmenu=t=>tb(t);function aO(t,e){return t.composing?!0:Bn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const Z7=Ns?5e3:-1;Vn.compositionstart=Vn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof He&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Fp(t,!0),t.markCursor=null;else if(Fp(t,!e.selection.empty),ui&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let l=o<0?i.lastChild:i.childNodes[o-1];if(!l)break;if(l.nodeType==3){let c=t.domSelection();c&&c.collapse(l,l.nodeValue.length);break}else i=l,o=-1}}t.input.composing=!0}lO(t,Z7)};Vn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,lO(t,20))};function lO(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Fp(t),e))}function cO(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=tB());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function eB(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=WU(e.focusNode,e.focusOffset),r=GU(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,o=t.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let l=n.pmViewDesc;if(!(!l||!l.isText(n.nodeValue)))return r}}return n||r}function tB(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Fp(t,e=!1){if(!(Ns&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),cO(t),e||t.docView&&t.docView.dirty){let n=X1(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function nB(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Lf=er&&Yo<15||Rc&&QU<604;Hn.copy=Vn.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=Lf?null:n.clipboardData,l=r.content(),{dom:c,text:f}=Q1(t,l);o?(n.preventDefault(),o.clearData(),o.setData("text/html",c.innerHTML),o.setData("text/plain",f)):nB(t,c),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function rB(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function iB(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Pf(t,r.value,null,i,e):Pf(t,r.textContent,r.innerHTML,i,e)},50)}function Pf(t,e,n,r,i){let o=eO(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",f=>f(t,i,o||be.empty)))return!0;if(!o)return!1;let l=rB(o),c=l?t.state.tr.replaceSelectionWith(l,r):t.state.tr.replaceSelection(o);return t.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function uO(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Vn.paste=(t,e)=>{let n=e;if(t.composing&&!Ns)return;let r=Lf?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Pf(t,uO(r),r.getData("text/html"),i,n)?n.preventDefault():iB(t,n)};class fO{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const sB=Hr?"altKey":"ctrlKey";function dO(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[sB]}Hn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(Gm(n)),l;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof Re?i.to-1:i.to))){if(r&&r.mightDrag)l=Re.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let y=t.docView.nearestDesc(n.target,!0);y&&y.node.type.spec.draggable&&y!=t.docView&&(l=Re.create(t.state.doc,y.posBefore))}}let c=(l||t.state.selection).content(),{dom:f,text:h,slice:p}=Q1(t,c);(!n.dataTransfer.files.length||!Mn||zM>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Lf?"Text":"text/html",f.innerHTML),n.dataTransfer.effectAllowed="copyMove",Lf||n.dataTransfer.setData("text/plain",h),t.dragging=new fO(p,dO(t,n),l)};Hn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Vn.dragover=Vn.dragenter=(t,e)=>e.preventDefault();Vn.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Gm(n));if(!i)return;let o=t.state.doc.resolve(i.pos),l=r&&r.slice;l?t.someProp("transformPasted",w=>{l=w(l,t)}):l=eO(t,uO(n.dataTransfer),Lf?null:n.dataTransfer.getData("text/html"),!1,o);let c=!!(r&&dO(t,n));if(t.someProp("handleDrop",w=>w(t,n,l||be.empty,c))){n.preventDefault();return}if(!l)return;n.preventDefault();let f=l?MM(t.state.doc,o.pos,l):o.pos;f==null&&(f=o.pos);let h=t.state.tr;if(c){let{node:w}=r;w?w.replace(h):h.deleteSelection()}let p=h.mapping.map(f),y=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,v=h.doc;if(y?h.replaceRangeWith(p,p,l.content.firstChild):h.replaceRange(p,p,l),h.doc.eq(v))return;let S=h.doc.resolve(p);if(y&&Re.isSelectable(l.content.firstChild)&&S.nodeAfter&&S.nodeAfter.sameMarkup(l.content.firstChild))h.setSelection(new Re(S));else{let w=h.mapping.map(f);h.mapping.maps[h.mapping.maps.length-1].forEach((T,A,N,L)=>w=L),h.setSelection(J1(t,S,h.doc.resolve(w)))}t.focus(),t.dispatch(h.setMeta("uiEvent","drop"))};Hn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Ds(t)},20))};Hn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Hn.beforeinput=(t,e)=>{if(Mn&&Ns&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,Va(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Vn)Hn[t]=Vn[t];function jf(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class qp{constructor(e,n){this.toDOM=e,this.spec=n||el,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:l}=e.mapResult(n.from+i,this.side<0?-1:1);return l?null:new zn(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof qp&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&jf(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Jo{constructor(e,n){this.attrs=e,this.spec=n||el}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,l=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=l?null:new zn(o,l,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Jo&&jf(this.attrs,e.attrs)&&jf(this.spec,e.spec)}static is(e){return e.type instanceof Jo}destroy(){}}class nb{constructor(e,n){this.attrs=e,this.spec=n||el}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let l=e.mapResult(n.to+i,-1);return l.deleted||l.pos<=o.pos?null:new zn(o.pos-r,l.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof nb&&jf(this.attrs,e.attrs)&&jf(this.spec,e.spec)}destroy(){}}class zn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new zn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new zn(e,e,new qp(n,r))}static inline(e,n,r,i){return new zn(e,n,new Jo(r,i))}static node(e,n,r,i){return new zn(e,n,new nb(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Jo}get widget(){return this.type instanceof qp}}const dc=[],el={};class zt{constructor(e,n){this.local=e.length?e:dc,this.children=n.length?n:dc}static create(e,n){return n.length?Wp(n,e,0,el):An}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,o){for(let l=0;l<this.local.length;l++){let c=this.local[l];c.from<=n&&c.to>=e&&(!o||o(c.spec))&&r.push(c.copy(c.from+i,c.to+i))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<n&&this.children[l+1]>e){let c=this.children[l]+1;this.children[l+2].findInner(e-c,n-c,r,i+c,o)}}map(e,n,r){return this==An||e.maps.length==0?this:this.mapInner(e,n,0,0,r||el)}mapInner(e,n,r,i,o){let l;for(let c=0;c<this.local.length;c++){let f=this.local[c].map(e,r,i);f&&f.type.valid(n,f)?(l||(l=[])).push(f):o.onRemove&&o.onRemove(this.local[c].spec)}return this.children.length?oB(this.children,l||[],e,n,r,i,o):l?new zt(l.sort(tl),dc):An}add(e,n){return n.length?this==An?zt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((c,f)=>{let h=f+r,p;if(p=pO(n,c,h)){for(i||(i=this.children.slice());o<i.length&&i[o]<f;)o+=3;i[o]==f?i[o+2]=i[o+2].addInner(c,p,h+1):i.splice(o,0,f,f+c.nodeSize,Wp(p,c,h+1,el)),o+=3}});let l=hO(o?mO(n):n,-r);for(let c=0;c<l.length;c++)l[c].type.valid(e,l[c])||l.splice(c--,1);return new zt(l.length?this.local.concat(l).sort(tl):this.local,i||this.children)}remove(e){return e.length==0||this==An?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let l,c=r[o]+n,f=r[o+1]+n;for(let p=0,y;p<e.length;p++)(y=e[p])&&y.from>c&&y.to<f&&(e[p]=null,(l||(l=[])).push(y));if(!l)continue;r==this.children&&(r=this.children.slice());let h=r[o+2].removeInner(l,c+1);h!=An?r[o+2]=h:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,l;o<e.length;o++)if(l=e[o])for(let c=0;c<i.length;c++)i[c].eq(l,n)&&(i==this.local&&(i=this.local.slice()),i.splice(c--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new zt(i,r):An}forChild(e,n){if(this==An)return this;if(n.isLeaf)return zt.empty;let r,i;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(r=this.children[c+2]);break}let o=e+1,l=o+n.content.size;for(let c=0;c<this.local.length;c++){let f=this.local[c];if(f.from<l&&f.to>o&&f.type instanceof Jo){let h=Math.max(o,f.from)-o,p=Math.min(l,f.to)-o;h<p&&(i||(i=[])).push(f.copy(h,p))}}if(i){let c=new zt(i.sort(tl),dc);return r?new jo([c,r]):c}return r||An}eq(e){if(this==e)return!0;if(!(e instanceof zt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return rb(this.localsInner(e))}localsInner(e){if(this==An)return dc;if(e.inlineContent||!this.local.some(Jo.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Jo||n.push(this.local[r]);return n}forEachSet(e){e(this)}}zt.empty=new zt([],[]);zt.removeOverlap=rb;const An=zt.empty;class jo{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,el));return jo.from(r)}forChild(e,n){if(n.isLeaf)return zt.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=An&&(o instanceof jo?r=r.concat(o.members):r.push(o))}return jo.from(r)}eq(e){if(!(e instanceof jo)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let l=0;l<o.length;l++)n.push(o[l])}}return n?rb(r?n:n.sort(tl)):dc}static from(e){switch(e.length){case 0:return An;case 1:return e[0];default:return new jo(e.every(n=>n instanceof zt)?e:e.reduce((n,r)=>n.concat(r instanceof zt?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function oB(t,e,n,r,i,o,l){let c=t.slice();for(let h=0,p=o;h<n.maps.length;h++){let y=0;n.maps[h].forEach((v,S,w,T)=>{let A=T-w-(S-v);for(let N=0;N<c.length;N+=3){let L=c[N+1];if(L<0||v>L+p-y)continue;let U=c[N]+p-y;S>=U?c[N+1]=v<=U?-2:-1:v>=p&&A&&(c[N]+=A,c[N+1]+=A)}y+=A}),p=n.maps[h].map(p,-1)}let f=!1;for(let h=0;h<c.length;h+=3)if(c[h+1]<0){if(c[h+1]==-2){f=!0,c[h+1]=-1;continue}let p=n.map(t[h]+o),y=p-i;if(y<0||y>=r.content.size){f=!0;continue}let v=n.map(t[h+1]+o,-1),S=v-i,{index:w,offset:T}=r.content.findIndex(y),A=r.maybeChild(w);if(A&&T==y&&T+A.nodeSize==S){let N=c[h+2].mapInner(n,A,p+1,t[h]+o+1,l);N!=An?(c[h]=y,c[h+1]=S,c[h+2]=N):(c[h+1]=-2,f=!0)}else f=!0}if(f){let h=aB(c,t,e,n,i,o,l),p=Wp(h,r,0,l);e=p.local;for(let y=0;y<c.length;y+=3)c[y+1]<0&&(c.splice(y,3),y-=3);for(let y=0,v=0;y<p.children.length;y+=3){let S=p.children[y];for(;v<c.length&&c[v]<S;)v+=3;c.splice(v,0,p.children[y],p.children[y+1],p.children[y+2])}}return new zt(e.sort(tl),c)}function hO(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new zn(i.from+e,i.to+e,i.type))}return n}function aB(t,e,n,r,i,o,l){function c(f,h){for(let p=0;p<f.local.length;p++){let y=f.local[p].map(r,i,h);y?n.push(y):l.onRemove&&l.onRemove(f.local[p].spec)}for(let p=0;p<f.children.length;p+=3)c(f.children[p+2],f.children[p]+h+1)}for(let f=0;f<t.length;f+=3)t[f+1]==-1&&c(t[f+2],e[f]+o+1);return n}function pO(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,l;o<t.length;o++)(l=t[o])&&l.from>n&&l.to<r&&((i||(i=[])).push(l),t[o]=null);return i}function mO(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Wp(t,e,n,r){let i=[],o=!1;e.forEach((c,f)=>{let h=pO(t,c,f+n);if(h){o=!0;let p=Wp(h,c,n+f+1,r);p!=An&&i.push(f,f+c.nodeSize,p)}});let l=hO(o?mO(t):t,-n).sort(tl);for(let c=0;c<l.length;c++)l[c].type.valid(e,l[c])||(r.onRemove&&r.onRemove(l[c].spec),l.splice(c--,1));return l.length||i.length?new zt(l,i):An}function tl(t,e){return t.from-e.from||t.to-e.to}function rb(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),jT(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),jT(e,i,r.copy(o.from,r.to)));break}}}return e}function jT(t,e,n){for(;e<t.length&&tl(n,t[e])>0;)e++;t.splice(e,0,n)}function z0(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=An&&e.push(r)}),t.cursorWrapper&&e.push(zt.create(t.state.doc,[t.cursorWrapper.deco])),jo.from(e)}const lB={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},cB=er&&Yo<=11;class uB{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class fB{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new uB,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);er&&Yo<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),cB&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,lB)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(OT(this.view)){if(this.suppressingSelectionUpdates)return Ds(this.view);if(er&&Yo<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ul(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=_c(o))n.add(o);for(let o=e.anchorNode;o;o=_c(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&OT(e)&&!this.ignoreSelectionChange(r),o=-1,l=-1,c=!1,f=[];if(e.editable)for(let p=0;p<n.length;p++){let y=this.registerMutation(n[p],f);y&&(o=o<0?y.from:Math.min(y.from,o),l=l<0?y.to:Math.max(y.to,l),y.typeOver&&(c=!0))}if(ui&&f.length){let p=f.filter(y=>y.nodeName=="BR");if(p.length==2){let[y,v]=p;y.parentNode&&y.parentNode.parentNode==v.parentNode?v.remove():y.remove()}else{let{focusNode:y}=this.currentSelection;for(let v of p){let S=v.parentNode;S&&S.nodeName=="LI"&&(!y||pB(e,y)!=S)&&v.remove()}}}let h=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&qm(r)&&(h=X1(e))&&h.eq(Ue.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Ds(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,l),dB(e)),this.handleDOMChange(o,l,c,f),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Ds(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let y=e.addedNodes[p];n.push(y),y.nodeType==3&&(this.lastChangedTextNode=y)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(er&&Yo<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:y,nextSibling:v}=e.addedNodes[p];(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(i=y),(!v||Array.prototype.indexOf.call(e.addedNodes,v)<0)&&(o=v)}let l=i&&i.parentNode==e.target?wn(i)+1:0,c=r.localPosFromDOM(e.target,l,-1),f=o&&o.parentNode==e.target?wn(o):e.target.childNodes.length,h=r.localPosFromDOM(e.target,f,1);return{from:c,to:h}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let zT=new WeakMap,UT=!1;function dB(t){if(!zT.has(t)&&(zT.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=ui,UT)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),UT=!0}}function BT(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,l=t.domAtPos(t.state.selection.anchor);return ul(l.node,l.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function hB(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return BT(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?BT(t,n):null}function pB(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function mB(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:l,to:c}=t.docView.parseRange(e,n),f=t.domSelectionRange(),h,p=f.anchorNode;if(p&&t.dom.contains(p.nodeType==1?p:p.parentNode)&&(h=[{node:p,offset:f.anchorOffset}],qm(f)||h.push({node:f.focusNode,offset:f.focusOffset})),Mn&&t.input.lastKeyCode===8)for(let A=o;A>i;A--){let N=r.childNodes[A-1],L=N.pmViewDesc;if(N.nodeName=="BR"&&!L){o=A;break}if(!L||L.size)break}let y=t.state.doc,v=t.someProp("domParser")||Ko.fromSchema(t.state.schema),S=y.resolve(l),w=null,T=v.parse(r,{topNode:S.parent,topMatch:S.parent.contentMatchAt(S.index()),topOpen:!0,from:i,to:o,preserveWhitespace:S.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:gB,context:S});if(h&&h[0].pos!=null){let A=h[0].pos,N=h[1]&&h[1].pos;N==null&&(N=A),w={anchor:A+l,head:N+l}}return{doc:T,sel:w,from:l,to:c}}function gB(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Bn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Bn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const yB=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function vB(t,e,n,r,i){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let O=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,I=X1(t,O);if(I&&!t.state.selection.eq(I)){if(Mn&&Ns&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",B=>B(t,Va(13,"Enter"))))return;let R=t.state.tr.setSelection(I);O=="pointer"?R.setMeta("pointer",!0):O=="key"&&R.scrollIntoView(),o&&R.setMeta("composition",o),t.dispatch(R)}return}let l=t.state.doc.resolve(e),c=l.sharedDepth(n);e=l.before(c+1),n=t.state.doc.resolve(n).after(c+1);let f=t.state.selection,h=mB(t,e,n),p=t.state.doc,y=p.slice(h.from,h.to),v,S;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(v=t.state.selection.to,S="end"):(v=t.state.selection.from,S="start"),t.input.lastKeyCode=null;let w=wB(y.content,h.doc.content,h.from,v,S);if(w&&t.input.domChangeCount++,(Rc&&t.input.lastIOSEnter>Date.now()-225||Ns)&&i.some(O=>O.nodeType==1&&!yB.test(O.nodeName))&&(!w||w.endA>=w.endB)&&t.someProp("handleKeyDown",O=>O(t,Va(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!w)if(r&&f instanceof He&&!f.empty&&f.$head.sameParent(f.$anchor)&&!t.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))w={start:f.from,endA:f.to,endB:f.to};else{if(h.sel){let O=HT(t,t.state.doc,h.sel);if(O&&!O.eq(t.state.selection)){let I=t.state.tr.setSelection(O);o&&I.setMeta("composition",o),t.dispatch(I)}}return}t.state.selection.from<t.state.selection.to&&w.start==w.endB&&t.state.selection instanceof He&&(w.start>t.state.selection.from&&w.start<=t.state.selection.from+2&&t.state.selection.from>=h.from?w.start=t.state.selection.from:w.endA<t.state.selection.to&&w.endA>=t.state.selection.to-2&&t.state.selection.to<=h.to&&(w.endB+=t.state.selection.to-w.endA,w.endA=t.state.selection.to)),er&&Yo<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>h.from&&h.doc.textBetween(w.start-h.from-1,w.start-h.from+1)=="  "&&(w.start--,w.endA--,w.endB--);let T=h.doc.resolveNoCache(w.start-h.from),A=h.doc.resolveNoCache(w.endB-h.from),N=p.resolve(w.start),L=T.sameParent(A)&&T.parent.inlineContent&&N.end()>=w.endA,U;if((Rc&&t.input.lastIOSEnter>Date.now()-225&&(!L||i.some(O=>O.nodeName=="DIV"||O.nodeName=="P"))||!L&&T.pos<h.doc.content.size&&(!T.sameParent(A)||!T.parent.inlineContent)&&!/\S/.test(h.doc.textBetween(T.pos,A.pos,"",""))&&(U=Ue.findFrom(h.doc.resolve(T.pos+1),1,!0))&&U.head>T.pos)&&t.someProp("handleKeyDown",O=>O(t,Va(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>w.start&&SB(p,w.start,w.endA,T,A)&&t.someProp("handleKeyDown",O=>O(t,Va(8,"Backspace")))){Ns&&Mn&&t.domObserver.suppressSelectionUpdates();return}Mn&&w.endB==w.start&&(t.input.lastChromeDelete=Date.now()),Ns&&!L&&T.start()!=A.start()&&A.parentOffset==0&&T.depth==A.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==w.endA&&(w.endB-=2,A=h.doc.resolveNoCache(w.endB-h.from),setTimeout(()=>{t.someProp("handleKeyDown",function(O){return O(t,Va(13,"Enter"))})},20));let K=w.start,H=w.endA,j=O=>{let I=O||t.state.tr.replace(K,H,h.doc.slice(w.start-h.from,w.endB-h.from));if(h.sel){let R=HT(t,I.doc,h.sel);R&&!(Mn&&t.composing&&R.empty&&(w.start!=w.endB||t.input.lastChromeDelete<Date.now()-100)&&(R.head==K||R.head==I.mapping.map(H)-1)||er&&R.empty&&R.head==K)&&I.setSelection(R)}return o&&I.setMeta("composition",o),I.scrollIntoView()},_;if(L){if(T.pos==A.pos){er&&Yo<=11&&T.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ds(t),20));let O=j(t.state.tr.delete(K,H)),I=p.resolve(w.start).marksAcross(p.resolve(w.endA));I&&O.ensureMarks(I),t.dispatch(O)}else if(w.endA==w.endB&&(_=bB(T.parent.content.cut(T.parentOffset,A.parentOffset),N.parent.content.cut(N.parentOffset,w.endA-N.start())))){let O=j(t.state.tr);_.type=="add"?O.addMark(K,H,_.mark):O.removeMark(K,H,_.mark),t.dispatch(O)}else if(T.parent.child(T.index()).isText&&T.index()==A.index()-(A.textOffset?0:1)){let O=T.parent.textBetween(T.parentOffset,A.parentOffset),I=()=>j(t.state.tr.insertText(O,K,H));t.someProp("handleTextInput",R=>R(t,K,H,O,I))||t.dispatch(I())}}else t.dispatch(j())}function HT(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:J1(t,e.resolve(n.anchor),e.resolve(n.head))}function bB(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,l,c,f;for(let p=0;p<r.length;p++)i=r[p].removeFromSet(i);for(let p=0;p<n.length;p++)o=n[p].removeFromSet(o);if(i.length==1&&o.length==0)c=i[0],l="add",f=p=>p.mark(c.addToSet(p.marks));else if(i.length==0&&o.length==1)c=o[0],l="remove",f=p=>p.mark(c.removeFromSet(p.marks));else return null;let h=[];for(let p=0;p<e.childCount;p++)h.push(f(e.child(p)));if(de.from(h).eq(t))return{mark:c,type:l}}function SB(t,e,n,r,i){if(n-e<=i.pos-r.pos||U0(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(!r.parent.isTextblock){let c=o.nodeAfter;return c!=null&&n==e+c.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let l=t.resolve(U0(o,!0,!0));return!l.parent.isTextblock||l.pos>n||U0(l,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(l.parent.content)}function U0(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function wB(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:l,b:c}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let f=Math.max(0,o-Math.min(l,c));r-=l+f-o}if(l<o&&t.size<e.size){let f=r<=o&&r>=l?o-r:0;o-=f,o&&o<e.size&&VT(e.textBetween(o-1,o+1))&&(o+=f?1:-1),c=o+(c-l),l=o}else if(c<o){let f=r<=o&&r>=c?o-r:0;o-=f,o&&o<t.size&&VT(t.textBetween(o-1,o+1))&&(o+=f?1:-1),l=o+(l-c),c=o}return{start:o,endA:l,endB:c}}function VT(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class gO{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new B7,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(GT),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=qT(this),FT(this),this.nodeViews=WT(this),this.docView=xT(this.state.doc,$T(this),z0(this),this.dom,this),this.domObserver=new fB(this,(r,i,o,l)=>vB(this,r,i,o,l)),this.domObserver.start(),H7(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Fv(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(GT),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,o=!1,l=!1;e.storedMarks&&this.composing&&(cO(this),l=!0),this.state=e;let c=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(c||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let S=WT(this);xB(S,this.nodeViews)&&(this.nodeViews=S,o=!0)}(c||n.handleDOMEvents!=this._props.handleDOMEvents)&&Fv(this),this.editable=qT(this),FT(this);let f=z0(this),h=$T(this),p=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",y=o||!this.docView.matchesNode(e.doc,h,f);(y||!e.selection.eq(i.selection))&&(l=!0);let v=p=="preserve"&&l&&this.dom.style.overflowAnchor==null&&t7(this);if(l){this.domObserver.stop();let S=y&&(er||Mn)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&EB(i.selection,e.selection);if(y){let w=Mn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=eB(this)),(o||!this.docView.update(e.doc,h,f,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=xT(e.doc,h,f,this.dom,this)),w&&!this.trackWrites&&(S=!0)}S||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&C7(this))?Ds(this,S):(JM(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():v&&n7(v)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Re){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&yT(this,n.getBoundingClientRect(),e)}else yT(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new fO(e.slice,e.move,i<0?void 0:Re.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let l=0;l<this.directPlugins.length;l++){let c=this.directPlugins[l].props[e];if(c!=null&&(i=n?n(c):c))return i}let o=this.state.plugins;if(o)for(let l=0;l<o.length;l++){let c=o[l].props[e];if(c!=null&&(i=n?n(c):c))return i}}hasFocus(){if(er){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&r7(this.dom),Ds(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return l7(this,e)}coordsAtPos(e,n=1){return $M(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return h7(this,n||this.state,e)}pasteHTML(e,n){return Pf(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Pf(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return Q1(this,e)}destroy(){this.docView&&(V7(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],z0(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,FU())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return F7(this,e)}domSelectionRange(){let e=this.domSelection();return e?Bn&&this.root.nodeType===11&&YU(this.dom.ownerDocument)==this.dom&&hB(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}gO.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function $T(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[zn.node(0,t.state.doc.content.size,e)]}function FT(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:zn.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function qT(t){return!t.someProp("editable",e=>e(t.state)===!1)}function EB(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function WT(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function xB(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function GT(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ea={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Gp={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},TB=typeof navigator<"u"&&/Mac/.test(navigator.platform),CB=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var En=0;En<10;En++)ea[48+En]=ea[96+En]=String(En);for(var En=1;En<=24;En++)ea[En+111]="F"+En;for(var En=65;En<=90;En++)ea[En]=String.fromCharCode(En+32),Gp[En]=String.fromCharCode(En);for(var B0 in ea)Gp.hasOwnProperty(B0)||(Gp[B0]=ea[B0]);function AB(t){var e=TB&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||CB&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Gp:ea)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const kB=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),MB=typeof navigator<"u"&&/Win/.test(navigator.platform);function OB(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,l;for(let c=0;c<e.length-1;c++){let f=e[c];if(/^(cmd|meta|m)$/i.test(f))l=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))i=!0;else if(/^s(hift)?$/i.test(f))o=!0;else if(/^mod$/i.test(f))kB?l=!0:i=!0;else throw new Error("Unrecognized modifier name: "+f)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),l&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function NB(t){let e=Object.create(null);for(let n in t)e[OB(n)]=t[n];return e}function H0(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function _B(t){return new Pt({props:{handleKeyDown:ib(t)}})}function ib(t){let e=NB(t);return function(n,r){let i=AB(r),o,l=e[H0(i,r)];if(l&&l(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let c=e[H0(i,r,!1)];if(c&&c(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(MB&&r.ctrlKey&&r.altKey)&&(o=ea[r.keyCode])&&o!=i){let c=e[H0(o,r)];if(c&&c(n.state,n.dispatch,n))return!0}}return!1}}const sb=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function yO(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const vO=(t,e,n)=>{let r=yO(t,n);if(!r)return!1;let i=ob(r);if(!i){let l=r.blockRange(),c=l&&qc(l);return c==null?!1:(e&&e(t.tr.lift(l,c).scrollIntoView()),!0)}let o=i.nodeBefore;if(kO(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Dc(o,"end")||Re.isSelectable(o)))for(let l=r.depth;;l--){let c=$m(t.doc,r.before(l),r.after(l),be.empty);if(c&&c.slice.size<c.to-c.from){if(e){let f=t.tr.step(c);f.setSelection(Dc(o,"end")?Ue.findFrom(f.doc.resolve(f.mapping.map(i.pos,-1)),-1):Re.create(f.doc,i.pos-o.nodeSize)),e(f.scrollIntoView())}return!0}if(l==1||r.node(l-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},RB=(t,e,n)=>{let r=yO(t,n);if(!r)return!1;let i=ob(r);return i?bO(t,i,e):!1},DB=(t,e,n)=>{let r=wO(t,n);if(!r)return!1;let i=ab(r);return i?bO(t,i,e):!1};function bO(t,e,n){let r=e.nodeBefore,i=r,o=e.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let p=i.lastChild;if(!p)return!1;i=p}let l=e.nodeAfter,c=l,f=e.pos+1;for(;!c.isTextblock;f++){if(c.type.spec.isolating)return!1;let p=c.firstChild;if(!p)return!1;c=p}let h=$m(t.doc,o,f,be.empty);if(!h||h.from!=o||h instanceof dn&&h.slice.size>=f-o)return!1;if(n){let p=t.tr.step(h);p.setSelection(He.create(p.doc,o)),n(p.scrollIntoView())}return!0}function Dc(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const SO=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=ob(r)}let l=o&&o.nodeBefore;return!l||!Re.isSelectable(l)?!1:(e&&e(t.tr.setSelection(Re.create(t.doc,o.pos-l.nodeSize)).scrollIntoView()),!0)};function ob(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function wO(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const EO=(t,e,n)=>{let r=wO(t,n);if(!r)return!1;let i=ab(r);if(!i)return!1;let o=i.nodeAfter;if(kO(t,i,e,1))return!0;if(r.parent.content.size==0&&(Dc(o,"start")||Re.isSelectable(o))){let l=$m(t.doc,r.before(),r.after(),be.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=t.tr.step(l);c.setSelection(Dc(o,"start")?Ue.findFrom(c.doc.resolve(c.mapping.map(i.pos)),1):Re.create(c.doc,c.mapping.map(i.pos))),e(c.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},xO=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=ab(r)}let l=o&&o.nodeAfter;return!l||!Re.isSelectable(l)?!1:(e&&e(t.tr.setSelection(Re.create(t.doc,o.pos)).scrollIntoView()),!0)};function ab(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const IB=(t,e)=>{let n=t.selection,r=n instanceof Re,i;if(r){if(n.node.isTextblock||!aa(t.doc,n.from))return!1;i=n.from}else if(i=Vm(t.doc,n.from,-1),i==null)return!1;if(e){let o=t.tr.join(i);r&&o.setSelection(Re.create(o.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},LB=(t,e)=>{let n=t.selection,r;if(n instanceof Re){if(n.node.isTextblock||!aa(t.doc,n.to))return!1;r=n.to}else if(r=Vm(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},PB=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),o=i&&qc(i);return o==null?!1:(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},TO=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function lb(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const jB=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),l=lb(i.contentMatchAt(o));if(!l||!i.canReplaceWith(o,o,l))return!1;if(e){let c=n.after(),f=t.tr.replaceWith(c,c,l.createAndFill());f.setSelection(Ue.near(f.doc.resolve(c),1)),e(f.scrollIntoView())}return!0},CO=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof vr||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=lb(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let l=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,c=t.tr.insert(l,o.createAndFill());c.setSelection(He.create(c.doc,l+1)),e(c.scrollIntoView())}return!0},AO=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Rs(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&qc(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function zB(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof Re&&e.selection.node.isBlock)return!r.parentOffset||!Rs(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let o=[],l,c,f=!1,h=!1;for(let S=r.depth;;S--)if(r.node(S).isBlock){f=r.end(S)==r.pos+(r.depth-S),h=r.start(S)==r.pos-(r.depth-S),c=lb(r.node(S-1).contentMatchAt(r.indexAfter(S-1))),o.unshift(f&&c?{type:c}:null),l=S;break}else{if(S==1)return!1;o.unshift(null)}let p=e.tr;(e.selection instanceof He||e.selection instanceof vr)&&p.deleteSelection();let y=p.mapping.map(r.pos),v=Rs(p.doc,y,o.length,o);if(v||(o[0]=c?{type:c}:null,v=Rs(p.doc,y,o.length,o)),!v)return!1;if(p.split(y,o.length,o),!f&&h&&r.node(l).type!=c){let S=p.mapping.map(r.before(l)),w=p.doc.resolve(S);c&&r.node(l-1).canReplaceWith(w.index(),w.index()+1,c)&&p.setNodeMarkup(p.mapping.map(r.before(l)),c)}return n&&n(p.scrollIntoView()),!0}}const UB=zB(),BB=(t,e)=>{let{$from:n,to:r}=t.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),e&&e(t.tr.setSelection(Re.create(t.doc,i))),!0)};function HB(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||aa(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function kO(t,e,n,r){let i=e.nodeBefore,o=e.nodeAfter,l,c,f=i.type.spec.isolating||o.type.spec.isolating;if(!f&&HB(t,e,n))return!0;let h=!f&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(l=(c=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&c.matchType(l[0]||o.type).validEnd){if(n){let S=e.pos+o.nodeSize,w=de.empty;for(let N=l.length-1;N>=0;N--)w=de.from(l[N].create(null,w));w=de.from(i.copy(w));let T=t.tr.step(new hn(e.pos-1,S,e.pos,S,new be(w,1,0),l.length,!0)),A=T.doc.resolve(S+2*l.length);A.nodeAfter&&A.nodeAfter.type==i.type&&aa(T.doc,A.pos)&&T.join(A.pos),n(T.scrollIntoView())}return!0}let p=o.type.spec.isolating||r>0&&f?null:Ue.findFrom(e,1),y=p&&p.$from.blockRange(p.$to),v=y&&qc(y);if(v!=null&&v>=e.depth)return n&&n(t.tr.lift(y,v).scrollIntoView()),!0;if(h&&Dc(o,"start",!0)&&Dc(i,"end")){let S=i,w=[];for(;w.push(S),!S.isTextblock;)S=S.lastChild;let T=o,A=1;for(;!T.isTextblock;T=T.firstChild)A++;if(S.canReplace(S.childCount,S.childCount,T.content)){if(n){let N=de.empty;for(let U=w.length-1;U>=0;U--)N=de.from(w[U].copy(N));let L=t.tr.step(new hn(e.pos-w.length,e.pos+o.nodeSize,e.pos+A,e.pos+o.nodeSize-A,new be(N,w.length,0),0,!0));n(L.scrollIntoView())}return!0}}return!1}function MO(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(He.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const VB=MO(-1),$B=MO(1);function FB(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,l=i.blockRange(o),c=l&&G1(l,t,e);return c?(r&&r(n.tr.wrap(l,c).scrollIntoView()),!0):!1}}function KT(t,e=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:l},$to:{pos:c}}=n.selection.ranges[o];n.doc.nodesBetween(l,c,(f,h)=>{if(i)return!1;if(!(!f.isTextblock||f.hasMarkup(t,e)))if(f.type==t)i=!0;else{let p=n.doc.resolve(h),y=p.index();i=p.parent.canReplaceWith(y,y+1,t)}})}if(!i)return!1;if(r){let o=n.tr;for(let l=0;l<n.selection.ranges.length;l++){let{$from:{pos:c},$to:{pos:f}}=n.selection.ranges[l];o.setBlockType(c,f,t,e)}r(o.scrollIntoView())}return!0}}function cb(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}cb(sb,vO,SO);cb(sb,EO,xO);cb(TO,CO,AO,UB);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function qB(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,l=i.blockRange(o);if(!l)return!1;let c=r?n.tr:null;return WB(c,l,t,e)?(r&&r(c.scrollIntoView()),!0):!1}}function WB(t,e,n,r=null){let i=!1,o=e,l=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let f=l.resolve(e.start-2);o=new Bp(f,f,e.depth),e.endIndex<e.parent.childCount&&(e=new Bp(e.$from,l.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let c=G1(o,n,r,e);return c?(t&&GB(t,e,c,i,n),!0):!1}function GB(t,e,n,r,i){let o=de.empty;for(let p=n.length-1;p>=0;p--)o=de.from(n[p].type.create(n[p].attrs,o));t.step(new hn(e.start-(r?2:0),e.end,e.start,e.end,new be(o,0,0),n.length,!0));let l=0;for(let p=0;p<n.length;p++)n[p].type==i&&(l=p+1);let c=n.length-l,f=e.start+n.length-(r?2:0),h=e.parent;for(let p=e.startIndex,y=e.endIndex,v=!0;p<y;p++,v=!1)!v&&Rs(t.doc,f,c)&&(t.split(f,c),f+=2*c),f+=h.child(p).nodeSize;return t}function KB(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,l=>l.childCount>0&&l.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?YB(e,n,t,o):XB(e,n,o):!0:!1}}function YB(t,e,n,r){let i=t.tr,o=r.end,l=r.$to.end(r.depth);o<l&&(i.step(new hn(o-1,l,o,l,new be(de.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Bp(i.doc.resolve(r.$from.pos),i.doc.resolve(l),r.depth));const c=qc(r);if(c==null)return!1;i.lift(r,c);let f=i.doc.resolve(i.mapping.map(o,-1)-1);return aa(i.doc,f.pos)&&f.nodeBefore.type==f.nodeAfter.type&&i.join(f.pos),e(i.scrollIntoView()),!0}function XB(t,e,n){let r=t.tr,i=n.parent;for(let S=n.end,w=n.endIndex-1,T=n.startIndex;w>T;w--)S-=i.child(w).nodeSize,r.delete(S-1,S+1);let o=r.doc.resolve(n.start),l=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let c=n.startIndex==0,f=n.endIndex==i.childCount,h=o.node(-1),p=o.index(-1);if(!h.canReplace(p+(c?0:1),p+1,l.content.append(f?de.empty:de.from(i))))return!1;let y=o.pos,v=y+l.nodeSize;return r.step(new hn(y-(c?1:0),v+(f?1:0),y+1,v-1,new be((c?de.empty:de.from(i.copy(de.empty))).append(f?de.empty:de.from(i.copy(de.empty))),c?0:1,f?0:1),c?0:1)),e(r.scrollIntoView()),!0}function JB(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,h=>h.childCount>0&&h.firstChild.type==t);if(!o)return!1;let l=o.startIndex;if(l==0)return!1;let c=o.parent,f=c.child(l-1);if(f.type!=t)return!1;if(n){let h=f.lastChild&&f.lastChild.type==c.type,p=de.from(h?t.create():null),y=new be(de.from(t.create(null,de.from(c.type.create(null,p)))),h?3:1,0),v=o.start,S=o.end;n(e.tr.step(new hn(v-(h?3:1),S,v,S,y,1,!0)).scrollIntoView())}return!0}}var QB=Object.defineProperty,OO=(t,e)=>{for(var n in e)QB(t,n,{get:e[n],enumerable:!0})};function Km(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}var Ym=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,o=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([l,c])=>[l,(...h)=>{const p=c(...h)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r,l=[],c=!!t,f=t||i.tr,h=()=>(!c&&e&&!f.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(f),l.every(y=>y===!0)),p={...Object.fromEntries(Object.entries(n).map(([y,v])=>[y,(...w)=>{const T=this.buildProps(f,e),A=v(...w)(T);return l.push(A),p}])),run:h};return p}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,o=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([c,f])=>[c,(...h)=>f(...h)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r,l={tr:t,editor:r,view:o,state:Km({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([c,f])=>[c,(...h)=>f(...h)(l)]))}};return l}},ZB=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}};function NO(t,e){const n=new DM(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}var _O=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&_O(r)}return t};function Hh(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return _O(n)}function zf(t,e,n){if(t instanceof Go||t instanceof de)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return de.fromArray(t.map(c=>e.nodeFromJSON(c)));const l=e.nodeFromJSON(t);return n.errorOnInvalidContent&&l.check(),l}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",o),zf("",e,n)}if(i){if(n.errorOnInvalidContent){let l=!1,c="";const f=new yM({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(l=!0,c=typeof h=="string"?h:h.outerHTML,null)}]}})});if(n.slice?Ko.fromSchema(f).parseSlice(Hh(t),n.parseOptions):Ko.fromSchema(f).parse(Hh(t),n.parseOptions),n.errorOnInvalidContent&&l)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const o=Ko.fromSchema(e);return n.slice?o.parseSlice(Hh(t),n.parseOptions).content:o.parse(Hh(t),n.parseOptions)}return zf("",e,n)}function qv(t,e,n={},r={}){return zf(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}function eH(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function tH(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,o)=>{n(i)&&r.push({node:i,pos:o})}),r}function nH(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Xm(t){return e=>nH(e.$from,t)}function _e(t,e,n){return t.config[e]===void 0&&t.parent?_e(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?_e(t.parent,e,n):null}):t.config[e]}function ub(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=_e(e,"addExtensions",n);return r?[e,...ub(r())]:e}).flat(10)}function fb(t,e){const n=gl.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function RO(t){return typeof t=="function"}function vt(t,e=void 0,...n){return RO(t)?e?t.bind(e)(...n):t(...n):t}function rH(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Uf(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function DO(t){const e=[],{nodeExtensions:n,markExtensions:r}=Uf(t),i=[...n,...r],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(l=>{const c={name:l.name,options:l.options,storage:l.storage,extensions:i},f=_e(l,"addGlobalAttributes",c);if(!f)return;f().forEach(p=>{p.types.forEach(y=>{Object.entries(p.attributes).forEach(([v,S])=>{e.push({type:y,name:v,attribute:{...o,...S}})})})})}),i.forEach(l=>{const c={name:l.name,options:l.options,storage:l.storage},f=_e(l,"addAttributes",c);if(!f)return;const h=f();Object.entries(h).forEach(([p,y])=>{const v={...o,...y};typeof v?.default=="function"&&(v.default=v.default()),v?.isRequired&&v?.default===void 0&&delete v.default,e.push({type:l.name,name:p,attribute:v})})}),e}function Ft(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const c=o?String(o).split(" "):[],f=r[i]?r[i].split(" "):[],h=c.filter(p=>!f.includes(p));r[i]=[...f,...h].join(" ")}else if(i==="style"){const c=o?o.split(";").map(p=>p.trim()).filter(Boolean):[],f=r[i]?r[i].split(";").map(p=>p.trim()).filter(Boolean):[],h=new Map;f.forEach(p=>{const[y,v]=p.split(":").map(S=>S.trim());h.set(y,v)}),c.forEach(p=>{const[y,v]=p.split(":").map(S=>S.trim());h.set(y,v)}),r[i]=Array.from(h.entries()).map(([p,y])=>`${p}: ${y}`).join("; ")}else r[i]=o}),r},{})}function Kp(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Ft(n,r),{})}function iH(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function YT(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((o,l)=>{const c=l.attribute.parseHTML?l.attribute.parseHTML(n):iH(n.getAttribute(l.name));return c==null?o:{...o,[l.name]:c}},{});return{...r,...i}}}}function XT(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&rH(n)?!1:n!=null))}function sH(t,e){var n;const r=DO(t),{nodeExtensions:i,markExtensions:o}=Uf(t),l=(n=i.find(h=>_e(h,"topNode")))==null?void 0:n.name,c=Object.fromEntries(i.map(h=>{const p=r.filter(N=>N.type===h.name),y={name:h.name,options:h.options,storage:h.storage,editor:e},v=t.reduce((N,L)=>{const U=_e(L,"extendNodeSchema",y);return{...N,...U?U(h):{}}},{}),S=XT({...v,content:vt(_e(h,"content",y)),marks:vt(_e(h,"marks",y)),group:vt(_e(h,"group",y)),inline:vt(_e(h,"inline",y)),atom:vt(_e(h,"atom",y)),selectable:vt(_e(h,"selectable",y)),draggable:vt(_e(h,"draggable",y)),code:vt(_e(h,"code",y)),whitespace:vt(_e(h,"whitespace",y)),linebreakReplacement:vt(_e(h,"linebreakReplacement",y)),defining:vt(_e(h,"defining",y)),isolating:vt(_e(h,"isolating",y)),attrs:Object.fromEntries(p.map(N=>{var L,U;return[N.name,{default:(L=N?.attribute)==null?void 0:L.default,validate:(U=N?.attribute)==null?void 0:U.validate}]}))}),w=vt(_e(h,"parseHTML",y));w&&(S.parseDOM=w.map(N=>YT(N,p)));const T=_e(h,"renderHTML",y);T&&(S.toDOM=N=>T({node:N,HTMLAttributes:Kp(N,p)}));const A=_e(h,"renderText",y);return A&&(S.toText=A),[h.name,S]})),f=Object.fromEntries(o.map(h=>{const p=r.filter(A=>A.type===h.name),y={name:h.name,options:h.options,storage:h.storage,editor:e},v=t.reduce((A,N)=>{const L=_e(N,"extendMarkSchema",y);return{...A,...L?L(h):{}}},{}),S=XT({...v,inclusive:vt(_e(h,"inclusive",y)),excludes:vt(_e(h,"excludes",y)),group:vt(_e(h,"group",y)),spanning:vt(_e(h,"spanning",y)),code:vt(_e(h,"code",y)),attrs:Object.fromEntries(p.map(A=>{var N,L;return[A.name,{default:(N=A?.attribute)==null?void 0:N.default,validate:(L=A?.attribute)==null?void 0:L.validate}]}))}),w=vt(_e(h,"parseHTML",y));w&&(S.parseDOM=w.map(A=>YT(A,p)));const T=_e(h,"renderHTML",y);return T&&(S.toDOM=A=>T({mark:A,HTMLAttributes:Kp(A,p)})),[h.name,S]}));return new yM({topNode:l,nodes:c,marks:f})}function oH(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function db(t){return t.sort((n,r)=>{const i=_e(n,"priority")||100,o=_e(r,"priority")||100;return i>o?-1:i<o?1:0})}function IO(t){const e=db(ub(t)),n=oH(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function LO(t,e,n){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:l={}}=n||{};let c="";return t.nodesBetween(r,i,(f,h,p,y)=>{var v;f.isBlock&&h>r&&(c+=o);const S=l?.[f.type.name];if(S)return p&&(c+=S({node:f,pos:h,parent:p,index:y,range:e})),!1;f.isText&&(c+=(v=f?.text)==null?void 0:v.slice(Math.max(r,h)-h,i-h))}),c}function PO(t,e){const n={from:0,to:t.content.size};return LO(t,n,e)}function hb(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function Us(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function jO(t,e){const n=Us(e,t.schema),{from:r,to:i,empty:o}=t.selection,l=[];o?(t.storedMarks&&l.push(...t.storedMarks),l.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,f=>{l.push(...f.marks)});const c=l.find(f=>f.type.name===n.name);return c?{...c.attrs}:{}}function en(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function aH(t,e){const n=en(e,t.schema),{from:r,to:i}=t.selection,o=[];t.doc.nodesBetween(r,i,c=>{o.push(c)});const l=o.reverse().find(c=>c.type.name===n.name);return l?{...l.attrs}:{}}function Jm(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function zO(t,e){const n=Jm(typeof e=="string"?e:e.name,t.schema);return n==="node"?aH(t,e):n==="mark"?jO(t,e):{}}function lH(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function cH(t){const e=lH(t);return e.length===1?e:e.filter((n,r)=>!e.filter((o,l)=>l!==r).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function UO(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,o)=>{const l=[];if(i.ranges.length)i.forEach((c,f)=>{l.push({from:c,to:f})});else{const{from:c,to:f}=n[o];if(c===void 0||f===void 0)return;l.push({from:c,to:f})}l.forEach(({from:c,to:f})=>{const h=e.slice(o).map(c,-1),p=e.slice(o).map(f),y=e.invert().map(h,-1),v=e.invert().map(p);r.push({oldRange:{from:y,to:v},newRange:{from:h,to:p}})})}),cH(r)}function pb(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Yp(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:pb(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function BO(t,e,n={}){return t.find(r=>r.type===e&&Yp(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function JT(t,e,n={}){return!!BO(t,e,n)}function mb(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(p=>p.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(p=>p.type===e)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!BO([...i.node.marks],e,n)))return;let l=i.index,c=t.start()+i.offset,f=l+1,h=c+i.node.nodeSize;for(;l>0&&JT([...t.parent.child(l-1).marks],e,n);)l-=1,c-=t.parent.child(l).nodeSize;for(;f<t.parent.childCount&&JT([...t.parent.child(f).marks],e,n);)h+=t.parent.child(f).nodeSize,f+=1;return{from:c,to:h}}function gb(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const o=n.resolve(t),l=mb(o,i.type);l&&r.push({mark:i,...l})}):n.nodesBetween(t,e,(i,o)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(l=>({from:o,to:o+i.nodeSize,mark:l})))}),r}var uH=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let o=r,l=null;for(;o>0&&l===null;){const c=i.node(o);c?.type.name===e?l=c:o-=1}return[l,o]};function V0(t,e){return e.nodes[t]||e.marks[t]||null}function gp(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}var fH=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,o,l,c)=>{var f,h;const p=((h=(f=i.type.spec).toText)==null?void 0:h.call(f,{node:i,pos:o,parent:l,index:c}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?p:p.slice(0,Math.max(0,r-o))}),n};function Wv(t,e,n={}){const{empty:r,ranges:i}=t.selection,o=e?Us(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(y=>o?o.name===y.type.name:!0).find(y=>Yp(y.attrs,n,{strict:!1}));let l=0;const c=[];if(i.forEach(({$from:y,$to:v})=>{const S=y.pos,w=v.pos;t.doc.nodesBetween(S,w,(T,A)=>{if(!T.isText&&!T.marks.length)return;const N=Math.max(S,A),L=Math.min(w,A+T.nodeSize),U=L-N;l+=U,c.push(...T.marks.map(K=>({mark:K,from:N,to:L})))})}),l===0)return!1;const f=c.filter(y=>o?o.name===y.mark.type.name:!0).filter(y=>Yp(y.mark.attrs,n,{strict:!1})).reduce((y,v)=>y+v.to-v.from,0),h=c.filter(y=>o?y.mark.type!==o&&y.mark.type.excludes(o):!0).reduce((y,v)=>y+v.to-v.from,0);return(f>0?f+h:f)>=l}function ta(t,e,n={}){const{from:r,to:i,empty:o}=t.selection,l=e?en(e,t.schema):null,c=[];t.doc.nodesBetween(r,i,(y,v)=>{if(y.isText)return;const S=Math.max(r,v),w=Math.min(i,v+y.nodeSize);c.push({node:y,from:S,to:w})});const f=i-r,h=c.filter(y=>l?l.name===y.node.type.name:!0).filter(y=>Yp(y.node.attrs,n,{strict:!1}));return o?!!h.length:h.reduce((y,v)=>y+v.to-v.from,0)>=f}function dH(t,e,n={}){if(!e)return ta(t,null,n)||Wv(t,null,n);const r=Jm(e,t.schema);return r==="node"?ta(t,e,n):r==="mark"?Wv(t,e,n):!1}var hH=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const o=Xm(c=>c.type.name===e)(t.selection);if(!o)return!1;const l=t.doc.resolve(o.pos+1);return i.pos+1===l.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},pH=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function QT(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function ZT(t,e){const{nodeExtensions:n}=Uf(e),r=n.find(l=>l.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=vt(_e(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function Qm(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(o=>{i!==!1&&(Qm(o,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function HO(t){return t instanceof Re}function yb(t){return t instanceof He}function _s(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function VO(t,e,n){const i=t.state.doc.content.size,o=_s(e,0,i),l=_s(n,0,i),c=t.coordsAtPos(o),f=t.coordsAtPos(l,-1),h=Math.min(c.top,f.top),p=Math.max(c.bottom,f.bottom),y=Math.min(c.left,f.left),v=Math.max(c.right,f.right),S=v-y,w=p-h,N={top:h,bottom:p,left:y,right:v,width:S,height:w,x:y,y:h};return{...N,toJSON:()=>N}}function $O(t,e=null){if(!e)return null;const n=Ue.atStart(t),r=Ue.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,o=r.to;return e==="all"?He.create(t,_s(0,i,o),_s(t.content.size,i,o)):He.create(t,_s(e,i,o),_s(e,i,o))}function mH(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof dn||i instanceof hn))return;const o=t.mapping.maps[r];let l=0;o.forEach((c,f,h,p)=>{l===0&&(l=p)}),t.setSelection(Ue.near(t.doc.resolve(l),n))}var Zm=class{constructor(t){this.find=t.find,this.handler=t.handler}},gH=(t,e)=>{if(pb(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Vh(t){var e;const{editor:n,from:r,to:i,text:o,rules:l,plugin:c}=t,{view:f}=n;if(f.composing)return!1;const h=f.state.doc.resolve(r);if(h.parent.type.spec.code||(e=h.nodeBefore||h.nodeAfter)!=null&&e.marks.find(v=>v.type.spec.code))return!1;let p=!1;const y=fH(h)+o;return l.forEach(v=>{if(p)return;const S=gH(y,v.find);if(!S)return;const w=f.state.tr,T=Km({state:f.state,transaction:w}),A={from:r-(S[0].length-o.length),to:i},{commands:N,chain:L,can:U}=new Ym({editor:n,state:T});v.handler({state:T,range:A,match:S,commands:N,chain:L,can:U})===null||!w.steps.length||(w.setMeta(c,{transform:w,from:r,to:i,text:o}),f.dispatch(w),p=!0)}),p}function yH(t){const{editor:e,rules:n}=t,r=new Pt({state:{init(){return null},apply(i,o,l){const c=i.getMeta(r);if(c)return c;const f=i.getMeta("applyInputRules");return!!f&&setTimeout(()=>{let{text:p}=f;typeof p=="string"?p=p:p=fb(de.from(p),l.schema);const{from:y}=f,v=y+p.length;Vh({editor:e,from:y,to:v,text:p,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,l,c){return Vh({editor:e,from:o,to:l,text:c,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&Vh({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:l}=i.state.selection;return l?Vh({editor:e,from:l.pos,to:l.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function vH(t){return Object.prototype.toString.call(t).slice(8,-1)}function $h(t){return vH(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function FO(t,e){const n={...t};return $h(t)&&$h(e)&&Object.keys(e).forEach(r=>{$h(e[r])&&$h(t[r])?n[r]=FO(t[r],e[r]):n[r]=e[r]}),n}var vb=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...vt(_e(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...vt(_e(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>FO(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},Bs=class qO extends vb{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new qO(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const l=i.marks();if(!!!l.find(h=>h?.type.name===n.name))return!1;const f=l.find(h=>h?.type.name===n.name);return f&&r.removeStoredMark(f),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function bH(t){return typeof t=="number"}var SH=class{constructor(t){this.find=t.find,this.handler=t.handler}},wH=(t,e,n)=>{if(pb(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=t,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function EH(t){const{editor:e,state:n,from:r,to:i,rule:o,pasteEvent:l,dropEvent:c}=t,{commands:f,chain:h,can:p}=new Ym({editor:e,state:n}),y=[];return n.doc.nodesBetween(r,i,(S,w)=>{var T,A,N,L,U;if((A=(T=S.type)==null?void 0:T.spec)!=null&&A.code||!(S.isText||S.isTextblock||S.isInline))return;const K=(U=(L=(N=S.content)==null?void 0:N.size)!=null?L:S.nodeSize)!=null?U:0,H=Math.max(r,w),j=Math.min(i,w+K);if(H>=j)return;const _=S.isText?S.text||"":S.textBetween(H-w,j-w,void 0,"￼");wH(_,o.find,l).forEach(I=>{if(I.index===void 0)return;const R=H+I.index+1,B=R+I[0].length,q={from:n.tr.mapping.map(R),to:n.tr.mapping.map(B)},z=o.handler({state:n,range:q,match:I,commands:f,chain:h,can:p,pasteEvent:l,dropEvent:c});y.push(z)})}),y.every(S=>S!==null)}var Fh=null,xH=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function TH(t){const{editor:e,rules:n}=t;let r=null,i=!1,o=!1,l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const f=({state:p,from:y,to:v,rule:S,pasteEvt:w})=>{const T=p.tr,A=Km({state:p,transaction:T});if(!(!EH({editor:e,state:A,from:Math.max(y-1,0),to:v.b-1,rule:S,pasteEvent:w,dropEvent:c})||!T.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,T}};return n.map(p=>new Pt({view(y){const v=w=>{var T;r=(T=y.dom.parentElement)!=null&&T.contains(w.target)?y.dom.parentElement:null,r&&(Fh=e)},S=()=>{Fh&&(Fh=null)};return window.addEventListener("dragstart",v),window.addEventListener("dragend",S),{destroy(){window.removeEventListener("dragstart",v),window.removeEventListener("dragend",S)}}},props:{handleDOMEvents:{drop:(y,v)=>{if(o=r===y.dom.parentElement,c=v,!o){const S=Fh;S?.isEditable&&setTimeout(()=>{const w=S.state.selection;w&&S.commands.deleteRange({from:w.from,to:w.to})},10)}return!1},paste:(y,v)=>{var S;const w=(S=v.clipboardData)==null?void 0:S.getData("text/html");return l=v,i=!!w?.includes("data-pm-slice"),!1}}},appendTransaction:(y,v,S)=>{const w=y[0],T=w.getMeta("uiEvent")==="paste"&&!i,A=w.getMeta("uiEvent")==="drop"&&!o,N=w.getMeta("applyPasteRules"),L=!!N;if(!T&&!A&&!L)return;if(L){let{text:H}=N;typeof H=="string"?H=H:H=fb(de.from(H),S.schema);const{from:j}=N,_=j+H.length,O=xH(H);return f({rule:p,state:S,from:j,to:{b:_},pasteEvt:O})}const U=v.doc.content.findDiffStart(S.doc.content),K=v.doc.content.findDiffEnd(S.doc.content);if(!(!bH(U)||!K||U===K.b))return f({rule:p,state:S,from:U,to:K,pasteEvt:l})}}))}var eg=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=IO(t),this.schema=sH(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:V0(e.name,this.schema)},r=_e(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return db([...this.extensions].reverse()).map(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:V0(r.name,this.schema)},o=[],l=_e(r,"addKeyboardShortcuts",i);let c={};if(r.type==="mark"&&_e(r,"exitable",i)&&(c.ArrowRight=()=>Bs.handleExit({editor:t,mark:r})),l){const v=Object.fromEntries(Object.entries(l()).map(([S,w])=>[S,()=>w({editor:t})]));c={...c,...v}}const f=_B(c);o.push(f);const h=_e(r,"addInputRules",i);if(QT(r,t.options.enableInputRules)&&h){const v=h();if(v&&v.length){const S=yH({editor:t,rules:v}),w=Array.isArray(S)?S:[S];o.push(...w)}}const p=_e(r,"addPasteRules",i);if(QT(r,t.options.enablePasteRules)&&p){const v=p();if(v&&v.length){const S=TH({editor:t,rules:v});o.push(...S)}}const y=_e(r,"addProseMirrorPlugins",i);if(y){const v=y();o.push(...v)}return o}).flat()}get attributes(){return DO(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Uf(this.extensions);return Object.fromEntries(e.filter(n=>!!_e(n,"addNodeView")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:en(n.name,this.schema)},o=_e(n,"addNodeView",i);if(!o)return[];const l=(c,f,h,p,y)=>{const v=Kp(c,r);return o()({node:c,view:f,getPos:h,decorations:p,innerDecorations:y,editor:t,extension:n,HTMLAttributes:v})};return[n.name,l]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=Uf(this.extensions);return Object.fromEntries(e.filter(n=>!!_e(n,"addMarkView")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Us(n.name,this.schema)},o=_e(n,"addMarkView",i);if(!o)return[];const l=(c,f,h)=>{const p=Kp(c,r);return o()({mark:c,view:f,inline:h,editor:t,extension:n,HTMLAttributes:p,updateAttributes:y=>{U8(c,t,y)}})};return[n.name,l]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:V0(e.name,this.schema)};e.type==="mark"&&((n=vt(_e(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const i=_e(e,"onBeforeCreate",r),o=_e(e,"onCreate",r),l=_e(e,"onUpdate",r),c=_e(e,"onSelectionUpdate",r),f=_e(e,"onTransaction",r),h=_e(e,"onFocus",r),p=_e(e,"onBlur",r),y=_e(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),l&&this.editor.on("update",l),c&&this.editor.on("selectionUpdate",c),f&&this.editor.on("transaction",f),h&&this.editor.on("focus",h),p&&this.editor.on("blur",p),y&&this.editor.on("destroy",y)})}};eg.resolve=IO;eg.sort=db;eg.flatten=ub;var CH={};OO(CH,{ClipboardTextSerializer:()=>GO,Commands:()=>XO,Delete:()=>JO,Drop:()=>QO,Editable:()=>ZO,FocusEvents:()=>tN,Keymap:()=>nN,Paste:()=>rN,Tabindex:()=>iN,focusEventsPluginKey:()=>eN});var St=class WO extends vb{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new WO(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},GO=St.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Pt({key:new Ut("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:o}=i,l=Math.min(...o.map(p=>p.$from.pos)),c=Math.max(...o.map(p=>p.$to.pos)),f=hb(n);return LO(r,{from:l,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:f})}}})]}}),KO={};OO(KO,{blur:()=>AH,clearContent:()=>kH,clearNodes:()=>MH,command:()=>OH,createParagraphNear:()=>NH,cut:()=>_H,deleteCurrentNode:()=>RH,deleteNode:()=>DH,deleteRange:()=>IH,deleteSelection:()=>LH,enter:()=>PH,exitCode:()=>jH,extendMarkRange:()=>zH,first:()=>UH,focus:()=>HH,forEach:()=>VH,insertContent:()=>$H,insertContentAt:()=>qH,joinBackward:()=>KH,joinDown:()=>GH,joinForward:()=>YH,joinItemBackward:()=>XH,joinItemForward:()=>JH,joinTextblockBackward:()=>QH,joinTextblockForward:()=>ZH,joinUp:()=>WH,keyboardShortcut:()=>t8,lift:()=>n8,liftEmptyBlock:()=>r8,liftListItem:()=>i8,newlineInCode:()=>s8,resetAttributes:()=>o8,scrollIntoView:()=>a8,selectAll:()=>l8,selectNodeBackward:()=>c8,selectNodeForward:()=>u8,selectParentNode:()=>f8,selectTextblockEnd:()=>d8,selectTextblockStart:()=>h8,setContent:()=>p8,setMark:()=>g8,setMeta:()=>y8,setNode:()=>v8,setNodeSelection:()=>b8,setTextSelection:()=>S8,sinkListItem:()=>w8,splitBlock:()=>E8,splitListItem:()=>x8,toggleList:()=>T8,toggleMark:()=>C8,toggleNode:()=>A8,toggleWrap:()=>k8,undoInputRule:()=>M8,unsetAllMarks:()=>O8,unsetMark:()=>N8,updateAttributes:()=>_8,wrapIn:()=>R8,wrapInList:()=>D8});var AH=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),kH=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),MH=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:l})=>{t.doc.nodesBetween(o.pos,l.pos,(c,f)=>{if(c.type.isText)return;const{doc:h,mapping:p}=e,y=h.resolve(p.map(f)),v=h.resolve(p.map(f+c.nodeSize)),S=y.blockRange(v);if(!S)return;const w=qc(S);if(c.type.isTextblock){const{defaultType:T}=y.parent.contentMatchAt(y.index());e.setNodeMarkup(S.start,T)}(w||w===0)&&e.lift(S,w)})}),!0},OH=t=>e=>t(e),NH=()=>({state:t,dispatch:e})=>CO(t,e),_H=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,o=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const l=r.mapping.map(e);return r.insert(l,o.content),r.setSelection(new He(r.doc.resolve(Math.max(l-1,0)))),!0},RH=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(e){const c=i.before(o),f=i.after(o);t.delete(c,f).scrollIntoView()}return!0}return!1},DH=t=>({tr:e,state:n,dispatch:r})=>{const i=en(t,n.schema),o=e.selection.$anchor;for(let l=o.depth;l>0;l-=1)if(o.node(l).type===i){if(r){const f=o.before(l),h=o.after(l);e.delete(f,h).scrollIntoView()}return!0}return!1},IH=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},LH=()=>({state:t,dispatch:e})=>sb(t,e),PH=()=>({commands:t})=>t.keyboardShortcut("Enter"),jH=()=>({state:t,dispatch:e})=>jB(t,e),zH=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const o=Us(t,r.schema),{doc:l,selection:c}=n,{$from:f,from:h,to:p}=c;if(i){const y=mb(f,o,e);if(y&&y.from<=h&&y.to>=p){const v=He.create(l,y.from,y.to);n.setSelection(v)}}return!0},UH=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function BH(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function bb(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var HH=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const l=()=>{(bb()||BH())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!yb(n.state.selection))return l(),!0;const c=$O(i.doc,t)||n.state.selection,f=n.state.selection.eq(c);return o&&(f||i.setSelection(c),f&&i.storedMarks&&i.setStoredMarks(i.storedMarks),l()),!0},VH=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),$H=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),FH=t=>!("type"in t),qH=(t,e,n)=>({tr:r,dispatch:i,editor:o})=>{var l;if(i){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let c;const{selection:f}=o.state,h=N=>{o.emit("contentError",{editor:o,error:N,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},p={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{zf(e,o.schema,{parseOptions:p,errorOnInvalidContent:!0})}catch(N){h(N)}try{c=zf(e,o.schema,{parseOptions:p,errorOnInvalidContent:(l=n.errorOnInvalidContent)!=null?l:o.options.enableContentCheck})}catch(N){return h(N),!1}let{from:y,to:v}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},S=!0,w=!0;if((FH(c)?c:[c]).forEach(N=>{N.check(),S=S?N.isText&&N.marks.length===0:!1,w=w?N.isBlock:!1}),y===v&&w){const{parent:N}=r.doc.resolve(y);N.isTextblock&&!N.type.spec.code&&!N.childCount&&(y-=1,v+=1)}let A;if(S){if(Array.isArray(e))A=e.map(N=>N.text||"").join("");else if(e instanceof de){let N="";e.forEach(L=>{L.text&&(N+=L.text)}),A=N}else typeof e=="object"&&e&&e.text?A=e.text:A=e;r.insertText(A,y,v)}else{A=c;const N=f.$from.parentOffset===0,L=f.$from.node().isText||f.$from.node().isTextblock,U=f.$from.node().content.size>0;N&&L&&U&&(y=Math.max(0,y-1)),r.replaceWith(y,v,A)}n.updateSelection&&mH(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:y,text:A}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:y,text:A})}return!0},WH=()=>({state:t,dispatch:e})=>IB(t,e),GH=()=>({state:t,dispatch:e})=>LB(t,e),KH=()=>({state:t,dispatch:e})=>vO(t,e),YH=()=>({state:t,dispatch:e})=>EO(t,e),XH=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Vm(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},JH=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Vm(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},QH=()=>({state:t,dispatch:e})=>RB(t,e),ZH=()=>({state:t,dispatch:e})=>DB(t,e);function YO(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function e8(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,o,l;for(let c=0;c<e.length-1;c+=1){const f=e[c];if(/^(cmd|meta|m)$/i.test(f))l=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))i=!0;else if(/^s(hift)?$/i.test(f))o=!0;else if(/^mod$/i.test(f))bb()||YO()?l=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${f}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),l&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}var t8=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const o=e8(t).split(/-(?!$)/),l=o.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),c=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),f=e.captureTransaction(()=>{n.someProp("handleKeyDown",h=>h(n,c))});return f?.steps.forEach(h=>{const p=h.map(r.mapping);p&&i&&r.maybeStep(p)}),!0},n8=(t,e={})=>({state:n,dispatch:r})=>{const i=en(t,n.schema);return ta(n,i,e)?PB(n,r):!1},r8=()=>({state:t,dispatch:e})=>AO(t,e),i8=t=>({state:e,dispatch:n})=>{const r=en(t,e.schema);return KB(r)(e,n)},s8=()=>({state:t,dispatch:e})=>TO(t,e);function eC(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}var o8=(t,e)=>({tr:n,state:r,dispatch:i})=>{let o=null,l=null;const c=Jm(typeof t=="string"?t:t.name,r.schema);return c?(c==="node"&&(o=en(t,r.schema)),c==="mark"&&(l=Us(t,r.schema)),i&&n.selection.ranges.forEach(f=>{r.doc.nodesBetween(f.$from.pos,f.$to.pos,(h,p)=>{o&&o===h.type&&n.setNodeMarkup(p,void 0,eC(h.attrs,e)),l&&h.marks.length&&h.marks.forEach(y=>{l===y.type&&n.addMark(p,p+h.nodeSize,l.create(eC(y.attrs,e)))})})}),!0):!1},a8=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),l8=()=>({tr:t,dispatch:e})=>{if(e){const n=new vr(t.doc);t.setSelection(n)}return!0},c8=()=>({state:t,dispatch:e})=>SO(t,e),u8=()=>({state:t,dispatch:e})=>xO(t,e),f8=()=>({state:t,dispatch:e})=>BB(t,e),d8=()=>({state:t,dispatch:e})=>$B(t,e),h8=()=>({state:t,dispatch:e})=>VB(t,e),p8=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:o,dispatch:l,commands:c})=>{const{doc:f}=o;if(r.preserveWhitespace!=="full"){const h=qv(t,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return l&&o.replaceWith(0,f.content.size,h).setMeta("preventUpdate",!n),!0}return l&&o.setMeta("preventUpdate",!n),c.insertContentAt({from:0,to:f.content.size},t,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function m8(t,e,n){var r;const{selection:i}=e;let o=null;if(yb(i)&&(o=i.$cursor),o){const c=(r=t.storedMarks)!=null?r:o.marks();return!!n.isInSet(c)||!c.some(f=>f.type.excludes(n))}const{ranges:l}=i;return l.some(({$from:c,$to:f})=>{let h=c.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(c.pos,f.pos,(p,y,v)=>{if(h)return!1;if(p.isInline){const S=!v||v.type.allowsMarkType(n),w=!!n.isInSet(p.marks)||!p.marks.some(T=>T.type.excludes(n));h=S&&w}return!h}),h})}var g8=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:l,ranges:c}=o,f=Us(t,r.schema);if(i)if(l){const h=jO(r,f);n.addStoredMark(f.create({...h,...e}))}else c.forEach(h=>{const p=h.$from.pos,y=h.$to.pos;r.doc.nodesBetween(p,y,(v,S)=>{const w=Math.max(S,p),T=Math.min(S+v.nodeSize,y);v.marks.find(N=>N.type===f)?v.marks.forEach(N=>{f===N.type&&n.addMark(w,T,f.create({...N.attrs,...e}))}):n.addMark(w,T,f.create(e))})});return m8(r,n,f)},y8=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),v8=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const o=en(t,n.schema);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),o.isTextblock?i().command(({commands:c})=>KT(o,{...l,...e})(n)?!0:c.clearNodes()).command(({state:c})=>KT(o,{...l,...e})(c,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},b8=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=_s(t,0,r.content.size),o=Re.create(r,i);e.setSelection(o)}return!0},S8=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:o}=typeof t=="number"?{from:t,to:t}:t,l=He.atStart(r).from,c=He.atEnd(r).to,f=_s(i,l,c),h=_s(o,l,c),p=He.create(r,f,h);e.setSelection(p)}return!0},w8=t=>({state:e,dispatch:n})=>{const r=en(t,e.schema);return JB(r)(e,n)};function tC(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e?.includes(i.type.name));t.tr.ensureMarks(r)}}var E8=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:l}=e,{$from:c,$to:f}=o,h=i.extensionManager.attributes,p=gp(h,c.node().type.name,c.node().attrs);if(o instanceof Re&&o.node.isBlock)return!c.parentOffset||!Rs(l,c.pos)?!1:(r&&(t&&tC(n,i.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const y=f.parentOffset===f.parent.content.size,v=c.depth===0?void 0:eH(c.node(-1).contentMatchAt(c.indexAfter(-1)));let S=y&&v?[{type:v,attrs:p}]:void 0,w=Rs(e.doc,e.mapping.map(c.pos),1,S);if(!S&&!w&&Rs(e.doc,e.mapping.map(c.pos),1,v?[{type:v}]:void 0)&&(w=!0,S=v?[{type:v,attrs:p}]:void 0),r){if(w&&(o instanceof He&&e.deleteSelection(),e.split(e.mapping.map(c.pos),1,S),v&&!y&&!c.parentOffset&&c.parent.type!==v)){const T=e.mapping.map(c.before()),A=e.doc.resolve(T);c.node(-1).canReplaceWith(A.index(),A.index()+1,v)&&e.setNodeMarkup(e.mapping.map(c.before()),v)}t&&tC(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return w},x8=(t,e={})=>({tr:n,state:r,dispatch:i,editor:o})=>{var l;const c=en(t,r.schema),{$from:f,$to:h}=r.selection,p=r.selection.node;if(p&&p.isBlock||f.depth<2||!f.sameParent(h))return!1;const y=f.node(-1);if(y.type!==c)return!1;const v=o.extensionManager.attributes;if(f.parent.content.size===0&&f.node(-1).childCount===f.indexAfter(-1)){if(f.depth===2||f.node(-3).type!==c||f.index(-2)!==f.node(-2).childCount-1)return!1;if(i){let N=de.empty;const L=f.index(-1)?1:f.index(-2)?2:3;for(let O=f.depth-L;O>=f.depth-3;O-=1)N=de.from(f.node(O).copy(N));const U=f.indexAfter(-1)<f.node(-2).childCount?1:f.indexAfter(-2)<f.node(-3).childCount?2:3,K={...gp(v,f.node().type.name,f.node().attrs),...e},H=((l=c.contentMatch.defaultType)==null?void 0:l.createAndFill(K))||void 0;N=N.append(de.from(c.createAndFill(null,H)||void 0));const j=f.before(f.depth-(L-1));n.replace(j,f.after(-U),new be(N,4-L,0));let _=-1;n.doc.nodesBetween(j,n.doc.content.size,(O,I)=>{if(_>-1)return!1;O.isTextblock&&O.content.size===0&&(_=I+1)}),_>-1&&n.setSelection(He.near(n.doc.resolve(_))),n.scrollIntoView()}return!0}const S=h.pos===f.end()?y.contentMatchAt(0).defaultType:null,w={...gp(v,y.type.name,y.attrs),...e},T={...gp(v,f.node().type.name,f.node().attrs),...e};n.delete(f.pos,h.pos);const A=S?[{type:c,attrs:w},{type:S,attrs:T}]:[{type:c,attrs:w}];if(!Rs(n.doc,f.pos,2))return!1;if(i){const{selection:N,storedMarks:L}=r,{splittableMarks:U}=o.extensionManager,K=L||N.$to.parentOffset&&N.$from.marks();if(n.split(f.pos,2,A).scrollIntoView(),!K||!i)return!0;const H=K.filter(j=>U.includes(j.type.name));n.ensureMarks(H)}return!0},$0=(t,e)=>{const n=Xm(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&aa(t.doc,n.pos)&&t.join(n.pos),!0},F0=(t,e)=>{const n=Xm(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&aa(t.doc,r)&&t.join(r),!0},T8=(t,e,n,r={})=>({editor:i,tr:o,state:l,dispatch:c,chain:f,commands:h,can:p})=>{const{extensions:y,splittableMarks:v}=i.extensionManager,S=en(t,l.schema),w=en(e,l.schema),{selection:T,storedMarks:A}=l,{$from:N,$to:L}=T,U=N.blockRange(L),K=A||T.$to.parentOffset&&T.$from.marks();if(!U)return!1;const H=Xm(j=>ZT(j.type.name,y))(T);if(U.depth>=1&&H&&U.depth-H.depth<=1){if(H.node.type===S)return h.liftListItem(w);if(ZT(H.node.type.name,y)&&S.validContent(H.node.content)&&c)return f().command(()=>(o.setNodeMarkup(H.pos,S),!0)).command(()=>$0(o,S)).command(()=>F0(o,S)).run()}return!n||!K||!c?f().command(()=>p().wrapInList(S,r)?!0:h.clearNodes()).wrapInList(S,r).command(()=>$0(o,S)).command(()=>F0(o,S)).run():f().command(()=>{const j=p().wrapInList(S,r),_=K.filter(O=>v.includes(O.type.name));return o.ensureMarks(_),j?!0:h.clearNodes()}).wrapInList(S,r).command(()=>$0(o,S)).command(()=>F0(o,S)).run()},C8=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,l=Us(t,r.schema);return Wv(r,l,e)?i.unsetMark(l,{extendEmptyMarkRange:o}):i.setMark(l,e)},A8=(t,e,n={})=>({state:r,commands:i})=>{const o=en(t,r.schema),l=en(e,r.schema),c=ta(r,o,n);let f;return r.selection.$anchor.sameParent(r.selection.$head)&&(f=r.selection.$anchor.parent.attrs),c?i.setNode(l,f):i.setNode(o,{...f,...n})},k8=(t,e={})=>({state:n,commands:r})=>{const i=en(t,n.schema);return ta(n,i,e)?r.lift(i):r.wrapIn(i,e)},M8=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){const l=t.tr,c=o.transform;for(let f=c.steps.length-1;f>=0;f-=1)l.step(c.steps[f].invert(c.docs[f]));if(o.text){const f=l.doc.resolve(o.from).marks();l.replaceWith(o.from,o.to,t.schema.text(o.text,f))}else l.delete(o.from,o.to)}return!0}}return!1},O8=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},N8=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:l=!1}=e,{selection:c}=n,f=Us(t,r.schema),{$from:h,empty:p,ranges:y}=c;if(!i)return!0;if(p&&l){let{from:v,to:S}=c;const w=(o=h.marks().find(A=>A.type===f))==null?void 0:o.attrs,T=mb(h,f,w);T&&(v=T.from,S=T.to),n.removeMark(v,S,f)}else y.forEach(v=>{n.removeMark(v.$from.pos,v.$to.pos,f)});return n.removeStoredMark(f),!0},_8=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let o=null,l=null;const c=Jm(typeof t=="string"?t:t.name,r.schema);return c?(c==="node"&&(o=en(t,r.schema)),c==="mark"&&(l=Us(t,r.schema)),i&&n.selection.ranges.forEach(f=>{const h=f.$from.pos,p=f.$to.pos;let y,v,S,w;n.selection.empty?r.doc.nodesBetween(h,p,(T,A)=>{o&&o===T.type&&(S=Math.max(A,h),w=Math.min(A+T.nodeSize,p),y=A,v=T)}):r.doc.nodesBetween(h,p,(T,A)=>{A<h&&o&&o===T.type&&(S=Math.max(A,h),w=Math.min(A+T.nodeSize,p),y=A,v=T),A>=h&&A<=p&&(o&&o===T.type&&n.setNodeMarkup(A,void 0,{...T.attrs,...e}),l&&T.marks.length&&T.marks.forEach(N=>{if(l===N.type){const L=Math.max(A,h),U=Math.min(A+T.nodeSize,p);n.addMark(L,U,l.create({...N.attrs,...e}))}}))}),v&&(y!==void 0&&n.setNodeMarkup(y,void 0,{...v.attrs,...e}),l&&v.marks.length&&v.marks.forEach(T=>{l===T.type&&n.addMark(S,w,l.create({...T.attrs,...e}))}))}),!0):!1},R8=(t,e={})=>({state:n,dispatch:r})=>{const i=en(t,n.schema);return FB(i,e)(n,r)},D8=(t,e={})=>({state:n,dispatch:r})=>{const i=en(t,n.schema);return qB(i,e)(n,r)},XO=St.create({name:"commands",addCommands(){return{...KO}}}),JO=St.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,i;const o=()=>{var l,c,f,h;if((h=(f=(c=(l=this.editor.options.coreExtensionOptions)==null?void 0:l.delete)==null?void 0:c.filterTransaction)==null?void 0:f.call(c,t))!=null?h:t.getMeta("y-sync$"))return;const p=NO(t.before,[t,...e]);UO(p).forEach(S=>{p.mapping.mapResult(S.oldRange.from).deletedAfter&&p.mapping.mapResult(S.oldRange.to).deletedBefore&&p.before.nodesBetween(S.oldRange.from,S.oldRange.to,(w,T)=>{const A=T+w.nodeSize-2,N=S.oldRange.from<=T&&A<=S.oldRange.to;this.editor.emit("delete",{type:"node",node:w,from:T,to:A,newFrom:p.mapping.map(T),newTo:p.mapping.map(A),deletedRange:S.oldRange,newRange:S.newRange,partial:!N,editor:this.editor,transaction:t,combinedTransform:p})})});const v=p.mapping;p.steps.forEach((S,w)=>{var T,A;if(S instanceof si){const N=v.slice(w).map(S.from,-1),L=v.slice(w).map(S.to),U=v.invert().map(N,-1),K=v.invert().map(L),H=(T=p.doc.nodeAt(N-1))==null?void 0:T.marks.some(_=>_.eq(S.mark)),j=(A=p.doc.nodeAt(L))==null?void 0:A.marks.some(_=>_.eq(S.mark));this.editor.emit("delete",{type:"mark",mark:S.mark,from:S.from,to:S.to,deletedRange:{from:U,to:K},newRange:{from:N,to:L},partial:!!(j||H),editor:this.editor,transaction:t,combinedTransform:p})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(o,0):o()}}),QO=St.create({name:"drop",addProseMirrorPlugins(){return[new Pt({key:new Ut("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),ZO=St.create({name:"editable",addProseMirrorPlugins(){return[new Pt({key:new Ut("editable"),props:{editable:()=>this.editor.options.editable}})]}}),eN=new Ut("focusEvents"),tN=St.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Pt({key:eN,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),nN=St.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:c})=>{const{selection:f,doc:h}=c,{empty:p,$anchor:y}=f,{pos:v,parent:S}=y,w=y.parent.isTextblock&&v>0?c.doc.resolve(v-1):y,T=w.parent.type.spec.isolating,A=y.pos-y.parentOffset,N=T&&w.parent.childCount===1?A===y.pos:Ue.atStart(h).from===v;return!p||!S.type.isTextblock||S.textContent.length||!N||N&&y.parent.type.name==="paragraph"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return bb()||YO()?o:i},addProseMirrorPlugins(){return[new Pt({key:new Ut("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(T=>T.getMeta("composition")))return;const r=t.some(T=>T.docChanged)&&!e.doc.eq(n.doc),i=t.some(T=>T.getMeta("preventClearDocument"));if(!r||i)return;const{empty:o,from:l,to:c}=e.selection,f=Ue.atStart(e.doc).from,h=Ue.atEnd(e.doc).to;if(o||!(l===f&&c===h)||!Qm(n.doc))return;const v=n.tr,S=Km({state:n,transaction:v}),{commands:w}=new Ym({editor:this.editor,state:S});if(w.clearNodes(),!!v.steps.length)return v}})]}}),rN=St.create({name:"paste",addProseMirrorPlugins(){return[new Pt({key:new Ut("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),iN=St.create({name:"tabindex",addProseMirrorPlugins(){return[new Pt({key:new Ut("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),I8=class hc{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new hc(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new hc(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new hc(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,o=n.isAtom&&!n.isText,l=this.pos+r+(o?0:1);if(l<0||l>this.resolvedPos.doc.nodeSize-2)return;const c=this.resolvedPos.doc.resolve(l);if(!i&&c.depth<=this.depth)return;const f=new hc(c,this.editor,i,i?n:null);i&&(f.actualDepth=this.depth+1),e.push(new hc(c,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const o=i.node.attrs,l=Object.keys(n);for(let c=0;c<l.length;c+=1){const f=l[c];if(o[f]!==n[f])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(n);return this.children.forEach(l=>{r&&i.length>0||(l.node.type.name===e&&o.every(f=>n[f]===l.node.attrs[f])&&i.push(l),!(r&&i.length>0)&&(i=i.concat(l.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},L8=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function P8(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var j8=class extends ZB{constructor(e={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:i})=>{throw i},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:i,slice:o,moved:l})=>this.options.onDrop(i,o,l)),this.on("paste",({event:i,slice:o})=>this.options.onPaste(i,o)),this.on("delete",this.options.onDelete);const n=this.createDoc(),r=$O(n,this.options.autofocus);this.editorState=yc.create({doc:n,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e?.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=P8(L8,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.editorState=this.state.apply(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,n)=>{if(n==="state")return this.editorState;if(n in e)return Reflect.get(e,n);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${n}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,n){const r=RO(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(e).forEach(o=>{const l=typeof o=="string"?`${o}$`:o.key;r=r.filter(c=>!c.key.startsWith(l))}),n.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,n;const i=[...this.options.enableCoreExtensions?[ZO,GO.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:n.blockSeparator}),XO,tN,nN,iN,QO,rN,JO].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o?.type));this.extensionManager=new eg(i,this)}createCommandManager(){this.commandManager=new Ym({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=qv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(n){if(!(n instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(n.message))throw n;this.emit("contentError",{editor:this,error:n,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),e=qv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var n;this.editorView=new gO(e,{...this.options.editorProps,attributes:{role:"textbox",...(n=this.options.editorProps)==null?void 0:n.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass(),this.injectCSS();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(p=>{var y;return(y=this.capturedTransaction)==null?void 0:y.step(p)});return}const{state:n,transactions:r}=this.state.applyTransaction(e),i=!this.state.selection.eq(n.selection),o=r.includes(e),l=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),!o)return;this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:r.slice(1)}),i&&this.emit("selectionUpdate",{editor:this,transaction:e});const c=r.findLast(p=>p.getMeta("focus")||p.getMeta("blur")),f=c?.getMeta("focus"),h=c?.getMeta("blur");f&&this.emit("focus",{editor:this,event:f.event,transaction:c}),h&&this.emit("blur",{editor:this,event:h.event,transaction:c}),!(e.getMeta("preventUpdate")||!r.some(p=>p.docChanged)||l.doc.eq(n.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:r.slice(1)})}getAttributes(e){return zO(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return dH(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return fb(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return PO(this.state.doc,{blockSeparator:n,textSerializers:{...hb(this.schema),...r}})}get isEmpty(){return Qm(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,n;return(n=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?n:!0}$node(e,n){var r;return((r=this.$doc)==null?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new I8(n,this)}get $doc(){return this.$pos(0)}};function Ic(t){return new Zm({find:t.find,handler:({state:e,range:n,match:r})=>{const i=vt(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,l=r[r.length-1],c=r[0];if(l){const f=c.search(/\S/),h=n.from+c.indexOf(l),p=h+l.length;if(gb(n.from,n.to,e.doc).filter(S=>S.mark.type.excluded.find(T=>T===t.type&&T!==S.mark.type)).filter(S=>S.to>h).length)return null;p<n.to&&o.delete(p,n.to),h>n.from&&o.delete(n.from+f,h);const v=n.from+f+l.length;o.addMark(n.from+f,v,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}function sN(t){return new Zm({find:t.find,handler:({state:e,range:n,match:r})=>{const i=vt(t.getAttributes,void 0,r)||{},{tr:o}=e,l=n.from;let c=n.to;const f=t.type.create(i);if(r[1]){const h=r[0].lastIndexOf(r[1]);let p=l+h;p>c?p=c:c=p+r[1].length;const y=r[0][r[0].length-1];o.insertText(y,l+r[0].length-1),o.replaceWith(p,c,f)}else if(r[0]){const h=t.type.isInline?l:l-1;o.insert(h,t.type.create(i)).delete(o.mapping.map(l),o.mapping.map(c))}o.scrollIntoView()}})}function Gv(t){return new Zm({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),o=vt(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)}})}function Lc(t){return new Zm({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const o=vt(t.getAttributes,void 0,r)||{},l=e.tr.delete(n.from,n.to),f=l.doc.resolve(n.from).blockRange(),h=f&&G1(f,t.type,o);if(!h)return null;if(l.wrap(f,h),t.keepMarks&&t.editor){const{selection:y,storedMarks:v}=e,{splittableMarks:S}=t.editor.extensionManager,w=v||y.$to.parentOffset&&y.$from.marks();if(w){const T=w.filter(A=>S.includes(A.type.name));l.ensureMarks(T)}}if(t.keepAttributes){const y=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(y,o).run()}const p=l.doc.resolve(n.from-1).nodeBefore;p&&p.type===t.type&&aa(l.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,p))&&l.join(n.from-1)}})}function z8(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof Re){const o=r.index();return r.parent.canReplaceWith(o,o+1,e)}let i=r.depth;for(;i>=0;){const o=r.index(i);if(r.node(i).contentMatchAt(o).matchType(e))return!0;i-=1}return!1}function U8(t,e,n={}){const{state:r}=e,{doc:i,tr:o}=r,l=t;i.descendants((c,f)=>{const h=o.mapping.map(f),p=o.mapping.map(f)+c.nodeSize;let y=null;if(c.marks.forEach(S=>{if(S!==l)return!1;y=S}),!y)return;let v=!1;if(Object.keys(n).forEach(S=>{n[S]!==y.attrs[S]&&(v=!0)}),v){const S=t.type.create({...t.attrs,...n});o.removeMark(h,p,t.type),o.addMark(h,p,S)}}),o.docChanged&&e.view.dispatch(o)}var Nn=class oN extends vb{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new oN(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function dl(t){return new SH({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const o=vt(t.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:l}=e,c=r[r.length-1],f=r[0];let h=n.to;if(c){const p=f.search(/\S/),y=n.from+f.indexOf(c),v=y+c.length;if(gb(n.from,n.to,e.doc).filter(w=>w.mark.type.excluded.find(A=>A===t.type&&A!==w.mark.type)).filter(w=>w.to>y).length)return null;v<n.to&&l.delete(v,n.to),y>n.from&&l.delete(n.from+p,y),h=n.from+p+c.length,l.addMark(n.from+p,h,t.type.create(o||{})),l.removeStoredMark(t.type)}}})}var B8=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,H8=Nn.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",Ft(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[sN({find:B8,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),V8=H8,$8=St.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),F8=$8,q8=t=>{if(!t.children.length)return;const e=t.querySelectorAll("span");e&&e.forEach(n=>{var r,i;const o=n.getAttribute("style"),l=(i=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:i.getAttribute("style");n.setAttribute("style",`${l};${o}`)})},W8=Bs.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&q8(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",Ft(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(o=>!!o))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),G8=St.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),K8=St.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),Y8=St.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),X8=St.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),J8=St.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}}),Q8=St.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(G8.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(K8.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(Y8.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(X8.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(J8.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(W8.configure(this.options.textStyle)),t}}),q0={exports:{}},W0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nC;function Z8(){if(nC)return W0;nC=1;var t=$f();function e(y,v){return y===v&&(y!==0||1/y===1/v)||y!==y&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function c(y,v){var S=v(),w=r({inst:{value:S,getSnapshot:v}}),T=w[0].inst,A=w[1];return o(function(){T.value=S,T.getSnapshot=v,f(T)&&A({inst:T})},[y,S,v]),i(function(){return f(T)&&A({inst:T}),y(function(){f(T)&&A({inst:T})})},[y]),l(S),S}function f(y){var v=y.getSnapshot;y=y.value;try{var S=v();return!n(y,S)}catch{return!0}}function h(y,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return W0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,W0}var rC;function aN(){return rC||(rC=1,q0.exports=Z8()),q0.exports}var lN=aN(),G0,iC;function eV(){return iC||(iC=1,G0=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var l=o[i];if(!(l==="_owner"&&e.$$typeof)&&!t(e[l],n[l]))return!1}return!0}return e!==e&&n!==n}),G0}var tV=eV();const nV=f1(tV);var K0={exports:{}},Y0={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sC;function rV(){if(sC)return Y0;sC=1;var t=$f(),e=aN();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,l=t.useEffect,c=t.useMemo,f=t.useDebugValue;return Y0.useSyncExternalStoreWithSelector=function(h,p,y,v,S){var w=o(null);if(w.current===null){var T={hasValue:!1,value:null};w.current=T}else T=w.current;w=c(function(){function N(j){if(!L){if(L=!0,U=j,j=v(j),S!==void 0&&T.hasValue){var _=T.value;if(S(_,j))return K=_}return K=j}if(_=K,r(U,j))return _;var O=v(j);return S!==void 0&&S(_,O)?(U=j,_):(U=j,K=O)}var L=!1,U,K,H=y===void 0?null:y;return[function(){return N(p())},H===null?void 0:function(){return N(H())}]},[p,y,v,S]);var A=i(h,w[0],w[1]);return l(function(){T.hasValue=!0,T.value=A},[A]),f(A),A},Y0}var oC;function iV(){return oC||(oC=1,K0.exports=rV()),K0.exports}var sV=iV(),oV=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},aV=({contentComponent:t})=>{const e=lN.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return x.jsx(x.Fragment,{children:Object.values(e)})};function lV(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:RA.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}var cV=class extends _t.Component{constructor(t){var e;super(t),this.editorContentRef=_t.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(...t.options.element.childNodes),t.setOptions({element:e}),t.contentComponent=lV(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!((t=e.options.element)!=null&&t.firstChild)))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:t,innerRef:e,...n}=this.props;return x.jsxs(x.Fragment,{children:[x.jsx("div",{ref:oV(e,this.editorContentRef),...n}),t?.contentComponent&&x.jsx(aV,{contentComponent:t.contentComponent})]})}},uV=k.forwardRef((t,e)=>{const n=_t.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return _t.createElement(cV,{key:n,innerRef:e,...t})}),fV=_t.memo(uV),dV=typeof window<"u"?k.useLayoutEffect:k.useEffect,hV=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function cN(t){var e;const[n]=k.useState(()=>new hV(t.editor)),r=sV.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:nV);return dV(()=>n.watch(t.editor),[t.editor,n]),k.useDebugValue(r),r}var pV=!1,Kv=typeof window>"u",mV=Kv||!!(typeof window<"u"&&window.next),gV=class uN{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Kv||mV?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onBeforeCreate)==null?void 0:o.call(i,...r)},onBlur:(...r)=>{var i,o;return(o=(i=this.options.current).onBlur)==null?void 0:o.call(i,...r)},onCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onCreate)==null?void 0:o.call(i,...r)},onDestroy:(...r)=>{var i,o;return(o=(i=this.options.current).onDestroy)==null?void 0:o.call(i,...r)},onFocus:(...r)=>{var i,o;return(o=(i=this.options.current).onFocus)==null?void 0:o.call(i,...r)},onSelectionUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onSelectionUpdate)==null?void 0:o.call(i,...r)},onTransaction:(...r)=>{var i,o;return(o=(i=this.options.current).onTransaction)==null?void 0:o.call(i,...r)},onUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onUpdate)==null?void 0:o.call(i,...r)},onContentError:(...r)=>{var i,o;return(o=(i=this.options.current).onContentError)==null?void 0:o.call(i,...r)},onDrop:(...r)=>{var i,o;return(o=(i=this.options.current).onDrop)==null?void 0:o.call(i,...r)},onPaste:(...r)=>{var i,o;return(o=(i=this.options.current).onPaste)==null?void 0:o.call(i,...r)},onDelete:(...r)=>{var i,o;return(o=(i=this.options.current).onDelete)==null?void 0:o.call(i,...r)}};return new j8(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,o)=>{var l;return i===((l=n.extensions)==null?void 0:l[o])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?uN.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function yV(t={},e=[]){const n=k.useRef(t);n.current=t;const[r]=k.useState(()=>new gV(n)),i=lN.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return k.useDebugValue(i),k.useEffect(r.onRender(e)),cN({editor:i,selector:({transactionNumber:o})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&o===0?0:o+1}),i}var fN=k.createContext({editor:null});fN.Consumer;var dN=()=>k.useContext(fN),vV=k.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),bV=()=>k.useContext(vV);_t.forwardRef((t,e)=>{const{onDragStart:n}=bV(),r=t.as||"div";return x.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});_t.createContext({markViewContentRef:()=>{}});var Xp=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},SV=/^\s*>\s$/,wV=Nn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Xp("blockquote",{...Ft(this.options.HTMLAttributes,t),children:Xp("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Lc({find:SV,type:this.type})]}}),EV=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,xV=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,TV=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,CV=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,AV=Bs.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Xp("strong",{...Ft(this.options.HTMLAttributes,t),children:Xp("slot",{})})},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Ic({find:EV,type:this.type}),Ic({find:TV,type:this.type})]},addPasteRules(){return[dl({find:xV,type:this.type}),dl({find:CV,type:this.type})]}}),kV=/(^|[^`])`([^`]+)`(?!`)/,MV=/(^|[^`])`([^`]+)`(?!`)/g,OV=Bs.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Ft(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Ic({find:kV,type:this.type})]},addPasteRules(){return[dl({find:MV,type:this.type})]}}),NV=/^```([a-z]+)?[\s\n]$/,_V=/^~~~([a-z]+)?[\s\n]$/,RV=Nn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,o=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(l=>l.startsWith(n)).map(l=>l.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Ft(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,l=r.parent.textContent.endsWith(`

`);return!o||!l?!1:t.chain().command(({tr:c})=>(c.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const c=i.after();return c===void 0?!1:r.nodeAt(c)?t.commands.command(({tr:h})=>(h.setSelection(Ue.near(r.resolve(c))),!0)):t.commands.exitCode()}}},addInputRules(){return[Gv({find:NV,type:this.type,getAttributes:t=>({language:t[1]})}),Gv({find:_V,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Pt({key:new Ut("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i?.mode;if(!n||!o)return!1;const{tr:l,schema:c}=t.state,f=c.text(n.replace(/\r\n?/g,`
`));return l.replaceSelectionWith(this.type.create({language:o},f)),l.selection.$from.parent.type!==this.type&&l.setSelection(He.near(l.doc.resolve(Math.max(0,l.selection.from-2)))),l.setMeta("paste",!0),t.dispatch(l),!0}}})]}}),DV=Nn.create({name:"doc",topNode:!0,content:"block+"}),IV=Nn.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Ft(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:l}=this.options,{splittableMarks:c}=r.extensionManager,f=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:p})=>{if(p&&f&&l){const y=f.filter(v=>c.includes(v.type.name));h.ensureMarks(y)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),LV=Nn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Ft(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Gv({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),PV=Nn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Ft(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!z8(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,i=t();return HO(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({tr:o,dispatch:l})=>{var c;if(l){const{$to:f}=o.selection,h=f.end();if(f.nodeAfter)f.nodeAfter.isTextblock?o.setSelection(He.create(o.doc,f.pos+1)):f.nodeAfter.isBlock?o.setSelection(Re.create(o.doc,f.pos)):o.setSelection(He.create(o.doc,f.pos));else{const p=(c=f.parent.type.contentMatch.defaultType)==null?void 0:c.create();p&&(o.insert(h,p),o.setSelection(He.create(o.doc,h+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[sN({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),jV=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,zV=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,UV=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,BV=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,HV=Bs.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Ft(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Ic({find:jV,type:this.type}),Ic({find:UV,type:this.type})]},addPasteRules(){return[dl({find:zV,type:this.type}),dl({find:BV,type:this.type})]}});const VV="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",$V="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",Yv="numeric",Xv="ascii",Jv="alpha",mf="asciinumeric",rf="alphanumeric",Qv="domain",hN="emoji",FV="scheme",qV="slashscheme",X0="whitespace";function WV(t,e){return t in e||(e[t]=[]),e[t]}function Ka(t,e,n){e[Yv]&&(e[mf]=!0,e[rf]=!0),e[Xv]&&(e[mf]=!0,e[Jv]=!0),e[mf]&&(e[rf]=!0),e[Jv]&&(e[rf]=!0),e[rf]&&(e[Qv]=!0),e[hN]&&(e[Qv]=!0);for(const r in e){const i=WV(r,n);i.indexOf(t)<0&&i.push(t)}}function GV(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Zn(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Zn.groups={};Zn.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],o=e.jr[r][1];if(o&&i.test(t))return o}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||Zn.groups;let i;return e&&e.j?i=e:(i=new Zn(e),n&&r&&Ka(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const o=t.length;if(!o)return i;for(let l=0;l<o-1;l++)i=i.tt(t[l]);return i.tt(t[o-1],e,n,r)},tt(t,e,n,r){r=r||Zn.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const o=e;let l,c=i.go(t);if(c?(l=new Zn,Object.assign(l.j,c.j),l.jr.push.apply(l.jr,c.jr),l.jd=c.jd,l.t=c.t):l=new Zn,o){if(r)if(l.t&&typeof l.t=="string"){const f=Object.assign(GV(l.t,r),n);Ka(o,f,r)}else n&&Ka(o,n,r);l.t=o}return i.j[t]=l,l}};const We=(t,e,n,r,i)=>t.ta(e,n,r,i),Vt=(t,e,n,r,i)=>t.tr(e,n,r,i),aC=(t,e,n,r,i)=>t.ts(e,n,r,i),me=(t,e,n,r,i)=>t.tt(e,n,r,i),Es="WORD",Zv="UWORD",pN="ASCIINUMERICAL",mN="ALPHANUMERICAL",Bf="LOCALHOST",e1="TLD",t1="UTLD",yp="SCHEME",pc="SLASH_SCHEME",Sb="NUM",n1="WS",wb="NL",gf="OPENBRACE",yf="CLOSEBRACE",Jp="OPENBRACKET",Qp="CLOSEBRACKET",Zp="OPENPAREN",em="CLOSEPAREN",tm="OPENANGLEBRACKET",nm="CLOSEANGLEBRACKET",rm="FULLWIDTHLEFTPAREN",im="FULLWIDTHRIGHTPAREN",sm="LEFTCORNERBRACKET",om="RIGHTCORNERBRACKET",am="LEFTWHITECORNERBRACKET",lm="RIGHTWHITECORNERBRACKET",cm="FULLWIDTHLESSTHAN",um="FULLWIDTHGREATERTHAN",fm="AMPERSAND",dm="APOSTROPHE",hm="ASTERISK",No="AT",pm="BACKSLASH",mm="BACKTICK",gm="CARET",zo="COLON",Eb="COMMA",ym="DOLLAR",Ni="DOT",vm="EQUALS",xb="EXCLAMATION",Ur="HYPHEN",vf="PERCENT",bm="PIPE",Sm="PLUS",wm="POUND",bf="QUERY",Tb="QUOTE",gN="FULLWIDTHMIDDLEDOT",Cb="SEMI",_i="SLASH",Sf="TILDE",Em="UNDERSCORE",yN="EMOJI",xm="SYM";var vN=Object.freeze({__proto__:null,ALPHANUMERICAL:mN,AMPERSAND:fm,APOSTROPHE:dm,ASCIINUMERICAL:pN,ASTERISK:hm,AT:No,BACKSLASH:pm,BACKTICK:mm,CARET:gm,CLOSEANGLEBRACKET:nm,CLOSEBRACE:yf,CLOSEBRACKET:Qp,CLOSEPAREN:em,COLON:zo,COMMA:Eb,DOLLAR:ym,DOT:Ni,EMOJI:yN,EQUALS:vm,EXCLAMATION:xb,FULLWIDTHGREATERTHAN:um,FULLWIDTHLEFTPAREN:rm,FULLWIDTHLESSTHAN:cm,FULLWIDTHMIDDLEDOT:gN,FULLWIDTHRIGHTPAREN:im,HYPHEN:Ur,LEFTCORNERBRACKET:sm,LEFTWHITECORNERBRACKET:am,LOCALHOST:Bf,NL:wb,NUM:Sb,OPENANGLEBRACKET:tm,OPENBRACE:gf,OPENBRACKET:Jp,OPENPAREN:Zp,PERCENT:vf,PIPE:bm,PLUS:Sm,POUND:wm,QUERY:bf,QUOTE:Tb,RIGHTCORNERBRACKET:om,RIGHTWHITECORNERBRACKET:lm,SCHEME:yp,SEMI:Cb,SLASH:_i,SLASH_SCHEME:pc,SYM:xm,TILDE:Sf,TLD:e1,UNDERSCORE:Em,UTLD:t1,UWORD:Zv,WORD:Es,WS:n1});const Ss=/[a-z]/,Yu=new RegExp("\\p{L}","u"),J0=new RegExp("\\p{Emoji}","u"),ws=/\d/,Q0=/\s/,lC="\r",Z0=`
`,KV="️",YV="‍",ev="￼";let qh=null,Wh=null;function XV(t=[]){const e={};Zn.groups=e;const n=new Zn;qh==null&&(qh=cC(VV)),Wh==null&&(Wh=cC($V)),me(n,"'",dm),me(n,"{",gf),me(n,"}",yf),me(n,"[",Jp),me(n,"]",Qp),me(n,"(",Zp),me(n,")",em),me(n,"<",tm),me(n,">",nm),me(n,"（",rm),me(n,"）",im),me(n,"「",sm),me(n,"」",om),me(n,"『",am),me(n,"』",lm),me(n,"＜",cm),me(n,"＞",um),me(n,"&",fm),me(n,"*",hm),me(n,"@",No),me(n,"`",mm),me(n,"^",gm),me(n,":",zo),me(n,",",Eb),me(n,"$",ym),me(n,".",Ni),me(n,"=",vm),me(n,"!",xb),me(n,"-",Ur),me(n,"%",vf),me(n,"|",bm),me(n,"+",Sm),me(n,"#",wm),me(n,"?",bf),me(n,'"',Tb),me(n,"/",_i),me(n,";",Cb),me(n,"~",Sf),me(n,"_",Em),me(n,"\\",pm),me(n,"・",gN);const r=Vt(n,ws,Sb,{[Yv]:!0});Vt(r,ws,r);const i=Vt(r,Ss,pN,{[mf]:!0}),o=Vt(r,Yu,mN,{[rf]:!0}),l=Vt(n,Ss,Es,{[Xv]:!0});Vt(l,ws,i),Vt(l,Ss,l),Vt(i,ws,i),Vt(i,Ss,i);const c=Vt(n,Yu,Zv,{[Jv]:!0});Vt(c,Ss),Vt(c,ws,o),Vt(c,Yu,c),Vt(o,ws,o),Vt(o,Ss),Vt(o,Yu,o);const f=me(n,Z0,wb,{[X0]:!0}),h=me(n,lC,n1,{[X0]:!0}),p=Vt(n,Q0,n1,{[X0]:!0});me(n,ev,p),me(h,Z0,f),me(h,ev,p),Vt(h,Q0,p),me(p,lC),me(p,Z0),Vt(p,Q0,p),me(p,ev,p);const y=Vt(n,J0,yN,{[hN]:!0});me(y,"#"),Vt(y,J0,y),me(y,KV,y);const v=me(y,YV);me(v,"#"),Vt(v,J0,y);const S=[[Ss,l],[ws,i]],w=[[Ss,null],[Yu,c],[ws,o]];for(let T=0;T<qh.length;T++)Co(n,qh[T],e1,Es,S);for(let T=0;T<Wh.length;T++)Co(n,Wh[T],t1,Zv,w);Ka(e1,{tld:!0,ascii:!0},e),Ka(t1,{utld:!0,alpha:!0},e),Co(n,"file",yp,Es,S),Co(n,"mailto",yp,Es,S),Co(n,"http",pc,Es,S),Co(n,"https",pc,Es,S),Co(n,"ftp",pc,Es,S),Co(n,"ftps",pc,Es,S),Ka(yp,{scheme:!0,ascii:!0},e),Ka(pc,{slashscheme:!0,ascii:!0},e),t=t.sort((T,A)=>T[0]>A[0]?1:-1);for(let T=0;T<t.length;T++){const A=t[T][0],L=t[T][1]?{[FV]:!0}:{[qV]:!0};A.indexOf("-")>=0?L[Qv]=!0:Ss.test(A)?ws.test(A)?L[mf]=!0:L[Xv]=!0:L[Yv]=!0,aC(n,A,A,L)}return aC(n,"localhost",Bf,{ascii:!0}),n.jd=new Zn(xm),{start:n,tokens:Object.assign({groups:e},vN)}}function bN(t,e){const n=JV(e.replace(/[A-Z]/g,c=>c.toLowerCase())),r=n.length,i=[];let o=0,l=0;for(;l<r;){let c=t,f=null,h=0,p=null,y=-1,v=-1;for(;l<r&&(f=c.go(n[l]));)c=f,c.accepts()?(y=0,v=0,p=c):y>=0&&(y+=n[l].length,v++),h+=n[l].length,o+=n[l].length,l++;o-=y,l-=v,h-=y,i.push({t:p.t,v:e.slice(o-h,o),s:o-h,e:o})}return i}function JV(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),o,l=i<55296||i>56319||r+1===n||(o=t.charCodeAt(r+1))<56320||o>57343?t[r]:t.slice(r,r+2);e.push(l),r+=l.length}return e}function Co(t,e,n,r,i){let o;const l=e.length;for(let c=0;c<l-1;c++){const f=e[c];t.j[f]?o=t.j[f]:(o=new Zn(r),o.jr=i.slice(),t.j[f]=o),t=o}return o=new Zn(n),o.jr=i.slice(),t.j[e[l-1]]=o,o}function cC(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let o=0;for(;i.indexOf(t[r+o])>=0;)o++;if(o>0){e.push(n.join(""));for(let l=parseInt(t.substring(r,r+o),10);l>0;l--)n.pop();r+=o}else n.push(t[r]),r++}return e}const Hf={defaultProtocol:"http",events:null,format:uC,formatHref:uC,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Ab(t,e=null){let n=Object.assign({},Hf);t&&(n=Object.assign(n,t instanceof Ab?t.o:t));const r=n.ignoreTags,i=[];for(let o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}Ab.prototype={o:Hf,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:Hf[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function uC(t){return t}function SN(t,e){this.t="token",this.v=t,this.tk=e}SN.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"…":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Hf.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),o=this.toFormattedString(t),l={},c=t.get("className",n,e),f=t.get("target",n,e),h=t.get("rel",n,e),p=t.getObj("attributes",n,e),y=t.getObj("events",n,e);return l.href=r,c&&(l.class=c),f&&(l.target=f),h&&(l.rel=h),p&&Object.assign(l,p),{tagName:i,attributes:l,content:o,eventListeners:y}}};function tg(t,e){class n extends SN{constructor(i,o){super(i,o),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const fC=tg("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),dC=tg("text"),QV=tg("nl"),Gh=tg("url",{isLink:!0,toHref(t=Hf.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Bf&&t[1].t===zo}}),zr=t=>new Zn(t);function ZV({groups:t}){const e=t.domain.concat([fm,hm,No,pm,mm,gm,ym,vm,Ur,Sb,vf,bm,Sm,wm,_i,xm,Sf,Em]),n=[dm,zo,Eb,Ni,xb,vf,bf,Tb,Cb,tm,nm,gf,yf,Qp,Jp,Zp,em,rm,im,sm,om,am,lm,cm,um],r=[fm,dm,hm,pm,mm,gm,ym,vm,Ur,gf,yf,vf,bm,Sm,wm,bf,_i,xm,Sf,Em],i=zr(),o=me(i,Sf);We(o,r,o),We(o,t.domain,o);const l=zr(),c=zr(),f=zr();We(i,t.domain,l),We(i,t.scheme,c),We(i,t.slashscheme,f),We(l,r,o),We(l,t.domain,l);const h=me(l,No);me(o,No,h),me(c,No,h),me(f,No,h);const p=me(o,Ni);We(p,r,o),We(p,t.domain,o);const y=zr();We(h,t.domain,y),We(y,t.domain,y);const v=me(y,Ni);We(v,t.domain,y);const S=zr(fC);We(v,t.tld,S),We(v,t.utld,S),me(h,Bf,S);const w=me(y,Ur);me(w,Ur,w),We(w,t.domain,y),We(S,t.domain,y),me(S,Ni,v),me(S,Ur,w);const T=me(S,zo);We(T,t.numeric,fC);const A=me(l,Ur),N=me(l,Ni);me(A,Ur,A),We(A,t.domain,l),We(N,r,o),We(N,t.domain,l);const L=zr(Gh);We(N,t.tld,L),We(N,t.utld,L),We(L,t.domain,l),We(L,r,o),me(L,Ni,N),me(L,Ur,A),me(L,No,h);const U=me(L,zo),K=zr(Gh);We(U,t.numeric,K);const H=zr(Gh),j=zr();We(H,e,H),We(H,n,j),We(j,e,H),We(j,n,j),me(L,_i,H),me(K,_i,H);const _=me(c,zo),O=me(f,zo),I=me(O,_i),R=me(I,_i);We(c,t.domain,l),me(c,Ni,N),me(c,Ur,A),We(f,t.domain,l),me(f,Ni,N),me(f,Ur,A),We(_,t.domain,H),me(_,_i,H),me(_,bf,H),We(R,t.domain,H),We(R,e,H),me(R,_i,H);const B=[[gf,yf],[Jp,Qp],[Zp,em],[tm,nm],[rm,im],[sm,om],[am,lm],[cm,um]];for(let q=0;q<B.length;q++){const[z,ve]=B[q],ge=me(H,z);me(j,z,ge),me(ge,ve,H);const G=zr(Gh);We(ge,e,G);const oe=zr();We(ge,n),We(G,e,G),We(G,n,oe),We(oe,e,G),We(oe,n,oe),me(G,ve,H),me(oe,ve,H)}return me(i,Bf,L),me(i,wb,QV),{start:i,tokens:vN}}function e$(t,e,n){let r=n.length,i=0,o=[],l=[];for(;i<r;){let c=t,f=null,h=null,p=0,y=null,v=-1;for(;i<r&&!(f=c.go(n[i].t));)l.push(n[i++]);for(;i<r&&(h=f||c.go(n[i].t));)f=null,c=h,c.accepts()?(v=0,y=c):v>=0&&v++,i++,p++;if(v<0)i-=p,i<r&&(l.push(n[i]),i++);else{l.length>0&&(o.push(tv(dC,e,l)),l=[]),i-=v,p-=v;const S=y.t,w=n.slice(i-p,i);o.push(tv(S,e,w))}}return l.length>0&&o.push(tv(dC,e,l)),o}function tv(t,e,n){const r=n[0].s,i=n[n.length-1].e,o=e.slice(r,i);return new t(o,n)}const t$=typeof console<"u"&&console&&console.warn||(()=>{}),n$="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Rt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function r$(){return Zn.groups={},Rt.scanner=null,Rt.parser=null,Rt.tokenQueue=[],Rt.pluginQueue=[],Rt.customSchemes=[],Rt.initialized=!1,Rt}function hC(t,e=!1){if(Rt.initialized&&t$(`linkifyjs: already initialized - will not register custom scheme "${t}" ${n$}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Rt.customSchemes.push([t,e])}function i$(){Rt.scanner=XV(Rt.customSchemes);for(let t=0;t<Rt.tokenQueue.length;t++)Rt.tokenQueue[t][1]({scanner:Rt.scanner});Rt.parser=ZV(Rt.scanner.tokens);for(let t=0;t<Rt.pluginQueue.length;t++)Rt.pluginQueue[t][1]({scanner:Rt.scanner,parser:Rt.parser});return Rt.initialized=!0,Rt}function kb(t){return Rt.initialized||i$(),e$(Rt.parser.start,t,bN(Rt.scanner.start,t))}kb.scan=bN;function wN(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new Ab(n),i=kb(t),o=[];for(let l=0;l<i.length;l++){const c=i[l];c.isLink&&(!e||c.t===e)&&r.check(c)&&o.push(c.toFormattedObject(r))}return o}var Mb="[\0-   ᠎ -\u2029 　]",s$=new RegExp(Mb),o$=new RegExp(`${Mb}$`),a$=new RegExp(Mb,"g");function l$(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function c$(t){return new Pt({key:new Ut("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(h=>h.docChanged)&&!n.doc.eq(r.doc),o=e.some(h=>h.getMeta("preventAutolink"));if(!i||o)return;const{tr:l}=r,c=NO(n.doc,[...e]);if(UO(c).forEach(({newRange:h})=>{const p=tH(r.doc,h,S=>S.isTextblock);let y,v;if(p.length>1)y=p[0],v=r.doc.textBetween(y.pos,y.pos+y.node.nodeSize,void 0," ");else if(p.length){const S=r.doc.textBetween(h.from,h.to," "," ");if(!o$.test(S))return;y=p[0],v=r.doc.textBetween(y.pos,h.to,void 0," ")}if(y&&v){const S=v.split(s$).filter(Boolean);if(S.length<=0)return!1;const w=S[S.length-1],T=y.pos+v.lastIndexOf(w);if(!w)return!1;const A=kb(w).map(N=>N.toObject(t.defaultProtocol));if(!l$(A))return!1;A.filter(N=>N.isLink).map(N=>({...N,from:T+N.start+1,to:T+N.end+1})).filter(N=>r.schema.marks.code?!r.doc.rangeHasMark(N.from,N.to,r.schema.marks.code):!0).filter(N=>t.validate(N.value)).filter(N=>t.shouldAutoLink(N.value)).forEach(N=>{gb(N.from,N.to,r.doc).some(L=>L.mark.type===t.type)||l.addMark(N.from,N.to,t.type.create({href:N.href}))})}}),!!l.steps.length)return l}})}function u$(t){return new Pt({key:new Ut("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,o;if(r.button!==0||!e.editable)return!1;let l=null;if(r.target instanceof HTMLAnchorElement)l=r.target;else{let p=r.target;const y=[];for(;p.nodeName!=="DIV";)y.push(p),p=p.parentNode;l=y.find(v=>v.nodeName==="A")}if(!l)return!1;const c=zO(e.state,t.type.name),f=(i=l?.href)!=null?i:c.href,h=(o=l?.target)!=null?o:c.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),l&&f?(window.open(f,h),!0):!1}}})}function f$(t){return new Pt({key:new Ut("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:i}=e,{selection:o}=i,{empty:l}=o;if(l)return!1;let c="";r.content.forEach(h=>{c+=h.textContent});const f=wN(c,{defaultProtocol:t.defaultProtocol}).find(h=>h.isLink&&h.value===c);return!c||!f?!1:t.editor.commands.setMark(t.type,{href:f.href})}}})}function Ua(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(a$,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var d$=Bs.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){hC(t);return}hC(t.scheme,t.optionalSlashes)})},onDestroy(){r$()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Ua(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Ua(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Ua(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Ft(this.options.HTMLAttributes,t),0]:["a",Ft(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Ua(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Ua(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[dl({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=wN(t).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:l=>!!Ua(l,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(o=>e.push({text:o.value,data:{href:o.href},index:o.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(c$({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Ua(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(u$({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(f$({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),h$=Object.defineProperty,p$=(t,e)=>{for(var n in e)h$(t,n,{get:e[n],enumerable:!0})},m$="listItem",pC="textStyle",mC=/^\s*([-+*])\s$/,EN=Nn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Ft(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(m$,this.editor.getAttributes(pC)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Lc({find:mC,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Lc({find:mC,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(pC),editor:this.editor})),[t]}}),xN=Nn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Ft(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),g$={};p$(g$,{findListItemPos:()=>od,getNextListDepth:()=>Ob,handleBackspace:()=>r1,handleDelete:()=>i1,hasListBefore:()=>TN,hasListItemAfter:()=>y$,hasListItemBefore:()=>CN,listItemHasSubList:()=>AN,nextListIsDeeper:()=>kN,nextListIsHigher:()=>MN});var od=(t,e)=>{const{$from:n}=e.selection,r=en(t,e.schema);let i=null,o=n.depth,l=n.pos,c=null;for(;o>0&&c===null;)i=n.node(o),i.type===r?c=o:(o-=1,l-=1);return c===null?null:{$pos:e.doc.resolve(l),depth:c}},Ob=(t,e)=>{const n=od(t,e);if(!n)return!1;const[,r]=uH(e,t,n.$pos.pos+4);return r},TN=(t,e,n)=>{const{$anchor:r}=t.selection,i=Math.max(0,r.pos-2),o=t.doc.resolve(i).node();return!(!o||!n.includes(o.type.name))},CN=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},AN=(t,e,n)=>{if(!n)return!1;const r=en(t,e.schema);let i=!1;return n.descendants(o=>{o.type===r&&(i=!0)}),i},r1=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!ta(t.state,e)&&TN(t.state,e,n)){const{$anchor:c}=t.state.selection,f=t.state.doc.resolve(c.before()-1),h=[];f.node().descendants((v,S)=>{v.type.name===e&&h.push({node:v,pos:S})});const p=h.at(-1);if(!p)return!1;const y=t.state.doc.resolve(f.start()+p.pos+1);return t.chain().cut({from:c.start()-1,to:c.end()+1},y.end()).joinForward().run()}if(!ta(t.state,e)||!pH(t.state))return!1;const r=od(e,t.state);if(!r)return!1;const o=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),l=AN(e,t.state,o);return CN(e,t.state)&&!l?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},kN=(t,e)=>{const n=Ob(t,e),r=od(t,e);return!r||!n?!1:n>r.depth},MN=(t,e)=>{const n=Ob(t,e),r=od(t,e);return!r||!n?!1:n<r.depth},i1=(t,e)=>{if(!ta(t.state,e)||!hH(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:kN(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():MN(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},y$=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},ON=St.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&i1(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&i1(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&r1(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&r1(t,n,r)&&(e=!0)}),e}}}}),v$="listItem",gC="textStyle",yC=/^(\d+)\.\s$/,NN=Nn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Ft(this.options.HTMLAttributes,n),0]:["ol",Ft(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(v$,this.editor.getAttributes(gC)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Lc({find:yC,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Lc({find:yC,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(gC)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),b$=/^\s*(\[([( |x])?\])\s$/,S$=Nn.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Ft(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),o=document.createElement("label"),l=document.createElement("span"),c=document.createElement("input"),f=document.createElement("div"),h=p=>{var y,v;c.ariaLabel=((v=(y=this.options.a11y)==null?void 0:y.checkboxLabel)==null?void 0:v.call(y,p,c.checked))||`Task item checkbox for ${p.textContent||"empty task item"}`};return h(t),o.contentEditable="false",c.type="checkbox",c.addEventListener("mousedown",p=>p.preventDefault()),c.addEventListener("change",p=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){c.checked=!c.checked;return}const{checked:y}=p.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:v})=>{const S=n();if(typeof S!="number")return!1;const w=v.doc.nodeAt(S);return v.setNodeMarkup(S,void 0,{...w?.attrs,checked:y}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,y)||(c.checked=!c.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([p,y])=>{i.setAttribute(p,y)}),i.dataset.checked=t.attrs.checked,c.checked=t.attrs.checked,o.append(c,l),i.append(o,f),Object.entries(e).forEach(([p,y])=>{i.setAttribute(p,y)}),{dom:i,contentDOM:f,update:p=>p.type!==this.type?!1:(i.dataset.checked=p.attrs.checked,c.checked=p.attrs.checked,h(p),!0)}}},addInputRules(){return[Lc({find:b$,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),w$=Nn.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Ft(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});St.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(EN.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(xN.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(ON.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(NN.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(S$.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(w$.configure(this.options.taskList)),t}});var _N=Nn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Ft(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),E$=_N,x$=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,T$=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,C$=Bs.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Ft(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Ic({find:x$,type:this.type})]},addPasteRules(){return[dl({find:T$,type:this.type})]}}),A$=Nn.create({name:"text",group:"inline"}),k$=Bs.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Ft(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function M$(t={}){return new Pt({view(e){return new O$(e,t)}})}class O${constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=l=>{this[i](l)};return e.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,o=i.getBoundingClientRect(),l=o.width/i.offsetWidth,c=o.height/i.offsetHeight;if(n){let y=e.nodeBefore,v=e.nodeAfter;if(y||v){let S=this.editorView.nodeDOM(this.cursorPos-(y?y.nodeSize:0));if(S){let w=S.getBoundingClientRect(),T=y?w.bottom:w.top;y&&v&&(T=(T+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let A=this.width/2*c;r={left:w.left,right:w.right,top:T-A,bottom:T+A}}}}if(!r){let y=this.editorView.coordsAtPos(this.cursorPos),v=this.width/2*l;r={left:y.left-v,right:y.left+v,top:y.top,bottom:y.bottom}}let f=this.editorView.dom.offsetParent;this.element||(this.element=f.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let h,p;if(!f||f==document.body&&getComputedStyle(f).position=="static")h=-pageXOffset,p=-pageYOffset;else{let y=f.getBoundingClientRect(),v=y.width/f.offsetWidth,S=y.height/f.offsetHeight;h=y.left-f.scrollLeft*v,p=y.top-f.scrollTop*S}this.element.style.left=(r.left-h)/l+"px",this.element.style.top=(r.top-p)/c+"px",this.element.style.width=(r.right-r.left)/l+"px",this.element.style.height=(r.bottom-r.top)/c+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!o){let l=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let c=MM(this.editorView.state.doc,l,this.editorView.dragging.slice);c!=null&&(l=c)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class $t extends Ue{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return $t.valid(r)?new $t(r):Ue.near(r)}content(){return be.empty}eq(e){return e instanceof $t&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new $t(e.resolve(n.pos))}getBookmark(){return new Nb(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!N$(e)||!_$(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&$t.valid(e))return e;let i=e.pos,o=null;for(let l=e.depth;;l--){let c=e.node(l);if(n>0?e.indexAfter(l)<c.childCount:e.index(l)>0){o=c.child(n>0?e.indexAfter(l):e.index(l)-1);break}else if(l==0)return null;i+=n;let f=e.doc.resolve(i);if($t.valid(f))return f}for(;;){let l=n>0?o.firstChild:o.lastChild;if(!l){if(o.isAtom&&!o.isText&&!Re.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=l,i+=n;let c=e.doc.resolve(i);if($t.valid(c))return c}return null}}}$t.prototype.visible=!1;$t.findFrom=$t.findGapCursorFrom;Ue.jsonID("gapcursor",$t);class Nb{constructor(e){this.pos=e}map(e){return new Nb(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return $t.valid(n)?new $t(n):Ue.near(n)}}function N$(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function _$(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function R$(){return new Pt({props:{decorations:P$,createSelectionBetween(t,e,n){return e.pos==n.pos&&$t.valid(n)?new $t(n):null},handleClick:I$,handleKeyDown:D$,handleDOMEvents:{beforeinput:L$}}})}const D$=ib({ArrowLeft:Kh("horiz",-1),ArrowRight:Kh("horiz",1),ArrowUp:Kh("vert",-1),ArrowDown:Kh("vert",1)});function Kh(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let l=r.selection,c=e>0?l.$to:l.$from,f=l.empty;if(l instanceof He){if(!o.endOfTextblock(n)||c.depth==0)return!1;f=!1,c=r.doc.resolve(e>0?c.after():c.before())}let h=$t.findGapCursorFrom(c,e,f);return h?(i&&i(r.tr.setSelection(new $t(h))),!0):!1}}function I$(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!$t.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Re.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new $t(r))),!0)}function L$(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof $t))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=de.empty;for(let l=r.length-1;l>=0;l--)i=de.from(r[l].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new be(i,0,0));return o.setSelection(He.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function P$(t){if(!(t.selection instanceof $t))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",zt.create(t.doc,[zn.widget(t.selection.head,e,{key:"gapcursor"})])}var Tm=200,pn=function(){};pn.prototype.append=function(e){return e.length?(e=pn.from(e),!this.length&&e||e.length<Tm&&this.leafAppend(e)||this.length<Tm&&e.leafPrepend(this)||this.appendInner(e)):this};pn.prototype.prepend=function(e){return e.length?pn.from(e).append(this):this};pn.prototype.appendInner=function(e){return new j$(this,e)};pn.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?pn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};pn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};pn.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};pn.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,l){return i.push(e(o,l))},n,r),i};pn.from=function(e){return e instanceof pn?e:e&&e.length?new RN(e):pn.empty};var RN=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,l,c){for(var f=o;f<l;f++)if(i(this.values[f],c+f)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,l,c){for(var f=o-1;f>=l;f--)if(i(this.values[f],c+f)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Tm)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Tm)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(pn);pn.empty=new RN([]);var j$=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,l){var c=this.left.length;if(i<c&&this.left.forEachInner(r,i,Math.min(o,c),l)===!1||o>c&&this.right.forEachInner(r,Math.max(i-c,0),Math.min(this.length,o)-c,l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,l){var c=this.left.length;if(i>c&&this.right.forEachInvertedInner(r,i-c,Math.max(o,c)-c,l+c)===!1||o<c&&this.left.forEachInvertedInner(r,Math.min(i,c),o,l)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(pn);const z$=500;class ni{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let l=e.tr,c,f,h=[],p=[];return this.items.forEach((y,v)=>{if(!y.step){i||(i=this.remapping(r,v+1),o=i.maps.length),o--,p.push(y);return}if(i){p.push(new Ri(y.map));let S=y.step.map(i.slice(o)),w;S&&l.maybeStep(S).doc&&(w=l.mapping.maps[l.mapping.maps.length-1],h.push(new Ri(w,void 0,void 0,h.length+p.length))),o--,w&&i.appendMap(w,o)}else l.maybeStep(y.step);if(y.selection)return c=i?y.selection.map(i.slice(o)):y.selection,f=new ni(this.items.slice(0,r).append(p.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:f,transform:l,selection:c}}addTransform(e,n,r,i){let o=[],l=this.eventCount,c=this.items,f=!i&&c.length?c.get(c.length-1):null;for(let p=0;p<e.steps.length;p++){let y=e.steps[p].invert(e.docs[p]),v=new Ri(e.mapping.maps[p],y,n),S;(S=f&&f.merge(v))&&(v=S,p?o.pop():c=c.slice(0,c.length-1)),o.push(v),n&&(l++,n=void 0),i||(f=v)}let h=l-r.depth;return h>B$&&(c=U$(c,h),l-=h),new ni(c.append(o),l)}remapping(e,n){let r=new Df;return this.items.forEach((i,o)=>{let l=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,l)},e,n),r}addMaps(e){return this.eventCount==0?this:new ni(this.items.append(e.map(n=>new Ri(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,l=e.steps.length,c=this.eventCount;this.items.forEach(v=>{v.selection&&c--},i);let f=n;this.items.forEach(v=>{let S=o.getMirror(--f);if(S==null)return;l=Math.min(l,S);let w=o.maps[S];if(v.step){let T=e.steps[S].invert(e.docs[S]),A=v.selection&&v.selection.map(o.slice(f+1,S));A&&c++,r.push(new Ri(w,T,A))}else r.push(new Ri(w))},i);let h=[];for(let v=n;v<l;v++)h.push(new Ri(o.maps[v]));let p=this.items.slice(0,i).append(h).append(r),y=new ni(p,c);return y.emptyItemCount()>z$&&(y=y.compress(this.items.length-r.length)),y}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((l,c)=>{if(c>=e)i.push(l),l.selection&&o++;else if(l.step){let f=l.step.map(n.slice(r)),h=f&&f.getMap();if(r--,h&&n.appendMap(h,r),f){let p=l.selection&&l.selection.map(n.slice(r));p&&o++;let y=new Ri(h.invert(),f,p),v,S=i.length-1;(v=i.length&&i[S].merge(y))?i[S]=v:i.push(y)}}else l.map&&r--},this.items.length,0),new ni(pn.from(i.reverse()),o)}}ni.empty=new ni(pn.empty,0);function U$(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class Ri{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Ri(n.getMap().invert(),n,this.selection)}}}class _o{constructor(e,n,r,i,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const B$=20;function H$(t,e,n,r){let i=n.getMeta(nl),o;if(i)return i.historyState;n.getMeta(F$)&&(t=new _o(t.done,t.undone,null,0,-1));let l=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(l&&l.getMeta(nl))return l.getMeta(nl).redo?new _o(t.done.addTransform(n,void 0,r,vp(e)),t.undone,vC(n.mapping.maps),t.prevTime,t.prevComposition):new _o(t.done,t.undone.addTransform(n,void 0,r,vp(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let c=n.getMeta("composition"),f=t.prevTime==0||!l&&t.prevComposition!=c&&(t.prevTime<(n.time||0)-r.newGroupDelay||!V$(n,t.prevRanges)),h=l?nv(t.prevRanges,n.mapping):vC(n.mapping.maps);return new _o(t.done.addTransform(n,f?e.selection.getBookmark():void 0,r,vp(e)),ni.empty,h,n.time,c??t.prevComposition)}else return(o=n.getMeta("rebased"))?new _o(t.done.rebased(n,o),t.undone.rebased(n,o),nv(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new _o(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),nv(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function V$(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function vC(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,o,l)=>e.push(o,l));return e}function nv(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function $$(t,e,n){let r=vp(e),i=nl.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,r);if(!o)return null;let l=o.selection.resolve(o.transform.doc),c=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),i,r),f=new _o(n?c:o.remaining,n?o.remaining:c,null,0,-1);return o.transform.setSelection(l).setMeta(nl,{redo:n,historyState:f})}let rv=!1,bC=null;function vp(t){let e=t.plugins;if(bC!=e){rv=!1,bC=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){rv=!0;break}}return rv}const nl=new Ut("history"),F$=new Ut("closeHistory");function q$(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Pt({key:nl,state:{init(){return new _o(ni.empty,ni.empty,null,0,-1)},apply(e,n,r){return H$(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?IN:r=="historyRedo"?LN:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function DN(t,e){return(n,r)=>{let i=nl.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let o=$$(i,n,t);o&&r(e?o.scrollIntoView():o)}return!0}}const IN=DN(!1,!0),LN=DN(!0,!0);St.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new Pt({key:new Ut("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const o=this.storage.characters({node:r.doc});if(o>i){const l=o-i,c=0,f=l;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const h=r.tr.deleteRange(c,f);return t=!0,h}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),o=this.storage.characters({node:e.doc});if(o<=r||i>r&&o>r&&o<=i)return!0;if(i>r&&o>r&&o>i||!e.getMeta("paste"))return!1;const c=e.selection.$head.pos,f=o-r,h=c-f,p=c;return e.deleteRange(h,p),!(this.storage.characters({node:e.doc})>r)}})]}});var W$=St.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[M$(this.options)]}});St.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Pt({key:new Ut("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,o=[];if(!n||!r)return zt.create(t,[]);let l=0;this.options.mode==="deepest"&&t.descendants((f,h)=>{if(f.isText)return;if(!(i>=h&&i<=h+f.nodeSize-1))return!1;l+=1});let c=0;return t.descendants((f,h)=>{if(f.isText||!(i>=h&&i<=h+f.nodeSize-1))return!1;if(c+=1,this.options.mode==="deepest"&&l-c>0||this.options.mode==="shallowest"&&c>1)return this.options.mode==="deepest";o.push(zn.node(h,h+f.nodeSize,{class:this.options.className}))}),zt.create(t,o)}}})]}});var G$=St.create({name:"gapCursor",addProseMirrorPlugins(){return[R$()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=vt(_e(t,"allowGapCursor",n)))!=null?e:null}}});St.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Pt({key:new Ut("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const o=this.editor.isEmpty;return t.descendants((l,c)=>{const f=r>=c&&r<=c+l.nodeSize,h=!l.isLeaf&&Qm(l);if((f||!this.options.showOnlyCurrent)&&h){const p=[this.options.emptyNodeClass];o&&p.push(this.options.emptyEditorClass);const y=zn.node(c,c+l.nodeSize,{class:p.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:l,pos:c,hasAnchor:f}):this.options.placeholder});i.push(y)}return this.options.includeChildren}),zt.create(t,i)}}})]}});St.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Pt({key:new Ut("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||HO(n.selection)||t.view.dragging?null:zt.create(n.doc,[zn.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function SC({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var K$=St.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const t=new Ut(this.name),e=Object.entries(this.editor.schema.nodes).map(([,n])=>n).filter(n=>(this.options.notAfter||[]).concat(this.options.node).includes(n.name));return[new Pt({key:t,appendTransaction:(n,r,i)=>{const{doc:o,tr:l,schema:c}=i,f=t.getState(i),h=o.content.size,p=c.nodes[this.options.node];if(f)return l.insert(h,p.create())},state:{init:(n,r)=>{const i=r.tr.doc.lastChild;return!SC({node:i,types:e})},apply:(n,r)=>{if(!n.docChanged)return r;const i=n.doc.lastChild;return!SC({node:i,types:e})}}})]}}),Y$=St.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>IN(t,e),redo:()=>({state:t,dispatch:e})=>LN(t,e)}},addProseMirrorPlugins(){return[q$(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),X$=St.create({name:"starterKit",addExtensions(){var t,e,n,r;const i=[];return this.options.bold!==!1&&i.push(AV.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(wV.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(EN.configure(this.options.bulletList)),this.options.code!==!1&&i.push(OV.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(RV.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(DV.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(W$.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(G$.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(IV.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(LV.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(Y$.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(PV.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(HV.configure(this.options.italic)),this.options.listItem!==!1&&i.push(xN.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(ON.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(d$.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(NN.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(_N.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(C$.configure(this.options.strike)),this.options.text!==!1&&i.push(A$.configure(this.options.text)),this.options.underline!==!1&&i.push(k$.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(K$.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),J$=X$;const PN=["top","right","bottom","left"],wC=["start","end"],EC=PN.reduce((t,e)=>t.concat(e,e+"-"+wC[0],e+"-"+wC[1]),[]),fi=Math.min,kn=Math.max,Cm=Math.round,Yh=Math.floor,Ui=t=>({x:t,y:t}),Q$={left:"right",right:"left",bottom:"top",top:"bottom"},Z$={start:"end",end:"start"};function s1(t,e,n){return kn(t,fi(e,n))}function di(t,e){return typeof t=="function"?t(e):t}function Sr(t){return t.split("-")[0]}function ci(t){return t.split("-")[1]}function _b(t){return t==="x"?"y":"x"}function Rb(t){return t==="y"?"height":"width"}const eF=new Set(["top","bottom"]);function oi(t){return eF.has(Sr(t))?"y":"x"}function Db(t){return _b(oi(t))}function jN(t,e,n){n===void 0&&(n=!1);const r=ci(t),i=Db(t),o=Rb(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=km(l)),[l,km(l)]}function tF(t){const e=km(t);return[Am(t),e,Am(e)]}function Am(t){return t.replace(/start|end/g,e=>Z$[e])}const xC=["left","right"],TC=["right","left"],nF=["top","bottom"],rF=["bottom","top"];function iF(t,e,n){switch(t){case"top":case"bottom":return n?e?TC:xC:e?xC:TC;case"left":case"right":return e?nF:rF;default:return[]}}function sF(t,e,n,r){const i=ci(t);let o=iF(Sr(t),n==="start",r);return i&&(o=o.map(l=>l+"-"+i),e&&(o=o.concat(o.map(Am)))),o}function km(t){return t.replace(/left|right|bottom|top/g,e=>Q$[e])}function oF(t){return{top:0,right:0,bottom:0,left:0,...t}}function Ib(t){return typeof t!="number"?oF(t):{top:t,right:t,bottom:t,left:t}}function Pc(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function CC(t,e,n){let{reference:r,floating:i}=t;const o=oi(e),l=Db(e),c=Rb(l),f=Sr(e),h=o==="y",p=r.x+r.width/2-i.width/2,y=r.y+r.height/2-i.height/2,v=r[c]/2-i[c]/2;let S;switch(f){case"top":S={x:p,y:r.y-i.height};break;case"bottom":S={x:p,y:r.y+r.height};break;case"right":S={x:r.x+r.width,y};break;case"left":S={x:r.x-i.width,y};break;default:S={x:r.x,y:r.y}}switch(ci(e)){case"start":S[l]-=v*(n&&h?-1:1);break;case"end":S[l]+=v*(n&&h?-1:1);break}return S}const aF=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:l}=n,c=o.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:p,y}=CC(h,r,f),v=r,S={},w=0;for(let T=0;T<c.length;T++){const{name:A,fn:N}=c[T],{x:L,y:U,data:K,reset:H}=await N({x:p,y,initialPlacement:r,placement:v,strategy:i,middlewareData:S,rects:h,platform:l,elements:{reference:t,floating:e}});p=L??p,y=U??y,S={...S,[A]:{...S[A],...K}},H&&w<=50&&(w++,typeof H=="object"&&(H.placement&&(v=H.placement),H.rects&&(h=H.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):H.rects),{x:p,y}=CC(h,v,f)),T=-1)}return{x:p,y,placement:v,strategy:i,middlewareData:S}};async function jc(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:l,elements:c,strategy:f}=t,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:y="floating",altBoundary:v=!1,padding:S=0}=di(e,t),w=Ib(S),A=c[v?y==="floating"?"reference":"floating":y],N=Pc(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(A)))==null||n?A:A.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:h,rootBoundary:p,strategy:f})),L=y==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,U=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),K=await(o.isElement==null?void 0:o.isElement(U))?await(o.getScale==null?void 0:o.getScale(U))||{x:1,y:1}:{x:1,y:1},H=Pc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:L,offsetParent:U,strategy:f}):L);return{top:(N.top-H.top+w.top)/K.y,bottom:(H.bottom-N.bottom+w.bottom)/K.y,left:(N.left-H.left+w.left)/K.x,right:(H.right-N.right+w.right)/K.x}}const lF=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:l,elements:c,middlewareData:f}=e,{element:h,padding:p=0}=di(t,e)||{};if(h==null)return{};const y=Ib(p),v={x:n,y:r},S=Db(i),w=Rb(S),T=await l.getDimensions(h),A=S==="y",N=A?"top":"left",L=A?"bottom":"right",U=A?"clientHeight":"clientWidth",K=o.reference[w]+o.reference[S]-v[S]-o.floating[w],H=v[S]-o.reference[S],j=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let _=j?j[U]:0;(!_||!await(l.isElement==null?void 0:l.isElement(j)))&&(_=c.floating[U]||o.floating[w]);const O=K/2-H/2,I=_/2-T[w]/2-1,R=fi(y[N],I),B=fi(y[L],I),q=R,z=_-T[w]-B,ve=_/2-T[w]/2+O,ge=s1(q,ve,z),G=!f.arrow&&ci(i)!=null&&ve!==ge&&o.reference[w]/2-(ve<q?R:B)-T[w]/2<0,oe=G?ve<q?ve-q:ve-z:0;return{[S]:v[S]+oe,data:{[S]:ge,centerOffset:ve-ge-oe,...G&&{alignmentOffset:oe}},reset:G}}});function cF(t,e,n){return(t?[...n.filter(i=>ci(i)===t),...n.filter(i=>ci(i)!==t)]:n.filter(i=>Sr(i)===i)).filter(i=>t?ci(i)===t||(e?Am(i)!==i:!1):!0)}const uF=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,r,i;const{rects:o,middlewareData:l,placement:c,platform:f,elements:h}=e,{crossAxis:p=!1,alignment:y,allowedPlacements:v=EC,autoAlignment:S=!0,...w}=di(t,e),T=y!==void 0||v===EC?cF(y||null,S,v):v,A=await jc(e,w),N=((n=l.autoPlacement)==null?void 0:n.index)||0,L=T[N];if(L==null)return{};const U=jN(L,o,await(f.isRTL==null?void 0:f.isRTL(h.floating)));if(c!==L)return{reset:{placement:T[0]}};const K=[A[Sr(L)],A[U[0]],A[U[1]]],H=[...((r=l.autoPlacement)==null?void 0:r.overflows)||[],{placement:L,overflows:K}],j=T[N+1];if(j)return{data:{index:N+1,overflows:H},reset:{placement:j}};const _=H.map(R=>{const B=ci(R.placement);return[R.placement,B&&p?R.overflows.slice(0,2).reduce((q,z)=>q+z,0):R.overflows[0],R.overflows]}).sort((R,B)=>R[1]-B[1]),I=((i=_.filter(R=>R[2].slice(0,ci(R[0])?2:3).every(B=>B<=0))[0])==null?void 0:i[0])||_[0][0];return I!==c?{data:{index:N+1,overflows:H},reset:{placement:I}}:{}}}},fF=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:l,initialPlacement:c,platform:f,elements:h}=e,{mainAxis:p=!0,crossAxis:y=!0,fallbackPlacements:v,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:T=!0,...A}=di(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const N=Sr(i),L=oi(c),U=Sr(c)===c,K=await(f.isRTL==null?void 0:f.isRTL(h.floating)),H=v||(U||!T?[km(c)]:tF(c)),j=w!=="none";!v&&j&&H.push(...sF(c,T,w,K));const _=[c,...H],O=await jc(e,A),I=[];let R=((r=o.flip)==null?void 0:r.overflows)||[];if(p&&I.push(O[N]),y){const ve=jN(i,l,K);I.push(O[ve[0]],O[ve[1]])}if(R=[...R,{placement:i,overflows:I}],!I.every(ve=>ve<=0)){var B,q;const ve=(((B=o.flip)==null?void 0:B.index)||0)+1,ge=_[ve];if(ge&&(!(y==="alignment"?L!==oi(ge):!1)||R.every(ce=>oi(ce.placement)===L?ce.overflows[0]>0:!0)))return{data:{index:ve,overflows:R},reset:{placement:ge}};let G=(q=R.filter(oe=>oe.overflows[0]<=0).sort((oe,ce)=>oe.overflows[1]-ce.overflows[1])[0])==null?void 0:q.placement;if(!G)switch(S){case"bestFit":{var z;const oe=(z=R.filter(ce=>{if(j){const Te=oi(ce.placement);return Te===L||Te==="y"}return!0}).map(ce=>[ce.placement,ce.overflows.filter(Te=>Te>0).reduce((Te,$)=>Te+$,0)]).sort((ce,Te)=>ce[1]-Te[1])[0])==null?void 0:z[0];oe&&(G=oe);break}case"initialPlacement":G=c;break}if(i!==G)return{reset:{placement:G}}}return{}}}};function AC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function kC(t){return PN.some(e=>t[e]>=0)}const dF=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=di(t,e);switch(r){case"referenceHidden":{const o=await jc(e,{...i,elementContext:"reference"}),l=AC(o,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:kC(l)}}}case"escaped":{const o=await jc(e,{...i,altBoundary:!0}),l=AC(o,n.floating);return{data:{escapedOffsets:l,escaped:kC(l)}}}default:return{}}}}};function zN(t){const e=fi(...t.map(o=>o.left)),n=fi(...t.map(o=>o.top)),r=kn(...t.map(o=>o.right)),i=kn(...t.map(o=>o.bottom));return{x:e,y:n,width:r-e,height:i-n}}function hF(t){const e=t.slice().sort((i,o)=>i.y-o.y),n=[];let r=null;for(let i=0;i<e.length;i++){const o=e[i];!r||o.y-r.y>r.height/2?n.push([o]):n[n.length-1].push(o),r=o}return n.map(i=>Pc(zN(i)))}const pF=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){const{placement:n,elements:r,rects:i,platform:o,strategy:l}=e,{padding:c=2,x:f,y:h}=di(t,e),p=Array.from(await(o.getClientRects==null?void 0:o.getClientRects(r.reference))||[]),y=hF(p),v=Pc(zN(p)),S=Ib(c);function w(){if(y.length===2&&y[0].left>y[1].right&&f!=null&&h!=null)return y.find(A=>f>A.left-S.left&&f<A.right+S.right&&h>A.top-S.top&&h<A.bottom+S.bottom)||v;if(y.length>=2){if(oi(n)==="y"){const R=y[0],B=y[y.length-1],q=Sr(n)==="top",z=R.top,ve=B.bottom,ge=q?R.left:B.left,G=q?R.right:B.right,oe=G-ge,ce=ve-z;return{top:z,bottom:ve,left:ge,right:G,width:oe,height:ce,x:ge,y:z}}const A=Sr(n)==="left",N=kn(...y.map(R=>R.right)),L=fi(...y.map(R=>R.left)),U=y.filter(R=>A?R.left===L:R.right===N),K=U[0].top,H=U[U.length-1].bottom,j=L,_=N,O=_-j,I=H-K;return{top:K,bottom:H,left:j,right:_,width:O,height:I,x:j,y:K}}return v}const T=await o.getElementRects({reference:{getBoundingClientRect:w},floating:r.floating,strategy:l});return i.reference.x!==T.reference.x||i.reference.y!==T.reference.y||i.reference.width!==T.reference.width||i.reference.height!==T.reference.height?{reset:{rects:T}}:{}}}},UN=new Set(["left","top"]);async function mF(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Sr(n),c=ci(n),f=oi(n)==="y",h=UN.has(l)?-1:1,p=o&&f?-1:1,y=di(e,t);let{mainAxis:v,crossAxis:S,alignmentAxis:w}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return c&&typeof w=="number"&&(S=c==="end"?w*-1:w),f?{x:S*p,y:v*h}:{x:v*h,y:S*p}}const gF=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:l,middlewareData:c}=e,f=await mF(e,t);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+f.x,y:o+f.y,data:{...f,placement:l}}}}},yF=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:A=>{let{x:N,y:L}=A;return{x:N,y:L}}},...f}=di(t,e),h={x:n,y:r},p=await jc(e,f),y=oi(Sr(i)),v=_b(y);let S=h[v],w=h[y];if(o){const A=v==="y"?"top":"left",N=v==="y"?"bottom":"right",L=S+p[A],U=S-p[N];S=s1(L,S,U)}if(l){const A=y==="y"?"top":"left",N=y==="y"?"bottom":"right",L=w+p[A],U=w-p[N];w=s1(L,w,U)}const T=c.fn({...e,[v]:S,[y]:w});return{...T,data:{x:T.x-n,y:T.y-r,enabled:{[v]:o,[y]:l}}}}}},vF=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:l}=e,{offset:c=0,mainAxis:f=!0,crossAxis:h=!0}=di(t,e),p={x:n,y:r},y=oi(i),v=_b(y);let S=p[v],w=p[y];const T=di(c,e),A=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(f){const U=v==="y"?"height":"width",K=o.reference[v]-o.floating[U]+A.mainAxis,H=o.reference[v]+o.reference[U]-A.mainAxis;S<K?S=K:S>H&&(S=H)}if(h){var N,L;const U=v==="y"?"width":"height",K=UN.has(Sr(i)),H=o.reference[y]-o.floating[U]+(K&&((N=l.offset)==null?void 0:N[y])||0)+(K?0:A.crossAxis),j=o.reference[y]+o.reference[U]+(K?0:((L=l.offset)==null?void 0:L[y])||0)-(K?A.crossAxis:0);w<H?w=H:w>j&&(w=j)}return{[v]:S,[y]:w}}}},bF=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:l,elements:c}=e,{apply:f=()=>{},...h}=di(t,e),p=await jc(e,h),y=Sr(i),v=ci(i),S=oi(i)==="y",{width:w,height:T}=o.floating;let A,N;y==="top"||y==="bottom"?(A=y,N=v===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(N=y,A=v==="end"?"top":"bottom");const L=T-p.top-p.bottom,U=w-p.left-p.right,K=fi(T-p[A],L),H=fi(w-p[N],U),j=!e.middlewareData.shift;let _=K,O=H;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(O=U),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(_=L),j&&!v){const R=kn(p.left,0),B=kn(p.right,0),q=kn(p.top,0),z=kn(p.bottom,0);S?O=w-2*(R!==0||B!==0?R+B:kn(p.left,p.right)):_=T-2*(q!==0||z!==0?q+z:kn(p.top,p.bottom))}await f({...e,availableWidth:O,availableHeight:_});const I=await l.getDimensions(c.floating);return w!==I.width||T!==I.height?{reset:{rects:!0}}:{}}}};function ng(){return typeof window<"u"}function Wc(t){return BN(t)?(t.nodeName||"").toLowerCase():"#document"}function br(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Wi(t){var e;return(e=(BN(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function BN(t){return ng()?t instanceof Node||t instanceof br(t).Node:!1}function hi(t){return ng()?t instanceof Element||t instanceof br(t).Element:!1}function $i(t){return ng()?t instanceof HTMLElement||t instanceof br(t).HTMLElement:!1}function MC(t){return!ng()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof br(t).ShadowRoot}const SF=new Set(["inline","contents"]);function ad(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=pi(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!SF.has(i)}const wF=new Set(["table","td","th"]);function EF(t){return wF.has(Wc(t))}const xF=[":popover-open",":modal"];function rg(t){return xF.some(e=>{try{return t.matches(e)}catch{return!1}})}const TF=["transform","translate","scale","rotate","perspective"],CF=["transform","translate","scale","rotate","perspective","filter"],AF=["paint","layout","strict","content"];function Lb(t){const e=Pb(),n=hi(t)?pi(t):t;return TF.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||CF.some(r=>(n.willChange||"").includes(r))||AF.some(r=>(n.contain||"").includes(r))}function kF(t){let e=na(t);for(;$i(e)&&!zc(e);){if(Lb(e))return e;if(rg(e))return null;e=na(e)}return null}function Pb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const MF=new Set(["html","body","#document"]);function zc(t){return MF.has(Wc(t))}function pi(t){return br(t).getComputedStyle(t)}function ig(t){return hi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function na(t){if(Wc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||MC(t)&&t.host||Wi(t);return MC(e)?e.host:e}function HN(t){const e=na(t);return zc(e)?t.ownerDocument?t.ownerDocument.body:t.body:$i(e)&&ad(e)?e:HN(e)}function Vf(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=HN(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),l=br(i);if(o){const c=o1(l);return e.concat(l,l.visualViewport||[],ad(i)?i:[],c&&n?Vf(c):[])}return e.concat(i,Vf(i,[],n))}function o1(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function VN(t){const e=pi(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=$i(t),o=i?t.offsetWidth:n,l=i?t.offsetHeight:r,c=Cm(n)!==o||Cm(r)!==l;return c&&(n=o,r=l),{width:n,height:r,$:c}}function jb(t){return hi(t)?t:t.contextElement}function Cc(t){const e=jb(t);if(!$i(e))return Ui(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=VN(e);let l=(o?Cm(n.width):n.width)/r,c=(o?Cm(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const OF=Ui(0);function $N(t){const e=br(t);return!Pb()||!e.visualViewport?OF:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function NF(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==br(t)?!1:e}function hl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=jb(t);let l=Ui(1);e&&(r?hi(r)&&(l=Cc(r)):l=Cc(t));const c=NF(o,n,r)?$N(o):Ui(0);let f=(i.left+c.x)/l.x,h=(i.top+c.y)/l.y,p=i.width/l.x,y=i.height/l.y;if(o){const v=br(o),S=r&&hi(r)?br(r):r;let w=v,T=o1(w);for(;T&&r&&S!==w;){const A=Cc(T),N=T.getBoundingClientRect(),L=pi(T),U=N.left+(T.clientLeft+parseFloat(L.paddingLeft))*A.x,K=N.top+(T.clientTop+parseFloat(L.paddingTop))*A.y;f*=A.x,h*=A.y,p*=A.x,y*=A.y,f+=U,h+=K,w=br(T),T=o1(w)}}return Pc({width:p,height:y,x:f,y:h})}function sg(t,e){const n=ig(t).scrollLeft;return e?e.left+n:hl(Wi(t)).left+n}function FN(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-sg(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function _F(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",l=Wi(r),c=e?rg(e.floating):!1;if(r===l||c&&o)return n;let f={scrollLeft:0,scrollTop:0},h=Ui(1);const p=Ui(0),y=$i(r);if((y||!y&&!o)&&((Wc(r)!=="body"||ad(l))&&(f=ig(r)),$i(r))){const S=hl(r);h=Cc(r),p.x=S.x+r.clientLeft,p.y=S.y+r.clientTop}const v=l&&!y&&!o?FN(l,f):Ui(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-f.scrollLeft*h.x+p.x+v.x,y:n.y*h.y-f.scrollTop*h.y+p.y+v.y}}function RF(t){return Array.from(t.getClientRects())}function DF(t){const e=Wi(t),n=ig(t),r=t.ownerDocument.body,i=kn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=kn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+sg(t);const c=-n.scrollTop;return pi(r).direction==="rtl"&&(l+=kn(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:l,y:c}}const OC=25;function IF(t,e){const n=br(t),r=Wi(t),i=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,c=0,f=0;if(i){o=i.width,l=i.height;const p=Pb();(!p||p&&e==="fixed")&&(c=i.offsetLeft,f=i.offsetTop)}const h=sg(r);if(h<=0){const p=r.ownerDocument,y=p.body,v=getComputedStyle(y),S=p.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,w=Math.abs(r.clientWidth-y.clientWidth-S);w<=OC&&(o-=w)}else h<=OC&&(o+=h);return{width:o,height:l,x:c,y:f}}const LF=new Set(["absolute","fixed"]);function PF(t,e){const n=hl(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=$i(t)?Cc(t):Ui(1),l=t.clientWidth*o.x,c=t.clientHeight*o.y,f=i*o.x,h=r*o.y;return{width:l,height:c,x:f,y:h}}function NC(t,e,n){let r;if(e==="viewport")r=IF(t,n);else if(e==="document")r=DF(Wi(t));else if(hi(e))r=PF(e,n);else{const i=$N(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Pc(r)}function qN(t,e){const n=na(t);return n===e||!hi(n)||zc(n)?!1:pi(n).position==="fixed"||qN(n,e)}function jF(t,e){const n=e.get(t);if(n)return n;let r=Vf(t,[],!1).filter(c=>hi(c)&&Wc(c)!=="body"),i=null;const o=pi(t).position==="fixed";let l=o?na(t):t;for(;hi(l)&&!zc(l);){const c=pi(l),f=Lb(l);!f&&c.position==="fixed"&&(i=null),(o?!f&&!i:!f&&c.position==="static"&&!!i&&LF.has(i.position)||ad(l)&&!f&&qN(t,l))?r=r.filter(p=>p!==l):i=c,l=na(l)}return e.set(t,r),r}function zF(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const l=[...n==="clippingAncestors"?rg(e)?[]:jF(e,this._c):[].concat(n),r],c=l[0],f=l.reduce((h,p)=>{const y=NC(e,p,i);return h.top=kn(y.top,h.top),h.right=fi(y.right,h.right),h.bottom=fi(y.bottom,h.bottom),h.left=kn(y.left,h.left),h},NC(e,c,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function UF(t){const{width:e,height:n}=VN(t);return{width:e,height:n}}function BF(t,e,n){const r=$i(e),i=Wi(e),o=n==="fixed",l=hl(t,!0,o,e);let c={scrollLeft:0,scrollTop:0};const f=Ui(0);function h(){f.x=sg(i)}if(r||!r&&!o)if((Wc(e)!=="body"||ad(i))&&(c=ig(e)),r){const S=hl(e,!0,o,e);f.x=S.x+e.clientLeft,f.y=S.y+e.clientTop}else i&&h();o&&!r&&i&&h();const p=i&&!r&&!o?FN(i,c):Ui(0),y=l.left+c.scrollLeft-f.x-p.x,v=l.top+c.scrollTop-f.y-p.y;return{x:y,y:v,width:l.width,height:l.height}}function iv(t){return pi(t).position==="static"}function _C(t,e){if(!$i(t)||pi(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Wi(t)===n&&(n=n.ownerDocument.body),n}function WN(t,e){const n=br(t);if(rg(t))return n;if(!$i(t)){let i=na(t);for(;i&&!zc(i);){if(hi(i)&&!iv(i))return i;i=na(i)}return n}let r=_C(t,e);for(;r&&EF(r)&&iv(r);)r=_C(r,e);return r&&zc(r)&&iv(r)&&!Lb(r)?n:r||kF(t)||n}const HF=async function(t){const e=this.getOffsetParent||WN,n=this.getDimensions,r=await n(t.floating);return{reference:BF(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function VF(t){return pi(t).direction==="rtl"}const $F={convertOffsetParentRelativeRectToViewportRelativeRect:_F,getDocumentElement:Wi,getClippingRect:zF,getOffsetParent:WN,getElementRects:HF,getClientRects:RF,getDimensions:UF,getScale:Cc,isElement:hi,isRTL:VF};function GN(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function FF(t,e){let n=null,r;const i=Wi(t);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,f){c===void 0&&(c=!1),f===void 0&&(f=1),o();const h=t.getBoundingClientRect(),{left:p,top:y,width:v,height:S}=h;if(c||e(),!v||!S)return;const w=Yh(y),T=Yh(i.clientWidth-(p+v)),A=Yh(i.clientHeight-(y+S)),N=Yh(p),U={rootMargin:-w+"px "+-T+"px "+-A+"px "+-N+"px",threshold:kn(0,fi(1,f))||1};let K=!0;function H(j){const _=j[0].intersectionRatio;if(_!==f){if(!K)return l();_?l(!1,_):r=setTimeout(()=>{l(!1,1e-7)},1e3)}_===1&&!GN(h,t.getBoundingClientRect())&&l(),K=!1}try{n=new IntersectionObserver(H,{...U,root:i.ownerDocument})}catch{n=new IntersectionObserver(H,U)}n.observe(t)}return l(!0),o}function qF(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,h=jb(t),p=i||o?[...h?Vf(h):[],...Vf(e)]:[];p.forEach(N=>{i&&N.addEventListener("scroll",n,{passive:!0}),o&&N.addEventListener("resize",n)});const y=h&&c?FF(h,n):null;let v=-1,S=null;l&&(S=new ResizeObserver(N=>{let[L]=N;L&&L.target===h&&S&&(S.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var U;(U=S)==null||U.observe(e)})),n()}),h&&!f&&S.observe(h),S.observe(e));let w,T=f?hl(t):null;f&&A();function A(){const N=hl(t);T&&!GN(T,N)&&n(),T=N,w=requestAnimationFrame(A)}return n(),()=>{var N;p.forEach(L=>{i&&L.removeEventListener("scroll",n),o&&L.removeEventListener("resize",n)}),y?.(),(N=S)==null||N.disconnect(),S=null,f&&cancelAnimationFrame(w)}}const zb=gF,KN=uF,Ub=yF,Bb=fF,Hb=bF,Vb=dF,Mm=lF,YN=pF,WF=vF,$b=(t,e,n)=>{const r=new Map,i={platform:$F,...n},o={...i.platform,_c:r};return aF(t,e,{...i,platform:o})};var a1,l1;if(typeof WeakMap<"u"){let t=new WeakMap;a1=e=>t.get(e),l1=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;a1=r=>{for(let i=0;i<t.length;i+=2)if(t[i]==r)return t[i+1]},l1=(r,i)=>(n==10&&(n=0),t[n++]=r,t[n++]=i)}var Cs=class{constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,i=e/this.width|0;let o=r+1,l=i+1;for(let c=1;o<this.width&&this.map[e+c]==n;c++)o++;for(let c=1;l<this.height&&this.map[e+this.width*c]==n;c++)l++;return{left:r,top:i,right:o,bottom:l}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:i,top:o,bottom:l}=this.findCell(t);return e=="horiz"?(n<0?r==0:i==this.width)?null:this.map[o*this.width+(n<0?r-1:i)]:(n<0?o==0:l==this.height)?null:this.map[r+this.width*(n<0?o-1:l)]}rectBetween(t,e){const{left:n,right:r,top:i,bottom:o}=this.findCell(t),{left:l,right:c,top:f,bottom:h}=this.findCell(e);return{left:Math.min(n,l),top:Math.min(i,f),right:Math.max(r,c),bottom:Math.max(o,h)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let i=t.left;i<t.right;i++){const o=r*this.width+i,l=this.map[o];n[l]||(n[l]=!0,!(i==t.left&&i&&this.map[o-1]==l||r==t.top&&r&&this.map[o-this.width]==l)&&e.push(l))}return e}positionAt(t,e,n){for(let r=0,i=0;;r++){const o=i+n.child(r).nodeSize;if(r==t){let l=e+t*this.width;const c=(t+1)*this.width;for(;l<c&&this.map[l]<i;)l++;return l==c?o-1:this.map[l]}i=o}}static get(t){return a1(t)||l1(t,GF(t))}};function GF(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=KF(t),n=t.childCount,r=[];let i=0,o=null;const l=[];for(let h=0,p=e*n;h<p;h++)r[h]=0;for(let h=0,p=0;h<n;h++){const y=t.child(h);p++;for(let w=0;;w++){for(;i<r.length&&r[i]!=0;)i++;if(w==y.childCount)break;const T=y.child(w),{colspan:A,rowspan:N,colwidth:L}=T.attrs;for(let U=0;U<N;U++){if(U+h>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:p,n:N-U});break}const K=i+U*e;for(let H=0;H<A;H++){r[K+H]==0?r[K+H]=p:(o||(o=[])).push({type:"collision",row:h,pos:p,n:A-H});const j=L&&L[H];if(j){const _=(K+H)%e*2,O=l[_];O==null||O!=j&&l[_+1]==1?(l[_]=j,l[_+1]=1):O==j&&l[_+1]++}}}i+=A,p+=T.nodeSize}const v=(h+1)*e;let S=0;for(;i<v;)r[i++]==0&&S++;S&&(o||(o=[])).push({type:"missing",row:h,n:S}),p++}(e===0||n===0)&&(o||(o=[])).push({type:"zero_sized"});const c=new Cs(e,n,r,o);let f=!1;for(let h=0;!f&&h<l.length;h+=2)l[h]!=null&&l[h+1]<n&&(f=!0);return f&&YF(c,l,t),c}function KF(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const i=t.child(r);let o=0;if(n)for(let l=0;l<r;l++){const c=t.child(l);for(let f=0;f<c.childCount;f++){const h=c.child(f);l+h.attrs.rowspan>r&&(o+=h.attrs.colspan)}}for(let l=0;l<i.childCount;l++){const c=i.child(l);o+=c.attrs.colspan,c.attrs.rowspan>1&&(n=!0)}e==-1?e=o:e!=o&&(e=Math.max(e,o))}return e}function YF(t,e,n){t.problems||(t.problems=[]);const r={};for(let i=0;i<t.map.length;i++){const o=t.map[i];if(r[o])continue;r[o]=!0;const l=n.nodeAt(o);if(!l)throw new RangeError(`No cell with offset ${o} found`);let c=null;const f=l.attrs;for(let h=0;h<f.colspan;h++){const p=(i+h)%t.width,y=e[p*2];y!=null&&(!f.colwidth||f.colwidth[h]!=y)&&((c||(c=XF(f)))[h]=y)}c&&t.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:c})}}function XF(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function Fb(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],i=r.spec.tableRole;i&&(e[i]=r)}}return e}new Ut("selectingCells");function JF(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function XN(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function QF(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=JF(e.$head)||ZF(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function ZF(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function RC(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function JN(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function QN(t,e,n){const r=t.node(-1),i=Cs.get(r),o=t.start(-1),l=i.nextCell(t.pos-o,e,n);return l==null?null:t.node(0).resolve(o+l)}function DC(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}var Bi=class xs extends Ue{constructor(e,n=e){const r=e.node(-1),i=Cs.get(r),o=e.start(-1),l=i.rectBetween(e.pos-o,n.pos-o),c=e.node(0),f=i.cellsInRect(l).filter(p=>p!=n.pos-o);f.unshift(n.pos-o);const h=f.map(p=>{const y=r.nodeAt(p);if(!y)throw RangeError(`No cell with offset ${p} found`);const v=o+p+1;return new IM(c.resolve(v),c.resolve(v+y.content.size))});super(h[0].$from,h[0].$to,h),this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),i=e.resolve(n.map(this.$headCell.pos));if(RC(r)&&RC(i)&&JN(r,i)){const o=this.$anchorCell.node(-1)!=r.node(-1);return o&&this.isRowSelection()?xs.rowSelection(r,i):o&&this.isColSelection()?xs.colSelection(r,i):new xs(r,i)}return He.between(r,i)}content(){const e=this.$anchorCell.node(-1),n=Cs.get(e),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),o={},l=[];for(let f=i.top;f<i.bottom;f++){const h=[];for(let p=f*n.width+i.left,y=i.left;y<i.right;y++,p++){const v=n.map[p];if(o[v])continue;o[v]=!0;const S=n.findCell(v);let w=e.nodeAt(v);if(!w)throw RangeError(`No cell with offset ${v} found`);const T=i.left-S.left,A=S.right-i.right;if(T>0||A>0){let N=w.attrs;if(T>0&&(N=DC(N,0,T)),A>0&&(N=DC(N,N.colspan-A,A)),S.left<i.left){if(w=w.type.createAndFill(N),!w)throw RangeError(`Could not create cell with attrs ${JSON.stringify(N)}`)}else w=w.type.create(N,w.content)}if(S.top<i.top||S.bottom>i.bottom){const N={...w.attrs,rowspan:Math.min(S.bottom,i.bottom)-Math.max(S.top,i.top)};S.top<i.top?w=w.type.createAndFill(N):w=w.type.create(N,w.content)}h.push(w)}l.push(e.child(f).copy(de.from(h)))}const c=this.isColSelection()&&this.isRowSelection()?e:l;return new be(de.from(c),1,1)}replace(e,n=be.empty){const r=e.steps.length,i=this.ranges;for(let l=0;l<i.length;l++){const{$from:c,$to:f}=i[l],h=e.mapping.slice(r);e.replace(h.map(c.pos),h.map(f.pos),l?be.empty:n)}const o=Ue.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);o&&e.setSelection(o)}replaceWith(e,n){this.replace(e,new be(de.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=Cs.get(n),i=this.$anchorCell.start(-1),o=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let l=0;l<o.length;l++)e(n.nodeAt(o[l]),i+o[l])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=e.node(-1),i=Cs.get(r),o=e.start(-1),l=i.findCell(e.pos-o),c=i.findCell(n.pos-o),f=e.node(0);return l.top<=c.top?(l.top>0&&(e=f.resolve(o+i.map[l.left])),c.bottom<i.height&&(n=f.resolve(o+i.map[i.width*(i.height-1)+c.right-1]))):(c.top>0&&(n=f.resolve(o+i.map[c.left])),l.bottom<i.height&&(e=f.resolve(o+i.map[i.width*(i.height-1)+l.right-1]))),new xs(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=Cs.get(e),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),o=n.colCount(this.$headCell.pos-r);if(Math.min(i,o)>0)return!1;const l=i+this.$anchorCell.nodeAfter.attrs.colspan,c=o+this.$headCell.nodeAfter.attrs.colspan;return Math.max(l,c)==n.width}eq(e){return e instanceof xs&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=e.node(-1),i=Cs.get(r),o=e.start(-1),l=i.findCell(e.pos-o),c=i.findCell(n.pos-o),f=e.node(0);return l.left<=c.left?(l.left>0&&(e=f.resolve(o+i.map[l.top*i.width])),c.right<i.width&&(n=f.resolve(o+i.map[i.width*(c.top+1)-1]))):(c.left>0&&(n=f.resolve(o+i.map[c.top*i.width])),l.right<i.width&&(e=f.resolve(o+i.map[i.width*(l.top+1)-1]))),new xs(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new xs(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new xs(e.resolve(n),e.resolve(r))}getBookmark(){return new eq(this.$anchorCell.pos,this.$headCell.pos)}};Bi.prototype.visible=!1;Ue.jsonID("cell",Bi);var eq=class ZN{constructor(e,n){this.anchor=e,this.head=n}map(e){return new ZN(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&JN(n,r)?new Bi(n,r):Ue.near(r,1)}};new Ut("fix-tables");function e_(t){const e=t.selection,n=QF(t),r=n.node(-1),i=n.start(-1),o=Cs.get(r);return{...e instanceof Bi?o.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):o.findCell(n.pos-i),tableStart:i,map:o,table:r}}function tq(t){return function(e,n){if(!XN(e))return!1;if(n){const r=Fb(e.schema),i=e_(e),o=e.tr,l=i.map.cellsInRect(t=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:t=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),c=l.map(f=>i.table.nodeAt(f));for(let f=0;f<l.length;f++)c[f].type==r.header_cell&&o.setNodeMarkup(i.tableStart+l[f],r.cell,c[f].attrs);if(o.steps.length==0)for(let f=0;f<l.length;f++)o.setNodeMarkup(i.tableStart+l[f],r.header_cell,c[f].attrs);n(o)}return!0}}function IC(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let i=0;i<r.length;i++){const o=e.table.nodeAt(r[i]);if(o&&o.type!==n.header_cell)return!1}return!0}function qb(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?tq(t):function(n,r){if(!XN(n))return!1;if(r){const i=Fb(n.schema),o=e_(n),l=n.tr,c=IC("row",o,i),f=IC("column",o,i),p=(t==="column"?c:t==="row"?f:!1)?1:0,y=t=="column"?{left:0,top:p,right:1,bottom:o.map.height}:t=="row"?{left:p,top:0,right:o.map.width,bottom:1}:o,v=t=="column"?f?i.cell:i.header_cell:t=="row"?c?i.cell:i.header_cell:i.cell;o.map.cellsInRect(y).forEach(S=>{const w=S+o.tableStart,T=l.doc.nodeAt(w);T&&l.setNodeMarkup(w,v,T.attrs)}),r(l)}return!0}}qb("row",{useDeprecatedLogic:!0});qb("column",{useDeprecatedLogic:!0});qb("cell",{useDeprecatedLogic:!0});function Xh(t,e){const n=t.selection;if(!(n instanceof Bi))return!1;if(e){const r=t.tr,i=Fb(t.schema).cell.createAndFill().content;n.forEachCell((o,l)=>{o.content.eq(i)||r.replace(r.mapping.map(l+1),r.mapping.map(l+o.nodeSize-1),new be(i,0,0))}),r.docChanged&&e(r)}return!0}ib({ArrowLeft:Jh("horiz",-1),ArrowRight:Jh("horiz",1),ArrowUp:Jh("vert",-1),ArrowDown:Jh("vert",1),"Shift-ArrowLeft":Qh("horiz",-1),"Shift-ArrowRight":Qh("horiz",1),"Shift-ArrowUp":Qh("vert",-1),"Shift-ArrowDown":Qh("vert",1),Backspace:Xh,"Mod-Backspace":Xh,Delete:Xh,"Mod-Delete":Xh});function bp(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function Jh(t,e){return(n,r,i)=>{if(!i)return!1;const o=n.selection;if(o instanceof Bi)return bp(n,r,Ue.near(o.$headCell,e));if(t!="horiz"&&!o.empty)return!1;const l=t_(i,t,e);if(l==null)return!1;if(t=="horiz")return bp(n,r,Ue.near(n.doc.resolve(o.head+e),e));{const c=n.doc.resolve(l),f=QN(c,t,e);let h;return f?h=Ue.near(f,1):e<0?h=Ue.near(n.doc.resolve(c.before(-1)),-1):h=Ue.near(n.doc.resolve(c.after(-1)),1),bp(n,r,h)}}}function Qh(t,e){return(n,r,i)=>{if(!i)return!1;const o=n.selection;let l;if(o instanceof Bi)l=o;else{const f=t_(i,t,e);if(f==null)return!1;l=new Bi(n.doc.resolve(f))}const c=QN(l.$headCell,t,e);return c?bp(n,r,new Bi(l.$anchorCell,c)):!1}}function t_(t,e,n){if(!(t.state.selection instanceof He))return null;const{$head:r}=t.state.selection;for(let i=r.depth-1;i>=0;i--){const o=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:o.childCount))return null;if(o.type.spec.tableRole=="cell"||o.type.spec.tableRole=="header_cell"){const c=r.before(i),f=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(f)?c:null}}return null}new Ut("tableColumnResizing");function nq(t,e){const n=Math.min(t.top,e.top),r=Math.max(t.bottom,e.bottom),i=Math.min(t.left,e.left),l=Math.max(t.right,e.right)-i,c=r-n,f=i,h=n;return new DOMRect(f,h,l,c)}var rq=class{constructor({editor:t,element:e,view:n,updateDelay:r=250,resizeDelay:i=60,shouldShow:o,appendTo:l,options:c}){this.preventHide=!1,this.isVisible=!1,this.floatingUIOptions={strategy:"absolute",placement:"top",offset:8,flip:{},shift:{},arrow:!1,size:!1,autoPlacement:!1,hide:!1,inline:!1,onShow:void 0,onHide:void 0,onUpdate:void 0,onDestroy:void 0},this.shouldShow=({view:f,state:h,from:p,to:y})=>{const{doc:v,selection:S}=h,{empty:w}=S,T=!v.textBetween(p,y).length&&yb(h.selection),A=this.element.contains(document.activeElement);return!(!(f.hasFocus()||A)||w||T||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.resizeHandler=()=>{this.resizeDebounceTimer&&clearTimeout(this.resizeDebounceTimer),this.resizeDebounceTimer=window.setTimeout(()=>{this.updatePosition()},this.resizeDelay)},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:f})=>{var h;if(this.preventHide){this.preventHide=!1;return}f?.relatedTarget&&((h=this.element.parentNode)!=null&&h.contains(f.relatedTarget))||f?.relatedTarget!==this.editor.view.dom&&this.hide()},this.handleDebouncedUpdate=(f,h)=>{const p=!h?.selection.eq(f.state.selection),y=!h?.doc.eq(f.state.doc);!p&&!y||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(f,p,y,h)},this.updateDelay))},this.updateHandler=(f,h,p,y)=>{const{composing:v}=f;if(v||!h&&!p)return;if(!this.getShouldShow(y)){this.hide();return}this.updatePosition(),this.show()},this.editor=t,this.element=e,this.view=n,this.updateDelay=r,this.resizeDelay=i,this.appendTo=l,this.floatingUIOptions={...this.floatingUIOptions,...c},this.element.tabIndex=0,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),window.addEventListener("resize",this.resizeHandler),this.update(n,n.state),this.getShouldShow()&&this.show()}get middlewares(){const t=[];return this.floatingUIOptions.flip&&t.push(Bb(typeof this.floatingUIOptions.flip!="boolean"?this.floatingUIOptions.flip:void 0)),this.floatingUIOptions.shift&&t.push(Ub(typeof this.floatingUIOptions.shift!="boolean"?this.floatingUIOptions.shift:void 0)),this.floatingUIOptions.offset&&t.push(zb(typeof this.floatingUIOptions.offset!="boolean"?this.floatingUIOptions.offset:void 0)),this.floatingUIOptions.arrow&&t.push(Mm(this.floatingUIOptions.arrow)),this.floatingUIOptions.size&&t.push(Hb(typeof this.floatingUIOptions.size!="boolean"?this.floatingUIOptions.size:void 0)),this.floatingUIOptions.autoPlacement&&t.push(KN(typeof this.floatingUIOptions.autoPlacement!="boolean"?this.floatingUIOptions.autoPlacement:void 0)),this.floatingUIOptions.hide&&t.push(Vb(typeof this.floatingUIOptions.hide!="boolean"?this.floatingUIOptions.hide:void 0)),this.floatingUIOptions.inline&&t.push(YN(typeof this.floatingUIOptions.inline!="boolean"?this.floatingUIOptions.inline:void 0)),t}updatePosition(){const{selection:t}=this.editor.state,e=VO(this.view,t.from,t.to);let n={getBoundingClientRect:()=>e,getClientRects:()=>[e]};if(t instanceof Re){let r=this.view.nodeDOM(t.from);const i=r.dataset.nodeViewWrapper?r:r.querySelector("[data-node-view-wrapper]");i&&(r=i),r&&(n={getBoundingClientRect:()=>r.getBoundingClientRect(),getClientRects:()=>[r.getBoundingClientRect()]})}if(t instanceof Bi){const{$anchorCell:r,$headCell:i}=t,o=r?r.pos:i.pos,l=i?i.pos:r.pos,c=this.view.nodeDOM(o),f=this.view.nodeDOM(l);if(!c||!f)return;const h=c===f?c.getBoundingClientRect():nq(c.getBoundingClientRect(),f.getBoundingClientRect());n={getBoundingClientRect:()=>h,getClientRects:()=>[h]}}$b(n,this.element,{placement:this.floatingUIOptions.placement,strategy:this.floatingUIOptions.strategy,middleware:this.middlewares}).then(({x:r,y:i,strategy:o})=>{this.element.style.width="max-content",this.element.style.position=o,this.element.style.left=`${r}px`,this.element.style.top=`${i}px`,this.isVisible&&this.floatingUIOptions.onUpdate&&this.floatingUIOptions.onUpdate()})}update(t,e){const{state:n}=t,r=n.selection.from!==n.selection.to;if(this.updateDelay>0&&r){this.handleDebouncedUpdate(t,e);return}const i=!e?.selection.eq(t.state.selection),o=!e?.doc.eq(t.state.doc);this.updateHandler(t,i,o,e)}getShouldShow(t){var e;const{state:n}=this.view,{selection:r}=n,{ranges:i}=r,o=Math.min(...i.map(f=>f.$from.pos)),l=Math.max(...i.map(f=>f.$to.pos));return(e=this.shouldShow)==null?void 0:e.call(this,{editor:this.editor,element:this.element,view:this.view,state:n,oldState:t,from:o,to:l})}show(){var t,e;this.isVisible||(this.element.style.visibility="visible",this.element.style.opacity="1",(e=(t=this.appendTo)!=null?t:this.view.dom.parentElement)==null||e.appendChild(this.element),this.floatingUIOptions.onShow&&this.floatingUIOptions.onShow(),this.isVisible=!0)}hide(){this.isVisible&&(this.element.style.visibility="hidden",this.element.style.opacity="0",this.element.remove(),this.floatingUIOptions.onHide&&this.floatingUIOptions.onHide(),this.isVisible=!1)}destroy(){this.hide(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),window.removeEventListener("resize",this.resizeHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.floatingUIOptions.onDestroy&&this.floatingUIOptions.onDestroy()}},n_=t=>new Pt({key:typeof t.pluginKey=="string"?new Ut(t.pluginKey):t.pluginKey,view:e=>new rq({view:e,...t})});St.create({name:"bubbleMenu",addOptions(){return{element:null,pluginKey:"bubbleMenu",updateDelay:void 0,appendTo:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[n_({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,updateDelay:this.options.updateDelay,options:this.options.options,appendTo:this.options.appendTo,shouldShow:this.options.shouldShow})]:[]}});var iq=class{constructor({editor:t,element:e,view:n,options:r,shouldShow:i}){this.preventHide=!1,this.isVisible=!1,this.shouldShow=({view:o,state:l})=>{const{selection:c}=l,{$anchor:f,empty:h}=c,p=f.depth===1,y=f.parent.isTextblock&&!f.parent.type.spec.code&&!f.parent.textContent&&f.parent.childCount===0&&!this.getTextContent(f.parent);return!(!o.hasFocus()||!h||!p||!y||!this.editor.isEditable)},this.floatingUIOptions={strategy:"absolute",placement:"right",offset:8,flip:{},shift:{},arrow:!1,size:!1,autoPlacement:!1,hide:!1,inline:!1},this.updateHandler=(o,l,c,f)=>{const{composing:h}=o;if(h||!l&&!c)return;if(!this.getShouldShow(f)){this.hide();return}this.updatePosition(),this.show()},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:o})=>{var l;if(this.preventHide){this.preventHide=!1;return}o?.relatedTarget&&((l=this.element.parentNode)!=null&&l.contains(o.relatedTarget))||o?.relatedTarget!==this.editor.view.dom&&this.hide()},this.editor=t,this.element=e,this.view=n,this.floatingUIOptions={...this.floatingUIOptions,...r},this.element.tabIndex=0,i&&(this.shouldShow=i),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.update(n,n.state),this.getShouldShow()&&this.show()}getTextContent(t){return PO(t,{textSerializers:hb(this.editor.schema)})}get middlewares(){const t=[];return this.floatingUIOptions.flip&&t.push(Bb(typeof this.floatingUIOptions.flip!="boolean"?this.floatingUIOptions.flip:void 0)),this.floatingUIOptions.shift&&t.push(Ub(typeof this.floatingUIOptions.shift!="boolean"?this.floatingUIOptions.shift:void 0)),this.floatingUIOptions.offset&&t.push(zb(typeof this.floatingUIOptions.offset!="boolean"?this.floatingUIOptions.offset:void 0)),this.floatingUIOptions.arrow&&t.push(Mm(this.floatingUIOptions.arrow)),this.floatingUIOptions.size&&t.push(Hb(typeof this.floatingUIOptions.size!="boolean"?this.floatingUIOptions.size:void 0)),this.floatingUIOptions.autoPlacement&&t.push(KN(typeof this.floatingUIOptions.autoPlacement!="boolean"?this.floatingUIOptions.autoPlacement:void 0)),this.floatingUIOptions.hide&&t.push(Vb(typeof this.floatingUIOptions.hide!="boolean"?this.floatingUIOptions.hide:void 0)),this.floatingUIOptions.inline&&t.push(YN(typeof this.floatingUIOptions.inline!="boolean"?this.floatingUIOptions.inline:void 0)),t}getShouldShow(t){var e;const{state:n}=this.view,{selection:r}=n,{ranges:i}=r,o=Math.min(...i.map(f=>f.$from.pos)),l=Math.max(...i.map(f=>f.$to.pos));return(e=this.shouldShow)==null?void 0:e.call(this,{editor:this.editor,view:this.view,state:n,oldState:t,from:o,to:l})}updatePosition(){const{selection:t}=this.editor.state,e=VO(this.view,t.from,t.to);$b({getBoundingClientRect:()=>e,getClientRects:()=>[e]},this.element,{placement:this.floatingUIOptions.placement,strategy:this.floatingUIOptions.strategy,middleware:this.middlewares}).then(({x:r,y:i,strategy:o})=>{this.element.style.width="max-content",this.element.style.position=o,this.element.style.left=`${r}px`,this.element.style.top=`${i}px`,this.isVisible&&this.floatingUIOptions.onUpdate&&this.floatingUIOptions.onUpdate()})}update(t,e){const n=!e?.selection.eq(t.state.selection),r=!e?.doc.eq(t.state.doc);this.updateHandler(t,n,r,e)}show(){var t;this.isVisible||(this.element.style.visibility="visible",this.element.style.opacity="1",(t=this.view.dom.parentElement)==null||t.appendChild(this.element),this.floatingUIOptions.onShow&&this.floatingUIOptions.onShow(),this.isVisible=!0)}hide(){this.isVisible&&(this.element.style.visibility="hidden",this.element.style.opacity="0",this.element.remove(),this.floatingUIOptions.onHide&&this.floatingUIOptions.onHide(),this.isVisible=!1)}destroy(){this.hide(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.floatingUIOptions.onDestroy&&this.floatingUIOptions.onDestroy()}},r_=t=>new Pt({key:typeof t.pluginKey=="string"?new Ut(t.pluginKey):t.pluginKey,view:e=>new iq({view:e,...t})});St.create({name:"floatingMenu",addOptions(){return{element:null,options:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[r_({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,options:this.options.options,shouldShow:this.options.shouldShow})]:[]}});_t.forwardRef(({pluginKey:t="bubbleMenu",editor:e,updateDelay:n,resizeDelay:r,shouldShow:i=null,options:o,children:l,...c},f)=>{const h=k.useRef(document.createElement("div"));typeof f=="function"?f(h.current):f&&(f.current=h.current);const{editor:p}=dN();return k.useEffect(()=>{const y=h.current;if(y.style.visibility="hidden",y.style.position="absolute",e?.isDestroyed||p?.isDestroyed)return;const v=e||p;if(!v){console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");return}const S=n_({updateDelay:n,resizeDelay:r,editor:v,element:y,pluginKey:t,shouldShow:i,options:o});return v.registerPlugin(S),()=>{v.unregisterPlugin(t),window.requestAnimationFrame(()=>{y.parentNode&&y.parentNode.removeChild(y)})}},[e,p]),Vc.createPortal(x.jsx("div",{...c,children:l}),h.current)});var sq=_t.forwardRef(({pluginKey:t="floatingMenu",editor:e,shouldShow:n=null,options:r,children:i,...o},l)=>{const c=k.useRef(document.createElement("div"));typeof l=="function"?l(c.current):l&&(l.current=c.current);const{editor:f}=dN();return k.useEffect(()=>{const h=c.current;if(h.style.visibility="hidden",h.style.position="absolute",e?.isDestroyed||f?.isDestroyed)return;const p=e||f;if(!p){console.warn("FloatingMenu component is not rendered inside of an editor component or does not have editor prop.");return}const y=r_({editor:p,element:h,pluginKey:t,shouldShow:n,options:r});return p.registerPlugin(y),()=>{p.unregisterPlugin(t),window.requestAnimationFrame(()=>{h.parentNode&&h.parentNode.removeChild(h)})}},[e,f]),Vc.createPortal(x.jsx("div",{...o,children:i}),c.current)});function oq({editor:t}){return x.jsx(sq,{editor:t,children:x.jsxs("div",{className:"floating-menu","data-testid":"floating-menu",children:[x.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:t.isActive("heading",{level:1})?"is-active":"",children:"H1"}),x.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:t.isActive("heading",{level:2})?"is-active":"",children:"H2"}),x.jsx("button",{onClick:()=>t.chain().focus().toggleBulletList().run(),className:t.isActive("bulletList")?"is-active":"",children:"Bullet list"})]})})}const aq=[{subset:"latin"},{capability:"WOFF2"}],lq=async(t=aq)=>{const e=t.reduce((r,i)=>(Object.entries(i).forEach(([o,l])=>r.push(`${o}=${l}`)),r),[]).join("&"),n=await fetch(`https://www.googleapis.com/webfonts/v1/webfonts?key=${LI}&${e}`);if(n.ok)return(await n.json())?.items},cq=t=>`https://fonts.googleapis.com/css2?family=${dq(t).join("&family=")}`,uq=t=>t==="regular"?{wght:400,ital:0}:t==="italic"?{wght:400,ital:1}:t.endsWith("italic")?{wght:t==="italic"?Ya.FONT_DEF_WEIGHT:parseInt(t,10)||Ya.FONT_DEF_WEIGHT,ital:1}:{wght:parseInt(t,10)||Ya.FONT_DEF_WEIGHT,ital:0},fq=(t,e)=>{const n=Array.from(e).map(uq);if(n.some(o=>o.ital===1)){const o=n.sort((l,c)=>l.ital-c.ital||l.wght-c.wght).map(l=>`${l.ital},${l.wght}`).join(";");return o==="1,400"?`${t.replace(/\s+/g,"+")}:ital@1`:`${t.replace(/\s+/g,"+")}:ital,wght@${o}`}const i=n.map(o=>o.wght).sort((o,l)=>o-l).join(";");return i==="400"?t.replace(/\s+/g,"+"):`${t.replace(/\s+/g,"+")}:wght@${i}`},dq=t=>Object.entries(t).map(([e,n])=>fq(e,n));function hq({children:t}){const{js:e,css:n,fonts:r}=Ze(f=>f.config),i=k.useRef(null),[o,l]=k.useState(null),c=k.useRef(!1);return k.useEffect(()=>{const f=i.current;if(c.current||!f||!f.contentDocument)return;const h=f.contentDocument.createElement("style");h.textContent=`body>div,.ProseMirror{min-height:100%;height:auto;outline:none;white-space:pre-wrap;overflow:auto;}
${n}`,f.contentDocument.head.appendChild(h);const p=f.contentDocument.createElement("link");p.href=cq(r),p.rel="stylesheet",f.contentDocument.head.appendChild(p);const y=f.contentDocument.createElement("script");y.textContent=e,f.contentDocument.head.appendChild(y),l(f.contentDocument.body),f.contentDocument.body.focus(),f.contentWindow?.focus(),c.current=!0},[n,e,r]),x.jsxs(x.Fragment,{children:[x.jsx("iframe",{ref:i,className:"grow bg-base-200"}),o&&Vc.createPortal(t,o)]})}function Qo(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function LC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function i_(...t){return e=>{let n=!1;const r=t.map(i=>{const o=LC(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():LC(t[i],null)}}}}function ca(...t){return k.useCallback(i_(...t),t)}function s_(t,e=[]){let n=[];function r(o,l){const c=k.createContext(l),f=n.length;n=[...n,l];const h=y=>{const{scope:v,children:S,...w}=y,T=v?.[t]?.[f]||c,A=k.useMemo(()=>w,Object.values(w));return x.jsx(T.Provider,{value:A,children:S})};h.displayName=o+"Provider";function p(y,v){const S=v?.[t]?.[f]||c,w=k.useContext(S);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${y}\` must be used within \`${o}\``)}return[h,p]}const i=()=>{const o=n.map(l=>k.createContext(l));return function(c){const f=c?.[t]||o;return k.useMemo(()=>({[`__scope${t}`]:{...c,[t]:f}}),[c,f])}};return i.scopeName=t,[r,pq(i,...e)]}function pq(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const l=r.reduce((c,{useScope:f,scopeName:h})=>{const y=f(o)[`__scope${h}`];return{...c,...y}},{});return k.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function o_(t){const e=mq(t),n=k.forwardRef((r,i)=>{const{children:o,...l}=r,c=k.Children.toArray(o),f=c.find(yq);if(f){const h=f.props.children,p=c.map(y=>y===f?k.Children.count(h)>1?k.Children.only(null):k.isValidElement(h)?h.props.children:null:y);return x.jsx(e,{...l,ref:i,children:k.isValidElement(h)?k.cloneElement(h,void 0,p):null})}return x.jsx(e,{...l,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}function mq(t){const e=k.forwardRef((n,r)=>{const{children:i,...o}=n;if(k.isValidElement(i)){const l=bq(i),c=vq(o,i.props);return i.type!==k.Fragment&&(c.ref=r?i_(r,l):l),k.cloneElement(i,c)}return k.Children.count(i)>1?k.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var gq=Symbol("radix.slottable");function yq(t){return k.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===gq}function vq(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...c)=>{const f=o(...c);return i(...c),f}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function bq(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Sq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Hs=Sq.reduce((t,e)=>{const n=o_(`Primitive.${e}`),r=k.forwardRef((i,o)=>{const{asChild:l,...c}=i,f=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(f,{...c,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function wq(t,e){t&&Vc.flushSync(()=>t.dispatchEvent(e))}function Uc(t){const e=k.useRef(t);return k.useEffect(()=>{e.current=t}),k.useMemo(()=>(...n)=>e.current?.(...n),[])}function Eq(t,e=globalThis?.document){const n=Uc(t);k.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var xq="DismissableLayer",c1="dismissableLayer.update",Tq="dismissableLayer.pointerDownOutside",Cq="dismissableLayer.focusOutside",PC,a_=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),l_=k.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...f}=t,h=k.useContext(a_),[p,y]=k.useState(null),v=p?.ownerDocument??globalThis?.document,[,S]=k.useState({}),w=ca(e,_=>y(_)),T=Array.from(h.layers),[A]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=T.indexOf(A),L=p?T.indexOf(p):-1,U=h.layersWithOutsidePointerEventsDisabled.size>0,K=L>=N,H=Mq(_=>{const O=_.target,I=[...h.branches].some(R=>R.contains(O));!K||I||(i?.(_),l?.(_),_.defaultPrevented||c?.())},v),j=Oq(_=>{const O=_.target;[...h.branches].some(R=>R.contains(O))||(o?.(_),l?.(_),_.defaultPrevented||c?.())},v);return Eq(_=>{L===h.layers.size-1&&(r?.(_),!_.defaultPrevented&&c&&(_.preventDefault(),c()))},v),k.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(PC=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),jC(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=PC)}},[p,v,n,h]),k.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),jC())},[p,h]),k.useEffect(()=>{const _=()=>S({});return document.addEventListener(c1,_),()=>document.removeEventListener(c1,_)},[]),x.jsx(Hs.div,{...f,ref:w,style:{pointerEvents:U?K?"auto":"none":void 0,...t.style},onFocusCapture:Qo(t.onFocusCapture,j.onFocusCapture),onBlurCapture:Qo(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Qo(t.onPointerDownCapture,H.onPointerDownCapture)})});l_.displayName=xq;var Aq="DismissableLayerBranch",kq=k.forwardRef((t,e)=>{const n=k.useContext(a_),r=k.useRef(null),i=ca(e,r);return k.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),x.jsx(Hs.div,{...t,ref:i})});kq.displayName=Aq;function Mq(t,e=globalThis?.document){const n=Uc(t),r=k.useRef(!1),i=k.useRef(()=>{});return k.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let f=function(){c_(Tq,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Oq(t,e=globalThis?.document){const n=Uc(t),r=k.useRef(!1);return k.useEffect(()=>{const i=o=>{o.target&&!r.current&&c_(Cq,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function jC(){const t=new CustomEvent(c1);document.dispatchEvent(t)}function c_(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?wq(i,o):i.dispatchEvent(o)}var sv=0;function Nq(){k.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??zC()),document.body.insertAdjacentElement("beforeend",t[1]??zC()),sv++,()=>{sv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),sv--}},[])}function zC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ov="focusScope.autoFocusOnMount",av="focusScope.autoFocusOnUnmount",UC={bubbles:!1,cancelable:!0},_q="FocusScope",u_=k.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...l}=t,[c,f]=k.useState(null),h=Uc(i),p=Uc(o),y=k.useRef(null),v=ca(e,T=>f(T)),S=k.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;k.useEffect(()=>{if(r){let T=function(U){if(S.paused||!c)return;const K=U.target;c.contains(K)?y.current=K:Mo(y.current,{select:!0})},A=function(U){if(S.paused||!c)return;const K=U.relatedTarget;K!==null&&(c.contains(K)||Mo(y.current,{select:!0}))},N=function(U){if(document.activeElement===document.body)for(const H of U)H.removedNodes.length>0&&Mo(c)};document.addEventListener("focusin",T),document.addEventListener("focusout",A);const L=new MutationObserver(N);return c&&L.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",A),L.disconnect()}}},[r,c,S.paused]),k.useEffect(()=>{if(c){HC.add(S);const T=document.activeElement;if(!c.contains(T)){const N=new CustomEvent(ov,UC);c.addEventListener(ov,h),c.dispatchEvent(N),N.defaultPrevented||(Rq(jq(f_(c)),{select:!0}),document.activeElement===T&&Mo(c))}return()=>{c.removeEventListener(ov,h),setTimeout(()=>{const N=new CustomEvent(av,UC);c.addEventListener(av,p),c.dispatchEvent(N),N.defaultPrevented||Mo(T??document.body,{select:!0}),c.removeEventListener(av,p),HC.remove(S)},0)}}},[c,h,p,S]);const w=k.useCallback(T=>{if(!n&&!r||S.paused)return;const A=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,N=document.activeElement;if(A&&N){const L=T.currentTarget,[U,K]=Dq(L);U&&K?!T.shiftKey&&N===K?(T.preventDefault(),n&&Mo(U,{select:!0})):T.shiftKey&&N===U&&(T.preventDefault(),n&&Mo(K,{select:!0})):N===L&&T.preventDefault()}},[n,r,S.paused]);return x.jsx(Hs.div,{tabIndex:-1,...l,ref:v,onKeyDown:w})});u_.displayName=_q;function Rq(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Mo(r,{select:e}),document.activeElement!==n)return}function Dq(t){const e=f_(t),n=BC(e,t),r=BC(e.reverse(),t);return[n,r]}function f_(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function BC(t,e){for(const n of t)if(!Iq(n,{upTo:e}))return n}function Iq(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Lq(t){return t instanceof HTMLInputElement&&"select"in t}function Mo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Lq(t)&&e&&t.select()}}var HC=Pq();function Pq(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=VC(t,e),t.unshift(e)},remove(e){t=VC(t,e),t[0]?.resume()}}}function VC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function jq(t){return t.filter(e=>e.tagName!=="A")}var ra=globalThis?.document?k.useLayoutEffect:()=>{},zq=tA[" useId ".trim().toString()]||(()=>{}),Uq=0;function Bq(t){const[e,n]=k.useState(zq());return ra(()=>{n(r=>r??String(Uq++))},[t]),t||(e?`radix-${e}`:"")}var Hq=typeof document<"u",Vq=function(){},Sp=Hq?k.useLayoutEffect:Vq;function Om(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Om(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Om(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function d_(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function $C(t,e){const n=d_(t);return Math.round(e*n)/n}function lv(t){const e=k.useRef(t);return Sp(()=>{e.current=t}),e}function $q(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:f,open:h}=t,[p,y]=k.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,S]=k.useState(r);Om(v,r)||S(r);const[w,T]=k.useState(null),[A,N]=k.useState(null),L=k.useCallback(ce=>{ce!==j.current&&(j.current=ce,T(ce))},[]),U=k.useCallback(ce=>{ce!==_.current&&(_.current=ce,N(ce))},[]),K=o||w,H=l||A,j=k.useRef(null),_=k.useRef(null),O=k.useRef(p),I=f!=null,R=lv(f),B=lv(i),q=lv(h),z=k.useCallback(()=>{if(!j.current||!_.current)return;const ce={placement:e,strategy:n,middleware:v};B.current&&(ce.platform=B.current),$b(j.current,_.current,ce).then(Te=>{const $={...Te,isPositioned:q.current!==!1};ve.current&&!Om(O.current,$)&&(O.current=$,Vc.flushSync(()=>{y($)}))})},[v,e,n,B,q]);Sp(()=>{h===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,y(ce=>({...ce,isPositioned:!1})))},[h]);const ve=k.useRef(!1);Sp(()=>(ve.current=!0,()=>{ve.current=!1}),[]),Sp(()=>{if(K&&(j.current=K),H&&(_.current=H),K&&H){if(R.current)return R.current(K,H,z);z()}},[K,H,z,R,I]);const ge=k.useMemo(()=>({reference:j,floating:_,setReference:L,setFloating:U}),[L,U]),G=k.useMemo(()=>({reference:K,floating:H}),[K,H]),oe=k.useMemo(()=>{const ce={position:n,left:0,top:0};if(!G.floating)return ce;const Te=$C(G.floating,p.x),$=$C(G.floating,p.y);return c?{...ce,transform:"translate("+Te+"px, "+$+"px)",...d_(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Te,top:$}},[n,c,G.floating,p.x,p.y]);return k.useMemo(()=>({...p,update:z,refs:ge,elements:G,floatingStyles:oe}),[p,z,ge,G,oe])}const Fq=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Mm({element:r.current,padding:i}).fn(n):{}:r?Mm({element:r,padding:i}).fn(n):{}}}},qq=(t,e)=>({...zb(t),options:[t,e]}),Wq=(t,e)=>({...Ub(t),options:[t,e]}),Gq=(t,e)=>({...WF(t),options:[t,e]}),Kq=(t,e)=>({...Bb(t),options:[t,e]}),Yq=(t,e)=>({...Hb(t),options:[t,e]}),Xq=(t,e)=>({...Vb(t),options:[t,e]}),Jq=(t,e)=>({...Fq(t),options:[t,e]});var Qq="Arrow",h_=k.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return x.jsx(Hs.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});h_.displayName=Qq;var Zq=h_;function eW(t){const[e,n]=k.useState(void 0);return ra(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let l,c;if("borderBoxSize"in o){const f=o.borderBoxSize,h=Array.isArray(f)?f[0]:f;l=h.inlineSize,c=h.blockSize}else l=t.offsetWidth,c=t.offsetHeight;n({width:l,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Wb="Popper",[p_,m_]=s_(Wb),[tW,g_]=p_(Wb),y_=t=>{const{__scopePopper:e,children:n}=t,[r,i]=k.useState(null);return x.jsx(tW,{scope:e,anchor:r,onAnchorChange:i,children:n})};y_.displayName=Wb;var v_="PopperAnchor",b_=k.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=g_(v_,n),l=k.useRef(null),c=ca(e,l),f=k.useRef(null);return k.useEffect(()=>{const h=f.current;f.current=r?.current||l.current,h!==f.current&&o.onAnchorChange(f.current)}),r?null:x.jsx(Hs.div,{...i,ref:c})});b_.displayName=v_;var Gb="PopperContent",[nW,rW]=p_(Gb),S_=k.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:y="partial",hideWhenDetached:v=!1,updatePositionStrategy:S="optimized",onPlaced:w,...T}=t,A=g_(Gb,n),[N,L]=k.useState(null),U=ca(e,Mt=>L(Mt)),[K,H]=k.useState(null),j=eW(K),_=j?.width??0,O=j?.height??0,I=r+(o!=="center"?"-"+o:""),R=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},B=Array.isArray(h)?h:[h],q=B.length>0,z={padding:R,boundary:B.filter(sW),altBoundary:q},{refs:ve,floatingStyles:ge,placement:G,isPositioned:oe,middlewareData:ce}=$q({strategy:"fixed",placement:I,whileElementsMounted:(...Mt)=>qF(...Mt,{animationFrame:S==="always"}),elements:{reference:A.anchor},middleware:[qq({mainAxis:i+O,alignmentAxis:l}),f&&Wq({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?Gq():void 0,...z}),f&&Kq({...z}),Yq({...z,apply:({elements:Mt,rects:at,availableWidth:$n,availableHeight:Ct})=>{const{width:rn,height:wr}=at.reference,Fn=Mt.floating.style;Fn.setProperty("--radix-popper-available-width",`${$n}px`),Fn.setProperty("--radix-popper-available-height",`${Ct}px`),Fn.setProperty("--radix-popper-anchor-width",`${rn}px`),Fn.setProperty("--radix-popper-anchor-height",`${wr}px`)}}),K&&Jq({element:K,padding:c}),oW({arrowWidth:_,arrowHeight:O}),v&&Xq({strategy:"referenceHidden",...z})]}),[Te,$]=x_(G),ie=Uc(w);ra(()=>{oe&&ie?.()},[oe,ie]);const he=ce.arrow?.x,fe=ce.arrow?.y,we=ce.arrow?.centerOffset!==0,[Ve,De]=k.useState();return ra(()=>{N&&De(window.getComputedStyle(N).zIndex)},[N]),x.jsx("div",{ref:ve.setFloating,"data-radix-popper-content-wrapper":"",style:{...ge,transform:oe?ge.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ve,"--radix-popper-transform-origin":[ce.transformOrigin?.x,ce.transformOrigin?.y].join(" "),...ce.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:x.jsx(nW,{scope:n,placedSide:Te,onArrowChange:H,arrowX:he,arrowY:fe,shouldHideArrow:we,children:x.jsx(Hs.div,{"data-side":Te,"data-align":$,...T,ref:U,style:{...T.style,animation:oe?void 0:"none"}})})})});S_.displayName=Gb;var w_="PopperArrow",iW={top:"bottom",right:"left",bottom:"top",left:"right"},E_=k.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=rW(w_,r),l=iW[o.placedSide];return x.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:x.jsx(Zq,{...i,ref:n,style:{...i.style,display:"block"}})})});E_.displayName=w_;function sW(t){return t!==null}var oW=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,l=i.arrow?.centerOffset!==0,c=l?0:t.arrowWidth,f=l?0:t.arrowHeight,[h,p]=x_(n),y={start:"0%",center:"50%",end:"100%"}[p],v=(i.arrow?.x??0)+c/2,S=(i.arrow?.y??0)+f/2;let w="",T="";return h==="bottom"?(w=l?y:`${v}px`,T=`${-f}px`):h==="top"?(w=l?y:`${v}px`,T=`${r.floating.height+f}px`):h==="right"?(w=`${-f}px`,T=l?y:`${S}px`):h==="left"&&(w=`${r.floating.width+f}px`,T=l?y:`${S}px`),{data:{x:w,y:T}}}});function x_(t){const[e,n="center"]=t.split("-");return[e,n]}var aW=y_,T_=b_,lW=S_,cW=E_,uW="Portal",C_=k.forwardRef((t,e)=>{const{container:n,...r}=t,[i,o]=k.useState(!1);ra(()=>o(!0),[]);const l=n||i&&globalThis?.document?.body;return l?RA.createPortal(x.jsx(Hs.div,{...r,ref:e}),l):null});C_.displayName=uW;function fW(t,e){return k.useReducer((n,r)=>e[n][r]??n,t)}var Kb=t=>{const{present:e,children:n}=t,r=dW(e),i=typeof n=="function"?n({present:r.isPresent}):k.Children.only(n),o=ca(r.ref,hW(i));return typeof n=="function"||r.isPresent?k.cloneElement(i,{ref:o}):null};Kb.displayName="Presence";function dW(t){const[e,n]=k.useState(),r=k.useRef(null),i=k.useRef(t),o=k.useRef("none"),l=t?"mounted":"unmounted",[c,f]=fW(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const h=Zh(r.current);o.current=c==="mounted"?h:"none"},[c]),ra(()=>{const h=r.current,p=i.current;if(p!==t){const v=o.current,S=Zh(h);t?f("MOUNT"):S==="none"||h?.display==="none"?f("UNMOUNT"):f(p&&v!==S?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,f]),ra(()=>{if(e){let h;const p=e.ownerDocument.defaultView??window,y=S=>{const T=Zh(r.current).includes(CSS.escape(S.animationName));if(S.target===e&&T&&(f("ANIMATION_END"),!i.current)){const A=e.style.animationFillMode;e.style.animationFillMode="forwards",h=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=A)})}},v=S=>{S.target===e&&(o.current=Zh(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{p.clearTimeout(h),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:k.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function Zh(t){return t?.animationName||"none"}function hW(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var pW=tA[" useInsertionEffect ".trim().toString()]||ra;function mW({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,o,l]=gW({defaultProp:e,onChange:n}),c=t!==void 0,f=c?t:i;{const p=k.useRef(t!==void 0);k.useEffect(()=>{const y=p.current;y!==c&&console.warn(`${r} is changing from ${y?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,r])}const h=k.useCallback(p=>{if(c){const y=yW(p)?p(t):p;y!==t&&l.current?.(y)}else o(p)},[c,t,o,l]);return[f,h]}function gW({defaultProp:t,onChange:e}){const[n,r]=k.useState(t),i=k.useRef(n),o=k.useRef(e);return pW(()=>{o.current=e},[e]),k.useEffect(()=>{i.current!==n&&(o.current?.(n),i.current=n)},[n,i]),[n,r,o]}function yW(t){return typeof t=="function"}var vW=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},oc=new WeakMap,ep=new WeakMap,tp={},cv=0,A_=function(t){return t&&(t.host||A_(t.parentNode))},bW=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=A_(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},SW=function(t,e,n,r){var i=bW(e,Array.isArray(t)?t:[t]);tp[n]||(tp[n]=new WeakMap);var o=tp[n],l=[],c=new Set,f=new Set(i),h=function(y){!y||c.has(y)||(c.add(y),h(y.parentNode))};i.forEach(h);var p=function(y){!y||f.has(y)||Array.prototype.forEach.call(y.children,function(v){if(c.has(v))p(v);else try{var S=v.getAttribute(r),w=S!==null&&S!=="false",T=(oc.get(v)||0)+1,A=(o.get(v)||0)+1;oc.set(v,T),o.set(v,A),l.push(v),T===1&&w&&ep.set(v,!0),A===1&&v.setAttribute(n,"true"),w||v.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",v,N)}})};return p(e),c.clear(),cv++,function(){l.forEach(function(y){var v=oc.get(y)-1,S=o.get(y)-1;oc.set(y,v),o.set(y,S),v||(ep.has(y)||y.removeAttribute(r),ep.delete(y)),S||y.removeAttribute(n)}),cv--,cv||(oc=new WeakMap,oc=new WeakMap,ep=new WeakMap,tp={})}},wW=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=vW(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),SW(r,i,n,"aria-hidden")):function(){return null}},wp="right-scroll-bar-position",Ep="width-before-scroll-bar",EW="with-scroll-bars-hidden",xW="--removed-body-scroll-bar-size";function uv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function TW(t,e){var n=k.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var CW=typeof window<"u"?k.useLayoutEffect:k.useEffect,FC=new WeakMap;function AW(t,e){var n=TW(null,function(r){return t.forEach(function(i){return uv(i,r)})});return CW(function(){var r=FC.get(n);if(r){var i=new Set(r),o=new Set(t),l=n.current;i.forEach(function(c){o.has(c)||uv(c,null)}),o.forEach(function(c){i.has(c)||uv(c,l)})}FC.set(n,t)},[t]),n}function kW(t){return t}function MW(t,e){e===void 0&&(e=kW);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var l=e(o,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(o){for(r=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(o),l=n}var f=function(){var p=l;l=[],p.forEach(o)},h=function(){return Promise.resolve().then(f)};h(),n={push:function(p){l.push(p),h()},filter:function(p){return l=l.filter(p),n}}}};return i}function OW(t){t===void 0&&(t={});var e=MW(null);return e.options=Li({async:!0,ssr:!1},t),e}var k_=function(t){var e=t.sideCar,n=Xf(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return k.createElement(r,Li({},n))};k_.isSideCarExport=!0;function NW(t,e){return t.useMedium(e),k_}var M_=OW(),fv=function(){},og=k.forwardRef(function(t,e){var n=k.useRef(null),r=k.useState({onScrollCapture:fv,onWheelCapture:fv,onTouchMoveCapture:fv}),i=r[0],o=r[1],l=t.forwardProps,c=t.children,f=t.className,h=t.removeScrollBar,p=t.enabled,y=t.shards,v=t.sideCar,S=t.noRelative,w=t.noIsolation,T=t.inert,A=t.allowPinchZoom,N=t.as,L=N===void 0?"div":N,U=t.gapMode,K=Xf(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),H=v,j=AW([n,e]),_=Li(Li({},K),i);return k.createElement(k.Fragment,null,p&&k.createElement(H,{sideCar:M_,removeScrollBar:h,shards:y,noRelative:S,noIsolation:w,inert:T,setCallbacks:o,allowPinchZoom:!!A,lockRef:n,gapMode:U}),l?k.cloneElement(k.Children.only(c),Li(Li({},_),{ref:j})):k.createElement(L,Li({},_,{className:f,ref:j}),c))});og.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};og.classNames={fullWidth:Ep,zeroRight:wp};var _W=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function RW(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=_W();return e&&t.setAttribute("nonce",e),t}function DW(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function IW(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var LW=function(){var t=0,e=null;return{add:function(n){t==0&&(e=RW())&&(DW(e,n),IW(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},PW=function(){var t=LW();return function(e,n){k.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},O_=function(){var t=PW(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},jW={left:0,top:0,right:0,gap:0},dv=function(t){return parseInt(t||"",10)||0},zW=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[dv(n),dv(r),dv(i)]},UW=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return jW;var e=zW(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},BW=O_(),Ac="data-scroll-locked",HW=function(t,e,n,r){var i=t.left,o=t.top,l=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(EW,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Ac,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(wp,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Ep,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(wp," .").concat(wp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ep," .").concat(Ep,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ac,`] {
    `).concat(xW,": ").concat(c,`px;
  }
`)},qC=function(){var t=parseInt(document.body.getAttribute(Ac)||"0",10);return isFinite(t)?t:0},VW=function(){k.useEffect(function(){return document.body.setAttribute(Ac,(qC()+1).toString()),function(){var t=qC()-1;t<=0?document.body.removeAttribute(Ac):document.body.setAttribute(Ac,t.toString())}},[])},$W=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;VW();var o=k.useMemo(function(){return UW(i)},[i]);return k.createElement(BW,{styles:HW(o,!e,i,n?"":"!important")})},u1=!1;if(typeof window<"u")try{var np=Object.defineProperty({},"passive",{get:function(){return u1=!0,!0}});window.addEventListener("test",np,np),window.removeEventListener("test",np,np)}catch{u1=!1}var ac=u1?{passive:!1}:!1,FW=function(t){return t.tagName==="TEXTAREA"},N_=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!FW(t)&&n[e]==="visible")},qW=function(t){return N_(t,"overflowY")},WW=function(t){return N_(t,"overflowX")},WC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=__(t,r);if(i){var o=R_(t,r),l=o[1],c=o[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},GW=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},KW=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},__=function(t,e){return t==="v"?qW(e):WW(e)},R_=function(t,e){return t==="v"?GW(e):KW(e)},YW=function(t,e){return t==="h"&&e==="rtl"?-1:1},XW=function(t,e,n,r,i){var o=YW(t,window.getComputedStyle(e).direction),l=o*r,c=n.target,f=e.contains(c),h=!1,p=l>0,y=0,v=0;do{if(!c)break;var S=R_(t,c),w=S[0],T=S[1],A=S[2],N=T-A-o*w;(w||N)&&__(t,c)&&(y+=N,v+=w);var L=c.parentNode;c=L&&L.nodeType===Node.DOCUMENT_FRAGMENT_NODE?L.host:L}while(!f&&c!==document.body||f&&(e.contains(c)||e===c));return(p&&Math.abs(y)<1||!p&&Math.abs(v)<1)&&(h=!0),h},rp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},GC=function(t){return[t.deltaX,t.deltaY]},KC=function(t){return t&&"current"in t?t.current:t},JW=function(t,e){return t[0]===e[0]&&t[1]===e[1]},QW=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},ZW=0,lc=[];function eG(t){var e=k.useRef([]),n=k.useRef([0,0]),r=k.useRef(),i=k.useState(ZW++)[0],o=k.useState(O_)[0],l=k.useRef(t);k.useEffect(function(){l.current=t},[t]),k.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var T=SL([t.lockRef.current],(t.shards||[]).map(KC),!0).filter(Boolean);return T.forEach(function(A){return A.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),T.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var c=k.useCallback(function(T,A){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!l.current.allowPinchZoom;var N=rp(T),L=n.current,U="deltaX"in T?T.deltaX:L[0]-N[0],K="deltaY"in T?T.deltaY:L[1]-N[1],H,j=T.target,_=Math.abs(U)>Math.abs(K)?"h":"v";if("touches"in T&&_==="h"&&j.type==="range")return!1;var O=WC(_,j);if(!O)return!0;if(O?H=_:(H=_==="v"?"h":"v",O=WC(_,j)),!O)return!1;if(!r.current&&"changedTouches"in T&&(U||K)&&(r.current=H),!H)return!0;var I=r.current||H;return XW(I,A,T,I==="h"?U:K)},[]),f=k.useCallback(function(T){var A=T;if(!(!lc.length||lc[lc.length-1]!==o)){var N="deltaY"in A?GC(A):rp(A),L=e.current.filter(function(H){return H.name===A.type&&(H.target===A.target||A.target===H.shadowParent)&&JW(H.delta,N)})[0];if(L&&L.should){A.cancelable&&A.preventDefault();return}if(!L){var U=(l.current.shards||[]).map(KC).filter(Boolean).filter(function(H){return H.contains(A.target)}),K=U.length>0?c(A,U[0]):!l.current.noIsolation;K&&A.cancelable&&A.preventDefault()}}},[]),h=k.useCallback(function(T,A,N,L){var U={name:T,delta:A,target:N,should:L,shadowParent:tG(N)};e.current.push(U),setTimeout(function(){e.current=e.current.filter(function(K){return K!==U})},1)},[]),p=k.useCallback(function(T){n.current=rp(T),r.current=void 0},[]),y=k.useCallback(function(T){h(T.type,GC(T),T.target,c(T,t.lockRef.current))},[]),v=k.useCallback(function(T){h(T.type,rp(T),T.target,c(T,t.lockRef.current))},[]);k.useEffect(function(){return lc.push(o),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:v}),document.addEventListener("wheel",f,ac),document.addEventListener("touchmove",f,ac),document.addEventListener("touchstart",p,ac),function(){lc=lc.filter(function(T){return T!==o}),document.removeEventListener("wheel",f,ac),document.removeEventListener("touchmove",f,ac),document.removeEventListener("touchstart",p,ac)}},[]);var S=t.removeScrollBar,w=t.inert;return k.createElement(k.Fragment,null,w?k.createElement(o,{styles:QW(i)}):null,S?k.createElement($W,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function tG(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const nG=NW(M_,eG);var D_=k.forwardRef(function(t,e){return k.createElement(og,Li({},t,{ref:e,sideCar:nG}))});D_.classNames=og.classNames;var ag="Popover",[I_,dK]=s_(ag,[m_]),ld=m_(),[rG,ua]=I_(ag),L_=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:l=!1}=t,c=ld(e),f=k.useRef(null),[h,p]=k.useState(!1),[y,v]=mW({prop:r,defaultProp:i??!1,onChange:o,caller:ag});return x.jsx(aW,{...c,children:x.jsx(rG,{scope:e,contentId:Bq(),triggerRef:f,open:y,onOpenChange:v,onOpenToggle:k.useCallback(()=>v(S=>!S),[v]),hasCustomAnchor:h,onCustomAnchorAdd:k.useCallback(()=>p(!0),[]),onCustomAnchorRemove:k.useCallback(()=>p(!1),[]),modal:l,children:n})})};L_.displayName=ag;var P_="PopoverAnchor",iG=k.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=ua(P_,n),o=ld(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=i;return k.useEffect(()=>(l(),()=>c()),[l,c]),x.jsx(T_,{...o,...r,ref:e})});iG.displayName=P_;var j_="PopoverTrigger",z_=k.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=ua(j_,n),o=ld(n),l=ca(e,i.triggerRef),c=x.jsx(Hs.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":$_(i.open),...r,ref:l,onClick:Qo(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?c:x.jsx(T_,{asChild:!0,...o,children:c})});z_.displayName=j_;var Yb="PopoverPortal",[sG,oG]=I_(Yb,{forceMount:void 0}),U_=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,o=ua(Yb,e);return x.jsx(sG,{scope:e,forceMount:n,children:x.jsx(Kb,{present:n||o.open,children:x.jsx(C_,{asChild:!0,container:i,children:r})})})};U_.displayName=Yb;var Bc="PopoverContent",B_=k.forwardRef((t,e)=>{const n=oG(Bc,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,o=ua(Bc,t.__scopePopover);return x.jsx(Kb,{present:r||o.open,children:o.modal?x.jsx(lG,{...i,ref:e}):x.jsx(cG,{...i,ref:e})})});B_.displayName=Bc;var aG=o_("PopoverContent.RemoveScroll"),lG=k.forwardRef((t,e)=>{const n=ua(Bc,t.__scopePopover),r=k.useRef(null),i=ca(e,r),o=k.useRef(!1);return k.useEffect(()=>{const l=r.current;if(l)return wW(l)},[]),x.jsx(D_,{as:aG,allowPinchZoom:!0,children:x.jsx(H_,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Qo(t.onCloseAutoFocus,l=>{l.preventDefault(),o.current||n.triggerRef.current?.focus()}),onPointerDownOutside:Qo(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,f=c.button===0&&c.ctrlKey===!0,h=c.button===2||f;o.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:Qo(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),cG=k.forwardRef((t,e)=>{const n=ua(Bc,t.__scopePopover),r=k.useRef(!1),i=k.useRef(!1);return x.jsx(H_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{t.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{t.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;n.triggerRef.current?.contains(l)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),H_=k.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p,...y}=t,v=ua(Bc,n),S=ld(n);return Nq(),x.jsx(u_,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:x.jsx(l_,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:p,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:h,onDismiss:()=>v.onOpenChange(!1),children:x.jsx(lW,{"data-state":$_(v.open),role:"dialog",id:v.contentId,...S,...y,ref:e,style:{...y.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),V_="PopoverClose",uG=k.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=ua(V_,n);return x.jsx(Hs.button,{type:"button",...r,ref:e,onClick:Qo(t.onClick,()=>i.onOpenChange(!1))})});uG.displayName=V_;var fG="PopoverArrow",dG=k.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=ld(n);return x.jsx(cW,{...i,...r,ref:e})});dG.displayName=fG;function $_(t){return t?"open":"closed"}var hG=L_,pG=z_,mG=U_,gG=B_;function yG({...t}){return x.jsx(hG,{...t})}function vG({...t}){return x.jsx(pG,{...t})}function bG({className:t,align:e="center",sideOffset:n=4,...r}){return x.jsx(mG,{children:x.jsx(gG,{align:e,sideOffset:n,className:"z-50 rounded-box bg-base-200 shadow",...r})})}const SG=(t,e)=>e?.schema?e.schema.spec.marks.get(t)!==void 0:!1,wG=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function EG(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return!t||t.replace(wG,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}function xG(t,e,n){try{const r=new URL(t,e);if(EG(r.href,n))return r.href}catch{}return"#"}const TG=E$.extend({addAttributes(){return{...this.parent?.(),class:{default:null,parseHTML:t=>t.getAttribute("class"),renderHTML:t=>t.class?{class:t.class}:{}}}}}),CG=Nn.create({name:"div",group:"block",content:"block*",parseHTML(){return[{tag:"div"}]},renderHTML({HTMLAttributes:t}){return["div",t,0]},addAttributes(){return{...this.parent?.(),class:{default:null,parseHTML:t=>t.getAttribute("class"),renderHTML:t=>t.class?{class:t.class}:{}}}}}),AG=Nn.create({name:"section",group:"block",content:"block*",parseHTML(){return[{tag:"section"}]},renderHTML({HTMLAttributes:t}){return["section",t,0]},addAttributes(){return{...this.parent?.(),class:{default:null,parseHTML:t=>t.getAttribute("class"),renderHTML:t=>t.class?{class:t.class}:{}}}}}),kG=Bs.create({name:"small",inclusive:!0,parseHTML(){return[{tag:"small"}]},renderHTML({HTMLAttributes:t}){return["small",t,0]},addAttributes(){return{...this.parent?.(),class:{default:null,parseHTML:t=>t.getAttribute("class"),renderHTML:t=>t.class?{class:t.class}:{}}}}});function F_(t){return t?.isEditable?t.can().setMark("link"):!1}function q_(t){return t?.isEditable?t.isActive("link"):!1}function MG(t){const{editor:e,hideWhenUnavailable:n}=t;return SG("link",e)&&e?n&&!e.isActive("code")?F_(e):!0:!1}function OG(t){const{editor:e,onSetLink:n}=t,[r,i]=k.useState(null);k.useEffect(()=>{if(!e)return;const{href:f}=e.getAttributes("link");q_(e)&&r===null&&i(f||"")},[e,r]),k.useEffect(()=>{if(!e)return;const f=()=>{const{href:h}=e.getAttributes("link");i(h||"")};return e.on("selectionUpdate",f),()=>{e.off("selectionUpdate",f)}},[e]);const o=k.useCallback(()=>{if(!(r&&e))return;const{selection:f}=e.state,h=f.empty;let p=e.chain().focus();p=p.extendMarkRange("link").setLink({href:r}),h&&(p=p.insertContent({type:"text",text:r})),p.run(),i(null),n?.()},[e,n,r]),l=k.useCallback(()=>{e&&(e.chain().focus().extendMarkRange("link").unsetLink().setMeta("preventAutolink",!0).run(),i(""))},[e]),c=k.useCallback((f="_blank",h="noopener,noreferrer")=>{if(!r)return;const p=xG(r,window.location.href);p!=="#"&&window.open(p,f,h)},[r]);return{url:r||"",setUrl:i,setLink:o,removeLink:l,openLink:c}}function NG(t){const{editor:e,hideWhenUnavailable:n=!1}=t,r=F_(e),i=q_(e),[o,l]=k.useState(!1);return k.useEffect(()=>{if(!e)return;const c=()=>{l(MG({editor:e,hideWhenUnavailable:n}))};return c(),e.on("selectionUpdate",c),()=>{e.off("selectionUpdate",c)}},[e,n]),{isVisible:o,canSet:r,isActive:i}}function _G(t){const{editor:e=null,hideWhenUnavailable:n=!1,onSetLink:r}=t||{},{isVisible:i,canSet:o,isActive:l}=NG({editor:e,hideWhenUnavailable:n}),c=OG({editor:e,onSetLink:r});return{isVisible:i,canSet:o,isActive:l,label:"Link",Icon:Uk,...c}}const RG=({url:t,setUrl:e,setLink:n,removeLink:r,openLink:i,isActive:o})=>{const l=c=>{c.key==="Enter"&&(c.preventDefault(),n())};return x.jsxs("div",{className:"button-group p-1",children:[x.jsx("input",{type:"url",placeholder:"Paste a link...",value:t,className:"tiptap-input",onChange:c=>e(c.target.value),onKeyDown:l,autoFocus:!0,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off"}),x.jsx("button",{type:"button",onClick:n,title:"Apply link",disabled:!(t||o),className:"btn btnbtn btn-square btn-ghost btn-sm",children:x.jsx(Fj,{})}),x.jsx("div",{className:"group-separator"}),x.jsx("button",{type:"button",onClick:i,title:"Open in new window",disabled:!(t||o),className:"btn btnbtn btn-square btn-ghost btn-sm",children:x.jsx(b9,{})}),x.jsx("button",{type:"button",onClick:r,title:"Remove link",disabled:!(t||o),className:"btn btnbtn btn-square btn-ghost btn-sm",children:x.jsx(Vj,{})})]})},DG=_t.forwardRef(({editor:t,hideWhenUnavailable:e=!1,onSetLink:n,onOpenChange:r,autoOpenOnLinkActive:i=!0,onClick:o,children:l,...c},f)=>{const[h,p]=_t.useState(!1),{isVisible:y,canSet:v,isActive:S,url:w,setUrl:T,setLink:A,removeLink:N,openLink:L,label:U}=_G({editor:t,hideWhenUnavailable:e,onSetLink:n}),K=_t.useCallback(_=>{p(_),r?.(_)},[r]),H=_t.useCallback(()=>{A(),p(!1)},[A]),j=_t.useCallback(_=>{o?.(_),!_.defaultPrevented&&p(!h)},[o,h]);return _t.useEffect(()=>{i&&S&&p(!0),t?.isActive("link")||p(!1)},[i,S,t?.isActive]),y?x.jsxs(yG,{open:h,onOpenChange:K,children:[x.jsx(vG,{asChild:!0,children:x.jsx("button",{disabled:!v,onClick:j,"aria-label":U,className:`btn btn-square btn-ghost btn-sm ${S?"btn-soft":""}`,ref:f,...c,children:x.jsx(Uk,{})})}),x.jsx(bG,{onCloseAutoFocus:_=>_.preventDefault(),children:x.jsx(RG,{url:w,setUrl:T,setLink:H,removeLink:N,openLink:L,isActive:S})})]}):null});function IG({editor:t,showTree:e,handleTree:n}){const r=cN({editor:t,selector:i=>({isBold:i.editor.isActive("bold")??!1,canBold:i.editor.can().chain().toggleBold().run()??!1,isItalic:i.editor.isActive("italic")??!1,canItalic:i.editor.can().chain().toggleItalic().run()??!1,isStrike:i.editor.isActive("strike")??!1,canStrike:i.editor.can().chain().toggleStrike().run()??!1,isCode:i.editor.isActive("code")??!1,canCode:i.editor.can().chain().toggleCode().run()??!1,canClearMarks:i.editor.can().chain().unsetAllMarks().run()??!1,isParagraph:i.editor.isActive("paragraph")??!1,isHeading1:i.editor.isActive("heading",{level:1})??!1,isHeading2:i.editor.isActive("heading",{level:2})??!1,isHeading3:i.editor.isActive("heading",{level:3})??!1,isHeading4:i.editor.isActive("heading",{level:4})??!1,isHeading5:i.editor.isActive("heading",{level:5})??!1,isHeading6:i.editor.isActive("heading",{level:6})??!1,isBulletList:i.editor.isActive("bulletList")??!1,isOrderedList:i.editor.isActive("orderedList")??!1,isCodeBlock:i.editor.isActive("codeBlock")??!1,isBlockquote:i.editor.isActive("blockquote")??!1,canUndo:i.editor.can().chain().undo().run()??!1,canRedo:i.editor.can().chain().redo().run()??!1})});return x.jsxs("div",{className:"control-group flex items-center justify-between bg-base-200",children:[x.jsx("div",{className:"flex-grow",children:x.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:n,children:e?x.jsx(Xj,{}):x.jsx(Qj,{})})}),x.jsxs("div",{className:"flex overflow-hidden",children:[x.jsxs("div",{className:"button-group",children:[x.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:()=>t.chain().focus().undo().run(),disabled:!r.canUndo,children:x.jsx(Fk,{})}),x.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:()=>t.chain().focus().redo().run(),disabled:!r.canRedo,children:x.jsx(Hk,{})})]}),x.jsx("div",{className:"group-separator"}),x.jsxs("div",{className:"button-group",children:[x.jsx("button",{onClick:()=>t.chain().focus().toggleBold().run(),disabled:!r.canBold,className:`btn btn-square btn-ghost btn-sm ${r.isBold?"btn-soft":""}`,children:x.jsx(rj,{})}),x.jsx("button",{onClick:()=>t.chain().focus().toggleItalic().run(),disabled:!r.canItalic,className:`btn btn-square btn-ghost btn-sm ${r.isItalic?"btn-soft":""}`,children:x.jsx(Bj,{})}),x.jsx("button",{onClick:()=>t.chain().focus().toggleStrike().run(),disabled:!r.canStrike,className:`btn btn-square btn-ghost btn-sm ${r.isStrike?"btn-soft":""}`,children:x.jsx(C9,{})}),x.jsx("button",{onClick:()=>t.chain().focus().toggleCode().run(),disabled:!r.canCode,className:`btn btn-square btn-ghost btn-sm ${r.isCode?"btn-soft":""}`,children:x.jsx(V2,{})}),x.jsx(DG,{editor:t,hideWhenUnavailable:!0,autoOpenOnLinkActive:!0}),x.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:()=>t.chain().focus().unsetAllMarks().run(),children:x.jsx(x9,{})}),x.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:()=>t.chain().focus().clearNodes().run(),children:x.jsx(sj,{})}),x.jsx("button",{onClick:()=>t.chain().focus().setParagraph().run(),className:`btn btn-square btn-ghost btn-sm ${r.isParagraph?"btn-soft":""}`,children:"¶"}),x.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:`btn btn-square btn-ghost btn-sm ${r.isHeading1?"btn-soft":""}`,children:"H1"}),x.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:`btn btn-square btn-ghost btn-sm ${r.isHeading2?"btn-soft":""}`,children:"H2"}),x.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:`btn btn-square btn-ghost btn-sm ${r.isHeading3?"btn-soft":""}`,children:"H3"}),x.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:4}).run(),className:`btn btn-square btn-ghost btn-sm ${r.isHeading4?"btn-soft":""}`,children:"H4"}),x.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:5}).run(),className:`btn btn-square btn-ghost btn-sm ${r.isHeading5?"btn-soft":""}`,children:"H5"}),x.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:6}).run(),className:`btn btn-square btn-ghost btn-sm ${r.isHeading6?"btn-soft":""}`,children:"H6"}),x.jsx("button",{onClick:()=>t.chain().focus().toggleBulletList().run(),className:`btn btn-square btn-ghost btn-sm ${r.isBulletList?"btn-soft":""}`,children:"•"}),x.jsx("button",{onClick:()=>t.chain().focus().toggleOrderedList().run(),className:`btn btn-square btn-ghost btn-sm ${r.isOrderedList?"btn-soft":""}`,children:"1"}),x.jsx("button",{onClick:()=>t.chain().focus().toggleCodeBlock().run(),className:`btn btn-square btn-ghost btn-sm ${r.isCodeBlock?"btn-soft":""}`,children:x.jsx(V2,{})}),x.jsx("button",{onClick:()=>t.chain().focus().toggleBlockquote().run(),className:`btn btn-square btn-ghost btn-sm ${r.isBlockquote?"btn-soft":""}`,children:x.jsx(i9,{})}),x.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:()=>t.chain().focus().setHorizontalRule().run(),children:x.jsx(u9,{})}),x.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:()=>t.chain().focus().setHardBreak().run(),children:x.jsx(y9,{})})]})]}),x.jsx("div",{className:"flex-grow text-right",children:x.jsx("button",{className:"btn btn-square btn-ghost btn-sm",onClick:()=>t.chain().focus().undo().run(),children:x.jsx(wj,{})})})]})}const LG=t=>{let e=0n;for(let n=0;n<t.length;n++)e=e*131n+BigInt(t.charCodeAt(n))&0x1fffffffffffffn;return e.toString(36)},PG=[Q8,J$.configure({link:{autolink:!1,openOnClick:!1,enableClickSelection:!0,defaultProtocol:"https",shouldAutoLink:t=>t.startsWith("https://"),protocols:["http","https","ftp","app",{scheme:"mailto",optionalSlashes:!0},{scheme:"tel",optionalSlashes:!0}]}}),TG,V8,CG,AG,kG,F8],jG=k.forwardRef(({children:t,content:e,page:n},r)=>{const[i,o]=k.useState(!0),l=()=>o(v=>!v),c=yV({extensions:PG,content:e,autofocus:!1},[e]),f=Ze(v=>v.setUpdatingPage),h=Ze(v=>v.setConfigPage),p=k.useCallback(()=>{f(""),h({path:n,content:c.getHTML()})},[n,c,f,h]),y=Um(p,Fr.DEBOUNCE,()=>f(n));return c.on("update",y),k.useImperativeHandle(r,()=>({flush:()=>y.flush()})),x.jsx("div",{className:"shine",children:x.jsxs("div",{className:"editor shadow",children:[x.jsx(IG,{editor:c,showTree:i,handleTree:l}),x.jsxs("div",{className:"flex flex-row",children:[i?t:null,x.jsxs(hq,{children:[x.jsx(oq,{editor:c}),x.jsx(fV,{editor:c,className:`_${LG(n)}`})]})]})]})})}),zG=(t,e,n,r)=>{const i=`${n}${r}/`;return e?.length&&e===i?!0:!t.some(l=>l.path===i)},YC=(t="/")=>{const e=t.split("/"),n=e.splice(e.length-2,1)[0];return{prevSegment:e.join("/"),lastSegment:n}},UG=t=>{if(t&&"current"in t&&t.current instanceof HTMLDialogElement){t.current.close();const e=t.current.querySelector("form");e&&e instanceof HTMLFormElement&&setTimeout(()=>e.reset(),Fr.BLUR)}},BG=(t,e)=>t.reduce((n,r)=>{if(r.path.startsWith(e)&&r.path!==e){const i=r.path.replace(e,"").split("/")[0];i&&!n.includes(i)&&n.push(i)}return n},[]),HG=({ref:t,edit:e,pages:n,setEdit:r})=>{const i=Ze(R=>R.setConfigPage),o=()=>{UG(t),setTimeout(()=>{U("/"),S(""),T(""),N(""),r(void 0)},Fr.BLUR)},[l,c]=k.useState(e==="/"),[f,h]=k.useState(e||"/"),[p,y]=k.useState(""),[v,S]=k.useState(""),[w,T]=k.useState(""),[A,N]=k.useState(""),L=k.useMemo(()=>e==="/"?w.length:v.length&&w.length&&zG(n,e,f,v),[n,e,f,v,w]),U=k.useCallback(R=>{const{lastSegment:B}=YC(e),q=typeof R=="string"?R:R?.currentTarget.value,z=BG(n,q).filter(ve=>ve!==B);y(z.reduce((ve,ge)=>`${ve}(?!${ge}$)`,"")),h(q)},[n,e]),K=k.useRef(null);k.useEffect(()=>c(e==="/"),[e]),k.useEffect(()=>{if(typeof e=="string"){if(e===""&&U("/"),e.length){const{prevSegment:R,lastSegment:B}=YC(e);U(R||"/"),S(B);const q=n.find(z=>z.path===e);q&&(T(q.title),N(q.description||""))}setTimeout(()=>K.current instanceof HTMLInputElement?K.current.focus():void 0,Fr.FOCUS)}},[U,e,n]);const H=R=>S(R.currentTarget.value.toLocaleLowerCase()),j=R=>T(R.currentTarget.value),_=R=>N(R.currentTarget.value),O=R=>{R.preventDefault(),setTimeout((B=>()=>i(B))({path:`${f}${v}/`,title:w,description:A,oldPath:e}),Fr.BLUR),o()},I=R=>{R.preventDefault(),R.stopPropagation(),setTimeout((B=>()=>i(B))({path:"",oldPath:e}),Fr.BLUR),o()};return x.jsxs("dialog",{ref:t,className:"modal",children:[x.jsxs("form",{className:"modal-box",onSubmit:O,children:[x.jsx("button",{type:"button",className:"btn btn-sm btn-circle btn-ghost absolute top-2 right-2",onClick:o,children:"✕"}),x.jsx("h3",{className:"font-bold text-lg",children:e?.length?"Page edit":"New page creation"}),x.jsxs("fieldset",{className:"fieldset",children:[x.jsx("legend",{className:"fieldset-legend",children:"Do you need a page or a chronological collection of articles?"}),x.jsxs("label",{className:"select",children:[x.jsx("span",{className:"label",children:"Type"}),x.jsxs("select",{children:[x.jsx("option",{children:"Single Page"}),x.jsx("option",{disabled:!0,children:"Blog (collection of articles)"}),x.jsx("option",{disabled:!0,children:"Microblog (page with dynamic content)"})]})]})]}),x.jsxs("fieldset",{className:"fieldset",children:[x.jsxs("div",{className:"flex w-full",children:[x.jsx("div",{className:"w-1/2",children:x.jsx("legend",{className:"fieldset-legend",children:"URL section relative to other pages"})}),x.jsx("div",{className:"w-1/2 pl-1",children:x.jsx("legend",{className:"fieldset-legend",children:"Page URL"})})]}),x.jsxs("div",{className:"join validator w-full",children:[x.jsx("select",{className:"select join-item",value:f,onChange:U,disabled:l,children:n.map(R=>x.jsx("option",{disabled:e===R.path,children:R.path},R.path))}),x.jsxs("label",{className:"input join-item validator",children:[x.jsx("input",{type:"text",placeholder:l?"(website root page)":"hello-world",required:!0,minLength:1,ref:K,disabled:l,autoComplete:"off",autoCapitalize:"off",pattern:`^${p}[\\w\\-]+$`,value:v,onChange:H}),x.jsx("span",{className:"label",children:"/"})]})]}),x.jsx("span",{className:"validator-hint mt-0",children:"Page URL must be unique and contain only letters, digits, minus and underscore"})]}),x.jsxs("fieldset",{className:"fieldset",children:[x.jsx("legend",{className:"fieldset-legend",children:"Page title"}),x.jsxs("label",{className:"input validator w-full",children:[x.jsx("input",{type:"text",placeholder:"Hello World!",required:!0,value:w,onChange:j}),x.jsxs("span",{className:"label",children:[w.length," characters"]})]})]}),x.jsxs("fieldset",{className:"fieldset",children:[x.jsx("legend",{className:"fieldset-legend optional",children:"Page description"}),x.jsxs("div",{className:"relative",children:[x.jsx("textarea",{className:"textarea w-full",placeholder:"Enter a brief description of your webpage (max 160 characters). This description will appear in search engine results and should summarize the content effectively.",value:A,onChange:_}),x.jsxs("span",{className:"label absolute right-3 bottom-1",children:[A.length," characters"]})]})]}),x.jsxs("div",{className:"mt-4 flex justify-evenly",children:[x.jsx("button",{type:"submit",className:"btn btn-neutral w-1/3",disabled:!L,children:e?.length?"Update Page":"Create Page"}),x.jsxs("button",{type:"button",className:"btn btn-error btn-outline w-1/3",disabled:!e||e.length<2,onClick:I,children:[x.jsx(O9,{})," Delete Page"]})]})]}),x.jsx("form",{method:"dialog",className:"modal-backdrop",children:x.jsx("button",{onClick:o,children:"close"})})]})},VG=t=>t.reduce((e,n)=>(n.path.replace(/^[^\w-]+|[^\w-]+$/g,"").split("/").reduce((r,i)=>(r[i]||(r[i]={}),r[i]),e),e),{}),W_=({node:t,prefix:e,active:n,setActive:r,updatingPage:i,pageDiff:o,handleEdit:l,activeRef:c})=>x.jsx("ul",{children:Object.entries(t).map(([f,h])=>{const p=`${e}/${f}`,y=p==="/"?"/":`${p}/`,v=n===y?"grad30":void 0,S=i===y?x.jsx(xj,{}):o.indexOf(y)<0?x.jsx(Oj,{}):x.jsx(bj,{});return x.jsxs("li",{children:[x.jsxs("button",{ref:c,className:v,onClick:()=>r(y),children:[S,y,x.jsx($k,{className:"float-right opacity-0",onClick:w=>(w.preventDefault(),l(y))})]}),Object.keys(h).length>0&&W_({node:h,prefix:p,active:n,setActive:r,updatingPage:i,pageDiff:o,handleEdit:l,activeRef:c})]},y)})});function $G({pages:t,active:e,setActive:n}){const r=k.useMemo(()=>t?VG(t):{},[t]),[i,o]=k.useState(void 0),l=k.useRef(null),c=k.useRef(null),f=w=>(o(w),n(w),c?.current?.showModal()),h=()=>f(""),p=Ze(w=>w.config),y=Ze(w=>w.pageDiff),v=Ze(w=>w.updatingPage),S=Ze(w=>w.setUpdatingPage);return k.useEffect(()=>{t&&t.findIndex(w=>w.path===e)===-1&&(n(t.findIndex(w=>w.path===v)!==-1?v:"/"),S(""),setTimeout(()=>l.current instanceof HTMLButtonElement&&l.current.focus(),Fr.FOCUS))},[t,e,v,n,S]),x.jsxs("div",{className:"menu menu-xs bg-base-300/90",children:[x.jsx("ul",{children:x.jsx("li",{children:x.jsxs("button",{onClick:h,children:[x.jsx(n9,{}),"Create a new page"]})})}),x.jsx("hr",{}),W_({node:r,prefix:"",active:e,setActive:n,updatingPage:v,pageDiff:y,handleEdit:f,activeRef:l}),x.jsx(HG,{pages:p.pages,edit:i,setEdit:o,ref:c})]})}function FG(){const t=Ze(o=>o.config),e=k.useRef(null),[n,r]=k.useState("/"),i=k.useMemo(()=>(e.current?.flush(),t.pages.find(o=>o.path===n)?.content||""),[n]);return x.jsx(jG,{ref:e,content:i,page:n,children:x.jsx($G,{pages:t.pages,active:n,setActive:r})})}const XC=t=>{const e=Array.from(document.querySelectorAll('[tabindex="0"]')),r=e.indexOf(document.activeElement)+t,i=r<0?e.length-1:r>=e.length?0:r;e[i]&&e[i].focus()},JC=t=>{t.key==="ArrowDown"?(t.preventDefault(),XC(1)):t.key==="ArrowUp"&&(t.preventDefault(),XC(-1))},qG=(t,e,n)=>{if(!e.length)return[];const r=t.filter(o=>o.toLowerCase().startsWith(e)&&!n.includes(o)).slice(0,Ya.SHOW_FONTS),i=Ya.SHOW_FONTS-r.length;if(i){const o=t.filter(l=>l.toLowerCase().includes(e)&&!n.includes(l)&&!r.includes(l)).slice(0,i);r.push(...o)}return r},QC=t=>`font-${t.replace(/\s+/g,"-").toLowerCase()}`;function WG(t,e){k.useEffect(()=>{const n=new Set(t.map(r=>QC(r.family)));t.forEach(r=>{const i=QC(r.family);if(!document.getElementById(i)){const o=document.createElement("style");let l=r.menu;if(e[r.family].length===1&&e[r.family][0]!=="regular"){const c=r.files[e[r.family][0]];c&&(l=c)}o.id=i,o.textContent=`@font-face {font-family:'${r.family.replace(/\s+/g,"-")}';src:url('${l}') format('truetype')}`,document.head.appendChild(o)}}),document.querySelectorAll("style[id^='font-']").forEach(r=>{n.has(r.id)||r.remove()})},[t,e])}function GG(){const{fonts:t}=Ze(L=>L.config),e=Ze(L=>L.setConfigKey),n=k.useRef([]),r=k.useRef([]),[i,o]=k.useState([]),[l,c]=k.useState([]);k.useEffect(()=>{lq().then(L=>{L&&(n.current=L,r.current=L.map(U=>U.family),o(L.filter(U=>t[U.family])))})},[]),WG(i,t);const[f,h]=k.useState(""),[p,y]=k.useState([]),v=k.useRef(null);k.useEffect(()=>v.current?.scrollIntoView(),[p]);const S=L=>{const U=L.target.value.toLowerCase();h(U),y(qG(r.current,U,Object.keys(t)))},w=L=>{const U=n.current.find(K=>K.family===L);if(U){const K=U?.variants.includes("regular")?"regular":U?.variants[0];o(H=>[...H,U]),e({key:"fonts",value:Object.assign(t,{[L]:[K]})}),h(""),y([])}},T=L=>{const U={...t};delete U[L],e({key:"fonts",value:U})},A=L=>c(U=>U.includes(L)?U.filter(K=>K!==L):[...U,L]),N=(L,U)=>{const K=i.find(H=>H.family===L)?.variants;if(K&&K.length>1){const H=K.includes("regular")?"regular":K[0],j=t[L],O=j.includes(U)?j.filter(I=>I!==U):[...j,U].sort();e({key:"fonts",value:{...t,[L]:O.length?O:[H]}})}};return x.jsxs("ul",{className:"list my-8 rounded-box bg-base-100 shadow-md",children:[x.jsx("li",{className:"p-4 pb-2 text-xs tracking-wide opacity-60",children:"Fonts added to your website:"}),Object.entries(t).map(([L,U],K)=>{const{category:H,variants:j,subsets:_}=i.find(O=>O.family===L)||{};return x.jsxs("li",{className:"list-row",children:[x.jsx("div",{className:"font-thin text-4xl tabular-nums opacity-30",children:String(K+1).padStart(2,"0")}),x.jsxs("div",{className:"min-w-32",children:[x.jsx("div",{children:L}),x.jsx("div",{className:"font-semibold text-xs uppercase opacity-60",children:H})]}),x.jsxs("div",{className:"flex flex-col justify-around",children:[x.jsxs("button",{className:`btn btn-xs size-5 w-full ${l.includes(L)?"btn-neutral":"btn-ghost"}`,onClick:()=>A(L),children:["Variants: ",U.length," of ",j?.length]}),x.jsxs("button",{className:"btn btn-xs btn-ghost size-5 w-full",children:["Subsets: ",_?.length]})]}),x.jsx("div",{className:"list-col-grow text-center",children:x.jsx("span",{style:{fontFamily:L.replace(/\s+/g,"-")},children:L})}),x.jsx("button",{className:"btn btn-square btn-ghost",onClick:()=>T(L),children:x.jsx(_9,{})}),l.includes(L)?x.jsx("div",{className:"flex list-col-wrap list-new-row flex-wrap gap-1",children:j?.map(O=>x.jsx("button",{className:`btn btn-xs ${U?.includes(O)?"btn-neutral":""}`,onClick:()=>N(L,O),children:O},O))}):null]},L)}),x.jsxs("li",{className:"list-row",children:[x.jsx("div",{children:x.jsx(uj,{className:"m-1 size-8"})}),x.jsxs("div",{children:[x.jsxs("label",{className:"input",children:[x.jsx(Vk,{className:"opacity-50"}),x.jsx("input",{type:"text",value:f,onChange:S,onKeyDown:JC,tabIndex:0,placeholder:"Enter a font name: e.g. Roboto"})]}),p.length?x.jsx("ul",{className:"menu absolute w-56 rounded-box bg-base-200 shadow-md",ref:v,children:p.map(L=>x.jsx("li",{children:x.jsx("button",{onClick:()=>w(L),onKeyDown:JC,tabIndex:0,children:L})},L))}):null]})]})]})}function KG(){const t=Ze(R=>R.config),e=Ze(R=>R.setConfigKey),n=k.useRef(null),r=k.useRef(null),i=k.useRef(null),[o,l]=k.useState(0),[c,f]=k.useState(0),h=R=>{n.current=R,i.current=R,R.onDidFocusEditorWidget(()=>i.current=R),l(mc(R.getValue()))},p=R=>{r.current=R,R.onDidFocusEditorWidget(()=>i.current=R),f(mc(R.getValue()))},[y,v]=k.useState(!0),[S,w]=k.useState(!0),[T,A]=k.useState(!1),[N,L]=k.useState(!1),[U,K]=k.useMemo(()=>[t.header.content,t.footer.content],[t]),H=k.useCallback(()=>{const R=n.current?.getValue(),B=r.current?.getValue();typeof R!="string"||typeof B!="string"||(R!==U&&e({key:"header",value:R}),B!==K&&e({key:"footer",value:B}),l(mc(R)),f(mc(B)),v(!0))},[e,U,K]),j=Um(H,Fr.DEBOUNCE,()=>v(!1)),_=k.useCallback(()=>j(),[j]),O=k.useRef(null),{dismissModal:I}=tM({isBlocked:!y,ref:O,stop:j.cancel});return x.jsxs("div",{className:"shine",children:[x.jsxs("div",{className:"editor shadow",children:[x.jsx(Zk,{codeRef:i,bytes:o+c,handleSync:H,isSync:y,isDark:S,setIsDark:w,isWrap:T,setIsWrap:A,showMap:N,setShowMap:L}),x.jsx(Mv,{height:"35vh",className:"my-0.5",theme:S?"vs-dark":"light",language:"html",loading:x.jsx("span",{className:"loading loading-spinner loading-xl"}),value:U,onMount:h,onChange:_,options:{tabSize:2,minimap:{enabled:N},wordWrap:T?"on":"off",scrollBeyondLastLine:!1,wrappingIndent:"same"}}),x.jsx(Mv,{height:"35vh",theme:S?"vs-dark":"light",language:"html",loading:x.jsx("span",{className:"loading loading-spinner loading-xl"}),value:K,onMount:p,onChange:_,options:{tabSize:2,minimap:{enabled:N},wordWrap:T?"on":"off",scrollBeyondLastLine:!1,wrappingIndent:"same"}})]}),x.jsx(eM,{ref:O,dismissModal:I})]})}function YG({login:t,setLogin:e}){const[n,r]=k.useState(""),i=l=>r(l.target.value),o=l=>{l.preventDefault(),e(1),bP(n,window.location.href).then(()=>window.localStorage.setItem(yv.EMAIL,n)).catch(c=>{console.log(c),e(0)}).finally(()=>e(2))};return x.jsxs("form",{onSubmit:o,className:"fieldset gap-2 p-0",children:[x.jsxs("label",{className:"floating-label",children:[x.jsx("span",{children:"Your Email"}),x.jsx("input",{type:"email",name:"email",value:n,required:!0,disabled:t>0,onChange:i,autoComplete:"email",placeholder:"m.curie@yahoo.com",className:"input input-md validator w-full"})]}),x.jsx("button",{type:"submit",className:"btn btn-neutral",disabled:t>0,children:t>0?"Logging in...":"Login"})]})}function XG(){const t=Ze(c=>c.user),[e,n]=k.useState(0),[r,i]=k.useState(!1),o=()=>i(c=>!c);TA(t!==!0);const l=async()=>{await SP(),window.location.pathname="/app/"};return e===2?x.jsx("center",{children:"Check your email"}):x.jsx("div",{className:"hero",children:x.jsxs("div",{className:"hero-content mt-8 flex-col gap-16 lg:flex-row-reverse",children:[x.jsxs("div",{className:"text-center lg:text-left",children:[x.jsx("h1",{className:"mb-6 font-bold text-5xl",children:"Log in to get started"}),x.jsx("p",{className:"my-4",children:"You've poured your heart and soul into building something special..."}),x.jsx("p",{className:"my-4",children:"Now, it's time to take that passion beyond your neighborhood and give it the spotlight it deserves. Imagine a professional online storefront that's always open: an online presence that adds scale & power to your vision."}),x.jsxs("ul",{className:"steps steps-vertical login-steps",children:[x.jsx("li",{className:"step step-neutral step-primary",children:"Register"}),x.jsx("li",{className:"step step-neutral",children:"Choose a plan"}),x.jsx("li",{className:"step step-neutral",children:"Select a domain name"}),x.jsx("li",{className:"step step-neutral",children:"Start editing you own website"})]})]}),x.jsx("div",{className:"card w-full max-w-sm shrink-0 bg-base-100 shadow-2xs",children:x.jsx("div",{className:"shine",children:x.jsxs("div",{className:"card-body",children:[x.jsx("fieldset",{className:"fieldset mb-3 rounded-box border border-base-300 bg-base-200 p-4",children:x.jsxs("label",{className:"label gap-4",children:[x.jsx("input",{type:"checkbox",className:"checkbox validator",required:!0,title:"Required",checked:r,onChange:o}),x.jsxs("p",{className:"whitespace-normal",children:["To proceed confirm you have read and agree to the"," ",x.jsx("a",{href:"/terms/",target:"_blank",rel:"noopener",className:"link",children:"Terms of Service"})," ","and"," ",x.jsx("a",{href:"/privacy/",target:"_blank",rel:"noopener",className:"link",children:"Privacy Policy"}),"."]})]})}),x.jsxs("fieldset",{className:"fieldset gap-2",disabled:!r,children:[x.jsx("legend",{className:"fieldset-legend mb-0.5 p-0 text-center",children:"Login with a confirmation link"}),x.jsx(YG,{login:e,setLogin:n}),x.jsx("div",{className:"divider",children:"OR"}),x.jsxs("button",{type:"button",onClick:l,className:`btn btn-neutral ${e===2?"disabled":""}`,children:[x.jsxs("svg",{"aria-label":"Google logo",width:"16",height:"16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"logo",children:[x.jsx("path",{fill:"#34a853",d:"M153 292c30 82 118 95 171 60h62v48A192 192 0 0190 341"}),x.jsx("path",{fill:"#4285f4",d:"m386 400a140 175 0 0053-179H260v74h102q-7 37-38 57"}),x.jsx("path",{fill:"#fbbc02",d:"m90 341a208 200 0 010-171l63 49q-12 37 0 73"}),x.jsx("path",{fill:"#ea4335",d:"m153 219c22-69 116-109 179-50l55-54c-78-75-230-72-297 55"})]}),"Login with Google"]}),x.jsxs("button",{className:`btn btn-neutral ${e===2?"disabled":""}`,children:[x.jsx("svg",{"aria-label":"Apple logo",width:"16",height:"16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1195 1195",children:x.jsx("path",{fill:"white",d:"M1006.933 812.8c-32 153.6-115.2 211.2-147.2 249.6-32 25.6-121.6 25.6-153.6 6.4-38.4-25.6-134.4-25.6-166.4 0-44.8 32-115.2 19.2-128 12.8-256-179.2-352-716.8 12.8-774.4 64-12.8 134.4 32 134.4 32 51.2 25.6 70.4 12.8 115.2-6.4 96-44.8 243.2-44.8 313.6 76.8-147.2 96-153.6 294.4 19.2 403.2zM802.133 64c12.8 70.4-64 224-204.8 230.4-12.8-38.4 32-217.6 204.8-230.4z"})}),"Login with Apple"]})]})]})})})]})})}const JG=()=>{const t=Ze(i=>i.sid),e=Ze(i=>i.pid),n=Ze(i=>i.domain),r=Ze(i=>i.config);return x.jsxs("div",{className:"mt-8 mb-20 w-full",children:[x.jsxs("div",{className:"flex flex-row gap-8 p-0",children:[x.jsxs("div",{className:"card w-1/2 rounded-box bg-base-100 p-8 shadow",children:[x.jsx("div",{className:"mx-auto font-bold text-2xl",children:"Your domain is set:"}),x.jsx("a",{href:`https://${n}/`,target:"_blank",className:"example link mx-auto w-fit font-semibold text-xl",children:`https://${n}/`})]}),x.jsxs("div",{className:"card w-1/2 justify-around rounded-box bg-base-100 p-8 shadow",children:[x.jsxs("div",{className:"mx-auto",children:["Last configuration sync: ",j2(Ip(t))||"Not yet"]}),x.jsxs("div",{className:"mx-auto",children:["Last website publication: ",j2(Ip(e))||"Not yet"]})]})]}),x.jsx("div",{children:x.jsxs("div",{className:"stats mt-8 w-full bg-base-100 shadow",children:[x.jsxs("div",{className:"stat",children:[x.jsx("div",{className:"stat-figure text-primary",children:x.jsx(kj,{className:"size-10"})}),x.jsx("div",{className:"stat-title",children:"Created Pages"}),x.jsx("div",{className:"stat-value text-primary",children:r.pages.length}),x.jsx("div",{className:"stat-actions",children:x.jsx("a",{href:"/app/edit/",className:"btn btn-xs",children:"Add or edit pages"})})]}),x.jsxs("div",{className:"stat",children:[x.jsx("div",{className:"stat-figure",children:x.jsx(zk,{className:"size-10"})}),x.jsx("div",{className:"stat-title",children:"Uploaded Images"}),x.jsx("div",{className:"stat-value",children:3}),x.jsx("div",{className:"stat-desc",children:"Overview is coming soon"})]}),x.jsxs("div",{className:"stat",children:[x.jsx("div",{className:"stat-figure",children:x.jsx(Cj,{className:"size-10"})}),x.jsx("div",{className:"stat-title",children:"Uploaded Files"}),x.jsx("div",{className:"stat-value",children:0}),x.jsx("div",{className:"stat-desc",children:"Overview is coming soon"})]}),x.jsxs("div",{className:"stat",children:[x.jsx("div",{className:"stat-figure",children:x.jsx(D9,{className:"size-10"})}),x.jsx("div",{className:"stat-title",children:"Selected Fonts"}),x.jsx("div",{className:"stat-value",children:Object.keys(r.fonts).length}),x.jsx("div",{className:"stat-actions",children:x.jsx("a",{href:"/app/fonts/",className:"btn btn-xs",children:"Edit selected fonts"})})]})]})})]})};function QG(){return Ze(e=>e.user)?x.jsx(JG,{}):x.jsx(XG,{})}const ZC=[{path:"select",Component:F9,index:!0},{path:"config",Component:z9},{path:"check",Component:j9},{path:"done",Component:U9}],ZG=[{path:"app",lazy:{loader:async()=>(await Rh(async()=>{const{init:t}=await import("./initApplication-Dap7pWz8.js");return{init:t}},[])).init,Component:async()=>(await Rh(async()=>{const{App:t}=await import("./App-Dv-lCvvn.js");return{App:t}},[])).App},shouldRevalidate:t=>{const{user:e}=Ze.getState();return e!==!0||t.defaultShouldRevalidate},HydrateFallback:DA,children:[{index:!0,Component:QG},{path:"domain",lazy:{loader:async()=>(await Rh(async()=>{const{domainStep:t}=await import("./domainSteps-Bm33M_O0.js");return{domainStep:t}},[])).domainStep(ZC),Component:async()=>(await Rh(async()=>{const{Domain:t}=await import("./Domain-DVx2Vx7K.js");return{Domain:t}},__vite__mapDeps([0,1]))).Domain},shouldRevalidate:t=>t.defaultShouldRevalidate,action:async()=>(await new Promise(t=>t),!0),children:ZC},{path:"edit",Component:FG},{path:"style",Component:Y2},{path:"fonts",Component:GG},{path:"script",Component:Y2},{path:"layout",Component:KG}]},{path:"*",loader:()=>t4("/app/")}],eA=document.body.firstElementChild;eA&&kD.createRoot(eA).render(x.jsx(k.StrictMode,{children:x.jsx(k.Suspense,{fallback:x.jsx(GP,{}),children:x.jsx(WP,{children:x.jsx(Z4,{router:CI(ZG)})})})}));export{IA as A,Cj as F,w1 as H,Bk as L,lp as N,iK as O,gr as P,_t as R,bt as S,D9 as T,k as _,wP as a,cK as b,Pe as c,uK as d,Fr as e,DA as f,Lk as g,lK as h,eK as i,x as j,GP as k,aK as l,tK as m,nK as n,L4 as o,Ip as p,TA as q,t4 as r,oK as s,sK as t,Ze as u};
